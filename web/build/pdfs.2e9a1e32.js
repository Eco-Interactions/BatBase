(window.webpackJsonp=window.webpackJsonp||[]).push([["pdfs","db"],{"+924":function(t,e,n){"use strict";n.d(e,"d",(function(){return i})),n.d(e,"c",(function(){return r})),n.d(e,"b",(function(){return a})),n.d(e,"a",(function(){return s}));var o=n("9AQC");function i(t,e){return void 0===e&&(e=0),"string"!=typeof t||0===e||t.length<=e?t:t.substr(0,e)+"..."}function r(t,e){var n=t,o=n.length;if(o<=150)return n;e>o&&(e=o);var i=Math.max(e-60,0);i<5&&(i=0);var r=Math.min(i+140,o);return r>o-5&&(r=o),r===o&&(i=Math.max(r-140,0)),n=n.slice(i,r),i>0&&(n="'{snip} "+n),r<o&&(n+=" {snip}"),n}function a(t,e){if(!Array.isArray(t))return"";for(var n=[],o=0;o<t.length;o++){var i=t[o];try{n.push(String(i))}catch(t){n.push("[value cannot be serialized]")}}return n.join(e)}function s(t,e){return Object(o.j)(e)?e.test(t):"string"==typeof e&&-1!==t.indexOf(e)}},"+pG1":function(t,e,n){"use strict";n.r(e),function(t){n.d(e,"default",(function(){return i}));n("yq1k"),n("JTJg"),n("UxlC"),n("EnZy"),n("SYor");var o=n("FNQh");function i(e,n,i,a){var s=function(t,e,n,i){var r={class:e.className.includes("xlrg-field")?"full-row":n+"-row"+(i?" "+i:""),id:t+"_row"};return o.util("buildElem",["div",r])}(e,n,i,a),l=o.util("buildElem",["div",{id:e+"_errs"}]),u=function(e,n,i){var a=o.util("buildElem",["div",{class:"field-row flex-row"}]),s=function(e,n){var i={id:n+"-lbl",class:t(e).data("fLvl")?"required":"",text:(r=n.replace(/([A-Z])/g," $1"),o.util("ucfirst",[r]).trim())};var r;return o.util("buildElem",["label",i])}(e,n),l="top"===i?function(e){var n=function(t){var e={type:"checkbox",id:t+"_pin",class:"top-pin"},n=o.util("buildElem",["input",e]);return o.util("addEnterKeypressClick",[n]),n}(e);return function(e,n){-1!==["CitationTitle","Country-Region","Location","Publication"].indexOf(n)&&t(e).click(r)}(n,e),n}(n):null;return t(a).append([s,e,l]),a}(n,e,i);return t(s).append([l,u]),s}function r(){var e=this.id.split("_pin")[0],n={CitationTitle:{checked:!0,relField:"Publication"},"Country-Region":{checked:!1,relField:"Location"},Location:{checked:!0,relField:"Country-Region"},Publication:{checked:!1,relField:"CitationTitle"}};!function(e,n,o){if(e.checked===n){if(t("#"+o+"_pin")[0].checked===n)return;t("#"+o+"_pin")[0].checked=n}}(this,n[e].checked,n[e].relField)}}.call(this,n("EVdn"))},"/YIX":function(t,e,n){"use strict";n.r(e),function(t){n.d(e,"deriveUserData",(function(){return m}));n("2B1R"),n("sMBO"),n("zKZe"),n("tkto"),n("FZtP");var o=n("lEny");function i(){return a("source").then((function(){return a("location")})).then((function(){return a("interaction")})).then((function(){return o.setUpdatedDataInLocalDb()})).then((function(){return o.pg("initSearchStateAndTable")}))}function r(){return a("geoJson").then((function(){return a("lists")})).then((function(){return o.setUpdatedDataInLocalDb()})).then(o.pg("enableMap"))}function a(t){return o.fetchServerData(t).then(s.bind(null,t))}function s(t,e){console.log("           *-storing [%s] data = %O",t,e);var n={interaction:h,lists:m,location:d,source:p,taxon:u,geoJson:Function.prototype};!function(t){for(var e in t){var n="taxon"===e?(i=void 0,i=o.getMmryData("taxon")||{},Object.assign(i,l(t.taxon))):l(t[e]);o.setDataInMemory(e,n)}var i}(e),n[t](e)}function l(t){for(var e in t)t[e]=JSON.parse(t[e]);return t}function u(e){var n,i;o.setDataInMemory("realmNames",f(Object.keys(e.realm),e.realm)),function(t,e,n){for(var i in n){var r=n[i],a=e[r.realm],s=t[r.taxon];a.taxon=r.taxon,c(s,a),l(s,a)}function l(e,n){var i={};!function(t,e,n,o){return t.forEach(i),e;function i(t){var r=o[t];!function(t,n){e[n]||(e[n]={});e[n][t.name]=t.id}(r,r.level.displayName),c(r,n),r.children.forEach(i)}}(e.children,i,n,t),function(t,e){for(var n in e)o.setDataInMemory(t+n+"Names",e[n])}(n.displayName,i)}o.setDataInMemory("realm",e)}(e.taxon,e.realm,e.realmRoot),n=e.realm,i=e.level,Object.keys(n).forEach((function(t){var e=n[t];e.uiLevelsShown=JSON.parse(e.uiLevelsShown).map((function(t){return i[t].displayName}))})),o.setDataInMemory("realm",n),function(e){var n={},i=Object.keys(e).sort((function(t,n){var o=e[t].ordinal,i=e[n].ordinal;return o<i?-1:o>i?1:0}));t(i).each((function(t,o){return n[e[o].displayName]={id:o,ord:t+1}})),o.setDataInMemory("levelNames",n)}(e.level),o.deleteMmryData("realmRoot")}function c(t,e){t.realm={id:e.id,displayName:e.displayName,pluralName:e.pluralName}}function d(t){var e=y(t.locationType,"region","locations"),n=y(t.locationType,"country","locations");o.setDataInMemory("countryNames",f(n,t.location)),o.setDataInMemory("countryCodes",function(t,e){var n={};return t.forEach((function(t){return n[e[t].isoCode]=t})),n}(n,t.location)),o.setDataInMemory("regionNames",f(e,t.location)),o.setDataInMemory("topRegionNames",function(t,e){var n={},o=function(t,e){var n={};return t.forEach((function(t){return n[t]=e[t]})),n}(e,t.location);for(var i in o)o[i].parent||(n[o[i].displayName]=i);return n}(t,e)),o.setDataInMemory("habTypeNames",g(t.habitatType)),o.setDataInMemory("locTypeNames",g(t.locationType)),o.setDataInMemory("location",function(t){for(var e in t)t[e].totalInts=n(t[e]);return t;function n(e){var o=e.interactions.length;return e.children.length?(e.children.forEach((function(e){var i=t[e];o+=n(i)})),o):o}}(t.location)),["locationType","habitatType"].forEach((function(t){return o.deleteMmryData(t)}))}function p(t){var e=y(t.sourceType,"author","sources"),n=y(t.sourceType,"publication","sources"),i=y(t.sourceType,"publisher","sources");o.setDataInMemory("authSrcs",e),o.setDataInMemory("pubSrcs",n),o.setDataInMemory("publSrcs",i),o.setDataInMemory("citTypeNames",g(t.citationType)),o.setDataInMemory("pubTypeNames",g(t.publicationType)),["citationType","publicationType","sourceType"].forEach((function(t){return o.deleteMmryData(t)}))}function h(t){o.setDataInMemory("intTypeNames",g(t.interactionType)),o.setDataInMemory("tagNames",f(Object.keys(t.tag),t.tag)),o.deleteMmryData("tag")}function f(t,e){var n={};return t.forEach((function(t){return n[e[t].displayName]=t})),n}function g(t){var e={};for(var n in t)e[t[n].displayName]=n;return e}function m(e){var n={},i=[],r={},a=[];e.lists.forEach((function(t){var e="filter"==t.type?n:r,o="filter"==t.type?i:a;e[t.id]=t,o.push(t.id)})),o.setDataInMemory("savedFilters",n),o.setDataInMemory("savedFilterNames",function(t,e){var n={};return t.forEach(o),n;function o(t){return n[e[t].displayName]={value:t,group:v(e[t])}}}(i,n)),o.setDataInMemory("dataLists",r),o.setDataInMemory("dataListNames",f(a,r)),o.setDataInMemory("user",t("body").data("user-name")?t("body").data("user-name"):"visitor")}function v(t){t.details=JSON.parse(t.details);var e={srcs:"Source",auths:"Author",pubs:"Publication",publ:"Publisher",taxa:"Taxon",2:"Bats",3:"Plants",4:"Arthropod"};return"locs"===t.details.focus?"Location":e[t.details.focus]+" - "+e[t.details.view]}function y(t,e,n){for(var o in t)if(t[o].slug===e)return t[o][n]}e.default=function(t){return console.log("   *-initLocalData"),o.fetchServerData("data-state").then((function(t){return o.setDataInMemory("lclDataUpdtdAt",t.state)})).then((function(){return a("taxon").then((function(){return o.setUpdatedDataInLocalDb()})).then((function(){return o.pg("initSearchStateAndTable",["taxa",!1])}))})).then(i).then(r).then(o.clearTempMmry)}}.call(this,n("EVdn"))},"/byt":function(t,e){t.exports={CSSRuleList:0,CSSStyleDeclaration:0,CSSValueList:0,ClientRectList:0,DOMRectList:0,DOMStringList:0,DOMTokenList:1,DataTransferItemList:0,FileList:0,HTMLAllCollection:0,HTMLCollection:0,HTMLFormElement:0,HTMLSelectElement:0,MediaList:0,MimeTypeArray:0,NamedNodeMap:0,NodeList:1,PaintRequestList:0,Plugin:0,PluginArray:0,SVGLengthList:0,SVGNumberList:0,SVGPathSegList:0,SVGPointList:0,SVGStringList:0,SVGTransformList:0,SourceBufferList:0,StyleSheetList:0,TextTrackCueList:0,TextTrackList:0,TouchList:0}},"/qmn":function(t,e,n){var o=n("2oRo");t.exports=o.Promise},"/zYs":function(t,e,n){"use strict";n.r(e),function(t){n.d(e,"startWalkthrough",(function(){return s})),n.d(e,"getFilterPanelSteps",(function(){return _})),n.d(e,"getSavedFilterSteps",(function(){return C})),n.d(e,"getSavedListSteps",(function(){return w}));n("i8il");var o,i,r=n("kfS4"),a=n("IaMx");function s(e){o||(e&&(i=e),t("#show-tips").off("click"),t("#db-view").css("height","444px"),t("#search-focus")[0].selectize.disable(),t("#sel-view")[0].selectize.disable(),l(),(o=n("mRfS").introJs()).onexit(b),o.oncomplete(b),o.onafterchange(u),o.setOptions({showStepNumbers:!0,showBullets:!0,skipLabel:"Exit",doneLabel:"I'm done.",tooltipClass:"intro-tips",steps:[{element:"#help-opts",intro:'<h3><center>Welcome to the Bat Eco-Interactions <br> Database \n                Search Page!</center></h3><br><b>This tutorial demonstrates the \n                various database features and search tools available.</b> There \n                are also "Search tips" to help you refine your search in various \n                ways.<br><br><b>Use the right arrow key or click \'Next\' to move \n                through the slides.</b> You can exit the tutorial by clicking \n                \'Exit\', or anywhere on the greyed background.<br><br><b><center>\n                Move to the next slide or select an area to begin.<br></center>\n                </b><br><button class="intro-bttn" style="margin: 0 25px \n                5px 45px !important">Full Tutorial</button><button class="intro-bttn">\n                Table View</button><button class="intro-bttn" style="\n                margin: 0 25px 5px 45px !important">Map View</button><button class="intro-bttn"  \n                disabled="disabled" title="Coming soon" style="opacity: \n                0.3; cursor: not-allowed;">Data Entry</button>',position:"right",setUpFunc:g},{element:"#focus-opts",intro:"<h3><center>The interaction records are displayed by  \n                <br>Location, Source, or Taxon.<center></h3><br><b>Location</b> \n                - View by region/country or view all on a map. \n                <br><br><b>Source</b> - View by publication, publisher, or author.\n                <br><br><b>Taxon</b> - View by the taxa of the selected realm. \n                <br><br><center>This tutorial will begin with the default Taxon table.",position:"top"},{element:"#focus-opts",intro:'<h3><center>Select the Table Tree view.<center></h3>\n                <br>Once "Taxon" has been selected in the ‚ÄúGroup Interactions by‚Äù \n                box, select a \'realm\' of taxa to view.<br><br>\n                <center>We have selected the "Plant" view for this tutorial.</center>',position:"right"},{element:"#search-tbl",intro:"<h4><center>All interactions with plants are displayed \n                and available for further sorting and filtering.</center></h4>\n                <br>Columns can be resized by dragging the column header dividers \n                and rearranged by dragging the header itself.<br><br>Hovering \n                over a column header reveals the filter menu for that column.<br><br>\n                Some columns can be filtered by text, others by selecting or \n                deselecting values in that column.<br>",position:"top"},{element:"#search-tbl",intro:'<h3><center>Column definitions</h3></center><br>\n                <b>"Subject Taxon"</b> shows the bat taxon that each interaction is \n                attributed to.<br><br>\n                <b>"Object Taxon"</b> shows the taxon interacted with.\n                <br><br>Note on Taxon names: Aside from genus species binomials, \n                names at all other taxonomic levels begin with the level (e.g., \n                Family Acanthaceae for the plant family Acanthaceae).',position:"top"},{element:"#search-tbl",intro:'<b>"Cnt"</b> (count) shows the number of interactions attributed \n                to each Taxon, Location, or Source.<br><br>\n                <b>‚ÄúType‚Äù</b> refers to the type of interaction. For a \n                list of definitions, see the <a href="definitions" target="_blank">Definitions</a> \n                page.<br><br>\n                <b>‚ÄúTags‚Äù</b> refer to the part of the Object Taxon being \n                interacted with. The ‚ÄúSecondary‚Äù tag refers to an interaction that the author did \n                not witness directly, but instead is citing from another publication.',position:"top"},{element:"#xpand-tree",intro:"<center><b>The table can be expanded or collapsed by a single \n                level or all at once.</b><br><br>You can try it now.</center>",position:"right"},{element:"#filter",intro:"<center><b>Click here to toggle the filter panel open or closed.</b></center>",position:"bottom",setUpFunc:v},{element:"#filter-col1",intro:"<h3><center>Taxon specific filters</center></h3><br>These dropdowns \n                show all taxa in the selected realm present in the table.</b><br><br>\n                 - Select a specific taxon from the dropdown menu and the table will \n                update to show it at the top of the data tree. The other dropdowns will \n                populate with related taxa.",position:"top",setUpFunc:v},{element:"#filter-col1",intro:"<h3><center>Other view-specific filters</center></h3><br>\n                <b>Locations</b> can be filtered by region, country, and display name.<br><br>\n                <b>Sources</b> can be filtered by author, publisher, and by the type of publication.",position:"top",setUpFunc:v},{element:"#shw-chngd-ints",intro:"<center><b>Check this box to filter interaction records by \n                time published/updated.</b></center><br>Only interactions \n                published/updated after the selected time will be displayed.",position:"top",setUpFunc:v},{element:"#stored-filters",intro:'<h4><center>Filters can be saved and reapplied later as a set.</center></h4><br>\n                After filtering data using the Filter menu and table columns, save the set to \n                run the same search later.<br><br>For example, a set could show all journal \n                articles tagged with "flower" in a "forest" habitat or all African "consumption" interactions in\n                a "desert" habitat.<br><br><center><b>Register and log in to use these features.</b></center>',position:"left",setUpFunc:v},{element:'button[name="reset-tbl"]',intro:"<b>Click here to clear all filters and reset the interactions in the table.</b>",position:"right",setUpFunc:y},{element:'button[name="csv"]',intro:'<center><b>As a member of batbase.org, data displayed in \n                the table can be exported in csv format.</b></center><br>The \n                columns are exported in the order they are displayed in the table \n                below.<br><br>For an explanation of the csv format and how to \n                use the file, see the note at the bottom of the "Search Tips"',position:"left",setUpFunc:v.bind(null,"close")},{element:"#shw-map",intro:"<center><b>Interactions in the table can be displayed on a \n                map.</b><br><br>After filtering the interactions, click here to \n                display them geographically.<br>",position:"left"},{element:"#db-view",intro:"<center><h3>There is a marker for each location with interactions \n                from the filtered data.</h3></center><br>\n                <b>Mouse over or click on a marker to see a popup summary of the \n                interactions.</b><br><br>The summary shows details from up to 4 \n                interaction sets at the location. Details include the name of the \n                Taxon/Location/Source filtered to, the count of their interactions, \n                and the top 3 most reported bats in the set of interactions.<br>\n                <br><center><b>Click on a marker to keep its popup open.</b><br><br>\n                Hover over truncated(...) text to show full text. Only the first 4 \n                interactions at a location are ",position:"top",setUpFunc:h},{element:"#shw-map",intro:"<center><b>Click here to return to the interaction table \n                data or to filter the interactions further.</b></center>",position:"top"},{element:"#focus-opts",intro:'<h4><center>The map is also available in Location mode.\n                </center></h4><br>Group interactions by "Location" and then select \n                "Map Data" from the "View" box.<br><br><b>Every interaction with \n                GPS data is loaded in the map with popup data specific to the location.</b>',position:"right",setUpFunc:f.bind(null,"tree")},{element:"#db-view",intro:"<b>Mouse over \n                or click on a marker to see a popup summary of the location</b>, \n                including the top three most frequent bat taxa and habitat types \n                recorded at the location.<br><br><b>Clicking on 'Show Interactions \n                In Data-Table' will open the table on the selected location</b>\n                and show every interaction recorded there.",position:"top",setUpFunc:f.bind(null,"map")},{element:"#db-view",intro:"<b>Search by clicking on the magnifying glass on the left side \n                of the map and typing your search criteria.</b><br><br><center>The \n                map will refocus and show interactions nearby.<br><br>You can try \n                this after exiting the tutorial.",position:"top",setUpFunc:f.bind(null,"map")},{element:"#db-view",intro:'<center><b>The Location table also has a "map" column.\n                </b></center><br>All locations with GPS data have a map pin in \n                this column. Click one to load the Map View centered on that \n                location with its popup opened.<br><br><center>You can try it \n                now.</center>',position:"top",setUpFunc:f.bind(null,"tree")},{element:"#list-opts",intro:"<h3><center>Create and manage custom lists of interactions.</center></h3><br>\n                Studying specific countries in Africa, data from specific publishers or authors, \n                or a perhaps few habitats in particular? <br><br>As a member of batbase.org, \n                you can save interactions as a list and use the filters and features \n                to explore them as a group.<br><br>",position:"right"},{element:"#help-opts",intro:'<b><center>Thank you for taking the time to learn about the \n                <br>Bat Eco-Interactions Database Search Page!</b></center><br>\n                You can start this tutorial again at anytime. There are also \n                "Search tips" to help you refine your search in various ways.<br>\n                <br><b><center>Register and log in to leave us feedback.<br> \n                We\'d love to hear from you!</b></center>',position:"right"}]}),o.start())}function l(){if(!t("#search-focus").val())return window.setTimeout(l,200);t("#search-focus")[0].selectize.addItem("taxa"),t("#sel-view")[0].selectize.addItem("3")}function u(e){var n=o._introItems[o._currentStep];return!t("#sel-view").val()&&o._currentStep>2||o._currentStep>=14&&!p()?c():void(n.setUpFunc&&n.setUpFunc())}function c(){if(window.setTimeout(d,500),14==o._currentStep)return o._currentStep=13;o.goToStep(3)}function d(){t(".introjs-tooltiptext").html("\n        <br><center><b>Please wait for the table to load before continuing.")}function p(){var t=Object(r.accessTableState)().get("flags");return!!t&&t.allDataAvailable}function h(){"none"===t("#map")[0].style.display&&t("#shw-map").click()}function f(e){"locs"!==t("#search-focus")[0].selectize.getValue()&&t("#search-focus")[0].selectize.addItem("locs"),window.setTimeout(function(e){t("#sel-view")[0].selectize.getValue()!==e&&t("#sel-view")[0].selectize.addItem(e)}(e),400)}function g(){var e={"Full Tutorial":"full","Table View":"tbl","Map View":"map","Data Entry":"data"};window.setTimeout((function(){t(".intro-bttn").each((function(n,o){var i=e[o.innerText];"map"===i&&function(e){t(e).attr("disabled",!p()).css({opacity:.3,cursor:"wait"})}(o),t(o).click(m.bind(null,i))}))}),400)}function m(t){"full"!==t&&"tbl"!==t||o.nextStep(),"map"===t&&o.goToStep(15)}function v(e){var n=t("#filter-pnl").hasClass("closed");e&&n||!e&&!n||t("#filter").click()}function y(){t('button[name="reset-tbl"]').click(),v(!0)}function b(){i=i||"taxa",o=null,t("#db-view").css("height","888px"),t("#show-tips").click(a.showTips),t("#search-focus")[0].selectize.addItem(i,"silent"),t("#search-focus")[0].selectize.enable(),t("#sel-view")[0].selectize.enable(),t("#sel-view").val()&&p()&&Object(r.resetDataTable)(i)}function _(){return[{element:"#filter-col1",intro:"<h3><center>Dynamic filters</center></h3><br><b>Location:</b> Region, country,\n            and name filters.<br><br><b>Source:</b> Author, publication, and publisher filters.\n            <br><br><b>Taxon:</b> Name and taxonomic rank filters.<br>\n             - The dropdowns show all taxa in the Taxon Tree<br>\n             - Select a specific taxon and the Tree will update to show interactions\n             for the taxon and lower related taxa. The other dropdowns \n            will populate with the related taxa in the Tree.",position:"top"},{element:"#shw-chngd-ints",intro:"<h3><center>Check this box to filter interaction records by \n            time updated/created.</center></h3><br><b></b>The time defaults \n            to the current date. Use the calendar to select any date. That date \n            will be saved and reapplied if the filter is turned reset when switching\n            between data views.<br><br>Only interactions created/updated after \n            the selected time will be displayed.",position:"top",setUpFunc:v},{element:".ag-header-viewport",intro:"<h3><center>Table column filters</center></h3><br>Hovering \n            over a column header reveals the filter menu for that column.<br><br>\n            Some columns can be filtered by text, others by selecting or \n            deselecting values in that column.",position:"top"},{element:'button[name="reset-tbl"]',intro:"<b>Click here to clear all filters and reset the interactions in the table.</b>",position:"right",setUpFunc:y}]}function C(){return[{element:"#stored-filters",intro:'<h4><center>Filters can be saved and reapplied later as a set.</center></h4><br>\n            After filtering data using the Filter menu and table columns, save the set to \n            run the same search later.<br><br>For example, a set could show all journal \n            articles tagged with "flower" in a "forest" habitat or all African "consumption" interactions in\n            a "desert" habitat.<br><br><center><b>Register and log in to use these features.</b></center>',position:"left"}]}function w(){return[{element:"#list-pnl",intro:"<h3><center>Create and manage custom lists of interactions.</center></h3><br>\n                Studying specific countries in Africa, data from specific publishers or authors, \n                or a perhaps few habitats in particular? <br><br>Save interactions as a list and \n                use the filters and features to explore them as a group.<br><br>",position:"top"},{element:"#list-sel-cntnr",intro:"<h3><center>Select a list to manage or enter a new name to create.</center></h3><br>\n                New users have preloaded examples to help demonstrate this feature.",position:"right"},{element:"#load-list",intro:'After selecting an existing list with interactions, show the \n                interactions in the table by clicking \n                "Load Interaction List in Table".<br><br>Once loaded, sort and view\n                the interactions using the various filters and features of the page.<br><br>',position:"right"},{element:"#mod-list-pnl",intro:'<h3><center>Add/remove list interactions.</center></h3><br>\n                <b>Add:</b> Select/create a list. Select interaction rows in the table, \n                or the "All Shown" option, and click "Save List" to update the list.<br><br>\n                <b>Remove:</b> Select a list and click "Load Interaction List in Table". Select \n                interaction rows in the table or the "All Shown" option and click\n                "Save List" to remove the selected interactions from the list.',position:"top"},{element:'button[name="clear-list"]',intro:"<h3><center>Click here to reset table to all database interactions.</center></h3>",position:"bottom"}]}t("#strt-tut").click(s.bind(null,null))}.call(this,n("EVdn"))},"0HYN":function(t,e,n){(function(o){var i,r,a,s,l,u,c,d,p;n("TeQF"),n("fbCW"),n("oVuX"),n("+2oP"),n("pDQq"),n("sMBO"),n("07d7"),n("TWNs"),n("JfAA"),n("Rm1S"),n("UxlC"),n("hByQ"),n("EnZy"),n("SYor"),n("FZtP");var h=n("cDf5");a={id:"sifter",exports:{},loaded:!1},i="function"==typeof(r=function(){var t=function(t,e){this.items=t,this.settings=e||{diacritics:!0}};t.prototype.tokenize=function(t){if(!(t=r(String(t||"").toLowerCase()))||!t.length)return[];var e,n,o,i,s=[],u=t.split(/ +/);for(e=0,n=u.length;e<n;e++){if(o=a(u[e]),this.settings.diacritics)for(i in l)l.hasOwnProperty(i)&&(o=o.replace(new RegExp(i,"g"),l[i]));s.push({string:u[e],regex:new RegExp(o,"i")})}return s},t.prototype.iterator=function(t,e){(s(t)?Array.prototype.forEach||function(t){for(var e=0,n=this.length;e<n;e++)t(this[e],e,this)}:function(t){for(var e in this)this.hasOwnProperty(e)&&t(this[e],e,this)}).apply(t,[e])},t.prototype.getScoreFunction=function(t,e){var n,o,r,a;t=this.prepareSearch(t,e),o=t.tokens,n=t.options.fields,r=o.length,a=t.options.nesting;var s,l=function(t,e){var n,o;return t?-1===(o=(t=String(t||"")).search(e.regex))?0:(n=e.string.length/t.length,0===o&&(n+=.5),n):0},u=(s=n.length)?1===s?function(t,e){return l(i(e,n[0],a),t)}:function(t,e){for(var o=0,r=0;o<s;o++)r+=l(i(e,n[o],a),t);return r/s}:function(){return 0};return r?1===r?function(t){return u(o[0],t)}:"and"===t.options.conjunction?function(t){for(var e,n=0,i=0;n<r;n++){if((e=u(o[n],t))<=0)return 0;i+=e}return i/r}:function(t){for(var e=0,n=0;e<r;e++)n+=u(o[e],t);return n/r}:function(){return 0}},t.prototype.getSortFunction=function(t,n){var o,r,a,s,l,u,c,d,p,h,f;if(f=!(t=(a=this).prepareSearch(t,n)).query&&n.sort_empty||n.sort,p=function(t,e){return"$score"===t?e.score:i(a.items[e.id],t,n.nesting)},l=[],f)for(o=0,r=f.length;o<r;o++)(t.query||"$score"!==f[o].field)&&l.push(f[o]);if(t.query){for(h=!0,o=0,r=l.length;o<r;o++)if("$score"===l[o].field){h=!1;break}h&&l.unshift({field:"$score",direction:"desc"})}else for(o=0,r=l.length;o<r;o++)if("$score"===l[o].field){l.splice(o,1);break}for(d=[],o=0,r=l.length;o<r;o++)d.push("desc"===l[o].direction?-1:1);return(u=l.length)?1===u?(s=l[0].field,c=d[0],function(t,n){return c*e(p(s,t),p(s,n))}):function(t,n){var o,i,r;for(o=0;o<u;o++)if(r=l[o].field,i=d[o]*e(p(r,t),p(r,n)))return i;return 0}:null},t.prototype.prepareSearch=function(t,e){if("object"===h(t))return t;var o=(e=n({},e)).fields,i=e.sort,r=e.sort_empty;return o&&!s(o)&&(e.fields=[o]),i&&!s(i)&&(e.sort=[i]),r&&!s(r)&&(e.sort_empty=[r]),{options:e,query:String(t||"").toLowerCase(),tokens:this.tokenize(t),total:0,items:[]}},t.prototype.search=function(t,e){var n,o,i,r;return o=this.prepareSearch(t,e),e=o.options,t=o.query,r=e.score||this.getScoreFunction(o),t.length?this.iterator(this.items,(function(t,i){n=r(t),(!1===e.filter||n>0)&&o.items.push({score:n,id:i})})):this.iterator(this.items,(function(t,e){o.items.push({score:1,id:e})})),(i=this.getSortFunction(o,e))&&o.items.sort(i),o.total=o.items.length,"number"==typeof e.limit&&(o.items=o.items.slice(0,e.limit)),o};var e=function(t,e){return"number"==typeof t&&"number"==typeof e?t>e?1:t<e?-1:0:(t=u(String(t||"")))>(e=u(String(e||"")))?1:e>t?-1:0},n=function(t,e){var n,o,i,r;for(n=1,o=arguments.length;n<o;n++)if(r=arguments[n])for(i in r)r.hasOwnProperty(i)&&(t[i]=r[i]);return t},i=function(t,e,n){if(t&&e){if(!n)return t[e];for(var o=e.split(".");o.length&&(t=t[o.shift()]););return t}},r=function(t){return(t+"").replace(/^\s+|\s+$|/g,"")},a=function(t){return(t+"").replace(/([.?*+^$[\]\\(){}|-])/g,"\\$1")},s=Array.isArray||void 0!==o&&o.isArray||function(t){return"[object Array]"===Object.prototype.toString.call(t)},l={a:"[a·∏Ä·∏ÅƒÇƒÉ√Ç√¢«ç«é»∫‚±•»¶»ß·∫†·∫°√Ñ√§√Ä√†√Å√°ƒÄƒÅ√É√£√Ö√•ƒÖƒÑ√ÉƒÖƒÑ]",b:"[b‚ê¢Œ≤ŒíB‡∏øêåÅ·õí]",c:"[cƒÜƒáƒàƒâƒåƒçƒäƒãCÃÑcÃÑ√á√ß·∏à·∏â»ª»º∆á∆à…ï·¥ÑÔº£ÔΩÉ]",d:"[dƒéƒè·∏ä·∏ã·∏ê·∏ë·∏å·∏ç·∏í·∏ì·∏é·∏èƒêƒëDÃ¶dÃ¶∆â…ñ∆ä…ó∆ã∆å·µ≠·∂Å·∂ë»°·¥ÖÔº§ÔΩÑ√∞]",e:"[e√â√©√à√®√ä√™·∏ò·∏ôƒöƒõƒîƒï·∫º·∫Ω·∏ö·∏õ·∫∫·∫ªƒñƒó√ã√´ƒíƒì»®»©ƒòƒô·∂í…Ü…á»Ñ»Ö·∫æ·∫ø·ªÄ·ªÅ·ªÑ·ªÖ·ªÇ·ªÉ·∏ú·∏ù·∏ñ·∏ó·∏î·∏ï»Ü»á·∫∏·∫π·ªÜ·ªá‚±∏·¥áÔº•ÔΩÖ…ò«ù∆è∆êŒµ]",f:"[f∆ë∆í·∏û·∏ü]",g:"[g…¢‚Ç≤«§«•ƒúƒùƒûƒüƒ¢ƒ£∆ì…†ƒ†ƒ°]",h:"[hƒ§ƒ•ƒ¶ƒß·∏®·∏©·∫ñ·∫ñ·∏§·∏•·∏¢·∏£…¶ ∞«∂∆ï]",i:"[i√ç√≠√å√¨ƒ¨ƒ≠√é√Æ«è«ê√è√Ø·∏Æ·∏Øƒ®ƒ©ƒÆƒØƒ™ƒ´·ªà·ªâ»à»â»ä»ã·ªä·ªã·∏¨·∏≠∆ó…®…®ÃÜ·µª·∂ñƒ∞iIƒ±…™Ôº©ÔΩâ]",j:"[j»∑ƒ¥ƒµ…à…â ù…ü ≤]",k:"[k∆ò∆ôÍùÄÍùÅ·∏∞·∏±«®«©·∏≤·∏≥·∏¥·∏µŒ∫œ∞‚Ç≠]",l:"[l≈Å≈ÇƒΩƒæƒªƒºƒπƒ∫·∏∂·∏∑·∏∏·∏π·∏º·∏Ω·∏∫·∏ªƒø≈Ä»Ω∆ö‚±†‚±°‚±¢…´…¨·∂Ö…≠»¥ üÔº¨ÔΩå]",n:"[n≈É≈Ñ«∏«π≈á≈à√ë√±·πÑ·πÖ≈Ö≈Ü·πÜ·πá·πä·πã·πà·πâNÃànÃà∆ù…≤»†∆û·µ∞·∂á…≥»µ…¥ÔºÆÔΩé≈ä≈ã]",o:"[o√ò√∏√ñ√∂√ì√≥√í√≤√î√¥«ë«í≈ê≈ë≈é≈è»Æ»Ø·ªå·ªç∆ü…µ∆†∆°·ªé·ªè≈å≈ç√ï√µ«™«´»å»ç’ï÷Ö]",p:"[p·πî·πï·πñ·πó‚±£·µΩ∆§∆•·µ±]",q:"[qÍùñÍùó †…ä…ãÍùòÍùôqÃÉ]",r:"[r≈î≈ï…å…ç≈ò≈ô≈ñ≈ó·πò·πô»ê»ë»í»ì·πö·πõ‚±§…Ω]",s:"[s≈ö≈õ·π†·π°·π¢·π£Íû®Íû©≈ú≈ù≈†≈°≈û≈ü»ò»ôSÃàsÃà]",t:"[t≈§≈•·π™·π´≈¢≈£·π¨·π≠∆Æ à»ö»õ·π∞·π±·πÆ·πØ∆¨∆≠]",u:"[u≈¨≈≠…Ñ â·ª§·ª•√ú√º√ö√∫√ô√π√õ√ª«ì«î≈∞≈±≈¨≈≠∆Ø∆∞·ª¶·ªß≈™≈´≈®≈©≈≤≈≥»î»ï‚à™]",v:"[v·πº·πΩ·πæ·πø∆≤ ãÍùûÍùü‚±± ã]",w:"[w·∫Ç·∫É·∫Ä·∫Å≈¥≈µ·∫Ñ·∫Ö·∫Ü·∫á·∫à·∫â]",x:"[x·∫å·∫ç·∫ä·∫ãœá]",y:"[y√ù√Ω·ª≤·ª≥≈∂≈∑≈∏√ø·ª∏·ªπ·∫é·∫è·ª¥·ªµ…é…è∆≥∆¥]",z:"[z≈π≈∫·∫ê·∫ë≈Ω≈æ≈ª≈º·∫í·∫ì·∫î·∫ï∆µ∆∂]"},u=function(){var t,e,n,o,i="",r={};for(n in l)if(l.hasOwnProperty(n))for(i+=o=l[n].substring(2,l[n].length-1),t=0,e=o.length;t<e;t++)r[o.charAt(t)]=n;var a=new RegExp("["+i+"]","g");return function(t){return t.replace(a,(function(t){return r[t]})).toLowerCase()}}();return t})?r.call(a.exports,n,a.exports,a):r,a.loaded=!0,void 0!==i||(i=a.exports),u={id:"microplugin",exports:{},loaded:!1},s="function"==typeof(l=function(){var t={mixin:function(t){t.plugins={},t.prototype.initializePlugins=function(t){var n,o,i,r=[];if(this.plugins={names:[],settings:{},requested:{},loaded:{}},e.isArray(t))for(n=0,o=t.length;n<o;n++)"string"==typeof t[n]?r.push(t[n]):(this.plugins.settings[t[n].name]=t[n].options,r.push(t[n].name));else if(t)for(i in t)t.hasOwnProperty(i)&&(this.plugins.settings[i]=t[i],r.push(i));for(;r.length;)this.require(r.shift())},t.prototype.loadPlugin=function(e){var n=this.plugins,o=t.plugins[e];if(!t.plugins.hasOwnProperty(e))throw new Error('Unable to find "'+e+'" plugin');n.requested[e]=!0,n.loaded[e]=o.fn.apply(this,[this.plugins.settings[e]||{}]),n.names.push(e)},t.prototype.require=function(t){var e=this.plugins;if(!this.plugins.loaded.hasOwnProperty(t)){if(e.requested[t])throw new Error('Plugin has circular dependency ("'+t+'")');this.loadPlugin(t)}return e.loaded[t]},t.define=function(e,n){t.plugins[e]={name:e,fn:n}}}},e={isArray:Array.isArray||function(t){return"[object Array]"===Object.prototype.toString.call(t)}};return t})?l.call(u.exports,n,u.exports,u):l,u.loaded=!0,void 0!==s||(s=u.exports),d=[n("EVdn"),i,s],void 0===(p="function"==typeof(c=function(t,e,n){"use strict";var o=function(t,e){if("string"!=typeof e||e.length){var n="string"==typeof e?new RegExp(e,"i"):e,o=function t(e){var o=0;if(3===e.nodeType){var i=e.data.search(n);if(i>=0&&e.data.length>0){var r=e.data.match(n),a=document.createElement("span");a.className="highlight";var s=e.splitText(i),l=(s.splitText(r[0].length),s.cloneNode(!0));a.appendChild(l),s.parentNode.replaceChild(a,s),o=1}}else if(1===e.nodeType&&e.childNodes&&!/(script|style)/i.test(e.tagName)&&("highlight"!==e.className||"SPAN"!==e.tagName))for(var u=0;u<e.childNodes.length;++u)u+=t(e.childNodes[u]);return o};return t.each((function(){o(this)}))}};t.fn.removeHighlight=function(){return this.find("span.highlight").each((function(){this.parentNode.firstChild.nodeName;var t=this.parentNode;t.replaceChild(this.firstChild,this),t.normalize()})).end()};var i=function(){};i.prototype={on:function(t,e){this._events=this._events||{},this._events[t]=this._events[t]||[],this._events[t].push(e)},off:function(t,e){var n=arguments.length;return 0===n?delete this._events:1===n?delete this._events[t]:(this._events=this._events||{},void(t in this._events!=0&&this._events[t].splice(this._events[t].indexOf(e),1)))},trigger:function(t){if(this._events=this._events||{},t in this._events!=0)for(var e=0;e<this._events[t].length;e++)this._events[t][e].apply(this,Array.prototype.slice.call(arguments,1))}},i.mixin=function(t){for(var e=["on","off","trigger"],n=0;n<e.length;n++)t.prototype[e[n]]=i.prototype[e[n]]};var r,a,s=/Mac/.test(navigator.userAgent),l=s?91:17,u=s?18:17,c=!/android/i.test(window.navigator.userAgent)&&!!document.createElement("input").validity,d=function(t){return void 0!==t},p=function(t){return null==t?null:"boolean"==typeof t?t?"1":"0":t+""},f=function(t){return(t+"").replace(/&/g,"&amp;").replace(/</g,"&lt;").replace(/>/g,"&gt;").replace(/"/g,"&quot;")},g={before:function(t,e,n){var o=t[e];t[e]=function(){return n.apply(t,arguments),o.apply(t,arguments)}},after:function(t,e,n){var o=t[e];t[e]=function(){var e=o.apply(t,arguments);return n.apply(t,arguments),e}}},m=function(t){var e=!1;return function(){e||(e=!0,t.apply(this,arguments))}},v=function(t,e,n){var o,i=t.trigger,r={};for(o in t.trigger=function(){var n=arguments[0];if(-1===e.indexOf(n))return i.apply(t,arguments);r[n]=arguments},n.apply(t,[]),t.trigger=i,r)r.hasOwnProperty(o)&&i.apply(t,r[o])},y=function(t){var e={};if("selectionStart"in t)e.start=t.selectionStart,e.length=t.selectionEnd-e.start;else if(document.selection){t.focus();var n=document.selection.createRange(),o=document.selection.createRange().text.length;n.moveStart("character",-t.value.length),e.start=n.text.length-o,e.length=o}return e},b=function n(o,i){var r,a,s,l;(l=o[0]).selectize=this;var u,c,d,p=window.getComputedStyle&&window.getComputedStyle(l,null);if(s=(s=p?p.getPropertyValue("direction"):l.currentStyle&&l.currentStyle.direction)||o.parents("[dir]:first").attr("dir")||"",t.extend(this,{order:0,settings:i,$input:o,tabIndex:o.attr("tabindex")||"",tagType:"select"===l.tagName.toLowerCase()?1:2,rtl:/rtl/i.test(s),eventNS:".selectize"+ ++n.count,highlightedValue:null,isBlurring:!1,isOpen:!1,isDisabled:!1,isRequired:o.is("[required]"),isInvalid:!1,isLocked:!1,isFocused:!1,isInputHidden:!1,isSetup:!1,isShiftDown:!1,isCmdDown:!1,isCtrlDown:!1,ignoreFocus:!1,ignoreBlur:!1,ignoreHover:!1,hasOptions:!1,currentResults:null,lastValue:"",caretPos:0,loading:0,loadedSearches:{},$activeOption:null,$activeItems:[],optgroups:{},options:{},userOptions:{},items:[],renderCache:{},onSearchChange:null===i.loadThrottle?this.onSearchChange:(u=this.onSearchChange,c=i.loadThrottle,function(){var t=this,e=arguments;window.clearTimeout(d),d=window.setTimeout((function(){u.apply(t,e)}),c)})}),this.sifter=new e(this.options,{diacritics:i.diacritics}),this.settings.options){for(r=0,a=this.settings.options.length;r<a;r++)this.registerOption(this.settings.options[r]);delete this.settings.options}if(this.settings.optgroups){for(r=0,a=this.settings.optgroups.length;r<a;r++)this.registerOptionGroup(this.settings.optgroups[r]);delete this.settings.optgroups}this.settings.mode=this.settings.mode||(1===this.settings.maxItems?"single":"multi"),"boolean"!=typeof this.settings.hideSelected&&(this.settings.hideSelected="multi"===this.settings.mode),this.initializePlugins(this.settings.plugins),this.setupCallbacks(),this.setupTemplates(),this.setup()};return i.mixin(b),void 0!==n?n.mixin(b):(r="Dependency MicroPlugin is missing",(a={explanation:'Make sure you either: (1) are using the "standalone" version of Selectize, or (2) require MicroPlugin before you load Selectize.'})||(a={}),console.error("Selectize: "+r),a.explanation&&(console.group&&console.group(),console.error(a.explanation),console.group&&console.groupEnd())),t.extend(b.prototype,{setup:function(){var e,n,o,i,r,a,d,p,h,f,g=this,m=g.settings,v=g.eventNS,_=t(window),C=t(document),w=g.$input;if(d=g.settings.mode,p=w.attr("class")||"",e=t("<div>").addClass(m.wrapperClass).addClass(p).addClass(d),n=t("<div>").addClass(m.inputClass).addClass("items").appendTo(e),o=t('<input type="text" autocomplete="off" />').appendTo(n).attr("tabindex",w.is(":disabled")?"-1":g.tabIndex),a=t(m.dropdownParent||e),i=t("<div>").addClass(m.dropdownClass).addClass(d).hide().appendTo(a),r=t("<div>").addClass(m.dropdownContentClass).appendTo(i),(f=w.attr("id"))&&(o.attr("id",f+"-selectized"),t("label[for='"+f+"']").attr("for",f+"-selectized")),g.settings.copyClassesToDropdown&&i.addClass(p),e.css({width:w[0].style.width}),g.plugins.names.length&&(h="plugin-"+g.plugins.names.join(" plugin-"),e.addClass(h),i.addClass(h)),(null===m.maxItems||m.maxItems>1)&&1===g.tagType&&w.attr("multiple","multiple"),g.settings.placeholder&&o.attr("placeholder",m.placeholder),!g.settings.splitOn&&g.settings.delimiter){var E=g.settings.delimiter.replace(/[-\/\\^$*+?.()|[\]{}]/g,"\\$&");g.settings.splitOn=new RegExp("\\s*"+E+"+\\s*")}w.attr("autocorrect")&&o.attr("autocorrect",w.attr("autocorrect")),w.attr("autocapitalize")&&o.attr("autocapitalize",w.attr("autocapitalize")),o[0].type=w[0].type,g.$wrapper=e,g.$control=n,g.$control_input=o,g.$dropdown=i,g.$dropdown_content=r,i.on("mouseenter mousedown click","[data-disabled]>[data-selectable]",(function(t){t.stopImmediatePropagation()})),i.on("mouseenter","[data-selectable]",(function(){return g.onOptionHover.apply(g,arguments)})),i.on("mousedown click","[data-selectable]",(function(){return g.onOptionSelect.apply(g,arguments)})),function(t,e,n,o){t.on(e,n,(function(e){for(var n=e.target;n&&n.parentNode!==t[0];)n=n.parentNode;return e.currentTarget=n,o.apply(this,[e])}))}(n,"mousedown","*:not(input)",(function(){return g.onItemSelect.apply(g,arguments)})),function(e){var n=null,o=function(o,i){var r,a,s,l,u,c,d,p,h,f;i=i||{},(o=o||window.event||{}).metaKey||o.altKey||(i.force||!1!==e.data("grow"))&&(r=e.val(),o.type&&"keydown"===o.type.toLowerCase()&&(s=(a=o.keyCode)>=48&&a<=57||a>=65&&a<=90||a>=96&&a<=111||a>=186&&a<=222||32===a,46===a||8===a?(p=y(e[0])).length?r=r.substring(0,p.start)+r.substring(p.start+p.length):8===a&&p.start?r=r.substring(0,p.start-1)+r.substring(p.start+1):46===a&&void 0!==p.start&&(r=r.substring(0,p.start)+r.substring(p.start+1)):s&&(c=o.shiftKey,d=String.fromCharCode(o.keyCode),r+=d=c?d.toUpperCase():d.toLowerCase())),l=e.attr("placeholder"),!r&&l&&(r=l),f=e,(u=((h=r)?(b.$testInput||(b.$testInput=t("<span />").css({position:"absolute",top:-99999,left:-99999,width:"auto",padding:0,whiteSpace:"pre"}).appendTo("body")),b.$testInput.text(h),function(t,e,n){var o,i,r={};if(n)for(o=0,i=n.length;o<i;o++)r[n[o]]=t.css(n[o]);else r=t.css();e.css(r)}(f,b.$testInput,["letterSpacing","fontSize","fontFamily","fontWeight","textTransform"]),b.$testInput.width()):0)+4)!==n&&(n=u,e.width(u),e.triggerHandler("resize")))};e.on("keydown keyup update blur",o),o()}(o),n.on({mousedown:function(){return g.onMouseDown.apply(g,arguments)},click:function(){return g.onClick.apply(g,arguments)}}),o.on({mousedown:function(t){t.stopPropagation()},keydown:function(){return g.onKeyDown.apply(g,arguments)},keyup:function(){return g.onKeyUp.apply(g,arguments)},keypress:function(){return g.onKeyPress.apply(g,arguments)},resize:function(){g.positionDropdown.apply(g,[])},blur:function(){return g.onBlur.apply(g,arguments)},focus:function(){return g.ignoreBlur=!1,g.onFocus.apply(g,arguments)},paste:function(){return g.onPaste.apply(g,arguments)}}),C.on("keydown"+v,(function(t){g.isCmdDown=t[s?"metaKey":"ctrlKey"],g.isCtrlDown=t[s?"altKey":"ctrlKey"],g.isShiftDown=t.shiftKey})),C.on("keyup"+v,(function(t){t.keyCode===u&&(g.isCtrlDown=!1),16===t.keyCode&&(g.isShiftDown=!1),t.keyCode===l&&(g.isCmdDown=!1)})),C.on("mousedown"+v,(function(t){if(g.isFocused){if(t.target===g.$dropdown[0]||t.target.parentNode===g.$dropdown[0])return!1;g.$control.has(t.target).length||t.target===g.$control[0]||g.blur(t.target)}})),_.on(["scroll"+v,"resize"+v].join(" "),(function(){g.isOpen&&g.positionDropdown.apply(g,arguments)})),_.on("mousemove"+v,(function(){g.ignoreHover=!1})),this.revertSettings={$children:w.children().detach(),tabindex:w.attr("tabindex")},w.attr("tabindex",-1).hide().after(g.$wrapper),t.isArray(m.items)&&(g.setValue(m.items),delete m.items),c&&w.on("invalid"+v,(function(t){t.preventDefault(),g.isInvalid=!0,g.refreshState()})),g.updateOriginalInput(),g.refreshItems(),g.refreshState(),g.updatePlaceholder(),g.isSetup=!0,w.is(":disabled")&&g.disable(),g.on("change",this.onChange),w.data("selectize",g),w.addClass("selectized"),g.trigger("initialize"),!0===m.preload&&g.onSearchChange("")},setupTemplates:function(){var e=this.settings.labelField,n=this.settings.optgroupLabelField,o={optgroup:function(t){return'<div class="optgroup">'+t.html+"</div>"},optgroup_header:function(t,e){return'<div class="optgroup-header">'+e(t[n])+"</div>"},option:function(t,n){return'<div class="option">'+n(t[e])+"</div>"},item:function(t,n){return'<div class="item">'+n(t[e])+"</div>"},option_create:function(t,e){return'<div class="create">Add <strong>'+e(t.input)+"</strong>&hellip;</div>"}};this.settings.render=t.extend({},o,this.settings.render)},setupCallbacks:function(){var t,e,n={initialize:"onInitialize",change:"onChange",item_add:"onItemAdd",item_remove:"onItemRemove",clear:"onClear",option_add:"onOptionAdd",option_remove:"onOptionRemove",option_clear:"onOptionClear",optgroup_add:"onOptionGroupAdd",optgroup_remove:"onOptionGroupRemove",optgroup_clear:"onOptionGroupClear",dropdown_open:"onDropdownOpen",dropdown_close:"onDropdownClose",type:"onType",load:"onLoad",focus:"onFocus",blur:"onBlur"};for(t in n)n.hasOwnProperty(t)&&(e=this.settings[n[t]])&&this.on(t,e)},onClick:function(t){this.isFocused&&this.isOpen||(this.focus(),t.preventDefault())},onMouseDown:function(e){var n=this,o=e.isDefaultPrevented();if(t(e.target),n.isFocused){if(e.target!==n.$control_input[0])return"single"===n.settings.mode?n.isOpen?n.close():n.open():o||n.setActiveItem(null),!1}else o||window.setTimeout((function(){n.focus()}),0)},onChange:function(){this.$input.trigger("change")},onPaste:function(e){var n=this;n.isFull()||n.isInputHidden||n.isLocked?e.preventDefault():n.settings.splitOn&&setTimeout((function(){var e=n.$control_input.val();if(e.match(n.settings.splitOn))for(var o=t.trim(e).split(n.settings.splitOn),i=0,r=o.length;i<r;i++)n.createItem(o[i])}),0)},onKeyPress:function(t){if(this.isLocked)return t&&t.preventDefault();var e=String.fromCharCode(t.keyCode||t.which);return this.settings.create&&"multi"===this.settings.mode&&e===this.settings.delimiter?(this.createItem(),t.preventDefault(),!1):void 0},onKeyDown:function(t){if(t.target,this.$control_input[0],this.isLocked)9!==t.keyCode&&t.preventDefault();else{switch(t.keyCode){case 65:if(this.isCmdDown)return void this.selectAll();break;case 27:return void(this.isOpen&&(t.preventDefault(),t.stopPropagation(),this.close()));case 78:if(!t.ctrlKey||t.altKey)break;case 40:if(!this.isOpen&&this.hasOptions)this.open();else if(this.$activeOption){this.ignoreHover=!0;var e=this.getAdjacentOption(this.$activeOption,1);e.length&&this.setActiveOption(e,!0,!0)}return void t.preventDefault();case 80:if(!t.ctrlKey||t.altKey)break;case 38:if(this.$activeOption){this.ignoreHover=!0;var n=this.getAdjacentOption(this.$activeOption,-1);n.length&&this.setActiveOption(n,!0,!0)}return void t.preventDefault();case 13:return void(this.isOpen&&this.$activeOption&&(this.onOptionSelect({currentTarget:this.$activeOption}),t.preventDefault()));case 37:return void this.advanceSelection(-1,t);case 39:return void this.advanceSelection(1,t);case 9:return this.settings.selectOnTab&&this.isOpen&&this.$activeOption&&(this.onOptionSelect({currentTarget:this.$activeOption}),this.isFull()||t.preventDefault()),void(this.settings.create&&this.createItem()&&t.preventDefault());case 8:case 46:return void this.deleteSelection(t)}!this.isFull()&&!this.isInputHidden||(s?t.metaKey:t.ctrlKey)||t.preventDefault()}},onKeyUp:function(t){if(this.isLocked)return t&&t.preventDefault();var e=this.$control_input.val()||"";this.lastValue!==e&&(this.lastValue=e,this.onSearchChange(e),this.refreshOptions(),this.trigger("type",e))},onSearchChange:function(t){var e=this,n=e.settings.load;n&&(e.loadedSearches.hasOwnProperty(t)||(e.loadedSearches[t]=!0,e.load((function(o){n.apply(e,[t,o])}))))},onFocus:function(t){var e=this.isFocused;if(this.isDisabled)return this.blur(),t&&t.preventDefault(),!1;this.ignoreFocus||(this.isFocused=!0,"focus"===this.settings.preload&&this.onSearchChange(""),e||this.trigger("focus"),this.$activeItems.length||(this.showInput(),this.setActiveItem(null),this.refreshOptions(!!this.settings.openOnFocus)),this.refreshState())},onBlur:function(t,e){var n=this;if(n.isFocused&&(n.isFocused=!1,!n.ignoreFocus)){if(!n.ignoreBlur&&document.activeElement===n.$dropdown_content[0])return n.ignoreBlur=!0,void n.onFocus(t);var o=function(){n.close(),n.setTextboxValue(""),n.setActiveItem(null),n.setActiveOption(null),n.setCaret(n.items.length),n.refreshState(),e&&e.focus&&e.focus(),n.isBlurring=!1,n.ignoreFocus=!1,n.trigger("blur")};n.isBlurring=!0,n.ignoreFocus=!0,n.settings.create&&n.settings.createOnBlur?n.createItem(null,!1,o):o()}},onOptionHover:function(t){this.ignoreHover||this.setActiveOption(t.currentTarget,!1)},onOptionSelect:function(e){var n,o,i=this;e.preventDefault&&(e.preventDefault(),e.stopPropagation()),(o=t(e.currentTarget)).hasClass("create")?i.createItem(null,(function(){i.settings.closeAfterSelect&&i.close()})):void 0!==(n=o.attr("data-value"))&&(i.lastQuery=null,i.setTextboxValue(""),i.addItem(n),i.settings.closeAfterSelect?i.close():!i.settings.hideSelected&&e.type&&/mouse/.test(e.type)&&i.setActiveOption(i.getOption(n)))},onItemSelect:function(t){this.isLocked||"multi"===this.settings.mode&&(t.preventDefault(),this.setActiveItem(t.currentTarget,t))},load:function(t){var e=this,n=e.$wrapper.addClass(e.settings.loadingClass);e.loading++,t.apply(e,[function(t){e.loading=Math.max(e.loading-1,0),t&&t.length&&(e.addOption(t),e.refreshOptions(e.isFocused&&!e.isInputHidden)),e.loading||n.removeClass(e.settings.loadingClass),e.trigger("load",t)}])},setTextboxValue:function(t){var e=this.$control_input;e.val()!==t&&(e.val(t).triggerHandler("update"),this.lastValue=t)},getValue:function(){return 1===this.tagType&&this.$input.attr("multiple")?this.items:this.items.join(this.settings.delimiter)},setValue:function(t,e){v(this,e?[]:["change"],(function(){this.clear(e),this.addItems(t,e)}))},setActiveItem:function(e,n){var o,i,r,a,s,l,u,c;if("single"!==this.settings.mode){if(!(e=t(e)).length)return t(this.$activeItems).removeClass("active"),this.$activeItems=[],void(this.isFocused&&this.showInput());if("mousedown"===(o=n&&n.type.toLowerCase())&&this.isShiftDown&&this.$activeItems.length){for(c=this.$control.children(".active:last"),(a=Array.prototype.indexOf.apply(this.$control[0].childNodes,[c[0]]))>(s=Array.prototype.indexOf.apply(this.$control[0].childNodes,[e[0]]))&&(u=a,a=s,s=u),i=a;i<=s;i++)l=this.$control[0].childNodes[i],-1===this.$activeItems.indexOf(l)&&(t(l).addClass("active"),this.$activeItems.push(l));n.preventDefault()}else"mousedown"===o&&this.isCtrlDown||"keydown"===o&&this.isShiftDown?e.hasClass("active")?(r=this.$activeItems.indexOf(e[0]),this.$activeItems.splice(r,1),e.removeClass("active")):this.$activeItems.push(e.addClass("active")[0]):(t(this.$activeItems).removeClass("active"),this.$activeItems=[e.addClass("active")[0]]);this.hideInput(),this.isFocused||this.focus()}},setActiveOption:function(e,n,o){var i,r,a,s,l;this.$activeOption&&this.$activeOption.removeClass("active"),this.$activeOption=null,(e=t(e)).length&&(this.$activeOption=e.addClass("active"),!n&&d(n)||(i=this.$dropdown_content.height(),r=this.$activeOption.outerHeight(!0),n=this.$dropdown_content.scrollTop()||0,s=a=this.$activeOption.offset().top-this.$dropdown_content.offset().top+n,l=a-i+r,a+r>i+n?this.$dropdown_content.stop().animate({scrollTop:l},o?this.settings.scrollDuration:0):a<n&&this.$dropdown_content.stop().animate({scrollTop:s},o?this.settings.scrollDuration:0)))},selectAll:function(){"single"!==this.settings.mode&&(this.$activeItems=Array.prototype.slice.apply(this.$control.children(":not(input)").addClass("active")),this.$activeItems.length&&(this.hideInput(),this.close()),this.focus())},hideInput:function(){this.setTextboxValue(""),this.$control_input.css({opacity:0,position:"absolute",left:this.rtl?1e4:-1e4}),this.isInputHidden=!0},showInput:function(){this.$control_input.css({opacity:1,position:"relative",left:0}),this.isInputHidden=!1},focus:function(){var t=this;t.isDisabled||(t.ignoreFocus=!0,t.$control_input[0].focus(),window.setTimeout((function(){t.ignoreFocus=!1,t.onFocus()}),0))},blur:function(t){this.$control_input[0].blur(),this.onBlur(null,t)},getScoreFunction:function(t){return this.sifter.getScoreFunction(t,this.getSearchOptions())},getSearchOptions:function(){var t=this.settings,e=t.sortField;return"string"==typeof e&&(e=[{field:e}]),{fields:t.searchField,conjunction:t.searchConjunction,sort:e,nesting:t.nesting}},search:function(e){var n,o,i,r=this.settings,a=this.getSearchOptions();if(r.score&&"function"!=typeof(i=this.settings.score.apply(this,[e])))throw new Error('Selectize "score" setting must be a function that returns a function');if(e!==this.lastQuery?(this.lastQuery=e,o=this.sifter.search(e,t.extend(a,{score:i})),this.currentResults=o):o=t.extend(!0,{},this.currentResults),r.hideSelected)for(n=o.items.length-1;n>=0;n--)-1!==this.items.indexOf(p(o.items[n].id))&&o.items.splice(n,1);return o},refreshOptions:function(e){var n,i,r,a,s,l,u,c,d,h,f,g,m,v,y,b;void 0===e&&(e=!0);var _,C,w=this,E=t.trim(w.$control_input.val()),x=w.search(E),S=w.$dropdown_content,A=w.$activeOption&&p(w.$activeOption.attr("data-value"));for(a=x.items.length,"number"==typeof w.settings.maxOptions&&(a=Math.min(a,w.settings.maxOptions)),s={},l=[],n=0;n<a;n++)for(u=w.options[x.items[n].id],c=w.render("option",u),d=u[w.settings.optgroupField]||"",i=0,r=(h=t.isArray(d)?d:[d])&&h.length;i<r;i++)d=h[i],w.optgroups.hasOwnProperty(d)||(d=""),s.hasOwnProperty(d)||(s[d]=document.createDocumentFragment(),l.push(d)),s[d].appendChild(c);for(this.settings.lockOptgroupOrder&&l.sort((function(t,e){return(w.optgroups[t].$order||0)-(w.optgroups[e].$order||0)})),f=document.createDocumentFragment(),n=0,a=l.length;n<a;n++)d=l[n],w.optgroups.hasOwnProperty(d)&&s[d].childNodes.length?((g=document.createDocumentFragment()).appendChild(w.render("optgroup_header",w.optgroups[d])),g.appendChild(s[d]),f.appendChild(w.render("optgroup",t.extend({},w.optgroups[d],{html:(_=g,C=void 0,C=document.createElement("div"),C.appendChild(_.cloneNode(!0)),C.innerHTML),dom:g})))):f.appendChild(s[d]);if(S.html(f),w.settings.highlight&&(S.removeHighlight(),x.query.length&&x.tokens.length))for(n=0,a=x.tokens.length;n<a;n++)o(S,x.tokens[n].regex);if(!w.settings.hideSelected)for(n=0,a=w.items.length;n<a;n++)w.getOption(w.items[n]).addClass("selected");(m=w.canCreate(E))&&(S.prepend(w.render("option_create",{input:E})),b=t(S[0].childNodes[0])),w.hasOptions=x.items.length>0||m,w.hasOptions?(x.items.length>0?((y=A&&w.getOption(A))&&y.length?v=y:"single"===w.settings.mode&&w.items.length&&(v=w.getOption(w.items[0])),v&&v.length||(v=b&&!w.settings.addPrecedence?w.getAdjacentOption(b,1):S.find("[data-selectable]:first"))):v=b,w.setActiveOption(v),e&&!w.isOpen&&w.open()):(w.setActiveOption(null),e&&w.isOpen&&w.close())},addOption:function(e){var n,o,i;if(t.isArray(e))for(n=0,o=e.length;n<o;n++)this.addOption(e[n]);else(i=this.registerOption(e))&&(this.userOptions[i]=!0,this.lastQuery=null,this.trigger("option_add",i,e))},registerOption:function(t){var e=p(t[this.settings.valueField]);return null!=e&&!this.options.hasOwnProperty(e)&&(t.$order=t.$order||++this.order,this.options[e]=t,e)},registerOptionGroup:function(t){var e=p(t[this.settings.optgroupValueField]);return!!e&&(t.$order=t.$order||++this.order,this.optgroups[e]=t,e)},addOptionGroup:function(t,e){e[this.settings.optgroupValueField]=t,(t=this.registerOptionGroup(e))&&this.trigger("optgroup_add",t,e)},removeOptionGroup:function(t){this.optgroups.hasOwnProperty(t)&&(delete this.optgroups[t],this.renderCache={},this.trigger("optgroup_remove",t))},clearOptionGroups:function(){this.optgroups={},this.renderCache={},this.trigger("optgroup_clear")},updateOption:function(e,n){var o,i,r,a,s,l,u;if(e=p(e),r=p(n[this.settings.valueField]),null!==e&&this.options.hasOwnProperty(e)){if("string"!=typeof r)throw new Error("Value must be set in option data");u=this.options[e].$order,r!==e&&(delete this.options[e],-1!==(a=this.items.indexOf(e))&&this.items.splice(a,1,r)),n.$order=n.$order||u,this.options[r]=n,s=this.renderCache.item,l=this.renderCache.option,s&&(delete s[e],delete s[r]),l&&(delete l[e],delete l[r]),-1!==this.items.indexOf(r)&&(o=this.getItem(e),i=t(this.render("item",n)),o.hasClass("active")&&i.addClass("active"),o.replaceWith(i)),this.lastQuery=null,this.isOpen&&this.refreshOptions(!1)}},removeOption:function(t,e){t=p(t);var n=this.renderCache.item,o=this.renderCache.option;n&&delete n[t],o&&delete o[t],delete this.userOptions[t],delete this.options[t],this.lastQuery=null,this.trigger("option_remove",t),this.removeItem(t,e)},clearOptions:function(){var e=this;e.loadedSearches={},e.userOptions={},e.renderCache={};var n=e.options;t.each(e.options,(function(t,o){-1==e.items.indexOf(t)&&delete n[t]})),e.options=e.sifter.items=n,e.lastQuery=null,e.trigger("option_clear")},getOption:function(t){return this.getElementWithValue(t,this.$dropdown_content.find("[data-selectable]"))},getAdjacentOption:function(e,n){var o=this.$dropdown.find("[data-selectable]"),i=o.index(e)+n;return i>=0&&i<o.length?o.eq(i):t()},getElementWithValue:function(e,n){if(null!=(e=p(e)))for(var o=0,i=n.length;o<i;o++)if(n[o].getAttribute("data-value")===e)return t(n[o]);return t()},getItem:function(t){return this.getElementWithValue(t,this.$control.children())},addItems:function(e,n){this.buffer=document.createDocumentFragment();for(var o=this.$control[0].childNodes,i=0;i<o.length;i++)this.buffer.appendChild(o[i]);for(var r=t.isArray(e)?e:[e],a=(i=0,r.length);i<a;i++)this.isPending=i<a-1,this.addItem(r[i],n);var s=this.$control[0];s.insertBefore(this.buffer,s.firstChild),this.buffer=null},addItem:function(e,n){v(this,n?[]:["change"],(function(){var o,i,r,a,s,l=this.settings.mode;e=p(e),-1===this.items.indexOf(e)?this.options.hasOwnProperty(e)&&("single"===l&&this.clear(n),"multi"===l&&this.isFull()||(o=t(this.render("item",this.options[e])),s=this.isFull(),this.items.splice(this.caretPos,0,e),this.insertAtCaret(o),(!this.isPending||!s&&this.isFull())&&this.refreshState(),this.isSetup&&(r=this.$dropdown_content.find("[data-selectable]"),this.isPending||(i=this.getOption(e),a=this.getAdjacentOption(i,1).attr("data-value"),this.refreshOptions(this.isFocused&&"single"!==l),a&&this.setActiveOption(this.getOption(a))),!r.length||this.isFull()?this.close():this.isPending||this.positionDropdown(),this.updatePlaceholder(),this.trigger("item_add",e,o),this.isPending||this.updateOriginalInput({silent:n})))):"single"===l&&this.close()}))},removeItem:function(e,n){var o,i,r;o=e instanceof t?e:this.getItem(e),e=p(o.attr("data-value")),-1!==(i=this.items.indexOf(e))&&(o.remove(),o.hasClass("active")&&(r=this.$activeItems.indexOf(o[0]),this.$activeItems.splice(r,1)),this.items.splice(i,1),this.lastQuery=null,!this.settings.persist&&this.userOptions.hasOwnProperty(e)&&this.removeOption(e,n),i<this.caretPos&&this.setCaret(this.caretPos-1),this.refreshState(),this.updatePlaceholder(),this.updateOriginalInput({silent:n}),this.positionDropdown(),this.trigger("item_remove",e,o))},createItem:function(e,n){var o=this,i=o.caretPos;e=e||t.trim(o.$control_input.val()||"");var r=arguments[arguments.length-1];if("function"!=typeof r&&(r=function(){}),"boolean"!=typeof n&&(n=!0),!o.canCreate(e))return r(),!1;o.lock();var a="function"==typeof o.settings.create?this.settings.create:function(t){var e={};return e[o.settings.labelField]=t,e[o.settings.valueField]=t,e},s=m((function(t){if(o.unlock(),!t||"object"!==h(t))return r();var e=p(t[o.settings.valueField]);if("string"!=typeof e)return r();o.setTextboxValue(""),o.addOption(t),o.setCaret(i),o.addItem(e),o.refreshOptions(n&&"single"!==o.settings.mode),r(t)})),l=a.apply(this,[e,s]);return void 0!==l&&s(l),!0},refreshItems:function(){this.lastQuery=null,this.isSetup&&this.addItem(this.items),this.refreshState(),this.updateOriginalInput()},refreshState:function(){this.refreshValidityState(),this.refreshClasses()},refreshValidityState:function(){if(!this.isRequired)return!1;var t=!this.items.length;this.isInvalid=t,this.$control_input.prop("required",t),this.$input.prop("required",!t)},refreshClasses:function(){var e=this.isFull(),n=this.isLocked;this.$wrapper.toggleClass("rtl",this.rtl),this.$control.toggleClass("focus",this.isFocused).toggleClass("disabled",this.isDisabled).toggleClass("required",this.isRequired).toggleClass("invalid",this.isInvalid).toggleClass("locked",n).toggleClass("full",e).toggleClass("not-full",!e).toggleClass("input-active",this.isFocused&&!this.isInputHidden).toggleClass("dropdown-active",this.isOpen).toggleClass("has-options",!t.isEmptyObject(this.options)).toggleClass("has-items",this.items.length>0),this.$control_input.data("grow",!e&&!n)},isFull:function(){return null!==this.settings.maxItems&&this.items.length>=this.settings.maxItems},updateOriginalInput:function(t){var e,n,o,i;if(t=t||{},1===this.tagType){for(o=[],e=0,n=this.items.length;e<n;e++)i=this.options[this.items[e]][this.settings.labelField]||"",o.push('<option value="'+f(this.items[e])+'" selected="selected">'+f(i)+"</option>");o.length||this.$input.attr("multiple")||o.push('<option value="" selected="selected"></option>'),this.$input.html(o.join(""))}else this.$input.val(this.getValue()),this.$input.attr("value",this.$input.val());this.isSetup&&(t.silent||this.trigger("change",this.$input.val()))},updatePlaceholder:function(){if(this.settings.placeholder){var t=this.$control_input;this.items.length?t.removeAttr("placeholder"):t.attr("placeholder",this.settings.placeholder),t.triggerHandler("update",{force:!0})}},open:function(){this.isLocked||this.isOpen||"multi"===this.settings.mode&&this.isFull()||(this.focus(),this.isOpen=!0,this.refreshState(),this.$dropdown.css({visibility:"hidden",display:"block"}),this.positionDropdown(),this.$dropdown.css({visibility:"visible"}),this.trigger("dropdown_open",this.$dropdown))},close:function(){var t=this.isOpen;"single"===this.settings.mode&&this.items.length&&(this.hideInput(),this.isBlurring||this.$control_input.blur()),this.isOpen=!1,this.$dropdown.hide(),this.setActiveOption(null),this.refreshState(),t&&this.trigger("dropdown_close",this.$dropdown)},positionDropdown:function(){var t=this.$control,e="body"===this.settings.dropdownParent?t.offset():t.position();e.top+=t.outerHeight(!0),this.$dropdown.css({width:t[0].getBoundingClientRect().width,top:e.top,left:e.left})},clear:function(t){this.items.length&&(this.$control.children(":not(input)").remove(),this.items=[],this.lastQuery=null,this.setCaret(0),this.setActiveItem(null),this.updatePlaceholder(),this.updateOriginalInput({silent:t}),this.refreshState(),this.showInput(),this.trigger("clear"))},insertAtCaret:function(t){var e=Math.min(this.caretPos,this.items.length),n=t[0],o=this.buffer||this.$control[0];0===e?o.insertBefore(n,o.firstChild):o.insertBefore(n,o.childNodes[e]),this.setCaret(e+1)},deleteSelection:function(e){var n,o,i,r,a,s,l,u,c;if(i=e&&8===e.keyCode?-1:1,r=y(this.$control_input[0]),this.$activeOption&&!this.settings.hideSelected&&(l=this.getAdjacentOption(this.$activeOption,-1).attr("data-value")),a=[],this.$activeItems.length){for(c=this.$control.children(".active:"+(i>0?"last":"first")),s=this.$control.children(":not(input)").index(c),i>0&&s++,n=0,o=this.$activeItems.length;n<o;n++)a.push(t(this.$activeItems[n]).attr("data-value"));e&&(e.preventDefault(),e.stopPropagation())}else(this.isFocused||"single"===this.settings.mode)&&this.items.length&&(i<0&&0===r.start&&0===r.length?a.push(this.items[this.caretPos-1]):i>0&&r.start===this.$control_input.val().length&&a.push(this.items[this.caretPos]));if(!a.length||"function"==typeof this.settings.onDelete&&!1===this.settings.onDelete.apply(this,[a]))return!1;for(void 0!==s&&this.setCaret(s);a.length;)this.removeItem(a.pop());return this.showInput(),this.positionDropdown(),this.refreshOptions(!0),l&&(u=this.getOption(l)).length&&this.setActiveOption(u),!0},advanceSelection:function(t,e){var n,o,i,r,a;0!==t&&(this.rtl&&(t*=-1),n=t>0?"last":"first",o=y(this.$control_input[0]),this.isFocused&&!this.isInputHidden?(r=this.$control_input.val().length,(t<0?0===o.start&&0===o.length:o.start===r)&&!r&&this.advanceCaret(t,e)):(a=this.$control.children(".active:"+n)).length&&(i=this.$control.children(":not(input)").index(a),this.setActiveItem(null),this.setCaret(t>0?i+1:i)))},advanceCaret:function(t,e){var n,o;0!==t&&(n=t>0?"next":"prev",this.isShiftDown?(o=this.$control_input[n]()).length&&(this.hideInput(),this.setActiveItem(o),e&&e.preventDefault()):this.setCaret(this.caretPos+t))},setCaret:function(e){var n,o,i,r;if(e="single"===this.settings.mode?this.items.length:Math.max(0,Math.min(this.items.length,e)),!this.isPending)for(n=0,o=(i=this.$control.children(":not(input)")).length;n<o;n++)r=t(i[n]).detach(),n<e?this.$control_input.before(r):this.$control.append(r);this.caretPos=e},lock:function(){this.close(),this.isLocked=!0,this.refreshState()},unlock:function(){this.isLocked=!1,this.refreshState()},disable:function(){this.$input.prop("disabled",!0),this.$control_input.prop("disabled",!0).prop("tabindex",-1),this.isDisabled=!0,this.lock()},enable:function(){this.$input.prop("disabled",!1),this.$control_input.prop("disabled",!1).prop("tabindex",this.tabIndex),this.isDisabled=!1,this.unlock()},destroy:function(){var e=this.eventNS,n=this.revertSettings;this.trigger("destroy"),this.off(),this.$wrapper.remove(),this.$dropdown.remove(),this.$input.html("").append(n.$children).removeAttr("tabindex").removeClass("selectized").attr({tabindex:n.tabindex}).show(),this.$control_input.removeData("grow"),this.$input.removeData("selectize"),0==--b.count&&b.$testInput&&(b.$testInput.remove(),b.$testInput=void 0),t(window).off(e),t(document).off(e),t(document.body).off(e),delete this.$input[0].selectize},render:function(e,n){var o,i,r="",a=!1;return"option"!==e&&"item"!==e||(a=!!(o=p(n[this.settings.valueField]))),a&&(d(this.renderCache[e])||(this.renderCache[e]={}),this.renderCache[e].hasOwnProperty(o))?this.renderCache[e][o]:(r=t(this.settings.render[e].apply(this,[n,f])),"option"===e||"option_create"===e?n[this.settings.disabledField]||r.attr("data-selectable",""):"optgroup"===e&&(i=n[this.settings.optgroupValueField]||"",r.attr("data-group",i),n[this.settings.disabledField]&&r.attr("data-disabled","")),"option"!==e&&"item"!==e||r.attr("data-value",o||""),a&&(this.renderCache[e][o]=r[0]),r[0])},clearCache:function(t){void 0===t?this.renderCache={}:delete this.renderCache[t]},canCreate:function(t){if(!this.settings.create)return!1;var e=this.settings.createFilter;return t.length&&("function"!=typeof e||e.apply(this,[t]))&&("string"!=typeof e||new RegExp(e).test(t))&&(!(e instanceof RegExp)||e.test(t))}}),b.count=0,b.defaults={options:[],optgroups:[],plugins:[],delimiter:",",splitOn:null,persist:!0,diacritics:!0,create:!1,createOnBlur:!1,createFilter:null,highlight:!0,openOnFocus:!0,maxOptions:1e3,maxItems:null,hideSelected:null,addPrecedence:!1,selectOnTab:!1,preload:!1,allowEmptyOption:!1,closeAfterSelect:!1,scrollDuration:60,loadThrottle:300,loadingClass:"loading",dataAttr:"data-data",optgroupField:"optgroup",valueField:"value",labelField:"text",disabledField:"disabled",optgroupLabelField:"label",optgroupValueField:"value",lockOptgroupOrder:!1,sortField:"$order",searchField:["text"],searchConjunction:"and",mode:null,wrapperClass:"selectize-control",inputClass:"selectize-input",dropdownClass:"selectize-dropdown",dropdownContentClass:"selectize-dropdown-content",dropdownParent:null,copyClassesToDropdown:!0,render:{}},t.fn.selectize=function(e){var n=t.fn.selectize.defaults,o=t.extend({},n,e),i=o.dataAttr,r=o.labelField,a=o.valueField,s=o.disabledField,l=o.optgroupField,u=o.optgroupLabelField,c=o.optgroupValueField;return this.each((function(){if(!this.selectize){var d=t(this),h=this.tagName.toLowerCase(),f=d.attr("placeholder")||d.attr("data-placeholder");f||o.allowEmptyOption||(f=d.children('option[value=""]').text());var g={placeholder:f,options:[],optgroups:[],items:[]};"select"===h?function(e,n){var d,h,f,g,m=n.options,v={},y=function(t){var e=i&&t.attr(i);return"string"==typeof e&&e.length?JSON.parse(e):null},b=function(e,i){e=t(e);var u=p(e.val());if(u||o.allowEmptyOption)if(v.hasOwnProperty(u)){if(i){var c=v[u][l];c?t.isArray(c)?c.push(i):v[u][l]=[c,i]:v[u][l]=i}}else{var d=y(e)||{};d[r]=d[r]||e.text(),d[a]=d[a]||u,d[s]=d[s]||e.prop("disabled"),d[l]=d[l]||i,v[u]=d,m.push(d),e.is(":selected")&&n.items.push(u)}},_=function(e){var o,i,r,a,l;for((r=(e=t(e)).attr("label"))&&((a=y(e)||{})[u]=r,a[c]=r,a[s]=e.prop("disabled"),n.optgroups.push(a)),o=0,i=(l=t("option",e)).length;o<i;o++)b(l[o],r)};for(n.maxItems=e.attr("multiple")?null:1,d=0,h=(g=e.children()).length;d<h;d++)"optgroup"===(f=g[d].tagName.toLowerCase())?_(g[d]):"option"===f&&b(g[d])}(d,g):function(e,n){var s,l,u,c,d=e.attr(i);if(d)for(n.options=JSON.parse(d),s=0,l=n.options.length;s<l;s++)n.items.push(n.options[s][a]);else{var p=t.trim(e.val()||"");if(!o.allowEmptyOption&&!p.length)return;for(s=0,l=(u=p.split(o.delimiter)).length;s<l;s++)(c={})[r]=u[s],c[a]=u[s],n.options.push(c);n.items=u}}(d,g),new b(d,t.extend(!0,{},n,g,e))}}))},t.fn.selectize.defaults=b.defaults,t.fn.selectize.support={validity:c},b.define("drag_drop",(function(e){if(!t.fn.sortable)throw new Error('The "drag_drop" plugin requires jQuery UI "sortable".');if("multi"===this.settings.mode){var n,o=this;o.lock=(n=o.lock,function(){var t=o.$control.data("sortable");return t&&t.disable(),n.apply(o,arguments)}),o.unlock=function(){var t=o.unlock;return function(){var e=o.$control.data("sortable");return e&&e.enable(),t.apply(o,arguments)}}(),o.setup=function(){var e=o.setup;return function(){e.apply(this,arguments);var n=o.$control.sortable({items:"[data-value]",forcePlaceholderSize:!0,disabled:o.isLocked,start:function(t,e){e.placeholder.css("width",e.helper.css("width")),n.css({overflow:"visible"})},stop:function(){n.css({overflow:"hidden"});var e=o.$activeItems?o.$activeItems.slice():null,i=[];n.children("[data-value]").each((function(){i.push(t(this).attr("data-value"))})),o.setValue(i),o.setActiveItem(e)}})}}()}})),b.define("dropdown_header",(function(e){var n,o=this;e=t.extend({title:"Untitled",headerClass:"selectize-dropdown-header",titleRowClass:"selectize-dropdown-header-title",labelClass:"selectize-dropdown-header-label",closeClass:"selectize-dropdown-header-close",html:function(t){return'<div class="'+t.headerClass+'"><div class="'+t.titleRowClass+'"><span class="'+t.labelClass+'">'+t.title+'</span><a href="javascript:void(0)" class="'+t.closeClass+'">&times;</a></div></div>'}},e),o.setup=(n=o.setup,function(){n.apply(o,arguments),o.$dropdown_header=t(e.html(e)),o.$dropdown.prepend(o.$dropdown_header)})})),b.define("optgroup_columns",(function(e){var n,o=this;e=t.extend({equalizeWidth:!0,equalizeHeight:!0},e),this.getAdjacentOption=function(e,n){var o=e.closest("[data-group]").find("[data-selectable]"),i=o.index(e)+n;return i>=0&&i<o.length?o.eq(i):t()},this.onKeyDown=(n=o.onKeyDown,function(t){var e,i,r,a;return!this.isOpen||37!==t.keyCode&&39!==t.keyCode?n.apply(this,arguments):(o.ignoreHover=!0,e=(a=this.$activeOption.closest("[data-group]")).find("[data-selectable]").index(this.$activeOption),void((i=(r=(a=37===t.keyCode?a.prev("[data-group]"):a.next("[data-group]")).find("[data-selectable]")).eq(Math.min(r.length-1,e))).length&&this.setActiveOption(i)))});var i=function(){var n,i,r,a,s,l,u;if((i=(u=t("[data-group]",o.$dropdown_content)).length)&&o.$dropdown_content.width()){if(e.equalizeHeight){for(r=0,n=0;n<i;n++)r=Math.max(r,u.eq(n).height());u.css({height:r})}e.equalizeWidth&&(l=o.$dropdown_content.innerWidth()-function t(){var e,n=t.width,o=document;return void 0===n&&((e=o.createElement("div")).innerHTML='<div style="width:50px;height:50px;position:absolute;left:-50px;top:-50px;overflow:auto;"><div style="width:1px;height:100px;"></div></div>',e=e.firstChild,o.body.appendChild(e),n=t.width=e.offsetWidth-e.clientWidth,o.body.removeChild(e)),n}(),a=Math.round(l/i),u.css({width:a}),i>1&&(s=l-a*(i-1),u.eq(i-1).css({width:s})))}};(e.equalizeHeight||e.equalizeWidth)&&(g.after(this,"positionDropdown",i),g.after(this,"refreshOptions",i))})),b.define("remove_button",(function(e){e=t.extend({label:"&times;",title:"Remove",className:"remove",append:!0},e),"single"!==this.settings.mode?function(e,n){var o,i=e,r='<a href="javascript:void(0)" class="'+n.className+'" tabindex="-1" title="'+f(n.title)+'">'+n.label+"</a>",a=function(t,e){var n=t.search(/(<\/[^>]+>\s*)$/);return t.substring(0,n)+e+t.substring(n)};e.setup=(o=i.setup,function(){if(n.append){var s=i.settings.render.item;i.settings.render.item=function(t){return a(s.apply(e,arguments),r)}}o.apply(e,arguments),e.$control.on("click","."+n.className,(function(e){if(e.preventDefault(),!i.isLocked){var n=t(e.currentTarget).parent();i.setActiveItem(n),i.deleteSelection()&&i.setCaret(i.items.length)}}))})}(this,e):function(e,n){n.className="remove-single";var o,i=e,r='<a href="javascript:void(0)" class="'+n.className+'" tabindex="-1" title="'+f(n.title)+'">'+n.label+"</a>",a=function(e,n){return t("<span>").append(e).append(n)};e.setup=(o=i.setup,function(){if(n.append){var s=t(i.$input.context).attr("id"),l=(t("#"+s),i.settings.render.item);i.settings.render.item=function(t){return a(l.apply(e,arguments),r)}}o.apply(e,arguments),e.$control.on("click","."+n.className,(function(t){t.preventDefault(),i.isLocked||i.clear()}))})}(this,e)})),b.define("restore_on_backspace",(function(t){var e,n=this;t.text=t.text||function(t){return t[this.settings.labelField]},this.onKeyDown=(e=n.onKeyDown,function(n){var o,i;return 8===n.keyCode&&""===this.$control_input.val()&&!this.$activeItems.length&&(o=this.caretPos-1)>=0&&o<this.items.length?(i=this.options[this.items[o]],this.deleteSelection(n)&&(this.setTextboxValue(t.text.apply(this,[i])),this.refreshOptions(!0)),void n.preventDefault()):e.apply(this,arguments)})})),b})?c.apply(e,d):c)||(t.exports=p)}).call(this,n("EVdn"))},"0IQh":function(t,e,n){"use strict";(function(t){n.d(e,"a",(function(){return i})),n.d(e,"b",(function(){return r}));n("TeQF"),n("oVuX"),n("2B1R"),n("tkto");var o=n("FNQh");function i(e){var n=o.state("getFormProp",[e,"rcrds"]),i=t("#CitationType-sel option:selected").text();return console.log("           +--getCitationText for [%s]",i),o.getFormValData("citation",null,null).then((function(e){return{Article:function(t){var n=h(),i=o.util("stripString",[e.year]),r=o.util("stripString",[e.title]),a=d(),s=v(),u=[n,i,r].map(l).join(" ")+" ";return(u+=s?a+" "+s:a)+"."},Book:function(t){var n=f()||h(),o=c(),i=m(),r=e.edition,a=p(),s=g()?g():"[NEEDS PUBLISHER DATA]";return[n,o,i,r,a,s].filter((function(t){return t})).map(l).join(" ")},Chapter:function(t){var e=f()||h(),n=c(),o=m(),i=p(),r=g()?g():"[NEEDS PUBLISHER DATA]";return[e,n,o,i,r].filter((function(t){return t})).join(". ")+"."},"Ph.D. Dissertation":r,Other:u,Report:u,"Museum record":u,"Master's Thesis":r}[i](i);function r(t){return[f(),c(),o.util("stripString",[e.title]),"Master's Thesis"===t?"M.S. Thesis":t,g()?g():"[NEEDS PUBLISHER DATA]"].join(". ")+"."}function u(t){return[h()?h():f(),e.year?o.util("stripString",[e.year]):c(),o.util("stripString",[e.title]),v(),g()].filter((function(t){return t})).join(". ")+"."}function c(){return o.util("stripString",[n.src.year])}function d(){return o.util("stripString",[n.src.displayName])}function p(t){return!!e.pages&&"pp. "+o.util("stripString",[e.pages])}function h(e){var n=o.getSelectedVals(t("#Authors-sel-cntnr")[0]);return!!Object.keys(n).length&&s(n,e)}function f(){var t=n.src.authors;return!!t&&s(t)}function g(){return a(n.src)}function m(){var t=!!e.chapterTitle&&o.util("stripString",[e.chapterTitle]),i=o.util("stripString",[d()]),r=t?t+". In: "+i:i,a=function(){var t=n.src.editors;return!!t&&"("+s(t,!0)+(Object.keys(t).length>1?", eds.":", ed.")+")"}();return a?r+" "+a:r}function v(){var t=e.issue?"("+e.issue+")":null,n=e.volume?e.volume:null,o=e.pages?e.pages:null;return n&&t&&o?n+" "+t+": "+o:n&&t?n+" "+t:n&&o?n+": "+o:n||(t&&o?t+": "+o:t||(o||null))}}))}function r(t){console.log("rebuildCitationText. params = %O",t);var e=t.authRcrds,n=t.cit,i=(t.citRcrds,t.citSrc),r=t.pub,u=t.publisherRcrds,c=t.srcRcrds,d=n.citationType.displayName;return{Article:function(t){var e=g(),a=o.util("stripString",[i.year]),s=o.util("stripString",[n.title]),u=o.util("stripString",[r.displayName]),c=y(),d=[e,a,s].map(l).join(" ")+" ";return(d+=c?u+" "+c:u)+"."},Book:function(t){var e=m()||g(),n=r.year,o=v(),s=i.publicationVolume,d=f(),p=a(r,c,u)||"[NEEDS PUBLISHER DATA]";return[e,n,o,s,d,p].filter((function(t){return t})).map(l).join(" ")},Chapter:function(t){var e=m()||g(),n=r.year,o=v(),i=f(),s=a(r,c,u)||"[NEEDS PUBLISHER DATA]";return[e,n,o,i,s].filter((function(t){return t})).join(". ")+"."},"Ph.D. Dissertation":p,Other:h,Report:h,"Master's Thesis":p,"Museum record":h}[d](d);function p(t){return[m(),r.year,o.util("stripString",[n.title]),"Master's Thesis"===t?"M.S. Thesis":t,a(r,c,u)||"[NEEDS PUBLISHER DATA]"].join(". ")+"."}function h(t){return[g()||m(),i.year?o.util("stripString",[i.year]):r.year,o.util("stripString",[n.title]),y(),a(r,c,u)].filter((function(t){return t})).join(". ")+"."}function f(t){return!!n.publicationPages&&"pp. "+o.util("stripString",[n.publicationPages])}function g(){var t=i.authors;return!!Object.keys(t).length&&s(t,null,e,c)}function m(){var t=r.authors;return!!t&&s(t,null,e,c)}function v(){var t="Chapter"===d&&o.util("stripString",[n.title]),i=o.util("stripString",[r.displayName]),a=t?t+". In: "+i:i,l=function(){var t=r.editors;return!!t&&"("+s(t,!0,e,c)+(Object.keys(t).length>1?", eds.":", ed.")+")"}();return l?a+" "+l:a}function y(){var t=n.publicationIssue?"("+n.publicationIssue+")":null,e=n.publicationVolume?n.publicationVolume:null,o=n.publicationPages?n.publicationPages:null;return e&&t&&o?e+" "+t+": "+o:e&&t?e+" "+t:e&&o?e+": "+o:e||(t&&o?t+": "+o:t||(o||null))}}function a(t,e,n){var i=function(t){if(!t.parent)return!1;var o=r(e,"source",t.parent);return r(n,"publisher",o.publisher)}(t);return!!i&&[i.displayName,i.city?i.city:"[ADD CITY]",i.country?i.country:"[ADD COUNTRY]"].join(", ");function r(t,e,n){return t?t[n]:o.state("getRcrd",[e,n])}}function s(t,e,n,i){if(Object.keys(t).length>3)return l(1,t[1])+", et al";var r="";for(var a in t){var s=l(a,t[a]);s&&(r+=1==a?s:a==Object.keys(t).length?" & "+s:", "+s)}return o.util("stripString",[r]);function l(t,r){if("create"===r)return!1;var a=u(i,r,"source"),s=a[o.util("lcfirst",[a.sourceType.displayName])];return function(t,e,n){var o=e.lastName,i=["firstName","middleName"].map((function(t){return e[t]?e[t].charAt(0)+".":null})).filter((function(t){return t})).join(" ");return t>1||n?i+" "+o:o+", "+i}(t,u(n,s,"author"),e)}}function l(t){return/[.!?,;:]$/.test(t)?t:t+"."}function u(t,e,n){return t?t[e]:o.state("getRcrd",[n,e])}}).call(this,n("EVdn"))},"0ZTt":function(t,e,n){"use strict";n.d(e,"a",(function(){return d}));var o=n("mrSG"),i=n("E5fR"),r=n("OSAz"),a=n("gM5y"),s=Object(a.c)(),l="Sentry Logger ",u=function(){function t(){this._enabled=!1}return t.prototype.disable=function(){this._enabled=!1},t.prototype.enable=function(){this._enabled=!0},t.prototype.log=function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];this._enabled&&Object(a.a)((function(){s.console.log(l+"[Log]: "+t.join(" "))}))},t.prototype.warn=function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];this._enabled&&Object(a.a)((function(){s.console.warn(l+"[Warn]: "+t.join(" "))}))},t.prototype.error=function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];this._enabled&&Object(a.a)((function(){s.console.error(l+"[Error]: "+t.join(" "))}))},t}();s.__SENTRY__=s.__SENTRY__||{};var c=s.__SENTRY__.logger||(s.__SENTRY__.logger=new u),d=function(){function t(e){void 0===e&&(e={depth:3}),this._options=e,this.name=t.id}return t.prototype.setupOnce=function(e,n){e((function(e,o){var i=n().getIntegration(t);return i?i.enhanceEventWithErrorData(e,o):e}))},t.prototype.enhanceEventWithErrorData=function(t,e){var n;if(!e||!e.originalException||!Object(i.b)(e.originalException))return t;var a=e.originalException.name||e.originalException.constructor.name,s=this._extractErrorData(e.originalException);if(s){var l=o.a({},t.contexts),u=Object(r.a)(s,this._options.depth);return Object(i.e)(u)&&(l=o.a({},t.contexts,((n={})[a]=o.a({},u),n))),o.a({},t,{contexts:l})}return t},t.prototype._extractErrorData=function(t){var e,n,r=null;try{var a=["name","message","stack","line","column","fileName","lineNumber","columnNumber"],s=Object.getOwnPropertyNames(t).filter((function(t){return-1===a.indexOf(t)}));if(s.length){var l={};try{for(var u=o.e(s),d=u.next();!d.done;d=u.next()){var p=d.value,h=t[p];Object(i.b)(h)&&(h=h.toString()),l[p]=h}}catch(t){e={error:t}}finally{try{d&&!d.done&&(n=u.return)&&n.call(u)}finally{if(e)throw e.error}}r=l}}catch(t){c.error("Unable to extract extra data from the Error object:",t)}return r},t.id="ExtraErrorData",t}()},"0oug":function(t,e,n){n("dG/n")("iterator")},"0rvr":function(t,e,n){var o=n("glrk"),i=n("O741");t.exports=Object.setPrototypeOf||("__proto__"in{}?function(){var t,e=!1,n={};try{(t=Object.getOwnPropertyDescriptor(Object.prototype,"__proto__").set).call(n,[]),e=n instanceof Array}catch(t){}return function(n,r){return o(n),i(r),e?t.call(n,r):n.__proto__=r,n}}():void 0)},"20BZ":function(t,e,n){},"2mBW":function(t,e){t.exports=function(t){throw new Error('"'+t+'" is read-only')}},"2wUy":function(t,e,n){"use strict";n.r(e),function(t){n.d(e,"initSingle",(function(){return i})),n.d(e,"enableCombobox",(function(){return r})),n.d(e,"enableComboboxes",(function(){return a})),n.d(e,"enableFirstCombobox",(function(){return s})),n.d(e,"focusCombobox",(function(){return l})),n.d(e,"focusFirstCombobox",(function(){return u})),n.d(e,"clearCombobox",(function(){return c})),n.d(e,"resetFormCombobox",(function(){return d})),n.d(e,"updateComboboxOptions",(function(){return p})),n.d(e,"getSelVal",(function(){return h})),n.d(e,"getSelTxt",(function(){return f})),n.d(e,"setSelVal",(function(){return g})),n.d(e,"initFormCombos",(function(){return m}));n("sMBO"),n("zKZe"),n("UxlC"),n("FZtP");var o=n("FNQh");function i(e,n){var o={create:e.add,onChange:e.change,placeholder:"Select "+e.name};e.options&&function(){for(var t in e.options)o[t]=e.options[t]}(),t(e.id).selectize(o)}function r(e){var n=!(arguments.length>1&&void 0!==arguments[1])||arguments[1];if(!1===n)return t(e)[0].selectize.disable();t(e)[0].selectize.enable()}function a(t,e){t.each((function(t,n){r("#"+n.id,e)}))}function s(e){var n=!(arguments.length>1&&void 0!==arguments[1])||arguments[1],o=t(e+" .selectized").toArray(),i=t("#"+o[0].id)[0].selectize;return n?i.enable():i.disable()}function l(e,n){if(!n)return t(e)[0].selectize.blur();t(e)[0].selectize.focus()}function u(e,n){l("#"+t(e+" .selectized").toArray()[0].id,n)}function c(e){var n=t(e)[0].selectize;n.clear("silent"),n.updatePlaceholder(),n.removeOption("")}function d(e,n){var i=Object(o.state)("getFormParentId",[e]);if(i){var r=t(i)[0].selectize;r.clear("silent"),r.enable(),r.removeOption(""),n?r.focus():!1===n&&r.blur()}}function p(e,n,o){var i=t(e)[0].selectize;i.clear("silent"),i.clearOptions(),i.addOption(n),i.refreshOptions(!1)}function h(e){return t(e)[0].selectize.getValue()}function f(e){return t(e)[0].innerText}function g(e,n,o){t(e)[0].selectize.addItem(n,o)}function m(t,e,n){Object(o.state)("getFormProp",[e,"selElems"]).forEach((function(t){var e=function(t,e){var n=function(t){var e=t.replace(/([A-Z])/g," $1");return{Authors:{name:"Authors",id:"#Authors-sel1"},Editors:{name:"Editors",id:"#Editors-sel1"},InteractionTags:{name:"Interaction Tags",options:{delimiter:",",maxItems:null}}}[t]||{name:e}}(e),o=t[e]||{};return Object.assign(n,o)}(n,t);e.id=e.id||"#"+t+"-sel",i(e)})),Object(o.state)("setFormProp",[e,"selElems",[]])}}.call(this,n("EVdn"))},"31I3":function(t,e,n){},"3UD+":function(t,e){t.exports=function(t){if(!t.webpackPolyfill){var e=Object.create(t);e.children||(e.children=[]),Object.defineProperty(e,"loaded",{enumerable:!0,get:function(){return e.l}}),Object.defineProperty(e,"id",{enumerable:!0,get:function(){return e.i}}),Object.defineProperty(e,"exports",{enumerable:!0}),e.webpackPolyfill=1}return e}},"3bBZ":function(t,e,n){var o=n("2oRo"),i=n("/byt"),r=n("4mDm"),a=n("X2U+"),s=n("tiKp"),l=s("iterator"),u=s("toStringTag"),c=r.values;for(var d in i){var p=o[d],h=p&&p.prototype;if(h){if(h[l]!==c)try{a(h,l,c)}catch(t){h[l]=c}if(h[u]||a(h,u,d),i[d])for(var f in r)if(h[f]!==r[f])try{a(h,f,r[f])}catch(t){h[f]=r[f]}}}},"3uUd":function(t,e,n){"use strict";var o=n("I+eb"),i=n("xDBR"),r=n("0GbY"),a=n("glrk"),s=n("HAuM"),l=n("+MLx"),u=n("SEBh"),c=n("WGBp"),d=n("ImZN");o({target:"Set",proto:!0,real:!0,forced:i},{filter:function(t){var e=a(this),n=c(e),o=l(t,arguments.length>1?arguments[1]:void 0,3),i=new(u(e,r("Set"))),p=s(i.add);return d(n,(function(t){o(t,t,e)&&p.call(i,t)}),void 0,!1,!0),i}})},"3x6B":function(t,e,n){"use strict";n.r(e),function(t){var o,i=n("RIqP"),r=n.n(i),a=n("FNQh");function s(t,e){var n=function(t){var e={id:t+"-all-fields",type:"checkbox",value:"Show all fields"},n=a.util("buildElem",["input",e]);o.expanded&&(n.checked=!0);return n}(t);return function(t,e,n){var o=a.util("lcfirst",[e]);a.elems("setToggleFieldsEvent",[n,o,t])}(t,e,n),a.util("addEnterKeypressClick",[n]),n}function l(t){var e={for:t+"-all-fields",text:"Show all fields."};return a.util("buildElem",["label",e])}function u(t,e){return a.submitForm.bind(null,"#"+e+"-form",e,t)}function c(t,e){var n=o?o.onFormClose:Function.prototype;return"top"===e?a.exitFormWindow:a.exitFormLevel.bind(null,e,!0,n)}function d(t,e,n){var o={id:e+"-"+t,class:"ag-fresh",type:"button",value:n};return a.util("buildElem",["input",o])}e.default=function(e,n,i){var p;o=a.state("getFormState").forms[n];var h=a.util("buildElem",["div",{class:"flex-row bttn-cntnr"}]);return(p=t(h)).append.apply(p,r()(function(e,n,o){var i=function(e,n){if(!function(t){var e=a.confg("getFormConfg",[t]);return e&&!1!==e.order.opt}(e))return null;var o=a.util("buildElem",["div",{class:"all-fields-cntnr"}]);return t(o).append([s(n,e),l(n)]),o}(e,n),r=t("<div></div>").css("flex-grow",2),p=function(e,n,o){var i=function(t,e){return{submit:u(t,e),cancel:c(t,e)}}(o,e);return[(r=d("submit",e,{create:"Create",edit:"Update"}[n]+" "+a.util("ucfirst",[o])),t(r).attr("disabled",!0).css("opacity",".6").click(i.submit),r),function(){var n=d("cancel",e,"Cancel");return t(n).css("cursor","pointer").click(i.cancel),n}()];var r}(n,o,e);return[i,r,p]}(e,n,i))),h}}.call(this,n("EVdn"))},"3yzX":function(t,e,n){"use strict";n.d(e,"a",(function(){return o}));var o=function(){function t(){this._hasWeakSet="function"==typeof WeakSet,this._inner=this._hasWeakSet?new WeakSet:[]}return t.prototype.memoize=function(t){if(this._hasWeakSet)return!!this._inner.has(t)||(this._inner.add(t),!1);for(var e=0;e<this._inner.length;e++){if(this._inner[e]===t)return!0}return this._inner.push(t),!1},t.prototype.unmemoize=function(t){if(this._hasWeakSet)this._inner.delete(t);else for(var e=0;e<this._inner.length;e++)if(this._inner[e]===t){this._inner.splice(e,1);break}},t}()},"49+q":function(t,e,n){"use strict";var o=n("I+eb"),i=n("xDBR"),r=n("fXLg");o({target:"Set",proto:!0,real:!0,forced:i},{addAll:function(){return r.apply(this,arguments)}})},"4HCi":function(t,e,n){var o=n("0Dky"),i=n("WJkJ");t.exports=function(t){return o((function(){return!!i[t]()||"‚Äã¬Ö·†é"!="‚Äã¬Ö·†é"[t]()||i[t].name!==t}))}},"4R65":function(t,e,n){(function(t){
/* @preserve
 * Leaflet 1.5.1+build.2e3e0ff, a JS library for interactive maps. http://leafletjs.com
 * (c) 2010-2018 Vladimir Agafonkin, (c) 2010-2011 CloudMade
 */
!function(e){"use strict";var n=Object.freeze;function o(t){var e,n,o,i;for(n=1,o=arguments.length;n<o;n++)for(e in i=arguments[n])t[e]=i[e];return t}Object.freeze=function(t){return t};var i=Object.create||function(){function t(){}return function(e){return t.prototype=e,new t}}();function r(t,e){var n=Array.prototype.slice;if(t.bind)return t.bind.apply(t,n.call(arguments,1));var o=n.call(arguments,2);return function(){return t.apply(e,o.length?o.concat(n.call(arguments)):arguments)}}var a=0;function s(t){return t._leaflet_id=t._leaflet_id||++a,t._leaflet_id}function l(t,e,n){var o,i,r,a;return a=function(){o=!1,i&&(r.apply(n,i),i=!1)},r=function(){o?i=arguments:(t.apply(n,arguments),setTimeout(a,e),o=!0)}}function u(t,e,n){var o=e[1],i=e[0],r=o-i;return t===o&&n?t:((t-i)%r+r)%r+i}function c(){return!1}function d(t,e){return e=void 0===e?6:e,+(Math.round(t+"e+"+e)+"e-"+e)}function p(t){return t.trim?t.trim():t.replace(/^\s+|\s+$/g,"")}function h(t){return p(t).split(/\s+/)}function f(t,e){for(var n in t.hasOwnProperty("options")||(t.options=t.options?i(t.options):{}),e)t.options[n]=e[n];return t.options}function g(t,e,n){var o=[];for(var i in t)o.push(encodeURIComponent(n?i.toUpperCase():i)+"="+encodeURIComponent(t[i]));return(e&&-1!==e.indexOf("?")?"&":"?")+o.join("&")}var m=/\{ *([\w_-]+) *\}/g;function v(t,e){return t.replace(m,(function(t,n){var o=e[n];if(void 0===o)throw new Error("No value provided for variable "+t);return"function"==typeof o&&(o=o(e)),o}))}var y=Array.isArray||function(t){return"[object Array]"===Object.prototype.toString.call(t)};function b(t,e){for(var n=0;n<t.length;n++)if(t[n]===e)return n;return-1}var _="data:image/gif;base64,R0lGODlhAQABAAD/ACwAAAAAAQABAAACADs=";function C(t){return window["webkit"+t]||window["moz"+t]||window["ms"+t]}var w=0;function E(t){var e=+new Date,n=Math.max(0,16-(e-w));return w=e+n,window.setTimeout(t,n)}var x=window.requestAnimationFrame||C("RequestAnimationFrame")||E,S=window.cancelAnimationFrame||C("CancelAnimationFrame")||C("CancelRequestAnimationFrame")||function(t){window.clearTimeout(t)};function A(t,e,n){if(!n||x!==E)return x.call(window,r(t,e));t.call(e)}function O(t){t&&S.call(window,t)}var R=(Object.freeze||Object)({freeze:n,extend:o,create:i,bind:r,lastId:a,stamp:s,throttle:l,wrapNum:u,falseFn:c,formatNum:d,trim:p,splitWords:h,setOptions:f,getParamString:g,template:v,isArray:y,indexOf:b,emptyImageUrl:_,requestFn:x,cancelFn:S,requestAnimFrame:A,cancelAnimFrame:O});function T(){}T.extend=function(e){var n=function(){this.initialize&&this.initialize.apply(this,arguments),this.callInitHooks()},r=n.__super__=this.prototype,a=i(r);for(var s in a.constructor=n,n.prototype=a,this)this.hasOwnProperty(s)&&"prototype"!==s&&"__super__"!==s&&(n[s]=this[s]);return e.statics&&(o(n,e.statics),delete e.statics),e.includes&&(function(e){if(void 0!==t&&t&&t.Mixin){e=y(e)?e:[e];for(var n=0;n<e.length;n++)e[n]===t.Mixin.Events&&console.warn("Deprecated include of L.Mixin.Events: this property will be removed in future releases, please inherit from L.Evented instead.",(new Error).stack)}}(e.includes),o.apply(null,[a].concat(e.includes)),delete e.includes),a.options&&(e.options=o(i(a.options),e.options)),o(a,e),a._initHooks=[],a.callInitHooks=function(){if(!this._initHooksCalled){r.callInitHooks&&r.callInitHooks.call(this),this._initHooksCalled=!0;for(var t=0,e=a._initHooks.length;t<e;t++)a._initHooks[t].call(this)}},n},T.include=function(t){return o(this.prototype,t),this},T.mergeOptions=function(t){return o(this.prototype.options,t),this},T.addInitHook=function(t){var e=Array.prototype.slice.call(arguments,1),n="function"==typeof t?t:function(){this[t].apply(this,e)};return this.prototype._initHooks=this.prototype._initHooks||[],this.prototype._initHooks.push(n),this};var L={on:function(t,e,n){if("object"==typeof t)for(var o in t)this._on(o,t[o],e);else for(var i=0,r=(t=h(t)).length;i<r;i++)this._on(t[i],e,n);return this},off:function(t,e,n){if(t)if("object"==typeof t)for(var o in t)this._off(o,t[o],e);else for(var i=0,r=(t=h(t)).length;i<r;i++)this._off(t[i],e,n);else delete this._events;return this},_on:function(t,e,n){this._events=this._events||{};var o=this._events[t];o||(o=[],this._events[t]=o),n===this&&(n=void 0);for(var i={fn:e,ctx:n},r=o,a=0,s=r.length;a<s;a++)if(r[a].fn===e&&r[a].ctx===n)return;r.push(i)},_off:function(t,e,n){var o,i,r;if(this._events&&(o=this._events[t]))if(e){if(n===this&&(n=void 0),o)for(i=0,r=o.length;i<r;i++){var a=o[i];if(a.ctx===n&&a.fn===e)return a.fn=c,this._firingCount&&(this._events[t]=o=o.slice()),void o.splice(i,1)}}else{for(i=0,r=o.length;i<r;i++)o[i].fn=c;delete this._events[t]}},fire:function(t,e,n){if(!this.listens(t,n))return this;var i=o({},e,{type:t,target:this,sourceTarget:e&&e.sourceTarget||this});if(this._events){var r=this._events[t];if(r){this._firingCount=this._firingCount+1||1;for(var a=0,s=r.length;a<s;a++){var l=r[a];l.fn.call(l.ctx||this,i)}this._firingCount--}}return n&&this._propagateEvent(i),this},listens:function(t,e){var n=this._events&&this._events[t];if(n&&n.length)return!0;if(e)for(var o in this._eventParents)if(this._eventParents[o].listens(t,e))return!0;return!1},once:function(t,e,n){if("object"==typeof t){for(var o in t)this.once(o,t[o],e);return this}var i=r((function(){this.off(t,e,n).off(t,i,n)}),this);return this.on(t,e,n).on(t,i,n)},addEventParent:function(t){return this._eventParents=this._eventParents||{},this._eventParents[s(t)]=t,this},removeEventParent:function(t){return this._eventParents&&delete this._eventParents[s(t)],this},_propagateEvent:function(t){for(var e in this._eventParents)this._eventParents[e].fire(t.type,o({layer:t.target,propagatedFrom:t.target},t),!0)}};L.addEventListener=L.on,L.removeEventListener=L.clearAllEventListeners=L.off,L.addOneTimeEventListener=L.once,L.fireEvent=L.fire,L.hasEventListeners=L.listens;var P=T.extend(L);function D(t,e,n){this.x=n?Math.round(t):t,this.y=n?Math.round(e):e}var k=Math.trunc||function(t){return t>0?Math.floor(t):Math.ceil(t)};function N(t,e,n){return t instanceof D?t:y(t)?new D(t[0],t[1]):null==t?t:"object"==typeof t&&"x"in t&&"y"in t?new D(t.x,t.y):new D(t,e,n)}function F(t,e){if(t)for(var n=e?[t,e]:t,o=0,i=n.length;o<i;o++)this.extend(n[o])}function M(t,e){return!t||t instanceof F?t:new F(t,e)}function I(t,e){if(t)for(var n=e?[t,e]:t,o=0,i=n.length;o<i;o++)this.extend(n[o])}function G(t,e){return t instanceof I?t:new I(t,e)}function j(t,e,n){if(isNaN(t)||isNaN(e))throw new Error("Invalid LatLng object: ("+t+", "+e+")");this.lat=+t,this.lng=+e,void 0!==n&&(this.alt=+n)}function U(t,e,n){return t instanceof j?t:y(t)&&"object"!=typeof t[0]?3===t.length?new j(t[0],t[1],t[2]):2===t.length?new j(t[0],t[1]):null:null==t?t:"object"==typeof t&&"lat"in t?new j(t.lat,"lng"in t?t.lng:t.lon,t.alt):void 0===e?null:new j(t,e,n)}D.prototype={clone:function(){return new D(this.x,this.y)},add:function(t){return this.clone()._add(N(t))},_add:function(t){return this.x+=t.x,this.y+=t.y,this},subtract:function(t){return this.clone()._subtract(N(t))},_subtract:function(t){return this.x-=t.x,this.y-=t.y,this},divideBy:function(t){return this.clone()._divideBy(t)},_divideBy:function(t){return this.x/=t,this.y/=t,this},multiplyBy:function(t){return this.clone()._multiplyBy(t)},_multiplyBy:function(t){return this.x*=t,this.y*=t,this},scaleBy:function(t){return new D(this.x*t.x,this.y*t.y)},unscaleBy:function(t){return new D(this.x/t.x,this.y/t.y)},round:function(){return this.clone()._round()},_round:function(){return this.x=Math.round(this.x),this.y=Math.round(this.y),this},floor:function(){return this.clone()._floor()},_floor:function(){return this.x=Math.floor(this.x),this.y=Math.floor(this.y),this},ceil:function(){return this.clone()._ceil()},_ceil:function(){return this.x=Math.ceil(this.x),this.y=Math.ceil(this.y),this},trunc:function(){return this.clone()._trunc()},_trunc:function(){return this.x=k(this.x),this.y=k(this.y),this},distanceTo:function(t){var e=(t=N(t)).x-this.x,n=t.y-this.y;return Math.sqrt(e*e+n*n)},equals:function(t){return(t=N(t)).x===this.x&&t.y===this.y},contains:function(t){return t=N(t),Math.abs(t.x)<=Math.abs(this.x)&&Math.abs(t.y)<=Math.abs(this.y)},toString:function(){return"Point("+d(this.x)+", "+d(this.y)+")"}},F.prototype={extend:function(t){return t=N(t),this.min||this.max?(this.min.x=Math.min(t.x,this.min.x),this.max.x=Math.max(t.x,this.max.x),this.min.y=Math.min(t.y,this.min.y),this.max.y=Math.max(t.y,this.max.y)):(this.min=t.clone(),this.max=t.clone()),this},getCenter:function(t){return new D((this.min.x+this.max.x)/2,(this.min.y+this.max.y)/2,t)},getBottomLeft:function(){return new D(this.min.x,this.max.y)},getTopRight:function(){return new D(this.max.x,this.min.y)},getTopLeft:function(){return this.min},getBottomRight:function(){return this.max},getSize:function(){return this.max.subtract(this.min)},contains:function(t){var e,n;return(t="number"==typeof t[0]||t instanceof D?N(t):M(t))instanceof F?(e=t.min,n=t.max):e=n=t,e.x>=this.min.x&&n.x<=this.max.x&&e.y>=this.min.y&&n.y<=this.max.y},intersects:function(t){t=M(t);var e=this.min,n=this.max,o=t.min,i=t.max,r=i.x>=e.x&&o.x<=n.x,a=i.y>=e.y&&o.y<=n.y;return r&&a},overlaps:function(t){t=M(t);var e=this.min,n=this.max,o=t.min,i=t.max,r=i.x>e.x&&o.x<n.x,a=i.y>e.y&&o.y<n.y;return r&&a},isValid:function(){return!(!this.min||!this.max)}},I.prototype={extend:function(t){var e,n,o=this._southWest,i=this._northEast;if(t instanceof j)e=t,n=t;else{if(!(t instanceof I))return t?this.extend(U(t)||G(t)):this;if(e=t._southWest,n=t._northEast,!e||!n)return this}return o||i?(o.lat=Math.min(e.lat,o.lat),o.lng=Math.min(e.lng,o.lng),i.lat=Math.max(n.lat,i.lat),i.lng=Math.max(n.lng,i.lng)):(this._southWest=new j(e.lat,e.lng),this._northEast=new j(n.lat,n.lng)),this},pad:function(t){var e=this._southWest,n=this._northEast,o=Math.abs(e.lat-n.lat)*t,i=Math.abs(e.lng-n.lng)*t;return new I(new j(e.lat-o,e.lng-i),new j(n.lat+o,n.lng+i))},getCenter:function(){return new j((this._southWest.lat+this._northEast.lat)/2,(this._southWest.lng+this._northEast.lng)/2)},getSouthWest:function(){return this._southWest},getNorthEast:function(){return this._northEast},getNorthWest:function(){return new j(this.getNorth(),this.getWest())},getSouthEast:function(){return new j(this.getSouth(),this.getEast())},getWest:function(){return this._southWest.lng},getSouth:function(){return this._southWest.lat},getEast:function(){return this._northEast.lng},getNorth:function(){return this._northEast.lat},contains:function(t){t="number"==typeof t[0]||t instanceof j||"lat"in t?U(t):G(t);var e,n,o=this._southWest,i=this._northEast;return t instanceof I?(e=t.getSouthWest(),n=t.getNorthEast()):e=n=t,e.lat>=o.lat&&n.lat<=i.lat&&e.lng>=o.lng&&n.lng<=i.lng},intersects:function(t){t=G(t);var e=this._southWest,n=this._northEast,o=t.getSouthWest(),i=t.getNorthEast(),r=i.lat>=e.lat&&o.lat<=n.lat,a=i.lng>=e.lng&&o.lng<=n.lng;return r&&a},overlaps:function(t){t=G(t);var e=this._southWest,n=this._northEast,o=t.getSouthWest(),i=t.getNorthEast(),r=i.lat>e.lat&&o.lat<n.lat,a=i.lng>e.lng&&o.lng<n.lng;return r&&a},toBBoxString:function(){return[this.getWest(),this.getSouth(),this.getEast(),this.getNorth()].join(",")},equals:function(t,e){return!!t&&(t=G(t),this._southWest.equals(t.getSouthWest(),e)&&this._northEast.equals(t.getNorthEast(),e))},isValid:function(){return!(!this._southWest||!this._northEast)}},j.prototype={equals:function(t,e){return!!t&&(t=U(t),Math.max(Math.abs(this.lat-t.lat),Math.abs(this.lng-t.lng))<=(void 0===e?1e-9:e))},toString:function(t){return"LatLng("+d(this.lat,t)+", "+d(this.lng,t)+")"},distanceTo:function(t){return W.distance(this,U(t))},wrap:function(){return W.wrapLatLng(this)},toBounds:function(t){var e=180*t/40075017,n=e/Math.cos(Math.PI/180*this.lat);return G([this.lat-e,this.lng-n],[this.lat+e,this.lng+n])},clone:function(){return new j(this.lat,this.lng,this.alt)}};var B,V={latLngToPoint:function(t,e){var n=this.projection.project(t),o=this.scale(e);return this.transformation._transform(n,o)},pointToLatLng:function(t,e){var n=this.scale(e),o=this.transformation.untransform(t,n);return this.projection.unproject(o)},project:function(t){return this.projection.project(t)},unproject:function(t){return this.projection.unproject(t)},scale:function(t){return 256*Math.pow(2,t)},zoom:function(t){return Math.log(t/256)/Math.LN2},getProjectedBounds:function(t){if(this.infinite)return null;var e=this.projection.bounds,n=this.scale(t);return new F(this.transformation.transform(e.min,n),this.transformation.transform(e.max,n))},infinite:!1,wrapLatLng:function(t){var e=this.wrapLng?u(t.lng,this.wrapLng,!0):t.lng;return new j(this.wrapLat?u(t.lat,this.wrapLat,!0):t.lat,e,t.alt)},wrapLatLngBounds:function(t){var e=t.getCenter(),n=this.wrapLatLng(e),o=e.lat-n.lat,i=e.lng-n.lng;if(0===o&&0===i)return t;var r=t.getSouthWest(),a=t.getNorthEast();return new I(new j(r.lat-o,r.lng-i),new j(a.lat-o,a.lng-i))}},W=o({},V,{wrapLng:[-180,180],R:6371e3,distance:function(t,e){var n=Math.PI/180,o=t.lat*n,i=e.lat*n,r=Math.sin((e.lat-t.lat)*n/2),a=Math.sin((e.lng-t.lng)*n/2),s=r*r+Math.cos(o)*Math.cos(i)*a*a,l=2*Math.atan2(Math.sqrt(s),Math.sqrt(1-s));return this.R*l}}),H={R:6378137,MAX_LATITUDE:85.0511287798,project:function(t){var e=Math.PI/180,n=this.MAX_LATITUDE,o=Math.max(Math.min(n,t.lat),-n),i=Math.sin(o*e);return new D(this.R*t.lng*e,this.R*Math.log((1+i)/(1-i))/2)},unproject:function(t){var e=180/Math.PI;return new j((2*Math.atan(Math.exp(t.y/this.R))-Math.PI/2)*e,t.x*e/this.R)},bounds:(B=6378137*Math.PI,new F([-B,-B],[B,B]))};function z(t,e,n,o){if(y(t))return this._a=t[0],this._b=t[1],this._c=t[2],void(this._d=t[3]);this._a=t,this._b=e,this._c=n,this._d=o}function Z(t,e,n,o){return new z(t,e,n,o)}z.prototype={transform:function(t,e){return this._transform(t.clone(),e)},_transform:function(t,e){return e=e||1,t.x=e*(this._a*t.x+this._b),t.y=e*(this._c*t.y+this._d),t},untransform:function(t,e){return e=e||1,new D((t.x/e-this._b)/this._a,(t.y/e-this._d)/this._c)}};var Y=o({},W,{code:"EPSG:3857",projection:H,transformation:function(){var t=.5/(Math.PI*H.R);return Z(t,.5,-t,.5)}()}),q=o({},Y,{code:"EPSG:900913"});function Q(t){return document.createElementNS("http://www.w3.org/2000/svg",t)}function J(t,e){var n,o,i,r,a,s,l="";for(n=0,i=t.length;n<i;n++){for(o=0,r=(a=t[n]).length;o<r;o++)l+=(o?"L":"M")+(s=a[o]).x+" "+s.y;l+=e?Ot?"z":"x":""}return l||"M0 0"}var K=document.documentElement.style,X="ActiveXObject"in window,$=X&&!document.addEventListener,tt="msLaunchUri"in navigator&&!("documentMode"in document),et=Tt("webkit"),nt=Tt("android"),ot=Tt("android 2")||Tt("android 3"),it=parseInt(/WebKit\/([0-9]+)|$/.exec(navigator.userAgent)[1],10),rt=nt&&Tt("Google")&&it<537&&!("AudioNode"in window),at=!!window.opera,st=Tt("chrome"),lt=Tt("gecko")&&!et&&!at&&!X,ut=!st&&Tt("safari"),ct=Tt("phantom"),dt="OTransition"in K,pt=0===navigator.platform.indexOf("Win"),ht=X&&"transition"in K,ft="WebKitCSSMatrix"in window&&"m11"in new window.WebKitCSSMatrix&&!ot,gt="MozPerspective"in K,mt=!window.L_DISABLE_3D&&(ht||ft||gt)&&!dt&&!ct,vt="undefined"!=typeof orientation||Tt("mobile"),yt=vt&&et,bt=vt&&ft,_t=!window.PointerEvent&&window.MSPointerEvent,Ct=!(!window.PointerEvent&&!_t),wt=!window.L_NO_TOUCH&&(Ct||"ontouchstart"in window||window.DocumentTouch&&document instanceof window.DocumentTouch),Et=vt&&at,xt=vt&&lt,St=(window.devicePixelRatio||window.screen.deviceXDPI/window.screen.logicalXDPI)>1,At=!!document.createElement("canvas").getContext,Ot=!(!document.createElementNS||!Q("svg").createSVGRect),Rt=!Ot&&function(){try{var t=document.createElement("div");t.innerHTML='<v:shape adj="1"/>';var e=t.firstChild;return e.style.behavior="url(#default#VML)",e&&"object"==typeof e.adj}catch(t){return!1}}();function Tt(t){return navigator.userAgent.toLowerCase().indexOf(t)>=0}var Lt=(Object.freeze||Object)({ie:X,ielt9:$,edge:tt,webkit:et,android:nt,android23:ot,androidStock:rt,opera:at,chrome:st,gecko:lt,safari:ut,phantom:ct,opera12:dt,win:pt,ie3d:ht,webkit3d:ft,gecko3d:gt,any3d:mt,mobile:vt,mobileWebkit:yt,mobileWebkit3d:bt,msPointer:_t,pointer:Ct,touch:wt,mobileOpera:Et,mobileGecko:xt,retina:St,canvas:At,svg:Ot,vml:Rt}),Pt=_t?"MSPointerDown":"pointerdown",Dt=_t?"MSPointerMove":"pointermove",kt=_t?"MSPointerUp":"pointerup",Nt=_t?"MSPointerCancel":"pointercancel",Ft=["INPUT","SELECT","OPTION"],Mt={},It=!1,Gt=0;function jt(t,e,n,o){return"touchstart"===e?function(t,e,n){var o=r((function(t){if("mouse"!==t.pointerType&&t.MSPOINTER_TYPE_MOUSE&&t.pointerType!==t.MSPOINTER_TYPE_MOUSE){if(!(Ft.indexOf(t.target.tagName)<0))return;Me(t)}Wt(t,e)}));t["_leaflet_touchstart"+n]=o,t.addEventListener(Pt,o,!1),It||(document.documentElement.addEventListener(Pt,Ut,!0),document.documentElement.addEventListener(Dt,Bt,!0),document.documentElement.addEventListener(kt,Vt,!0),document.documentElement.addEventListener(Nt,Vt,!0),It=!0)}(t,n,o):"touchmove"===e?function(t,e,n){var o=function(t){(t.pointerType!==t.MSPOINTER_TYPE_MOUSE&&"mouse"!==t.pointerType||0!==t.buttons)&&Wt(t,e)};t["_leaflet_touchmove"+n]=o,t.addEventListener(Dt,o,!1)}(t,n,o):"touchend"===e&&function(t,e,n){var o=function(t){Wt(t,e)};t["_leaflet_touchend"+n]=o,t.addEventListener(kt,o,!1),t.addEventListener(Nt,o,!1)}(t,n,o),this}function Ut(t){Mt[t.pointerId]=t,Gt++}function Bt(t){Mt[t.pointerId]&&(Mt[t.pointerId]=t)}function Vt(t){delete Mt[t.pointerId],Gt--}function Wt(t,e){for(var n in t.touches=[],Mt)t.touches.push(Mt[n]);t.changedTouches=[t],e(t)}var Ht=_t?"MSPointerDown":Ct?"pointerdown":"touchstart",zt=_t?"MSPointerUp":Ct?"pointerup":"touchend",Zt="_leaflet_";function Yt(t,e,n){var o,i,r=!1;function a(t){var e;if(Ct){if(!tt||"mouse"===t.pointerType)return;e=Gt}else e=t.touches.length;if(!(e>1)){var n=Date.now(),a=n-(o||n);i=t.touches?t.touches[0]:t,r=a>0&&a<=250,o=n}}function s(t){if(r&&!i.cancelBubble){if(Ct){if(!tt||"mouse"===t.pointerType)return;var n,a,s={};for(a in i)n=i[a],s[a]=n&&n.bind?n.bind(i):n;i=s}i.type="dblclick",i.button=0,e(i),o=null}}return t[Zt+Ht+n]=a,t[Zt+zt+n]=s,t[Zt+"dblclick"+n]=e,t.addEventListener(Ht,a,!1),t.addEventListener(zt,s,!1),t.addEventListener("dblclick",e,!1),this}function qt(t,e){var n=t[Zt+Ht+e],o=t[Zt+zt+e],i=t[Zt+"dblclick"+e];return t.removeEventListener(Ht,n,!1),t.removeEventListener(zt,o,!1),tt||t.removeEventListener("dblclick",i,!1),this}var Qt,Jt,Kt,Xt,$t,te=me(["transform","webkitTransform","OTransform","MozTransform","msTransform"]),ee=me(["webkitTransition","transition","OTransition","MozTransition","msTransition"]),ne="webkitTransition"===ee||"OTransition"===ee?ee+"End":"transitionend";function oe(t){return"string"==typeof t?document.getElementById(t):t}function ie(t,e){var n=t.style[e]||t.currentStyle&&t.currentStyle[e];if((!n||"auto"===n)&&document.defaultView){var o=document.defaultView.getComputedStyle(t,null);n=o?o[e]:null}return"auto"===n?null:n}function re(t,e,n){var o=document.createElement(t);return o.className=e||"",n&&n.appendChild(o),o}function ae(t){var e=t.parentNode;e&&e.removeChild(t)}function se(t){for(;t.firstChild;)t.removeChild(t.firstChild)}function le(t){var e=t.parentNode;e&&e.lastChild!==t&&e.appendChild(t)}function ue(t){var e=t.parentNode;e&&e.firstChild!==t&&e.insertBefore(t,e.firstChild)}function ce(t,e){if(void 0!==t.classList)return t.classList.contains(e);var n=fe(t);return n.length>0&&new RegExp("(^|\\s)"+e+"(\\s|$)").test(n)}function de(t,e){if(void 0!==t.classList)for(var n=h(e),o=0,i=n.length;o<i;o++)t.classList.add(n[o]);else if(!ce(t,e)){var r=fe(t);he(t,(r?r+" ":"")+e)}}function pe(t,e){void 0!==t.classList?t.classList.remove(e):he(t,p((" "+fe(t)+" ").replace(" "+e+" "," ")))}function he(t,e){void 0===t.className.baseVal?t.className=e:t.className.baseVal=e}function fe(t){return t.correspondingElement&&(t=t.correspondingElement),void 0===t.className.baseVal?t.className:t.className.baseVal}function ge(t,e){"opacity"in t.style?t.style.opacity=e:"filter"in t.style&&function(t,e){var n=!1,o="DXImageTransform.Microsoft.Alpha";try{n=t.filters.item(o)}catch(t){if(1===e)return}e=Math.round(100*e),n?(n.Enabled=100!==e,n.Opacity=e):t.style.filter+=" progid:"+o+"(opacity="+e+")"}(t,e)}function me(t){for(var e=document.documentElement.style,n=0;n<t.length;n++)if(t[n]in e)return t[n];return!1}function ve(t,e,n){var o=e||new D(0,0);t.style[te]=(ht?"translate("+o.x+"px,"+o.y+"px)":"translate3d("+o.x+"px,"+o.y+"px,0)")+(n?" scale("+n+")":"")}function ye(t,e){t._leaflet_pos=e,mt?ve(t,e):(t.style.left=e.x+"px",t.style.top=e.y+"px")}function be(t){return t._leaflet_pos||new D(0,0)}if("onselectstart"in document)Qt=function(){Re(window,"selectstart",Me)},Jt=function(){Le(window,"selectstart",Me)};else{var _e=me(["userSelect","WebkitUserSelect","OUserSelect","MozUserSelect","msUserSelect"]);Qt=function(){if(_e){var t=document.documentElement.style;Kt=t[_e],t[_e]="none"}},Jt=function(){_e&&(document.documentElement.style[_e]=Kt,Kt=void 0)}}function Ce(){Re(window,"dragstart",Me)}function we(){Le(window,"dragstart",Me)}function Ee(t){for(;-1===t.tabIndex;)t=t.parentNode;t.style&&(xe(),Xt=t,$t=t.style.outline,t.style.outline="none",Re(window,"keydown",xe))}function xe(){Xt&&(Xt.style.outline=$t,Xt=void 0,$t=void 0,Le(window,"keydown",xe))}function Se(t){do{t=t.parentNode}while(!(t.offsetWidth&&t.offsetHeight||t===document.body));return t}function Ae(t){var e=t.getBoundingClientRect();return{x:e.width/t.offsetWidth||1,y:e.height/t.offsetHeight||1,boundingClientRect:e}}var Oe=(Object.freeze||Object)({TRANSFORM:te,TRANSITION:ee,TRANSITION_END:ne,get:oe,getStyle:ie,create:re,remove:ae,empty:se,toFront:le,toBack:ue,hasClass:ce,addClass:de,removeClass:pe,setClass:he,getClass:fe,setOpacity:ge,testProp:me,setTransform:ve,setPosition:ye,getPosition:be,disableTextSelection:Qt,enableTextSelection:Jt,disableImageDrag:Ce,enableImageDrag:we,preventOutline:Ee,restoreOutline:xe,getSizedParentNode:Se,getScale:Ae});function Re(t,e,n,o){if("object"==typeof e)for(var i in e)Pe(t,i,e[i],n);else for(var r=0,a=(e=h(e)).length;r<a;r++)Pe(t,e[r],n,o);return this}var Te="_leaflet_events";function Le(t,e,n,o){if("object"==typeof e)for(var i in e)De(t,i,e[i],n);else if(e)for(var r=0,a=(e=h(e)).length;r<a;r++)De(t,e[r],n,o);else{for(var s in t[Te])De(t,s,t[Te][s]);delete t[Te]}return this}function Pe(t,e,n,o){var i=e+s(n)+(o?"_"+s(o):"");if(t[Te]&&t[Te][i])return this;var r=function(e){return n.call(o||t,e||window.event)},a=r;Ct&&0===e.indexOf("touch")?jt(t,e,r,i):!wt||"dblclick"!==e||!Yt||Ct&&st?"addEventListener"in t?"mousewheel"===e?t.addEventListener("onwheel"in t?"wheel":"mousewheel",r,!1):"mouseenter"===e||"mouseleave"===e?(r=function(e){e=e||window.event,ze(t,e)&&a(e)},t.addEventListener("mouseenter"===e?"mouseover":"mouseout",r,!1)):("click"===e&&nt&&(r=function(t){!function(t,e){var n=t.timeStamp||t.originalEvent&&t.originalEvent.timeStamp,o=Be&&n-Be;o&&o>100&&o<500||t.target._simulatedClick&&!t._simulated?Ie(t):(Be=n,e(t))}(t,a)}),t.addEventListener(e,r,!1)):"attachEvent"in t&&t.attachEvent("on"+e,r):Yt(t,r,i),t[Te]=t[Te]||{},t[Te][i]=r}function De(t,e,n,o){var i=e+s(n)+(o?"_"+s(o):""),r=t[Te]&&t[Te][i];if(!r)return this;Ct&&0===e.indexOf("touch")?function(t,e,n){var o=t["_leaflet_"+e+n];"touchstart"===e?t.removeEventListener(Pt,o,!1):"touchmove"===e?t.removeEventListener(Dt,o,!1):"touchend"===e&&(t.removeEventListener(kt,o,!1),t.removeEventListener(Nt,o,!1))}(t,e,i):!wt||"dblclick"!==e||!qt||Ct&&st?"removeEventListener"in t?"mousewheel"===e?t.removeEventListener("onwheel"in t?"wheel":"mousewheel",r,!1):t.removeEventListener("mouseenter"===e?"mouseover":"mouseleave"===e?"mouseout":e,r,!1):"detachEvent"in t&&t.detachEvent("on"+e,r):qt(t,i),t[Te][i]=null}function ke(t){return t.stopPropagation?t.stopPropagation():t.originalEvent?t.originalEvent._stopped=!0:t.cancelBubble=!0,He(t),this}function Ne(t){return Pe(t,"mousewheel",ke),this}function Fe(t){return Re(t,"mousedown touchstart dblclick",ke),Pe(t,"click",We),this}function Me(t){return t.preventDefault?t.preventDefault():t.returnValue=!1,this}function Ie(t){return Me(t),ke(t),this}function Ge(t,e){if(!e)return new D(t.clientX,t.clientY);var n=Ae(e),o=n.boundingClientRect;return new D((t.clientX-o.left)/n.x-e.clientLeft,(t.clientY-o.top)/n.y-e.clientTop)}var je=pt&&st?2*window.devicePixelRatio:lt?window.devicePixelRatio:1;function Ue(t){return tt?t.wheelDeltaY/2:t.deltaY&&0===t.deltaMode?-t.deltaY/je:t.deltaY&&1===t.deltaMode?20*-t.deltaY:t.deltaY&&2===t.deltaMode?60*-t.deltaY:t.deltaX||t.deltaZ?0:t.wheelDelta?(t.wheelDeltaY||t.wheelDelta)/2:t.detail&&Math.abs(t.detail)<32765?20*-t.detail:t.detail?t.detail/-32765*60:0}var Be,Ve={};function We(t){Ve[t.type]=!0}function He(t){var e=Ve[t.type];return Ve[t.type]=!1,e}function ze(t,e){var n=e.relatedTarget;if(!n)return!0;try{for(;n&&n!==t;)n=n.parentNode}catch(t){return!1}return n!==t}var Ze=(Object.freeze||Object)({on:Re,off:Le,stopPropagation:ke,disableScrollPropagation:Ne,disableClickPropagation:Fe,preventDefault:Me,stop:Ie,getMousePosition:Ge,getWheelDelta:Ue,fakeStop:We,skipped:He,isExternalTarget:ze,addListener:Re,removeListener:Le}),Ye=P.extend({run:function(t,e,n,o){this.stop(),this._el=t,this._inProgress=!0,this._duration=n||.25,this._easeOutPower=1/Math.max(o||.5,.2),this._startPos=be(t),this._offset=e.subtract(this._startPos),this._startTime=+new Date,this.fire("start"),this._animate()},stop:function(){this._inProgress&&(this._step(!0),this._complete())},_animate:function(){this._animId=A(this._animate,this),this._step()},_step:function(t){var e=+new Date-this._startTime,n=1e3*this._duration;e<n?this._runFrame(this._easeOut(e/n),t):(this._runFrame(1),this._complete())},_runFrame:function(t,e){var n=this._startPos.add(this._offset.multiplyBy(t));e&&n._round(),ye(this._el,n),this.fire("step")},_complete:function(){O(this._animId),this._inProgress=!1,this.fire("end")},_easeOut:function(t){return 1-Math.pow(1-t,this._easeOutPower)}}),qe=P.extend({options:{crs:Y,center:void 0,zoom:void 0,minZoom:void 0,maxZoom:void 0,layers:[],maxBounds:void 0,renderer:void 0,zoomAnimation:!0,zoomAnimationThreshold:4,fadeAnimation:!0,markerZoomAnimation:!0,transform3DLimit:8388608,zoomSnap:1,zoomDelta:1,trackResize:!0},initialize:function(t,e){e=f(this,e),this._handlers=[],this._layers={},this._zoomBoundLayers={},this._sizeChanged=!0,this._initContainer(t),this._initLayout(),this._onResize=r(this._onResize,this),this._initEvents(),e.maxBounds&&this.setMaxBounds(e.maxBounds),void 0!==e.zoom&&(this._zoom=this._limitZoom(e.zoom)),e.center&&void 0!==e.zoom&&this.setView(U(e.center),e.zoom,{reset:!0}),this.callInitHooks(),this._zoomAnimated=ee&&mt&&!Et&&this.options.zoomAnimation,this._zoomAnimated&&(this._createAnimProxy(),Re(this._proxy,ne,this._catchTransitionEnd,this)),this._addLayers(this.options.layers)},setView:function(t,e,n){return e=void 0===e?this._zoom:this._limitZoom(e),t=this._limitCenter(U(t),e,this.options.maxBounds),n=n||{},this._stop(),this._loaded&&!n.reset&&!0!==n&&(void 0!==n.animate&&(n.zoom=o({animate:n.animate},n.zoom),n.pan=o({animate:n.animate,duration:n.duration},n.pan)),this._zoom!==e?this._tryAnimatedZoom&&this._tryAnimatedZoom(t,e,n.zoom):this._tryAnimatedPan(t,n.pan))?(clearTimeout(this._sizeTimer),this):(this._resetView(t,e),this)},setZoom:function(t,e){return this._loaded?this.setView(this.getCenter(),t,{zoom:e}):(this._zoom=t,this)},zoomIn:function(t,e){return t=t||(mt?this.options.zoomDelta:1),this.setZoom(this._zoom+t,e)},zoomOut:function(t,e){return t=t||(mt?this.options.zoomDelta:1),this.setZoom(this._zoom-t,e)},setZoomAround:function(t,e,n){var o=this.getZoomScale(e),i=this.getSize().divideBy(2),r=(t instanceof D?t:this.latLngToContainerPoint(t)).subtract(i).multiplyBy(1-1/o),a=this.containerPointToLatLng(i.add(r));return this.setView(a,e,{zoom:n})},_getBoundsCenterZoom:function(t,e){e=e||{},t=t.getBounds?t.getBounds():G(t);var n=N(e.paddingTopLeft||e.padding||[0,0]),o=N(e.paddingBottomRight||e.padding||[0,0]),i=this.getBoundsZoom(t,!1,n.add(o));if((i="number"==typeof e.maxZoom?Math.min(e.maxZoom,i):i)===1/0)return{center:t.getCenter(),zoom:i};var r=o.subtract(n).divideBy(2),a=this.project(t.getSouthWest(),i),s=this.project(t.getNorthEast(),i);return{center:this.unproject(a.add(s).divideBy(2).add(r),i),zoom:i}},fitBounds:function(t,e){if(!(t=G(t)).isValid())throw new Error("Bounds are not valid.");var n=this._getBoundsCenterZoom(t,e);return this.setView(n.center,n.zoom,e)},fitWorld:function(t){return this.fitBounds([[-90,-180],[90,180]],t)},panTo:function(t,e){return this.setView(t,this._zoom,{pan:e})},panBy:function(t,e){if(e=e||{},!(t=N(t).round()).x&&!t.y)return this.fire("moveend");if(!0!==e.animate&&!this.getSize().contains(t))return this._resetView(this.unproject(this.project(this.getCenter()).add(t)),this.getZoom()),this;if(this._panAnim||(this._panAnim=new Ye,this._panAnim.on({step:this._onPanTransitionStep,end:this._onPanTransitionEnd},this)),e.noMoveStart||this.fire("movestart"),!1!==e.animate){de(this._mapPane,"leaflet-pan-anim");var n=this._getMapPanePos().subtract(t).round();this._panAnim.run(this._mapPane,n,e.duration||.25,e.easeLinearity)}else this._rawPanBy(t),this.fire("move").fire("moveend");return this},flyTo:function(t,e,n){if(!1===(n=n||{}).animate||!mt)return this.setView(t,e,n);this._stop();var o=this.project(this.getCenter()),i=this.project(t),r=this.getSize(),a=this._zoom;t=U(t),e=void 0===e?a:e;var s=Math.max(r.x,r.y),l=s*this.getZoomScale(a,e),u=i.distanceTo(o)||1;function c(t){var e=(l*l-s*s+2.0164*(t?-1:1)*2.0164*u*u)/(2*(t?l:s)*2.0164*u),n=Math.sqrt(e*e+1)-e;return n<1e-9?-18:Math.log(n)}function d(t){return(Math.exp(t)-Math.exp(-t))/2}function p(t){return(Math.exp(t)+Math.exp(-t))/2}var h=c(0);function f(t){return s*(p(h)*(d(e=h+1.42*t)/p(e))-d(h))/2.0164;var e}var g=Date.now(),m=(c(1)-h)/1.42,v=n.duration?1e3*n.duration:1e3*m*.8;return this._moveStart(!0,n.noMoveStart),function n(){var r=(Date.now()-g)/v,l=function(t){return 1-Math.pow(1-t,1.5)}(r)*m;r<=1?(this._flyToFrame=A(n,this),this._move(this.unproject(o.add(i.subtract(o).multiplyBy(f(l)/u)),a),this.getScaleZoom(s/function(t){return s*(p(h)/p(h+1.42*t))}(l),a),{flyTo:!0})):this._move(t,e)._moveEnd(!0)}.call(this),this},flyToBounds:function(t,e){var n=this._getBoundsCenterZoom(t,e);return this.flyTo(n.center,n.zoom,e)},setMaxBounds:function(t){return(t=G(t)).isValid()?(this.options.maxBounds&&this.off("moveend",this._panInsideMaxBounds),this.options.maxBounds=t,this._loaded&&this._panInsideMaxBounds(),this.on("moveend",this._panInsideMaxBounds)):(this.options.maxBounds=null,this.off("moveend",this._panInsideMaxBounds))},setMinZoom:function(t){var e=this.options.minZoom;return this.options.minZoom=t,this._loaded&&e!==t&&(this.fire("zoomlevelschange"),this.getZoom()<this.options.minZoom)?this.setZoom(t):this},setMaxZoom:function(t){var e=this.options.maxZoom;return this.options.maxZoom=t,this._loaded&&e!==t&&(this.fire("zoomlevelschange"),this.getZoom()>this.options.maxZoom)?this.setZoom(t):this},panInsideBounds:function(t,e){this._enforcingBounds=!0;var n=this.getCenter(),o=this._limitCenter(n,this._zoom,G(t));return n.equals(o)||this.panTo(o,e),this._enforcingBounds=!1,this},panInside:function(t,e){var n=N((e=e||{}).paddingTopLeft||e.padding||[0,0]),o=N(e.paddingBottomRight||e.padding||[0,0]),i=this.getCenter(),r=this.project(i),a=this.project(t),s=this.getPixelBounds(),l=s.getSize().divideBy(2),u=M([s.min.add(n),s.max.subtract(o)]);if(!u.contains(a)){this._enforcingBounds=!0;var c=r.subtract(a),d=N(a.x+c.x,a.y+c.y);(a.x<u.min.x||a.x>u.max.x)&&(d.x=r.x-c.x,c.x>0?d.x+=l.x-n.x:d.x-=l.x-o.x),(a.y<u.min.y||a.y>u.max.y)&&(d.y=r.y-c.y,c.y>0?d.y+=l.y-n.y:d.y-=l.y-o.y),this.panTo(this.unproject(d),e),this._enforcingBounds=!1}return this},invalidateSize:function(t){if(!this._loaded)return this;t=o({animate:!1,pan:!0},!0===t?{animate:!0}:t);var e=this.getSize();this._sizeChanged=!0,this._lastCenter=null;var n=this.getSize(),i=e.divideBy(2).round(),a=n.divideBy(2).round(),s=i.subtract(a);return s.x||s.y?(t.animate&&t.pan?this.panBy(s):(t.pan&&this._rawPanBy(s),this.fire("move"),t.debounceMoveend?(clearTimeout(this._sizeTimer),this._sizeTimer=setTimeout(r(this.fire,this,"moveend"),200)):this.fire("moveend")),this.fire("resize",{oldSize:e,newSize:n})):this},stop:function(){return this.setZoom(this._limitZoom(this._zoom)),this.options.zoomSnap||this.fire("viewreset"),this._stop()},locate:function(t){if(t=this._locateOptions=o({timeout:1e4,watch:!1},t),!("geolocation"in navigator))return this._handleGeolocationError({code:0,message:"Geolocation not supported."}),this;var e=r(this._handleGeolocationResponse,this),n=r(this._handleGeolocationError,this);return t.watch?this._locationWatchId=navigator.geolocation.watchPosition(e,n,t):navigator.geolocation.getCurrentPosition(e,n,t),this},stopLocate:function(){return navigator.geolocation&&navigator.geolocation.clearWatch&&navigator.geolocation.clearWatch(this._locationWatchId),this._locateOptions&&(this._locateOptions.setView=!1),this},_handleGeolocationError:function(t){var e=t.code,n=t.message||(1===e?"permission denied":2===e?"position unavailable":"timeout");this._locateOptions.setView&&!this._loaded&&this.fitWorld(),this.fire("locationerror",{code:e,message:"Geolocation error: "+n+"."})},_handleGeolocationResponse:function(t){var e=new j(t.coords.latitude,t.coords.longitude),n=e.toBounds(2*t.coords.accuracy),o=this._locateOptions;if(o.setView){var i=this.getBoundsZoom(n);this.setView(e,o.maxZoom?Math.min(i,o.maxZoom):i)}var r={latlng:e,bounds:n,timestamp:t.timestamp};for(var a in t.coords)"number"==typeof t.coords[a]&&(r[a]=t.coords[a]);this.fire("locationfound",r)},addHandler:function(t,e){if(!e)return this;var n=this[t]=new e(this);return this._handlers.push(n),this.options[t]&&n.enable(),this},remove:function(){if(this._initEvents(!0),this._containerId!==this._container._leaflet_id)throw new Error("Map container is being reused by another instance");try{delete this._container._leaflet_id,delete this._containerId}catch(t){this._container._leaflet_id=void 0,this._containerId=void 0}var t;for(t in void 0!==this._locationWatchId&&this.stopLocate(),this._stop(),ae(this._mapPane),this._clearControlPos&&this._clearControlPos(),this._resizeRequest&&(O(this._resizeRequest),this._resizeRequest=null),this._clearHandlers(),this._loaded&&this.fire("unload"),this._layers)this._layers[t].remove();for(t in this._panes)ae(this._panes[t]);return this._layers=[],this._panes=[],delete this._mapPane,delete this._renderer,this},createPane:function(t,e){var n=re("div","leaflet-pane"+(t?" leaflet-"+t.replace("Pane","")+"-pane":""),e||this._mapPane);return t&&(this._panes[t]=n),n},getCenter:function(){return this._checkIfLoaded(),this._lastCenter&&!this._moved()?this._lastCenter:this.layerPointToLatLng(this._getCenterLayerPoint())},getZoom:function(){return this._zoom},getBounds:function(){var t=this.getPixelBounds();return new I(this.unproject(t.getBottomLeft()),this.unproject(t.getTopRight()))},getMinZoom:function(){return void 0===this.options.minZoom?this._layersMinZoom||0:this.options.minZoom},getMaxZoom:function(){return void 0===this.options.maxZoom?void 0===this._layersMaxZoom?1/0:this._layersMaxZoom:this.options.maxZoom},getBoundsZoom:function(t,e,n){t=G(t),n=N(n||[0,0]);var o=this.getZoom()||0,i=this.getMinZoom(),r=this.getMaxZoom(),a=t.getNorthWest(),s=t.getSouthEast(),l=this.getSize().subtract(n),u=M(this.project(s,o),this.project(a,o)).getSize(),c=mt?this.options.zoomSnap:1,d=l.x/u.x,p=l.y/u.y,h=e?Math.max(d,p):Math.min(d,p);return o=this.getScaleZoom(h,o),c&&(o=Math.round(o/(c/100))*(c/100),o=e?Math.ceil(o/c)*c:Math.floor(o/c)*c),Math.max(i,Math.min(r,o))},getSize:function(){return this._size&&!this._sizeChanged||(this._size=new D(this._container.clientWidth||0,this._container.clientHeight||0),this._sizeChanged=!1),this._size.clone()},getPixelBounds:function(t,e){var n=this._getTopLeftPoint(t,e);return new F(n,n.add(this.getSize()))},getPixelOrigin:function(){return this._checkIfLoaded(),this._pixelOrigin},getPixelWorldBounds:function(t){return this.options.crs.getProjectedBounds(void 0===t?this.getZoom():t)},getPane:function(t){return"string"==typeof t?this._panes[t]:t},getPanes:function(){return this._panes},getContainer:function(){return this._container},getZoomScale:function(t,e){var n=this.options.crs;return e=void 0===e?this._zoom:e,n.scale(t)/n.scale(e)},getScaleZoom:function(t,e){var n=this.options.crs;e=void 0===e?this._zoom:e;var o=n.zoom(t*n.scale(e));return isNaN(o)?1/0:o},project:function(t,e){return e=void 0===e?this._zoom:e,this.options.crs.latLngToPoint(U(t),e)},unproject:function(t,e){return e=void 0===e?this._zoom:e,this.options.crs.pointToLatLng(N(t),e)},layerPointToLatLng:function(t){var e=N(t).add(this.getPixelOrigin());return this.unproject(e)},latLngToLayerPoint:function(t){return this.project(U(t))._round()._subtract(this.getPixelOrigin())},wrapLatLng:function(t){return this.options.crs.wrapLatLng(U(t))},wrapLatLngBounds:function(t){return this.options.crs.wrapLatLngBounds(G(t))},distance:function(t,e){return this.options.crs.distance(U(t),U(e))},containerPointToLayerPoint:function(t){return N(t).subtract(this._getMapPanePos())},layerPointToContainerPoint:function(t){return N(t).add(this._getMapPanePos())},containerPointToLatLng:function(t){var e=this.containerPointToLayerPoint(N(t));return this.layerPointToLatLng(e)},latLngToContainerPoint:function(t){return this.layerPointToContainerPoint(this.latLngToLayerPoint(U(t)))},mouseEventToContainerPoint:function(t){return Ge(t,this._container)},mouseEventToLayerPoint:function(t){return this.containerPointToLayerPoint(this.mouseEventToContainerPoint(t))},mouseEventToLatLng:function(t){return this.layerPointToLatLng(this.mouseEventToLayerPoint(t))},_initContainer:function(t){var e=this._container=oe(t);if(!e)throw new Error("Map container not found.");if(e._leaflet_id)throw new Error("Map container is already initialized.");Re(e,"scroll",this._onScroll,this),this._containerId=s(e)},_initLayout:function(){var t=this._container;this._fadeAnimated=this.options.fadeAnimation&&mt,de(t,"leaflet-container"+(wt?" leaflet-touch":"")+(St?" leaflet-retina":"")+($?" leaflet-oldie":"")+(ut?" leaflet-safari":"")+(this._fadeAnimated?" leaflet-fade-anim":""));var e=ie(t,"position");"absolute"!==e&&"relative"!==e&&"fixed"!==e&&(t.style.position="relative"),this._initPanes(),this._initControlPos&&this._initControlPos()},_initPanes:function(){var t=this._panes={};this._paneRenderers={},this._mapPane=this.createPane("mapPane",this._container),ye(this._mapPane,new D(0,0)),this.createPane("tilePane"),this.createPane("shadowPane"),this.createPane("overlayPane"),this.createPane("markerPane"),this.createPane("tooltipPane"),this.createPane("popupPane"),this.options.markerZoomAnimation||(de(t.markerPane,"leaflet-zoom-hide"),de(t.shadowPane,"leaflet-zoom-hide"))},_resetView:function(t,e){ye(this._mapPane,new D(0,0));var n=!this._loaded;this._loaded=!0,e=this._limitZoom(e),this.fire("viewprereset");var o=this._zoom!==e;this._moveStart(o,!1)._move(t,e)._moveEnd(o),this.fire("viewreset"),n&&this.fire("load")},_moveStart:function(t,e){return t&&this.fire("zoomstart"),e||this.fire("movestart"),this},_move:function(t,e,n){void 0===e&&(e=this._zoom);var o=this._zoom!==e;return this._zoom=e,this._lastCenter=t,this._pixelOrigin=this._getNewPixelOrigin(t),(o||n&&n.pinch)&&this.fire("zoom",n),this.fire("move",n)},_moveEnd:function(t){return t&&this.fire("zoomend"),this.fire("moveend")},_stop:function(){return O(this._flyToFrame),this._panAnim&&this._panAnim.stop(),this},_rawPanBy:function(t){ye(this._mapPane,this._getMapPanePos().subtract(t))},_getZoomSpan:function(){return this.getMaxZoom()-this.getMinZoom()},_panInsideMaxBounds:function(){this._enforcingBounds||this.panInsideBounds(this.options.maxBounds)},_checkIfLoaded:function(){if(!this._loaded)throw new Error("Set map center and zoom first.")},_initEvents:function(t){this._targets={},this._targets[s(this._container)]=this;var e=t?Le:Re;e(this._container,"click dblclick mousedown mouseup mouseover mouseout mousemove contextmenu keypress keydown keyup",this._handleDOMEvent,this),this.options.trackResize&&e(window,"resize",this._onResize,this),mt&&this.options.transform3DLimit&&(t?this.off:this.on).call(this,"moveend",this._onMoveEnd)},_onResize:function(){O(this._resizeRequest),this._resizeRequest=A((function(){this.invalidateSize({debounceMoveend:!0})}),this)},_onScroll:function(){this._container.scrollTop=0,this._container.scrollLeft=0},_onMoveEnd:function(){var t=this._getMapPanePos();Math.max(Math.abs(t.x),Math.abs(t.y))>=this.options.transform3DLimit&&this._resetView(this.getCenter(),this.getZoom())},_findEventTargets:function(t,e){for(var n,o=[],i="mouseout"===e||"mouseover"===e,r=t.target||t.srcElement,a=!1;r;){if((n=this._targets[s(r)])&&("click"===e||"preclick"===e)&&!t._simulated&&this._draggableMoved(n)){a=!0;break}if(n&&n.listens(e,!0)){if(i&&!ze(r,t))break;if(o.push(n),i)break}if(r===this._container)break;r=r.parentNode}return o.length||a||i||!ze(r,t)||(o=[this]),o},_handleDOMEvent:function(t){if(this._loaded&&!He(t)){var e=t.type;"mousedown"!==e&&"keypress"!==e&&"keyup"!==e&&"keydown"!==e||Ee(t.target||t.srcElement),this._fireDOMEvent(t,e)}},_mouseEvents:["click","dblclick","mouseover","mouseout","contextmenu"],_fireDOMEvent:function(t,e,n){if("click"===t.type){var i=o({},t);i.type="preclick",this._fireDOMEvent(i,i.type,n)}if(!t._stopped&&(n=(n||[]).concat(this._findEventTargets(t,e))).length){var r=n[0];"contextmenu"===e&&r.listens(e,!0)&&Me(t);var a={originalEvent:t};if("keypress"!==t.type&&"keydown"!==t.type&&"keyup"!==t.type){var s=r.getLatLng&&(!r._radius||r._radius<=10);a.containerPoint=s?this.latLngToContainerPoint(r.getLatLng()):this.mouseEventToContainerPoint(t),a.layerPoint=this.containerPointToLayerPoint(a.containerPoint),a.latlng=s?r.getLatLng():this.layerPointToLatLng(a.layerPoint)}for(var l=0;l<n.length;l++)if(n[l].fire(e,a,!0),a.originalEvent._stopped||!1===n[l].options.bubblingMouseEvents&&-1!==b(this._mouseEvents,e))return}},_draggableMoved:function(t){return(t=t.dragging&&t.dragging.enabled()?t:this).dragging&&t.dragging.moved()||this.boxZoom&&this.boxZoom.moved()},_clearHandlers:function(){for(var t=0,e=this._handlers.length;t<e;t++)this._handlers[t].disable()},whenReady:function(t,e){return this._loaded?t.call(e||this,{target:this}):this.on("load",t,e),this},_getMapPanePos:function(){return be(this._mapPane)||new D(0,0)},_moved:function(){var t=this._getMapPanePos();return t&&!t.equals([0,0])},_getTopLeftPoint:function(t,e){return(t&&void 0!==e?this._getNewPixelOrigin(t,e):this.getPixelOrigin()).subtract(this._getMapPanePos())},_getNewPixelOrigin:function(t,e){var n=this.getSize()._divideBy(2);return this.project(t,e)._subtract(n)._add(this._getMapPanePos())._round()},_latLngToNewLayerPoint:function(t,e,n){var o=this._getNewPixelOrigin(n,e);return this.project(t,e)._subtract(o)},_latLngBoundsToNewLayerBounds:function(t,e,n){var o=this._getNewPixelOrigin(n,e);return M([this.project(t.getSouthWest(),e)._subtract(o),this.project(t.getNorthWest(),e)._subtract(o),this.project(t.getSouthEast(),e)._subtract(o),this.project(t.getNorthEast(),e)._subtract(o)])},_getCenterLayerPoint:function(){return this.containerPointToLayerPoint(this.getSize()._divideBy(2))},_getCenterOffset:function(t){return this.latLngToLayerPoint(t).subtract(this._getCenterLayerPoint())},_limitCenter:function(t,e,n){if(!n)return t;var o=this.project(t,e),i=this.getSize().divideBy(2),r=new F(o.subtract(i),o.add(i)),a=this._getBoundsOffset(r,n,e);return a.round().equals([0,0])?t:this.unproject(o.add(a),e)},_limitOffset:function(t,e){if(!e)return t;var n=this.getPixelBounds(),o=new F(n.min.add(t),n.max.add(t));return t.add(this._getBoundsOffset(o,e))},_getBoundsOffset:function(t,e,n){var o=M(this.project(e.getNorthEast(),n),this.project(e.getSouthWest(),n)),i=o.min.subtract(t.min),r=o.max.subtract(t.max);return new D(this._rebound(i.x,-r.x),this._rebound(i.y,-r.y))},_rebound:function(t,e){return t+e>0?Math.round(t-e)/2:Math.max(0,Math.ceil(t))-Math.max(0,Math.floor(e))},_limitZoom:function(t){var e=this.getMinZoom(),n=this.getMaxZoom(),o=mt?this.options.zoomSnap:1;return o&&(t=Math.round(t/o)*o),Math.max(e,Math.min(n,t))},_onPanTransitionStep:function(){this.fire("move")},_onPanTransitionEnd:function(){pe(this._mapPane,"leaflet-pan-anim"),this.fire("moveend")},_tryAnimatedPan:function(t,e){var n=this._getCenterOffset(t)._trunc();return!(!0!==(e&&e.animate)&&!this.getSize().contains(n)||(this.panBy(n,e),0))},_createAnimProxy:function(){var t=this._proxy=re("div","leaflet-proxy leaflet-zoom-animated");this._panes.mapPane.appendChild(t),this.on("zoomanim",(function(t){var e=te,n=this._proxy.style[e];ve(this._proxy,this.project(t.center,t.zoom),this.getZoomScale(t.zoom,1)),n===this._proxy.style[e]&&this._animatingZoom&&this._onZoomTransitionEnd()}),this),this.on("load moveend",(function(){var t=this.getCenter(),e=this.getZoom();ve(this._proxy,this.project(t,e),this.getZoomScale(e,1))}),this),this._on("unload",this._destroyAnimProxy,this)},_destroyAnimProxy:function(){ae(this._proxy),delete this._proxy},_catchTransitionEnd:function(t){this._animatingZoom&&t.propertyName.indexOf("transform")>=0&&this._onZoomTransitionEnd()},_nothingToAnimate:function(){return!this._container.getElementsByClassName("leaflet-zoom-animated").length},_tryAnimatedZoom:function(t,e,n){if(this._animatingZoom)return!0;if(n=n||{},!this._zoomAnimated||!1===n.animate||this._nothingToAnimate()||Math.abs(e-this._zoom)>this.options.zoomAnimationThreshold)return!1;var o=this.getZoomScale(e),i=this._getCenterOffset(t)._divideBy(1-1/o);return!(!0!==n.animate&&!this.getSize().contains(i)||(A((function(){this._moveStart(!0,!1)._animateZoom(t,e,!0)}),this),0))},_animateZoom:function(t,e,n,o){this._mapPane&&(n&&(this._animatingZoom=!0,this._animateToCenter=t,this._animateToZoom=e,de(this._mapPane,"leaflet-zoom-anim")),this.fire("zoomanim",{center:t,zoom:e,noUpdate:o}),setTimeout(r(this._onZoomTransitionEnd,this),250))},_onZoomTransitionEnd:function(){this._animatingZoom&&(this._mapPane&&pe(this._mapPane,"leaflet-zoom-anim"),this._animatingZoom=!1,this._move(this._animateToCenter,this._animateToZoom),A((function(){this._moveEnd(!0)}),this))}}),Qe=T.extend({options:{position:"topright"},initialize:function(t){f(this,t)},getPosition:function(){return this.options.position},setPosition:function(t){var e=this._map;return e&&e.removeControl(this),this.options.position=t,e&&e.addControl(this),this},getContainer:function(){return this._container},addTo:function(t){this.remove(),this._map=t;var e=this._container=this.onAdd(t),n=this.getPosition(),o=t._controlCorners[n];return de(e,"leaflet-control"),-1!==n.indexOf("bottom")?o.insertBefore(e,o.firstChild):o.appendChild(e),this._map.on("unload",this.remove,this),this},remove:function(){return this._map?(ae(this._container),this.onRemove&&this.onRemove(this._map),this._map.off("unload",this.remove,this),this._map=null,this):this},_refocusOnMap:function(t){this._map&&t&&t.screenX>0&&t.screenY>0&&this._map.getContainer().focus()}}),Je=function(t){return new Qe(t)};qe.include({addControl:function(t){return t.addTo(this),this},removeControl:function(t){return t.remove(),this},_initControlPos:function(){var t=this._controlCorners={},e="leaflet-",n=this._controlContainer=re("div",e+"control-container",this._container);function o(o,i){var r=e+o+" "+e+i;t[o+i]=re("div",r,n)}o("top","left"),o("top","right"),o("bottom","left"),o("bottom","right")},_clearControlPos:function(){for(var t in this._controlCorners)ae(this._controlCorners[t]);ae(this._controlContainer),delete this._controlCorners,delete this._controlContainer}});var Ke=Qe.extend({options:{collapsed:!0,position:"topright",autoZIndex:!0,hideSingleBase:!1,sortLayers:!1,sortFunction:function(t,e,n,o){return n<o?-1:o<n?1:0}},initialize:function(t,e,n){for(var o in f(this,n),this._layerControlInputs=[],this._layers=[],this._lastZIndex=0,this._handlingClick=!1,t)this._addLayer(t[o],o);for(o in e)this._addLayer(e[o],o,!0)},onAdd:function(t){this._initLayout(),this._update(),this._map=t,t.on("zoomend",this._checkDisabledLayers,this);for(var e=0;e<this._layers.length;e++)this._layers[e].layer.on("add remove",this._onLayerChange,this);return this._container},addTo:function(t){return Qe.prototype.addTo.call(this,t),this._expandIfNotCollapsed()},onRemove:function(){this._map.off("zoomend",this._checkDisabledLayers,this);for(var t=0;t<this._layers.length;t++)this._layers[t].layer.off("add remove",this._onLayerChange,this)},addBaseLayer:function(t,e){return this._addLayer(t,e),this._map?this._update():this},addOverlay:function(t,e){return this._addLayer(t,e,!0),this._map?this._update():this},removeLayer:function(t){t.off("add remove",this._onLayerChange,this);var e=this._getLayer(s(t));return e&&this._layers.splice(this._layers.indexOf(e),1),this._map?this._update():this},expand:function(){de(this._container,"leaflet-control-layers-expanded"),this._section.style.height=null;var t=this._map.getSize().y-(this._container.offsetTop+50);return t<this._section.clientHeight?(de(this._section,"leaflet-control-layers-scrollbar"),this._section.style.height=t+"px"):pe(this._section,"leaflet-control-layers-scrollbar"),this._checkDisabledLayers(),this},collapse:function(){return pe(this._container,"leaflet-control-layers-expanded"),this},_initLayout:function(){var t="leaflet-control-layers",e=this._container=re("div",t),n=this.options.collapsed;e.setAttribute("aria-haspopup",!0),Fe(e),Ne(e);var o=this._section=re("section",t+"-list");n&&(this._map.on("click",this.collapse,this),nt||Re(e,{mouseenter:this.expand,mouseleave:this.collapse},this));var i=this._layersLink=re("a",t+"-toggle",e);i.href="#",i.title="Layers",wt?(Re(i,"click",Ie),Re(i,"click",this.expand,this)):Re(i,"focus",this.expand,this),n||this.expand(),this._baseLayersList=re("div",t+"-base",o),this._separator=re("div",t+"-separator",o),this._overlaysList=re("div",t+"-overlays",o),e.appendChild(o)},_getLayer:function(t){for(var e=0;e<this._layers.length;e++)if(this._layers[e]&&s(this._layers[e].layer)===t)return this._layers[e]},_addLayer:function(t,e,n){this._map&&t.on("add remove",this._onLayerChange,this),this._layers.push({layer:t,name:e,overlay:n}),this.options.sortLayers&&this._layers.sort(r((function(t,e){return this.options.sortFunction(t.layer,e.layer,t.name,e.name)}),this)),this.options.autoZIndex&&t.setZIndex&&(this._lastZIndex++,t.setZIndex(this._lastZIndex)),this._expandIfNotCollapsed()},_update:function(){if(!this._container)return this;se(this._baseLayersList),se(this._overlaysList),this._layerControlInputs=[];var t,e,n,o,i=0;for(n=0;n<this._layers.length;n++)o=this._layers[n],this._addItem(o),e=e||o.overlay,t=t||!o.overlay,i+=o.overlay?0:1;return this.options.hideSingleBase&&(t=t&&i>1,this._baseLayersList.style.display=t?"":"none"),this._separator.style.display=e&&t?"":"none",this},_onLayerChange:function(t){this._handlingClick||this._update();var e=this._getLayer(s(t.target)),n=e.overlay?"add"===t.type?"overlayadd":"overlayremove":"add"===t.type?"baselayerchange":null;n&&this._map.fire(n,e)},_createRadioElement:function(t,e){var n='<input type="radio" class="leaflet-control-layers-selector" name="'+t+'"'+(e?' checked="checked"':"")+"/>",o=document.createElement("div");return o.innerHTML=n,o.firstChild},_addItem:function(t){var e,n=document.createElement("label"),o=this._map.hasLayer(t.layer);t.overlay?((e=document.createElement("input")).type="checkbox",e.className="leaflet-control-layers-selector",e.defaultChecked=o):e=this._createRadioElement("leaflet-base-layers_"+s(this),o),this._layerControlInputs.push(e),e.layerId=s(t.layer),Re(e,"click",this._onInputClick,this);var i=document.createElement("span");i.innerHTML=" "+t.name;var r=document.createElement("div");return n.appendChild(r),r.appendChild(e),r.appendChild(i),(t.overlay?this._overlaysList:this._baseLayersList).appendChild(n),this._checkDisabledLayers(),n},_onInputClick:function(){var t,e,n=this._layerControlInputs,o=[],i=[];this._handlingClick=!0;for(var r=n.length-1;r>=0;r--)t=n[r],e=this._getLayer(t.layerId).layer,t.checked?o.push(e):t.checked||i.push(e);for(r=0;r<i.length;r++)this._map.hasLayer(i[r])&&this._map.removeLayer(i[r]);for(r=0;r<o.length;r++)this._map.hasLayer(o[r])||this._map.addLayer(o[r]);this._handlingClick=!1,this._refocusOnMap()},_checkDisabledLayers:function(){for(var t,e,n=this._layerControlInputs,o=this._map.getZoom(),i=n.length-1;i>=0;i--)t=n[i],e=this._getLayer(t.layerId).layer,t.disabled=void 0!==e.options.minZoom&&o<e.options.minZoom||void 0!==e.options.maxZoom&&o>e.options.maxZoom},_expandIfNotCollapsed:function(){return this._map&&!this.options.collapsed&&this.expand(),this},_expand:function(){return this.expand()},_collapse:function(){return this.collapse()}}),Xe=Qe.extend({options:{position:"topleft",zoomInText:"+",zoomInTitle:"Zoom in",zoomOutText:"&#x2212;",zoomOutTitle:"Zoom out"},onAdd:function(t){var e="leaflet-control-zoom",n=re("div",e+" leaflet-bar"),o=this.options;return this._zoomInButton=this._createButton(o.zoomInText,o.zoomInTitle,e+"-in",n,this._zoomIn),this._zoomOutButton=this._createButton(o.zoomOutText,o.zoomOutTitle,e+"-out",n,this._zoomOut),this._updateDisabled(),t.on("zoomend zoomlevelschange",this._updateDisabled,this),n},onRemove:function(t){t.off("zoomend zoomlevelschange",this._updateDisabled,this)},disable:function(){return this._disabled=!0,this._updateDisabled(),this},enable:function(){return this._disabled=!1,this._updateDisabled(),this},_zoomIn:function(t){!this._disabled&&this._map._zoom<this._map.getMaxZoom()&&this._map.zoomIn(this._map.options.zoomDelta*(t.shiftKey?3:1))},_zoomOut:function(t){!this._disabled&&this._map._zoom>this._map.getMinZoom()&&this._map.zoomOut(this._map.options.zoomDelta*(t.shiftKey?3:1))},_createButton:function(t,e,n,o,i){var r=re("a",n,o);return r.innerHTML=t,r.href="#",r.title=e,r.setAttribute("role","button"),r.setAttribute("aria-label",e),Fe(r),Re(r,"click",Ie),Re(r,"click",i,this),Re(r,"click",this._refocusOnMap,this),r},_updateDisabled:function(){var t=this._map,e="leaflet-disabled";pe(this._zoomInButton,e),pe(this._zoomOutButton,e),(this._disabled||t._zoom===t.getMinZoom())&&de(this._zoomOutButton,e),(this._disabled||t._zoom===t.getMaxZoom())&&de(this._zoomInButton,e)}});qe.mergeOptions({zoomControl:!0}),qe.addInitHook((function(){this.options.zoomControl&&(this.zoomControl=new Xe,this.addControl(this.zoomControl))}));var $e=Qe.extend({options:{position:"bottomleft",maxWidth:100,metric:!0,imperial:!0},onAdd:function(t){var e=re("div","leaflet-control-scale"),n=this.options;return this._addScales(n,"leaflet-control-scale-line",e),t.on(n.updateWhenIdle?"moveend":"move",this._update,this),t.whenReady(this._update,this),e},onRemove:function(t){t.off(this.options.updateWhenIdle?"moveend":"move",this._update,this)},_addScales:function(t,e,n){t.metric&&(this._mScale=re("div",e,n)),t.imperial&&(this._iScale=re("div",e,n))},_update:function(){var t=this._map,e=t.getSize().y/2,n=t.distance(t.containerPointToLatLng([0,e]),t.containerPointToLatLng([this.options.maxWidth,e]));this._updateScales(n)},_updateScales:function(t){this.options.metric&&t&&this._updateMetric(t),this.options.imperial&&t&&this._updateImperial(t)},_updateMetric:function(t){var e=this._getRoundNum(t),n=e<1e3?e+" m":e/1e3+" km";this._updateScale(this._mScale,n,e/t)},_updateImperial:function(t){var e,n,o,i=3.2808399*t;i>5280?(e=i/5280,n=this._getRoundNum(e),this._updateScale(this._iScale,n+" mi",n/e)):(o=this._getRoundNum(i),this._updateScale(this._iScale,o+" ft",o/i))},_updateScale:function(t,e,n){t.style.width=Math.round(this.options.maxWidth*n)+"px",t.innerHTML=e},_getRoundNum:function(t){var e=Math.pow(10,(Math.floor(t)+"").length-1),n=t/e;return e*(n=n>=10?10:n>=5?5:n>=3?3:n>=2?2:1)}}),tn=Qe.extend({options:{position:"bottomright",prefix:'<a href="https://leafletjs.com" title="A JS library for interactive maps">Leaflet</a>'},initialize:function(t){f(this,t),this._attributions={}},onAdd:function(t){for(var e in t.attributionControl=this,this._container=re("div","leaflet-control-attribution"),Fe(this._container),t._layers)t._layers[e].getAttribution&&this.addAttribution(t._layers[e].getAttribution());return this._update(),this._container},setPrefix:function(t){return this.options.prefix=t,this._update(),this},addAttribution:function(t){return t?(this._attributions[t]||(this._attributions[t]=0),this._attributions[t]++,this._update(),this):this},removeAttribution:function(t){return t?(this._attributions[t]&&(this._attributions[t]--,this._update()),this):this},_update:function(){if(this._map){var t=[];for(var e in this._attributions)this._attributions[e]&&t.push(e);var n=[];this.options.prefix&&n.push(this.options.prefix),t.length&&n.push(t.join(", ")),this._container.innerHTML=n.join(" | ")}}});qe.mergeOptions({attributionControl:!0}),qe.addInitHook((function(){this.options.attributionControl&&(new tn).addTo(this)})),Qe.Layers=Ke,Qe.Zoom=Xe,Qe.Scale=$e,Qe.Attribution=tn,Je.layers=function(t,e,n){return new Ke(t,e,n)},Je.zoom=function(t){return new Xe(t)},Je.scale=function(t){return new $e(t)},Je.attribution=function(t){return new tn(t)};var en=T.extend({initialize:function(t){this._map=t},enable:function(){return this._enabled||(this._enabled=!0,this.addHooks()),this},disable:function(){return this._enabled?(this._enabled=!1,this.removeHooks(),this):this},enabled:function(){return!!this._enabled}});en.addTo=function(t,e){return t.addHandler(e,this),this};var nn,on={Events:L},rn=wt?"touchstart mousedown":"mousedown",an={mousedown:"mouseup",touchstart:"touchend",pointerdown:"touchend",MSPointerDown:"touchend"},sn={mousedown:"mousemove",touchstart:"touchmove",pointerdown:"touchmove",MSPointerDown:"touchmove"},ln=P.extend({options:{clickTolerance:3},initialize:function(t,e,n,o){f(this,o),this._element=t,this._dragStartTarget=e||t,this._preventOutline=n},enable:function(){this._enabled||(Re(this._dragStartTarget,rn,this._onDown,this),this._enabled=!0)},disable:function(){this._enabled&&(ln._dragging===this&&this.finishDrag(),Le(this._dragStartTarget,rn,this._onDown,this),this._enabled=!1,this._moved=!1)},_onDown:function(t){if(!t._simulated&&this._enabled&&(this._moved=!1,!ce(this._element,"leaflet-zoom-anim")&&!(ln._dragging||t.shiftKey||1!==t.which&&1!==t.button&&!t.touches||(ln._dragging=this,this._preventOutline&&Ee(this._element),Ce(),Qt(),this._moving)))){this.fire("down");var e=t.touches?t.touches[0]:t,n=Se(this._element);this._startPoint=new D(e.clientX,e.clientY),this._parentScale=Ae(n),Re(document,sn[t.type],this._onMove,this),Re(document,an[t.type],this._onUp,this)}},_onMove:function(t){if(!t._simulated&&this._enabled)if(t.touches&&t.touches.length>1)this._moved=!0;else{var e=t.touches&&1===t.touches.length?t.touches[0]:t,n=new D(e.clientX,e.clientY)._subtract(this._startPoint);(n.x||n.y)&&(Math.abs(n.x)+Math.abs(n.y)<this.options.clickTolerance||(n.x/=this._parentScale.x,n.y/=this._parentScale.y,Me(t),this._moved||(this.fire("dragstart"),this._moved=!0,this._startPos=be(this._element).subtract(n),de(document.body,"leaflet-dragging"),this._lastTarget=t.target||t.srcElement,window.SVGElementInstance&&this._lastTarget instanceof SVGElementInstance&&(this._lastTarget=this._lastTarget.correspondingUseElement),de(this._lastTarget,"leaflet-drag-target")),this._newPos=this._startPos.add(n),this._moving=!0,O(this._animRequest),this._lastEvent=t,this._animRequest=A(this._updatePosition,this,!0)))}},_updatePosition:function(){var t={originalEvent:this._lastEvent};this.fire("predrag",t),ye(this._element,this._newPos),this.fire("drag",t)},_onUp:function(t){!t._simulated&&this._enabled&&this.finishDrag()},finishDrag:function(){for(var t in pe(document.body,"leaflet-dragging"),this._lastTarget&&(pe(this._lastTarget,"leaflet-drag-target"),this._lastTarget=null),sn)Le(document,sn[t],this._onMove,this),Le(document,an[t],this._onUp,this);we(),Jt(),this._moved&&this._moving&&(O(this._animRequest),this.fire("dragend",{distance:this._newPos.distanceTo(this._startPos)})),this._moving=!1,ln._dragging=!1}});function un(t,e){if(!e||!t.length)return t.slice();var n=e*e;return t=function(t,e){var n=t.length,o=new(typeof Uint8Array!=void 0+""?Uint8Array:Array)(n);o[0]=o[n-1]=1,function t(e,n,o,i,r){var a,s,l,u=0;for(s=i+1;s<=r-1;s++)(l=fn(e[s],e[i],e[r],!0))>u&&(a=s,u=l);u>o&&(n[a]=1,t(e,n,o,i,a),t(e,n,o,a,r))}(t,o,e,0,n-1);var i,r=[];for(i=0;i<n;i++)o[i]&&r.push(t[i]);return r}(t=function(t,e){for(var n=[t[0]],o=1,i=0,r=t.length;o<r;o++)a=t[o],s=t[i],l=void 0,u=void 0,l=s.x-a.x,u=s.y-a.y,l*l+u*u>e&&(n.push(t[o]),i=o);var a,s,l,u;return i<r-1&&n.push(t[r-1]),n}(t,n),n)}function cn(t,e,n){return Math.sqrt(fn(t,e,n,!0))}function dn(t,e,n,o,i){var r,a,s,l=o?nn:hn(t,n),u=hn(e,n);for(nn=u;;){if(!(l|u))return[t,e];if(l&u)return!1;s=hn(a=pn(t,e,r=l||u,n,i),n),r===l?(t=a,l=s):(e=a,u=s)}}function pn(t,e,n,o,i){var r,a,s=e.x-t.x,l=e.y-t.y,u=o.min,c=o.max;return 8&n?(r=t.x+s*(c.y-t.y)/l,a=c.y):4&n?(r=t.x+s*(u.y-t.y)/l,a=u.y):2&n?(r=c.x,a=t.y+l*(c.x-t.x)/s):1&n&&(r=u.x,a=t.y+l*(u.x-t.x)/s),new D(r,a,i)}function hn(t,e){var n=0;return t.x<e.min.x?n|=1:t.x>e.max.x&&(n|=2),t.y<e.min.y?n|=4:t.y>e.max.y&&(n|=8),n}function fn(t,e,n,o){var i,r=e.x,a=e.y,s=n.x-r,l=n.y-a,u=s*s+l*l;return u>0&&((i=((t.x-r)*s+(t.y-a)*l)/u)>1?(r=n.x,a=n.y):i>0&&(r+=s*i,a+=l*i)),s=t.x-r,l=t.y-a,o?s*s+l*l:new D(r,a)}function gn(t){return!y(t[0])||"object"!=typeof t[0][0]&&void 0!==t[0][0]}function mn(t){return console.warn("Deprecated use of _flat, please use L.LineUtil.isFlat instead."),gn(t)}var vn=(Object.freeze||Object)({simplify:un,pointToSegmentDistance:cn,closestPointOnSegment:function(t,e,n){return fn(t,e,n)},clipSegment:dn,_getEdgeIntersection:pn,_getBitCode:hn,_sqClosestPointOnSegment:fn,isFlat:gn,_flat:mn});function yn(t,e,n){var o,i,r,a,s,l,u,c,d,p=[1,4,2,8];for(i=0,u=t.length;i<u;i++)t[i]._code=hn(t[i],e);for(a=0;a<4;a++){for(c=p[a],o=[],i=0,r=(u=t.length)-1;i<u;r=i++)s=t[i],l=t[r],s._code&c?l._code&c||((d=pn(l,s,c,e,n))._code=hn(d,e),o.push(d)):(l._code&c&&((d=pn(l,s,c,e,n))._code=hn(d,e),o.push(d)),o.push(s));t=o}return t}var bn=(Object.freeze||Object)({clipPolygon:yn}),_n={project:function(t){return new D(t.lng,t.lat)},unproject:function(t){return new j(t.y,t.x)},bounds:new F([-180,-90],[180,90])},Cn={R:6378137,R_MINOR:6356752.314245179,bounds:new F([-20037508.34279,-15496570.73972],[20037508.34279,18764656.23138]),project:function(t){var e=Math.PI/180,n=this.R,o=t.lat*e,i=this.R_MINOR/n,r=Math.sqrt(1-i*i),a=r*Math.sin(o),s=Math.tan(Math.PI/4-o/2)/Math.pow((1-a)/(1+a),r/2);return o=-n*Math.log(Math.max(s,1e-10)),new D(t.lng*e*n,o)},unproject:function(t){for(var e,n=180/Math.PI,o=this.R,i=this.R_MINOR/o,r=Math.sqrt(1-i*i),a=Math.exp(-t.y/o),s=Math.PI/2-2*Math.atan(a),l=0,u=.1;l<15&&Math.abs(u)>1e-7;l++)e=r*Math.sin(s),e=Math.pow((1-e)/(1+e),r/2),s+=u=Math.PI/2-2*Math.atan(a*e)-s;return new j(s*n,t.x*n/o)}},wn=(Object.freeze||Object)({LonLat:_n,Mercator:Cn,SphericalMercator:H}),En=o({},W,{code:"EPSG:3395",projection:Cn,transformation:function(){var t=.5/(Math.PI*Cn.R);return Z(t,.5,-t,.5)}()}),xn=o({},W,{code:"EPSG:4326",projection:_n,transformation:Z(1/180,1,-1/180,.5)}),Sn=o({},V,{projection:_n,transformation:Z(1,0,-1,0),scale:function(t){return Math.pow(2,t)},zoom:function(t){return Math.log(t)/Math.LN2},distance:function(t,e){var n=e.lng-t.lng,o=e.lat-t.lat;return Math.sqrt(n*n+o*o)},infinite:!0});V.Earth=W,V.EPSG3395=En,V.EPSG3857=Y,V.EPSG900913=q,V.EPSG4326=xn,V.Simple=Sn;var An=P.extend({options:{pane:"overlayPane",attribution:null,bubblingMouseEvents:!0},addTo:function(t){return t.addLayer(this),this},remove:function(){return this.removeFrom(this._map||this._mapToAdd)},removeFrom:function(t){return t&&t.removeLayer(this),this},getPane:function(t){return this._map.getPane(t?this.options[t]||t:this.options.pane)},addInteractiveTarget:function(t){return this._map._targets[s(t)]=this,this},removeInteractiveTarget:function(t){return delete this._map._targets[s(t)],this},getAttribution:function(){return this.options.attribution},_layerAdd:function(t){var e=t.target;if(e.hasLayer(this)){if(this._map=e,this._zoomAnimated=e._zoomAnimated,this.getEvents){var n=this.getEvents();e.on(n,this),this.once("remove",(function(){e.off(n,this)}),this)}this.onAdd(e),this.getAttribution&&e.attributionControl&&e.attributionControl.addAttribution(this.getAttribution()),this.fire("add"),e.fire("layeradd",{layer:this})}}});qe.include({addLayer:function(t){if(!t._layerAdd)throw new Error("The provided object is not a Layer.");var e=s(t);return this._layers[e]||(this._layers[e]=t,t._mapToAdd=this,t.beforeAdd&&t.beforeAdd(this),this.whenReady(t._layerAdd,t)),this},removeLayer:function(t){var e=s(t);return this._layers[e]?(this._loaded&&t.onRemove(this),t.getAttribution&&this.attributionControl&&this.attributionControl.removeAttribution(t.getAttribution()),delete this._layers[e],this._loaded&&(this.fire("layerremove",{layer:t}),t.fire("remove")),t._map=t._mapToAdd=null,this):this},hasLayer:function(t){return!!t&&s(t)in this._layers},eachLayer:function(t,e){for(var n in this._layers)t.call(e,this._layers[n]);return this},_addLayers:function(t){for(var e=0,n=(t=t?y(t)?t:[t]:[]).length;e<n;e++)this.addLayer(t[e])},_addZoomLimit:function(t){!isNaN(t.options.maxZoom)&&isNaN(t.options.minZoom)||(this._zoomBoundLayers[s(t)]=t,this._updateZoomLevels())},_removeZoomLimit:function(t){var e=s(t);this._zoomBoundLayers[e]&&(delete this._zoomBoundLayers[e],this._updateZoomLevels())},_updateZoomLevels:function(){var t=1/0,e=-1/0,n=this._getZoomSpan();for(var o in this._zoomBoundLayers){var i=this._zoomBoundLayers[o].options;t=void 0===i.minZoom?t:Math.min(t,i.minZoom),e=void 0===i.maxZoom?e:Math.max(e,i.maxZoom)}this._layersMaxZoom=e===-1/0?void 0:e,this._layersMinZoom=t===1/0?void 0:t,n!==this._getZoomSpan()&&this.fire("zoomlevelschange"),void 0===this.options.maxZoom&&this._layersMaxZoom&&this.getZoom()>this._layersMaxZoom&&this.setZoom(this._layersMaxZoom),void 0===this.options.minZoom&&this._layersMinZoom&&this.getZoom()<this._layersMinZoom&&this.setZoom(this._layersMinZoom)}});var On=An.extend({initialize:function(t,e){var n,o;if(f(this,e),this._layers={},t)for(n=0,o=t.length;n<o;n++)this.addLayer(t[n])},addLayer:function(t){var e=this.getLayerId(t);return this._layers[e]=t,this._map&&this._map.addLayer(t),this},removeLayer:function(t){var e=t in this._layers?t:this.getLayerId(t);return this._map&&this._layers[e]&&this._map.removeLayer(this._layers[e]),delete this._layers[e],this},hasLayer:function(t){return!!t&&(t in this._layers||this.getLayerId(t)in this._layers)},clearLayers:function(){return this.eachLayer(this.removeLayer,this)},invoke:function(t){var e,n,o=Array.prototype.slice.call(arguments,1);for(e in this._layers)(n=this._layers[e])[t]&&n[t].apply(n,o);return this},onAdd:function(t){this.eachLayer(t.addLayer,t)},onRemove:function(t){this.eachLayer(t.removeLayer,t)},eachLayer:function(t,e){for(var n in this._layers)t.call(e,this._layers[n]);return this},getLayer:function(t){return this._layers[t]},getLayers:function(){var t=[];return this.eachLayer(t.push,t),t},setZIndex:function(t){return this.invoke("setZIndex",t)},getLayerId:function(t){return s(t)}}),Rn=On.extend({addLayer:function(t){return this.hasLayer(t)?this:(t.addEventParent(this),On.prototype.addLayer.call(this,t),this.fire("layeradd",{layer:t}))},removeLayer:function(t){return this.hasLayer(t)?(t in this._layers&&(t=this._layers[t]),t.removeEventParent(this),On.prototype.removeLayer.call(this,t),this.fire("layerremove",{layer:t})):this},setStyle:function(t){return this.invoke("setStyle",t)},bringToFront:function(){return this.invoke("bringToFront")},bringToBack:function(){return this.invoke("bringToBack")},getBounds:function(){var t=new I;for(var e in this._layers){var n=this._layers[e];t.extend(n.getBounds?n.getBounds():n.getLatLng())}return t}}),Tn=T.extend({options:{popupAnchor:[0,0],tooltipAnchor:[0,0]},initialize:function(t){f(this,t)},createIcon:function(t){return this._createIcon("icon",t)},createShadow:function(t){return this._createIcon("shadow",t)},_createIcon:function(t,e){var n=this._getIconUrl(t);if(!n){if("icon"===t)throw new Error("iconUrl not set in Icon options (see the docs).");return null}var o=this._createImg(n,e&&"IMG"===e.tagName?e:null);return this._setIconStyles(o,t),o},_setIconStyles:function(t,e){var n=this.options,o=n[e+"Size"];"number"==typeof o&&(o=[o,o]);var i=N(o),r=N("shadow"===e&&n.shadowAnchor||n.iconAnchor||i&&i.divideBy(2,!0));t.className="leaflet-marker-"+e+" "+(n.className||""),r&&(t.style.marginLeft=-r.x+"px",t.style.marginTop=-r.y+"px"),i&&(t.style.width=i.x+"px",t.style.height=i.y+"px")},_createImg:function(t,e){return(e=e||document.createElement("img")).src=t,e},_getIconUrl:function(t){return St&&this.options[t+"RetinaUrl"]||this.options[t+"Url"]}}),Ln=Tn.extend({options:{iconUrl:"marker-icon.png",iconRetinaUrl:"marker-icon-2x.png",shadowUrl:"marker-shadow.png",iconSize:[25,41],iconAnchor:[12,41],popupAnchor:[1,-34],tooltipAnchor:[16,-28],shadowSize:[41,41]},_getIconUrl:function(t){return Ln.imagePath||(Ln.imagePath=this._detectIconPath()),(this.options.imagePath||Ln.imagePath)+Tn.prototype._getIconUrl.call(this,t)},_detectIconPath:function(){var t=re("div","leaflet-default-icon-path",document.body),e=ie(t,"background-image")||ie(t,"backgroundImage");return document.body.removeChild(t),e=null===e||0!==e.indexOf("url")?"":e.replace(/^url\(["']?/,"").replace(/marker-icon\.png["']?\)$/,"")}}),Pn=en.extend({initialize:function(t){this._marker=t},addHooks:function(){var t=this._marker._icon;this._draggable||(this._draggable=new ln(t,t,!0)),this._draggable.on({dragstart:this._onDragStart,predrag:this._onPreDrag,drag:this._onDrag,dragend:this._onDragEnd},this).enable(),de(t,"leaflet-marker-draggable")},removeHooks:function(){this._draggable.off({dragstart:this._onDragStart,predrag:this._onPreDrag,drag:this._onDrag,dragend:this._onDragEnd},this).disable(),this._marker._icon&&pe(this._marker._icon,"leaflet-marker-draggable")},moved:function(){return this._draggable&&this._draggable._moved},_adjustPan:function(t){var e=this._marker,n=e._map,o=this._marker.options.autoPanSpeed,i=this._marker.options.autoPanPadding,r=be(e._icon),a=n.getPixelBounds(),s=n.getPixelOrigin(),l=M(a.min._subtract(s).add(i),a.max._subtract(s).subtract(i));if(!l.contains(r)){var u=N((Math.max(l.max.x,r.x)-l.max.x)/(a.max.x-l.max.x)-(Math.min(l.min.x,r.x)-l.min.x)/(a.min.x-l.min.x),(Math.max(l.max.y,r.y)-l.max.y)/(a.max.y-l.max.y)-(Math.min(l.min.y,r.y)-l.min.y)/(a.min.y-l.min.y)).multiplyBy(o);n.panBy(u,{animate:!1}),this._draggable._newPos._add(u),this._draggable._startPos._add(u),ye(e._icon,this._draggable._newPos),this._onDrag(t),this._panRequest=A(this._adjustPan.bind(this,t))}},_onDragStart:function(){this._oldLatLng=this._marker.getLatLng(),this._marker.closePopup().fire("movestart").fire("dragstart")},_onPreDrag:function(t){this._marker.options.autoPan&&(O(this._panRequest),this._panRequest=A(this._adjustPan.bind(this,t)))},_onDrag:function(t){var e=this._marker,n=e._shadow,o=be(e._icon),i=e._map.layerPointToLatLng(o);n&&ye(n,o),e._latlng=i,t.latlng=i,t.oldLatLng=this._oldLatLng,e.fire("move",t).fire("drag",t)},_onDragEnd:function(t){O(this._panRequest),delete this._oldLatLng,this._marker.fire("moveend").fire("dragend",t)}}),Dn=An.extend({options:{icon:new Ln,interactive:!0,keyboard:!0,title:"",alt:"",zIndexOffset:0,opacity:1,riseOnHover:!1,riseOffset:250,pane:"markerPane",shadowPane:"shadowPane",bubblingMouseEvents:!1,draggable:!1,autoPan:!1,autoPanPadding:[50,50],autoPanSpeed:10},initialize:function(t,e){f(this,e),this._latlng=U(t)},onAdd:function(t){this._zoomAnimated=this._zoomAnimated&&t.options.markerZoomAnimation,this._zoomAnimated&&t.on("zoomanim",this._animateZoom,this),this._initIcon(),this.update()},onRemove:function(t){this.dragging&&this.dragging.enabled()&&(this.options.draggable=!0,this.dragging.removeHooks()),delete this.dragging,this._zoomAnimated&&t.off("zoomanim",this._animateZoom,this),this._removeIcon(),this._removeShadow()},getEvents:function(){return{zoom:this.update,viewreset:this.update}},getLatLng:function(){return this._latlng},setLatLng:function(t){var e=this._latlng;return this._latlng=U(t),this.update(),this.fire("move",{oldLatLng:e,latlng:this._latlng})},setZIndexOffset:function(t){return this.options.zIndexOffset=t,this.update()},getIcon:function(){return this.options.icon},setIcon:function(t){return this.options.icon=t,this._map&&(this._initIcon(),this.update()),this._popup&&this.bindPopup(this._popup,this._popup.options),this},getElement:function(){return this._icon},update:function(){if(this._icon&&this._map){var t=this._map.latLngToLayerPoint(this._latlng).round();this._setPos(t)}return this},_initIcon:function(){var t=this.options,e="leaflet-zoom-"+(this._zoomAnimated?"animated":"hide"),n=t.icon.createIcon(this._icon),o=!1;n!==this._icon&&(this._icon&&this._removeIcon(),o=!0,t.title&&(n.title=t.title),"IMG"===n.tagName&&(n.alt=t.alt||"")),de(n,e),t.keyboard&&(n.tabIndex="0"),this._icon=n,t.riseOnHover&&this.on({mouseover:this._bringToFront,mouseout:this._resetZIndex});var i=t.icon.createShadow(this._shadow),r=!1;i!==this._shadow&&(this._removeShadow(),r=!0),i&&(de(i,e),i.alt=""),this._shadow=i,t.opacity<1&&this._updateOpacity(),o&&this.getPane().appendChild(this._icon),this._initInteraction(),i&&r&&this.getPane(t.shadowPane).appendChild(this._shadow)},_removeIcon:function(){this.options.riseOnHover&&this.off({mouseover:this._bringToFront,mouseout:this._resetZIndex}),ae(this._icon),this.removeInteractiveTarget(this._icon),this._icon=null},_removeShadow:function(){this._shadow&&ae(this._shadow),this._shadow=null},_setPos:function(t){ye(this._icon,t),this._shadow&&ye(this._shadow,t),this._zIndex=t.y+this.options.zIndexOffset,this._resetZIndex()},_updateZIndex:function(t){this._icon.style.zIndex=this._zIndex+t},_animateZoom:function(t){var e=this._map._latLngToNewLayerPoint(this._latlng,t.zoom,t.center).round();this._setPos(e)},_initInteraction:function(){if(this.options.interactive&&(de(this._icon,"leaflet-interactive"),this.addInteractiveTarget(this._icon),Pn)){var t=this.options.draggable;this.dragging&&(t=this.dragging.enabled(),this.dragging.disable()),this.dragging=new Pn(this),t&&this.dragging.enable()}},setOpacity:function(t){return this.options.opacity=t,this._map&&this._updateOpacity(),this},_updateOpacity:function(){var t=this.options.opacity;this._icon&&ge(this._icon,t),this._shadow&&ge(this._shadow,t)},_bringToFront:function(){this._updateZIndex(this.options.riseOffset)},_resetZIndex:function(){this._updateZIndex(0)},_getPopupAnchor:function(){return this.options.icon.options.popupAnchor},_getTooltipAnchor:function(){return this.options.icon.options.tooltipAnchor}}),kn=An.extend({options:{stroke:!0,color:"#3388ff",weight:3,opacity:1,lineCap:"round",lineJoin:"round",dashArray:null,dashOffset:null,fill:!1,fillColor:null,fillOpacity:.2,fillRule:"evenodd",interactive:!0,bubblingMouseEvents:!0},beforeAdd:function(t){this._renderer=t.getRenderer(this)},onAdd:function(){this._renderer._initPath(this),this._reset(),this._renderer._addPath(this)},onRemove:function(){this._renderer._removePath(this)},redraw:function(){return this._map&&this._renderer._updatePath(this),this},setStyle:function(t){return f(this,t),this._renderer&&(this._renderer._updateStyle(this),this.options.stroke&&t.hasOwnProperty("weight")&&this._updateBounds()),this},bringToFront:function(){return this._renderer&&this._renderer._bringToFront(this),this},bringToBack:function(){return this._renderer&&this._renderer._bringToBack(this),this},getElement:function(){return this._path},_reset:function(){this._project(),this._update()},_clickTolerance:function(){return(this.options.stroke?this.options.weight/2:0)+this._renderer.options.tolerance}}),Nn=kn.extend({options:{fill:!0,radius:10},initialize:function(t,e){f(this,e),this._latlng=U(t),this._radius=this.options.radius},setLatLng:function(t){return this._latlng=U(t),this.redraw(),this.fire("move",{latlng:this._latlng})},getLatLng:function(){return this._latlng},setRadius:function(t){return this.options.radius=this._radius=t,this.redraw()},getRadius:function(){return this._radius},setStyle:function(t){var e=t&&t.radius||this._radius;return kn.prototype.setStyle.call(this,t),this.setRadius(e),this},_project:function(){this._point=this._map.latLngToLayerPoint(this._latlng),this._updateBounds()},_updateBounds:function(){var t=this._radius,e=this._radiusY||t,n=this._clickTolerance(),o=[t+n,e+n];this._pxBounds=new F(this._point.subtract(o),this._point.add(o))},_update:function(){this._map&&this._updatePath()},_updatePath:function(){this._renderer._updateCircle(this)},_empty:function(){return this._radius&&!this._renderer._bounds.intersects(this._pxBounds)},_containsPoint:function(t){return t.distanceTo(this._point)<=this._radius+this._clickTolerance()}}),Fn=Nn.extend({initialize:function(t,e,n){if("number"==typeof e&&(e=o({},n,{radius:e})),f(this,e),this._latlng=U(t),isNaN(this.options.radius))throw new Error("Circle radius cannot be NaN");this._mRadius=this.options.radius},setRadius:function(t){return this._mRadius=t,this.redraw()},getRadius:function(){return this._mRadius},getBounds:function(){var t=[this._radius,this._radiusY||this._radius];return new I(this._map.layerPointToLatLng(this._point.subtract(t)),this._map.layerPointToLatLng(this._point.add(t)))},setStyle:kn.prototype.setStyle,_project:function(){var t=this._latlng.lng,e=this._latlng.lat,n=this._map,o=n.options.crs;if(o.distance===W.distance){var i=Math.PI/180,r=this._mRadius/W.R/i,a=n.project([e+r,t]),s=n.project([e-r,t]),l=a.add(s).divideBy(2),u=n.unproject(l).lat,c=Math.acos((Math.cos(r*i)-Math.sin(e*i)*Math.sin(u*i))/(Math.cos(e*i)*Math.cos(u*i)))/i;(isNaN(c)||0===c)&&(c=r/Math.cos(Math.PI/180*e)),this._point=l.subtract(n.getPixelOrigin()),this._radius=isNaN(c)?0:l.x-n.project([u,t-c]).x,this._radiusY=l.y-a.y}else{var d=o.unproject(o.project(this._latlng).subtract([this._mRadius,0]));this._point=n.latLngToLayerPoint(this._latlng),this._radius=this._point.x-n.latLngToLayerPoint(d).x}this._updateBounds()}}),Mn=kn.extend({options:{smoothFactor:1,noClip:!1},initialize:function(t,e){f(this,e),this._setLatLngs(t)},getLatLngs:function(){return this._latlngs},setLatLngs:function(t){return this._setLatLngs(t),this.redraw()},isEmpty:function(){return!this._latlngs.length},closestLayerPoint:function(t){for(var e,n,o=1/0,i=null,r=fn,a=0,s=this._parts.length;a<s;a++)for(var l=this._parts[a],u=1,c=l.length;u<c;u++){var d=r(t,e=l[u-1],n=l[u],!0);d<o&&(o=d,i=r(t,e,n))}return i&&(i.distance=Math.sqrt(o)),i},getCenter:function(){if(!this._map)throw new Error("Must add layer to map before using getCenter()");var t,e,n,o,i,r,a,s=this._rings[0],l=s.length;if(!l)return null;for(t=0,e=0;t<l-1;t++)e+=s[t].distanceTo(s[t+1])/2;if(0===e)return this._map.layerPointToLatLng(s[0]);for(t=0,o=0;t<l-1;t++)if(i=s[t],r=s[t+1],(o+=n=i.distanceTo(r))>e)return a=(o-e)/n,this._map.layerPointToLatLng([r.x-a*(r.x-i.x),r.y-a*(r.y-i.y)])},getBounds:function(){return this._bounds},addLatLng:function(t,e){return e=e||this._defaultShape(),t=U(t),e.push(t),this._bounds.extend(t),this.redraw()},_setLatLngs:function(t){this._bounds=new I,this._latlngs=this._convertLatLngs(t)},_defaultShape:function(){return gn(this._latlngs)?this._latlngs:this._latlngs[0]},_convertLatLngs:function(t){for(var e=[],n=gn(t),o=0,i=t.length;o<i;o++)n?(e[o]=U(t[o]),this._bounds.extend(e[o])):e[o]=this._convertLatLngs(t[o]);return e},_project:function(){var t=new F;this._rings=[],this._projectLatlngs(this._latlngs,this._rings,t),this._bounds.isValid()&&t.isValid()&&(this._rawPxBounds=t,this._updateBounds())},_updateBounds:function(){var t=this._clickTolerance(),e=new D(t,t);this._pxBounds=new F([this._rawPxBounds.min.subtract(e),this._rawPxBounds.max.add(e)])},_projectLatlngs:function(t,e,n){var o,i,r=t[0]instanceof j,a=t.length;if(r){for(i=[],o=0;o<a;o++)i[o]=this._map.latLngToLayerPoint(t[o]),n.extend(i[o]);e.push(i)}else for(o=0;o<a;o++)this._projectLatlngs(t[o],e,n)},_clipPoints:function(){var t=this._renderer._bounds;if(this._parts=[],this._pxBounds&&this._pxBounds.intersects(t))if(this.options.noClip)this._parts=this._rings;else{var e,n,o,i,r,a,s,l=this._parts;for(e=0,o=0,i=this._rings.length;e<i;e++)for(n=0,r=(s=this._rings[e]).length;n<r-1;n++)(a=dn(s[n],s[n+1],t,n,!0))&&(l[o]=l[o]||[],l[o].push(a[0]),a[1]===s[n+1]&&n!==r-2||(l[o].push(a[1]),o++))}},_simplifyPoints:function(){for(var t=this._parts,e=this.options.smoothFactor,n=0,o=t.length;n<o;n++)t[n]=un(t[n],e)},_update:function(){this._map&&(this._clipPoints(),this._simplifyPoints(),this._updatePath())},_updatePath:function(){this._renderer._updatePoly(this)},_containsPoint:function(t,e){var n,o,i,r,a,s,l=this._clickTolerance();if(!this._pxBounds||!this._pxBounds.contains(t))return!1;for(n=0,r=this._parts.length;n<r;n++)for(o=0,i=(a=(s=this._parts[n]).length)-1;o<a;i=o++)if((e||0!==o)&&cn(t,s[i],s[o])<=l)return!0;return!1}});Mn._flat=mn;var In=Mn.extend({options:{fill:!0},isEmpty:function(){return!this._latlngs.length||!this._latlngs[0].length},getCenter:function(){if(!this._map)throw new Error("Must add layer to map before using getCenter()");var t,e,n,o,i,r,a,s,l,u=this._rings[0],c=u.length;if(!c)return null;for(r=a=s=0,t=0,e=c-1;t<c;e=t++)n=u[t],o=u[e],i=n.y*o.x-o.y*n.x,a+=(n.x+o.x)*i,s+=(n.y+o.y)*i,r+=3*i;return l=0===r?u[0]:[a/r,s/r],this._map.layerPointToLatLng(l)},_convertLatLngs:function(t){var e=Mn.prototype._convertLatLngs.call(this,t),n=e.length;return n>=2&&e[0]instanceof j&&e[0].equals(e[n-1])&&e.pop(),e},_setLatLngs:function(t){Mn.prototype._setLatLngs.call(this,t),gn(this._latlngs)&&(this._latlngs=[this._latlngs])},_defaultShape:function(){return gn(this._latlngs[0])?this._latlngs[0]:this._latlngs[0][0]},_clipPoints:function(){var t=this._renderer._bounds,e=this.options.weight,n=new D(e,e);if(t=new F(t.min.subtract(n),t.max.add(n)),this._parts=[],this._pxBounds&&this._pxBounds.intersects(t))if(this.options.noClip)this._parts=this._rings;else for(var o,i=0,r=this._rings.length;i<r;i++)(o=yn(this._rings[i],t,!0)).length&&this._parts.push(o)},_updatePath:function(){this._renderer._updatePoly(this,!0)},_containsPoint:function(t){var e,n,o,i,r,a,s,l,u=!1;if(!this._pxBounds||!this._pxBounds.contains(t))return!1;for(i=0,s=this._parts.length;i<s;i++)for(r=0,a=(l=(e=this._parts[i]).length)-1;r<l;a=r++)n=e[r],o=e[a],n.y>t.y!=o.y>t.y&&t.x<(o.x-n.x)*(t.y-n.y)/(o.y-n.y)+n.x&&(u=!u);return u||Mn.prototype._containsPoint.call(this,t,!0)}}),Gn=Rn.extend({initialize:function(t,e){f(this,e),this._layers={},t&&this.addData(t)},addData:function(t){var e,n,o,i=y(t)?t:t.features;if(i){for(e=0,n=i.length;e<n;e++)((o=i[e]).geometries||o.geometry||o.features||o.coordinates)&&this.addData(o);return this}var r=this.options;if(r.filter&&!r.filter(t))return this;var a=jn(t,r);return a?(a.feature=zn(t),a.defaultOptions=a.options,this.resetStyle(a),r.onEachFeature&&r.onEachFeature(t,a),this.addLayer(a)):this},resetStyle:function(t){return t.options=o({},t.defaultOptions),this._setLayerStyle(t,this.options.style),this},setStyle:function(t){return this.eachLayer((function(e){this._setLayerStyle(e,t)}),this)},_setLayerStyle:function(t,e){t.setStyle&&("function"==typeof e&&(e=e(t.feature)),t.setStyle(e))}});function jn(t,e){var n,o,i,r,a="Feature"===t.type?t.geometry:t,s=a?a.coordinates:null,l=[],u=e&&e.pointToLayer,c=e&&e.coordsToLatLng||Un;if(!s&&!a)return null;switch(a.type){case"Point":return n=c(s),u?u(t,n):new Dn(n);case"MultiPoint":for(i=0,r=s.length;i<r;i++)n=c(s[i]),l.push(u?u(t,n):new Dn(n));return new Rn(l);case"LineString":case"MultiLineString":return o=Bn(s,"LineString"===a.type?0:1,c),new Mn(o,e);case"Polygon":case"MultiPolygon":return o=Bn(s,"Polygon"===a.type?1:2,c),new In(o,e);case"GeometryCollection":for(i=0,r=a.geometries.length;i<r;i++){var d=jn({geometry:a.geometries[i],type:"Feature",properties:t.properties},e);d&&l.push(d)}return new Rn(l);default:throw new Error("Invalid GeoJSON object.")}}function Un(t){return new j(t[1],t[0],t[2])}function Bn(t,e,n){for(var o,i=[],r=0,a=t.length;r<a;r++)o=e?Bn(t[r],e-1,n):(n||Un)(t[r]),i.push(o);return i}function Vn(t,e){return e="number"==typeof e?e:6,void 0!==t.alt?[d(t.lng,e),d(t.lat,e),d(t.alt,e)]:[d(t.lng,e),d(t.lat,e)]}function Wn(t,e,n,o){for(var i=[],r=0,a=t.length;r<a;r++)i.push(e?Wn(t[r],e-1,n,o):Vn(t[r],o));return!e&&n&&i.push(i[0]),i}function Hn(t,e){return t.feature?o({},t.feature,{geometry:e}):zn(e)}function zn(t){return"Feature"===t.type||"FeatureCollection"===t.type?t:{type:"Feature",properties:{},geometry:t}}var Zn={toGeoJSON:function(t){return Hn(this,{type:"Point",coordinates:Vn(this.getLatLng(),t)})}};function Yn(t,e){return new Gn(t,e)}Dn.include(Zn),Fn.include(Zn),Nn.include(Zn),Mn.include({toGeoJSON:function(t){var e=!gn(this._latlngs);return Hn(this,{type:(e?"Multi":"")+"LineString",coordinates:Wn(this._latlngs,e?1:0,!1,t)})}}),In.include({toGeoJSON:function(t){var e=!gn(this._latlngs),n=e&&!gn(this._latlngs[0]),o=Wn(this._latlngs,n?2:e?1:0,!0,t);return e||(o=[o]),Hn(this,{type:(n?"Multi":"")+"Polygon",coordinates:o})}}),On.include({toMultiPoint:function(t){var e=[];return this.eachLayer((function(n){e.push(n.toGeoJSON(t).geometry.coordinates)})),Hn(this,{type:"MultiPoint",coordinates:e})},toGeoJSON:function(t){var e=this.feature&&this.feature.geometry&&this.feature.geometry.type;if("MultiPoint"===e)return this.toMultiPoint(t);var n="GeometryCollection"===e,o=[];return this.eachLayer((function(e){if(e.toGeoJSON){var i=e.toGeoJSON(t);if(n)o.push(i.geometry);else{var r=zn(i);"FeatureCollection"===r.type?o.push.apply(o,r.features):o.push(r)}}})),n?Hn(this,{geometries:o,type:"GeometryCollection"}):{type:"FeatureCollection",features:o}}});var qn=Yn,Qn=An.extend({options:{opacity:1,alt:"",interactive:!1,crossOrigin:!1,errorOverlayUrl:"",zIndex:1,className:""},initialize:function(t,e,n){this._url=t,this._bounds=G(e),f(this,n)},onAdd:function(){this._image||(this._initImage(),this.options.opacity<1&&this._updateOpacity()),this.options.interactive&&(de(this._image,"leaflet-interactive"),this.addInteractiveTarget(this._image)),this.getPane().appendChild(this._image),this._reset()},onRemove:function(){ae(this._image),this.options.interactive&&this.removeInteractiveTarget(this._image)},setOpacity:function(t){return this.options.opacity=t,this._image&&this._updateOpacity(),this},setStyle:function(t){return t.opacity&&this.setOpacity(t.opacity),this},bringToFront:function(){return this._map&&le(this._image),this},bringToBack:function(){return this._map&&ue(this._image),this},setUrl:function(t){return this._url=t,this._image&&(this._image.src=t),this},setBounds:function(t){return this._bounds=G(t),this._map&&this._reset(),this},getEvents:function(){var t={zoom:this._reset,viewreset:this._reset};return this._zoomAnimated&&(t.zoomanim=this._animateZoom),t},setZIndex:function(t){return this.options.zIndex=t,this._updateZIndex(),this},getBounds:function(){return this._bounds},getElement:function(){return this._image},_initImage:function(){var t="IMG"===this._url.tagName,e=this._image=t?this._url:re("img");de(e,"leaflet-image-layer"),this._zoomAnimated&&de(e,"leaflet-zoom-animated"),this.options.className&&de(e,this.options.className),e.onselectstart=c,e.onmousemove=c,e.onload=r(this.fire,this,"load"),e.onerror=r(this._overlayOnError,this,"error"),(this.options.crossOrigin||""===this.options.crossOrigin)&&(e.crossOrigin=!0===this.options.crossOrigin?"":this.options.crossOrigin),this.options.zIndex&&this._updateZIndex(),t?this._url=e.src:(e.src=this._url,e.alt=this.options.alt)},_animateZoom:function(t){var e=this._map.getZoomScale(t.zoom),n=this._map._latLngBoundsToNewLayerBounds(this._bounds,t.zoom,t.center).min;ve(this._image,n,e)},_reset:function(){var t=this._image,e=new F(this._map.latLngToLayerPoint(this._bounds.getNorthWest()),this._map.latLngToLayerPoint(this._bounds.getSouthEast())),n=e.getSize();ye(t,e.min),t.style.width=n.x+"px",t.style.height=n.y+"px"},_updateOpacity:function(){ge(this._image,this.options.opacity)},_updateZIndex:function(){this._image&&void 0!==this.options.zIndex&&null!==this.options.zIndex&&(this._image.style.zIndex=this.options.zIndex)},_overlayOnError:function(){this.fire("error");var t=this.options.errorOverlayUrl;t&&this._url!==t&&(this._url=t,this._image.src=t)}}),Jn=Qn.extend({options:{autoplay:!0,loop:!0,keepAspectRatio:!0},_initImage:function(){var t="VIDEO"===this._url.tagName,e=this._image=t?this._url:re("video");if(de(e,"leaflet-image-layer"),this._zoomAnimated&&de(e,"leaflet-zoom-animated"),e.onselectstart=c,e.onmousemove=c,e.onloadeddata=r(this.fire,this,"load"),t){for(var n=e.getElementsByTagName("source"),o=[],i=0;i<n.length;i++)o.push(n[i].src);this._url=n.length>0?o:[e.src]}else{y(this._url)||(this._url=[this._url]),!this.options.keepAspectRatio&&e.style.hasOwnProperty("objectFit")&&(e.style.objectFit="fill"),e.autoplay=!!this.options.autoplay,e.loop=!!this.options.loop;for(var a=0;a<this._url.length;a++){var s=re("source");s.src=this._url[a],e.appendChild(s)}}}}),Kn=Qn.extend({_initImage:function(){var t=this._image=this._url;de(t,"leaflet-image-layer"),this._zoomAnimated&&de(t,"leaflet-zoom-animated"),t.onselectstart=c,t.onmousemove=c}}),Xn=An.extend({options:{offset:[0,7],className:"",pane:"popupPane"},initialize:function(t,e){f(this,t),this._source=e},onAdd:function(t){this._zoomAnimated=t._zoomAnimated,this._container||this._initLayout(),t._fadeAnimated&&ge(this._container,0),clearTimeout(this._removeTimeout),this.getPane().appendChild(this._container),this.update(),t._fadeAnimated&&ge(this._container,1),this.bringToFront()},onRemove:function(t){t._fadeAnimated?(ge(this._container,0),this._removeTimeout=setTimeout(r(ae,void 0,this._container),200)):ae(this._container)},getLatLng:function(){return this._latlng},setLatLng:function(t){return this._latlng=U(t),this._map&&(this._updatePosition(),this._adjustPan()),this},getContent:function(){return this._content},setContent:function(t){return this._content=t,this.update(),this},getElement:function(){return this._container},update:function(){this._map&&(this._container.style.visibility="hidden",this._updateContent(),this._updateLayout(),this._updatePosition(),this._container.style.visibility="",this._adjustPan())},getEvents:function(){var t={zoom:this._updatePosition,viewreset:this._updatePosition};return this._zoomAnimated&&(t.zoomanim=this._animateZoom),t},isOpen:function(){return!!this._map&&this._map.hasLayer(this)},bringToFront:function(){return this._map&&le(this._container),this},bringToBack:function(){return this._map&&ue(this._container),this},_prepareOpen:function(t,e,n){if(e instanceof An||(n=e,e=t),e instanceof Rn)for(var o in t._layers){e=t._layers[o];break}if(!n)if(e.getCenter)n=e.getCenter();else{if(!e.getLatLng)throw new Error("Unable to get source layer LatLng.");n=e.getLatLng()}return this._source=e,this.update(),n},_updateContent:function(){if(this._content){var t=this._contentNode,e="function"==typeof this._content?this._content(this._source||this):this._content;if("string"==typeof e)t.innerHTML=e;else{for(;t.hasChildNodes();)t.removeChild(t.firstChild);t.appendChild(e)}this.fire("contentupdate")}},_updatePosition:function(){if(this._map){var t=this._map.latLngToLayerPoint(this._latlng),e=N(this.options.offset),n=this._getAnchor();this._zoomAnimated?ye(this._container,t.add(n)):e=e.add(t).add(n);var o=this._containerBottom=-e.y,i=this._containerLeft=-Math.round(this._containerWidth/2)+e.x;this._container.style.bottom=o+"px",this._container.style.left=i+"px"}},_getAnchor:function(){return[0,0]}}),$n=Xn.extend({options:{maxWidth:300,minWidth:50,maxHeight:null,autoPan:!0,autoPanPaddingTopLeft:null,autoPanPaddingBottomRight:null,autoPanPadding:[5,5],keepInView:!1,closeButton:!0,autoClose:!0,closeOnEscapeKey:!0,className:""},openOn:function(t){return t.openPopup(this),this},onAdd:function(t){Xn.prototype.onAdd.call(this,t),t.fire("popupopen",{popup:this}),this._source&&(this._source.fire("popupopen",{popup:this},!0),this._source instanceof kn||this._source.on("preclick",ke))},onRemove:function(t){Xn.prototype.onRemove.call(this,t),t.fire("popupclose",{popup:this}),this._source&&(this._source.fire("popupclose",{popup:this},!0),this._source instanceof kn||this._source.off("preclick",ke))},getEvents:function(){var t=Xn.prototype.getEvents.call(this);return(void 0!==this.options.closeOnClick?this.options.closeOnClick:this._map.options.closePopupOnClick)&&(t.preclick=this._close),this.options.keepInView&&(t.moveend=this._adjustPan),t},_close:function(){this._map&&this._map.closePopup(this)},_initLayout:function(){var t="leaflet-popup",e=this._container=re("div",t+" "+(this.options.className||"")+" leaflet-zoom-animated"),n=this._wrapper=re("div",t+"-content-wrapper",e);if(this._contentNode=re("div",t+"-content",n),Fe(n),Ne(this._contentNode),Re(n,"contextmenu",ke),this._tipContainer=re("div",t+"-tip-container",e),this._tip=re("div",t+"-tip",this._tipContainer),this.options.closeButton){var o=this._closeButton=re("a",t+"-close-button",e);o.href="#close",o.innerHTML="&#215;",Re(o,"click",this._onCloseButtonClick,this)}},_updateLayout:function(){var t=this._contentNode,e=t.style;e.width="",e.whiteSpace="nowrap";var n=t.offsetWidth;n=Math.min(n,this.options.maxWidth),n=Math.max(n,this.options.minWidth),e.width=n+1+"px",e.whiteSpace="",e.height="";var o=t.offsetHeight,i=this.options.maxHeight;i&&o>i?(e.height=i+"px",de(t,"leaflet-popup-scrolled")):pe(t,"leaflet-popup-scrolled"),this._containerWidth=this._container.offsetWidth},_animateZoom:function(t){var e=this._map._latLngToNewLayerPoint(this._latlng,t.zoom,t.center),n=this._getAnchor();ye(this._container,e.add(n))},_adjustPan:function(){if(this.options.autoPan){this._map._panAnim&&this._map._panAnim.stop();var t=this._map,e=parseInt(ie(this._container,"marginBottom"),10)||0,n=this._container.offsetHeight+e,o=this._containerWidth,i=new D(this._containerLeft,-n-this._containerBottom);i._add(be(this._container));var r=t.layerPointToContainerPoint(i),a=N(this.options.autoPanPadding),s=N(this.options.autoPanPaddingTopLeft||a),l=N(this.options.autoPanPaddingBottomRight||a),u=t.getSize(),c=0,d=0;r.x+o+l.x>u.x&&(c=r.x+o-u.x+l.x),r.x-c-s.x<0&&(c=r.x-s.x),r.y+n+l.y>u.y&&(d=r.y+n-u.y+l.y),r.y-d-s.y<0&&(d=r.y-s.y),(c||d)&&t.fire("autopanstart").panBy([c,d])}},_onCloseButtonClick:function(t){this._close(),Ie(t)},_getAnchor:function(){return N(this._source&&this._source._getPopupAnchor?this._source._getPopupAnchor():[0,0])}});qe.mergeOptions({closePopupOnClick:!0}),qe.include({openPopup:function(t,e,n){return t instanceof $n||(t=new $n(n).setContent(t)),e&&t.setLatLng(e),this.hasLayer(t)?this:(this._popup&&this._popup.options.autoClose&&this.closePopup(),this._popup=t,this.addLayer(t))},closePopup:function(t){return t&&t!==this._popup||(t=this._popup,this._popup=null),t&&this.removeLayer(t),this}}),An.include({bindPopup:function(t,e){return t instanceof $n?(f(t,e),this._popup=t,t._source=this):(this._popup&&!e||(this._popup=new $n(e,this)),this._popup.setContent(t)),this._popupHandlersAdded||(this.on({click:this._openPopup,keypress:this._onKeyPress,remove:this.closePopup,move:this._movePopup}),this._popupHandlersAdded=!0),this},unbindPopup:function(){return this._popup&&(this.off({click:this._openPopup,keypress:this._onKeyPress,remove:this.closePopup,move:this._movePopup}),this._popupHandlersAdded=!1,this._popup=null),this},openPopup:function(t,e){return this._popup&&this._map&&(e=this._popup._prepareOpen(this,t,e),this._map.openPopup(this._popup,e)),this},closePopup:function(){return this._popup&&this._popup._close(),this},togglePopup:function(t){return this._popup&&(this._popup._map?this.closePopup():this.openPopup(t)),this},isPopupOpen:function(){return!!this._popup&&this._popup.isOpen()},setPopupContent:function(t){return this._popup&&this._popup.setContent(t),this},getPopup:function(){return this._popup},_openPopup:function(t){var e=t.layer||t.target;this._popup&&this._map&&(Ie(t),e instanceof kn?this.openPopup(t.layer||t.target,t.latlng):this._map.hasLayer(this._popup)&&this._popup._source===e?this.closePopup():this.openPopup(e,t.latlng))},_movePopup:function(t){this._popup.setLatLng(t.latlng)},_onKeyPress:function(t){13===t.originalEvent.keyCode&&this._openPopup(t)}});var to=Xn.extend({options:{pane:"tooltipPane",offset:[0,0],direction:"auto",permanent:!1,sticky:!1,interactive:!1,opacity:.9},onAdd:function(t){Xn.prototype.onAdd.call(this,t),this.setOpacity(this.options.opacity),t.fire("tooltipopen",{tooltip:this}),this._source&&this._source.fire("tooltipopen",{tooltip:this},!0)},onRemove:function(t){Xn.prototype.onRemove.call(this,t),t.fire("tooltipclose",{tooltip:this}),this._source&&this._source.fire("tooltipclose",{tooltip:this},!0)},getEvents:function(){var t=Xn.prototype.getEvents.call(this);return wt&&!this.options.permanent&&(t.preclick=this._close),t},_close:function(){this._map&&this._map.closeTooltip(this)},_initLayout:function(){var t="leaflet-tooltip "+(this.options.className||"")+" leaflet-zoom-"+(this._zoomAnimated?"animated":"hide");this._contentNode=this._container=re("div",t)},_updateLayout:function(){},_adjustPan:function(){},_setPosition:function(t){var e=this._map,n=this._container,o=e.latLngToContainerPoint(e.getCenter()),i=e.layerPointToContainerPoint(t),r=this.options.direction,a=n.offsetWidth,s=n.offsetHeight,l=N(this.options.offset),u=this._getAnchor();"top"===r?t=t.add(N(-a/2+l.x,-s+l.y+u.y,!0)):"bottom"===r?t=t.subtract(N(a/2-l.x,-l.y,!0)):"center"===r?t=t.subtract(N(a/2+l.x,s/2-u.y+l.y,!0)):"right"===r||"auto"===r&&i.x<o.x?(r="right",t=t.add(N(l.x+u.x,u.y-s/2+l.y,!0))):(r="left",t=t.subtract(N(a+u.x-l.x,s/2-u.y-l.y,!0))),pe(n,"leaflet-tooltip-right"),pe(n,"leaflet-tooltip-left"),pe(n,"leaflet-tooltip-top"),pe(n,"leaflet-tooltip-bottom"),de(n,"leaflet-tooltip-"+r),ye(n,t)},_updatePosition:function(){var t=this._map.latLngToLayerPoint(this._latlng);this._setPosition(t)},setOpacity:function(t){this.options.opacity=t,this._container&&ge(this._container,t)},_animateZoom:function(t){var e=this._map._latLngToNewLayerPoint(this._latlng,t.zoom,t.center);this._setPosition(e)},_getAnchor:function(){return N(this._source&&this._source._getTooltipAnchor&&!this.options.sticky?this._source._getTooltipAnchor():[0,0])}});qe.include({openTooltip:function(t,e,n){return t instanceof to||(t=new to(n).setContent(t)),e&&t.setLatLng(e),this.hasLayer(t)?this:this.addLayer(t)},closeTooltip:function(t){return t&&this.removeLayer(t),this}}),An.include({bindTooltip:function(t,e){return t instanceof to?(f(t,e),this._tooltip=t,t._source=this):(this._tooltip&&!e||(this._tooltip=new to(e,this)),this._tooltip.setContent(t)),this._initTooltipInteractions(),this._tooltip.options.permanent&&this._map&&this._map.hasLayer(this)&&this.openTooltip(),this},unbindTooltip:function(){return this._tooltip&&(this._initTooltipInteractions(!0),this.closeTooltip(),this._tooltip=null),this},_initTooltipInteractions:function(t){if(t||!this._tooltipHandlersAdded){var e=t?"off":"on",n={remove:this.closeTooltip,move:this._moveTooltip};this._tooltip.options.permanent?n.add=this._openTooltip:(n.mouseover=this._openTooltip,n.mouseout=this.closeTooltip,this._tooltip.options.sticky&&(n.mousemove=this._moveTooltip),wt&&(n.click=this._openTooltip)),this[e](n),this._tooltipHandlersAdded=!t}},openTooltip:function(t,e){return this._tooltip&&this._map&&(e=this._tooltip._prepareOpen(this,t,e),this._map.openTooltip(this._tooltip,e),this._tooltip.options.interactive&&this._tooltip._container&&(de(this._tooltip._container,"leaflet-clickable"),this.addInteractiveTarget(this._tooltip._container))),this},closeTooltip:function(){return this._tooltip&&(this._tooltip._close(),this._tooltip.options.interactive&&this._tooltip._container&&(pe(this._tooltip._container,"leaflet-clickable"),this.removeInteractiveTarget(this._tooltip._container))),this},toggleTooltip:function(t){return this._tooltip&&(this._tooltip._map?this.closeTooltip():this.openTooltip(t)),this},isTooltipOpen:function(){return this._tooltip.isOpen()},setTooltipContent:function(t){return this._tooltip&&this._tooltip.setContent(t),this},getTooltip:function(){return this._tooltip},_openTooltip:function(t){var e=t.layer||t.target;this._tooltip&&this._map&&this.openTooltip(e,this._tooltip.options.sticky?t.latlng:void 0)},_moveTooltip:function(t){var e,n,o=t.latlng;this._tooltip.options.sticky&&t.originalEvent&&(e=this._map.mouseEventToContainerPoint(t.originalEvent),n=this._map.containerPointToLayerPoint(e),o=this._map.layerPointToLatLng(n)),this._tooltip.setLatLng(o)}});var eo=Tn.extend({options:{iconSize:[12,12],html:!1,bgPos:null,className:"leaflet-div-icon"},createIcon:function(t){var e=t&&"DIV"===t.tagName?t:document.createElement("div"),n=this.options;if(n.html instanceof Element?(se(e),e.appendChild(n.html)):e.innerHTML=!1!==n.html?n.html:"",n.bgPos){var o=N(n.bgPos);e.style.backgroundPosition=-o.x+"px "+-o.y+"px"}return this._setIconStyles(e,"icon"),e},createShadow:function(){return null}});Tn.Default=Ln;var no=An.extend({options:{tileSize:256,opacity:1,updateWhenIdle:vt,updateWhenZooming:!0,updateInterval:200,zIndex:1,bounds:null,minZoom:0,maxZoom:void 0,maxNativeZoom:void 0,minNativeZoom:void 0,noWrap:!1,pane:"tilePane",className:"",keepBuffer:2},initialize:function(t){f(this,t)},onAdd:function(){this._initContainer(),this._levels={},this._tiles={},this._resetView(),this._update()},beforeAdd:function(t){t._addZoomLimit(this)},onRemove:function(t){this._removeAllTiles(),ae(this._container),t._removeZoomLimit(this),this._container=null,this._tileZoom=void 0},bringToFront:function(){return this._map&&(le(this._container),this._setAutoZIndex(Math.max)),this},bringToBack:function(){return this._map&&(ue(this._container),this._setAutoZIndex(Math.min)),this},getContainer:function(){return this._container},setOpacity:function(t){return this.options.opacity=t,this._updateOpacity(),this},setZIndex:function(t){return this.options.zIndex=t,this._updateZIndex(),this},isLoading:function(){return this._loading},redraw:function(){return this._map&&(this._removeAllTiles(),this._update()),this},getEvents:function(){var t={viewprereset:this._invalidateAll,viewreset:this._resetView,zoom:this._resetView,moveend:this._onMoveEnd};return this.options.updateWhenIdle||(this._onMove||(this._onMove=l(this._onMoveEnd,this.options.updateInterval,this)),t.move=this._onMove),this._zoomAnimated&&(t.zoomanim=this._animateZoom),t},createTile:function(){return document.createElement("div")},getTileSize:function(){var t=this.options.tileSize;return t instanceof D?t:new D(t,t)},_updateZIndex:function(){this._container&&void 0!==this.options.zIndex&&null!==this.options.zIndex&&(this._container.style.zIndex=this.options.zIndex)},_setAutoZIndex:function(t){for(var e,n=this.getPane().children,o=-t(-1/0,1/0),i=0,r=n.length;i<r;i++)e=n[i].style.zIndex,n[i]!==this._container&&e&&(o=t(o,+e));isFinite(o)&&(this.options.zIndex=o+t(-1,1),this._updateZIndex())},_updateOpacity:function(){if(this._map&&!$){ge(this._container,this.options.opacity);var t=+new Date,e=!1,n=!1;for(var o in this._tiles){var i=this._tiles[o];if(i.current&&i.loaded){var r=Math.min(1,(t-i.loaded)/200);ge(i.el,r),r<1?e=!0:(i.active?n=!0:this._onOpaqueTile(i),i.active=!0)}}n&&!this._noPrune&&this._pruneTiles(),e&&(O(this._fadeFrame),this._fadeFrame=A(this._updateOpacity,this))}},_onOpaqueTile:c,_initContainer:function(){this._container||(this._container=re("div","leaflet-layer "+(this.options.className||"")),this._updateZIndex(),this.options.opacity<1&&this._updateOpacity(),this.getPane().appendChild(this._container))},_updateLevels:function(){var t=this._tileZoom,e=this.options.maxZoom;if(void 0!==t){for(var n in this._levels)this._levels[n].el.children.length||n===t?(this._levels[n].el.style.zIndex=e-Math.abs(t-n),this._onUpdateLevel(n)):(ae(this._levels[n].el),this._removeTilesAtZoom(n),this._onRemoveLevel(n),delete this._levels[n]);var o=this._levels[t],i=this._map;return o||((o=this._levels[t]={}).el=re("div","leaflet-tile-container leaflet-zoom-animated",this._container),o.el.style.zIndex=e,o.origin=i.project(i.unproject(i.getPixelOrigin()),t).round(),o.zoom=t,this._setZoomTransform(o,i.getCenter(),i.getZoom()),o.el.offsetWidth,this._onCreateLevel(o)),this._level=o,o}},_onUpdateLevel:c,_onRemoveLevel:c,_onCreateLevel:c,_pruneTiles:function(){if(this._map){var t,e,n=this._map.getZoom();if(n>this.options.maxZoom||n<this.options.minZoom)this._removeAllTiles();else{for(t in this._tiles)(e=this._tiles[t]).retain=e.current;for(t in this._tiles)if((e=this._tiles[t]).current&&!e.active){var o=e.coords;this._retainParent(o.x,o.y,o.z,o.z-5)||this._retainChildren(o.x,o.y,o.z,o.z+2)}for(t in this._tiles)this._tiles[t].retain||this._removeTile(t)}}},_removeTilesAtZoom:function(t){for(var e in this._tiles)this._tiles[e].coords.z===t&&this._removeTile(e)},_removeAllTiles:function(){for(var t in this._tiles)this._removeTile(t)},_invalidateAll:function(){for(var t in this._levels)ae(this._levels[t].el),this._onRemoveLevel(t),delete this._levels[t];this._removeAllTiles(),this._tileZoom=void 0},_retainParent:function(t,e,n,o){var i=Math.floor(t/2),r=Math.floor(e/2),a=n-1,s=new D(+i,+r);s.z=+a;var l=this._tileCoordsToKey(s),u=this._tiles[l];return u&&u.active?(u.retain=!0,!0):(u&&u.loaded&&(u.retain=!0),a>o&&this._retainParent(i,r,a,o))},_retainChildren:function(t,e,n,o){for(var i=2*t;i<2*t+2;i++)for(var r=2*e;r<2*e+2;r++){var a=new D(i,r);a.z=n+1;var s=this._tileCoordsToKey(a),l=this._tiles[s];l&&l.active?l.retain=!0:(l&&l.loaded&&(l.retain=!0),n+1<o&&this._retainChildren(i,r,n+1,o))}},_resetView:function(t){var e=t&&(t.pinch||t.flyTo);this._setView(this._map.getCenter(),this._map.getZoom(),e,e)},_animateZoom:function(t){this._setView(t.center,t.zoom,!0,t.noUpdate)},_clampZoom:function(t){var e=this.options;return void 0!==e.minNativeZoom&&t<e.minNativeZoom?e.minNativeZoom:void 0!==e.maxNativeZoom&&e.maxNativeZoom<t?e.maxNativeZoom:t},_setView:function(t,e,n,o){var i=this._clampZoom(Math.round(e));(void 0!==this.options.maxZoom&&i>this.options.maxZoom||void 0!==this.options.minZoom&&i<this.options.minZoom)&&(i=void 0);var r=this.options.updateWhenZooming&&i!==this._tileZoom;o&&!r||(this._tileZoom=i,this._abortLoading&&this._abortLoading(),this._updateLevels(),this._resetGrid(),void 0!==i&&this._update(t),n||this._pruneTiles(),this._noPrune=!!n),this._setZoomTransforms(t,e)},_setZoomTransforms:function(t,e){for(var n in this._levels)this._setZoomTransform(this._levels[n],t,e)},_setZoomTransform:function(t,e,n){var o=this._map.getZoomScale(n,t.zoom),i=t.origin.multiplyBy(o).subtract(this._map._getNewPixelOrigin(e,n)).round();mt?ve(t.el,i,o):ye(t.el,i)},_resetGrid:function(){var t=this._map,e=t.options.crs,n=this._tileSize=this.getTileSize(),o=this._tileZoom,i=this._map.getPixelWorldBounds(this._tileZoom);i&&(this._globalTileRange=this._pxBoundsToTileRange(i)),this._wrapX=e.wrapLng&&!this.options.noWrap&&[Math.floor(t.project([0,e.wrapLng[0]],o).x/n.x),Math.ceil(t.project([0,e.wrapLng[1]],o).x/n.y)],this._wrapY=e.wrapLat&&!this.options.noWrap&&[Math.floor(t.project([e.wrapLat[0],0],o).y/n.x),Math.ceil(t.project([e.wrapLat[1],0],o).y/n.y)]},_onMoveEnd:function(){this._map&&!this._map._animatingZoom&&this._update()},_getTiledPixelBounds:function(t){var e=this._map,n=e._animatingZoom?Math.max(e._animateToZoom,e.getZoom()):e.getZoom(),o=e.getZoomScale(n,this._tileZoom),i=e.project(t,this._tileZoom).floor(),r=e.getSize().divideBy(2*o);return new F(i.subtract(r),i.add(r))},_update:function(t){var e=this._map;if(e){var n=this._clampZoom(e.getZoom());if(void 0===t&&(t=e.getCenter()),void 0!==this._tileZoom){var o=this._getTiledPixelBounds(t),i=this._pxBoundsToTileRange(o),r=i.getCenter(),a=[],s=this.options.keepBuffer,l=new F(i.getBottomLeft().subtract([s,-s]),i.getTopRight().add([s,-s]));if(!(isFinite(i.min.x)&&isFinite(i.min.y)&&isFinite(i.max.x)&&isFinite(i.max.y)))throw new Error("Attempted to load an infinite number of tiles");for(var u in this._tiles){var c=this._tiles[u].coords;c.z===this._tileZoom&&l.contains(new D(c.x,c.y))||(this._tiles[u].current=!1)}if(Math.abs(n-this._tileZoom)>1)this._setView(t,n);else{for(var d=i.min.y;d<=i.max.y;d++)for(var p=i.min.x;p<=i.max.x;p++){var h=new D(p,d);if(h.z=this._tileZoom,this._isValidTile(h)){var f=this._tiles[this._tileCoordsToKey(h)];f?f.current=!0:a.push(h)}}if(a.sort((function(t,e){return t.distanceTo(r)-e.distanceTo(r)})),0!==a.length){this._loading||(this._loading=!0,this.fire("loading"));var g=document.createDocumentFragment();for(p=0;p<a.length;p++)this._addTile(a[p],g);this._level.el.appendChild(g)}}}}},_isValidTile:function(t){var e=this._map.options.crs;if(!e.infinite){var n=this._globalTileRange;if(!e.wrapLng&&(t.x<n.min.x||t.x>n.max.x)||!e.wrapLat&&(t.y<n.min.y||t.y>n.max.y))return!1}if(!this.options.bounds)return!0;var o=this._tileCoordsToBounds(t);return G(this.options.bounds).overlaps(o)},_keyToBounds:function(t){return this._tileCoordsToBounds(this._keyToTileCoords(t))},_tileCoordsToNwSe:function(t){var e=this._map,n=this.getTileSize(),o=t.scaleBy(n),i=o.add(n);return[e.unproject(o,t.z),e.unproject(i,t.z)]},_tileCoordsToBounds:function(t){var e=this._tileCoordsToNwSe(t),n=new I(e[0],e[1]);return this.options.noWrap||(n=this._map.wrapLatLngBounds(n)),n},_tileCoordsToKey:function(t){return t.x+":"+t.y+":"+t.z},_keyToTileCoords:function(t){var e=t.split(":"),n=new D(+e[0],+e[1]);return n.z=+e[2],n},_removeTile:function(t){var e=this._tiles[t];e&&(ae(e.el),delete this._tiles[t],this.fire("tileunload",{tile:e.el,coords:this._keyToTileCoords(t)}))},_initTile:function(t){de(t,"leaflet-tile");var e=this.getTileSize();t.style.width=e.x+"px",t.style.height=e.y+"px",t.onselectstart=c,t.onmousemove=c,$&&this.options.opacity<1&&ge(t,this.options.opacity),nt&&!ot&&(t.style.WebkitBackfaceVisibility="hidden")},_addTile:function(t,e){var n=this._getTilePos(t),o=this._tileCoordsToKey(t),i=this.createTile(this._wrapCoords(t),r(this._tileReady,this,t));this._initTile(i),this.createTile.length<2&&A(r(this._tileReady,this,t,null,i)),ye(i,n),this._tiles[o]={el:i,coords:t,current:!0},e.appendChild(i),this.fire("tileloadstart",{tile:i,coords:t})},_tileReady:function(t,e,n){e&&this.fire("tileerror",{error:e,tile:n,coords:t});var o=this._tileCoordsToKey(t);(n=this._tiles[o])&&(n.loaded=+new Date,this._map._fadeAnimated?(ge(n.el,0),O(this._fadeFrame),this._fadeFrame=A(this._updateOpacity,this)):(n.active=!0,this._pruneTiles()),e||(de(n.el,"leaflet-tile-loaded"),this.fire("tileload",{tile:n.el,coords:t})),this._noTilesToLoad()&&(this._loading=!1,this.fire("load"),$||!this._map._fadeAnimated?A(this._pruneTiles,this):setTimeout(r(this._pruneTiles,this),250)))},_getTilePos:function(t){return t.scaleBy(this.getTileSize()).subtract(this._level.origin)},_wrapCoords:function(t){var e=new D(this._wrapX?u(t.x,this._wrapX):t.x,this._wrapY?u(t.y,this._wrapY):t.y);return e.z=t.z,e},_pxBoundsToTileRange:function(t){var e=this.getTileSize();return new F(t.min.unscaleBy(e).floor(),t.max.unscaleBy(e).ceil().subtract([1,1]))},_noTilesToLoad:function(){for(var t in this._tiles)if(!this._tiles[t].loaded)return!1;return!0}}),oo=no.extend({options:{minZoom:0,maxZoom:18,subdomains:"abc",errorTileUrl:"",zoomOffset:0,tms:!1,zoomReverse:!1,detectRetina:!1,crossOrigin:!1},initialize:function(t,e){this._url=t,(e=f(this,e)).detectRetina&&St&&e.maxZoom>0&&(e.tileSize=Math.floor(e.tileSize/2),e.zoomReverse?(e.zoomOffset--,e.minZoom++):(e.zoomOffset++,e.maxZoom--),e.minZoom=Math.max(0,e.minZoom)),"string"==typeof e.subdomains&&(e.subdomains=e.subdomains.split("")),nt||this.on("tileunload",this._onTileRemove)},setUrl:function(t,e){return this._url===t&&void 0===e&&(e=!0),this._url=t,e||this.redraw(),this},createTile:function(t,e){var n=document.createElement("img");return Re(n,"load",r(this._tileOnLoad,this,e,n)),Re(n,"error",r(this._tileOnError,this,e,n)),(this.options.crossOrigin||""===this.options.crossOrigin)&&(n.crossOrigin=!0===this.options.crossOrigin?"":this.options.crossOrigin),n.alt="",n.setAttribute("role","presentation"),n.src=this.getTileUrl(t),n},getTileUrl:function(t){var e={r:St?"@2x":"",s:this._getSubdomain(t),x:t.x,y:t.y,z:this._getZoomForUrl()};if(this._map&&!this._map.options.crs.infinite){var n=this._globalTileRange.max.y-t.y;this.options.tms&&(e.y=n),e["-y"]=n}return v(this._url,o(e,this.options))},_tileOnLoad:function(t,e){$?setTimeout(r(t,this,null,e),0):t(null,e)},_tileOnError:function(t,e,n){var o=this.options.errorTileUrl;o&&e.getAttribute("src")!==o&&(e.src=o),t(n,e)},_onTileRemove:function(t){t.tile.onload=null},_getZoomForUrl:function(){var t=this._tileZoom,e=this.options.maxZoom;return this.options.zoomReverse&&(t=e-t),t+this.options.zoomOffset},_getSubdomain:function(t){var e=Math.abs(t.x+t.y)%this.options.subdomains.length;return this.options.subdomains[e]},_abortLoading:function(){var t,e;for(t in this._tiles)this._tiles[t].coords.z!==this._tileZoom&&((e=this._tiles[t].el).onload=c,e.onerror=c,e.complete||(e.src=_,ae(e),delete this._tiles[t]))},_removeTile:function(t){var e=this._tiles[t];if(e)return rt||e.el.setAttribute("src",_),no.prototype._removeTile.call(this,t)},_tileReady:function(t,e,n){if(this._map&&(!n||n.getAttribute("src")!==_))return no.prototype._tileReady.call(this,t,e,n)}});function io(t,e){return new oo(t,e)}var ro=oo.extend({defaultWmsParams:{service:"WMS",request:"GetMap",layers:"",styles:"",format:"image/jpeg",transparent:!1,version:"1.1.1"},options:{crs:null,uppercase:!1},initialize:function(t,e){this._url=t;var n=o({},this.defaultWmsParams);for(var i in e)i in this.options||(n[i]=e[i]);var r=(e=f(this,e)).detectRetina&&St?2:1,a=this.getTileSize();n.width=a.x*r,n.height=a.y*r,this.wmsParams=n},onAdd:function(t){this._crs=this.options.crs||t.options.crs,this._wmsVersion=parseFloat(this.wmsParams.version);var e=this._wmsVersion>=1.3?"crs":"srs";this.wmsParams[e]=this._crs.code,oo.prototype.onAdd.call(this,t)},getTileUrl:function(t){var e=this._tileCoordsToNwSe(t),n=this._crs,o=M(n.project(e[0]),n.project(e[1])),i=o.min,r=o.max,a=(this._wmsVersion>=1.3&&this._crs===xn?[i.y,i.x,r.y,r.x]:[i.x,i.y,r.x,r.y]).join(","),s=oo.prototype.getTileUrl.call(this,t);return s+g(this.wmsParams,s,this.options.uppercase)+(this.options.uppercase?"&BBOX=":"&bbox=")+a},setParams:function(t,e){return o(this.wmsParams,t),e||this.redraw(),this}});oo.WMS=ro,io.wms=function(t,e){return new ro(t,e)};var ao=An.extend({options:{padding:.1,tolerance:0},initialize:function(t){f(this,t),s(this),this._layers=this._layers||{}},onAdd:function(){this._container||(this._initContainer(),this._zoomAnimated&&de(this._container,"leaflet-zoom-animated")),this.getPane().appendChild(this._container),this._update(),this.on("update",this._updatePaths,this)},onRemove:function(){this.off("update",this._updatePaths,this),this._destroyContainer()},getEvents:function(){var t={viewreset:this._reset,zoom:this._onZoom,moveend:this._update,zoomend:this._onZoomEnd};return this._zoomAnimated&&(t.zoomanim=this._onAnimZoom),t},_onAnimZoom:function(t){this._updateTransform(t.center,t.zoom)},_onZoom:function(){this._updateTransform(this._map.getCenter(),this._map.getZoom())},_updateTransform:function(t,e){var n=this._map.getZoomScale(e,this._zoom),o=be(this._container),i=this._map.getSize().multiplyBy(.5+this.options.padding),r=this._map.project(this._center,e),a=this._map.project(t,e).subtract(r),s=i.multiplyBy(-n).add(o).add(i).subtract(a);mt?ve(this._container,s,n):ye(this._container,s)},_reset:function(){for(var t in this._update(),this._updateTransform(this._center,this._zoom),this._layers)this._layers[t]._reset()},_onZoomEnd:function(){for(var t in this._layers)this._layers[t]._project()},_updatePaths:function(){for(var t in this._layers)this._layers[t]._update()},_update:function(){var t=this.options.padding,e=this._map.getSize(),n=this._map.containerPointToLayerPoint(e.multiplyBy(-t)).round();this._bounds=new F(n,n.add(e.multiplyBy(1+2*t)).round()),this._center=this._map.getCenter(),this._zoom=this._map.getZoom()}}),so=ao.extend({getEvents:function(){var t=ao.prototype.getEvents.call(this);return t.viewprereset=this._onViewPreReset,t},_onViewPreReset:function(){this._postponeUpdatePaths=!0},onAdd:function(){ao.prototype.onAdd.call(this),this._draw()},_initContainer:function(){var t=this._container=document.createElement("canvas");Re(t,"mousemove",l(this._onMouseMove,32,this),this),Re(t,"click dblclick mousedown mouseup contextmenu",this._onClick,this),Re(t,"mouseout",this._handleMouseOut,this),this._ctx=t.getContext("2d")},_destroyContainer:function(){O(this._redrawRequest),delete this._ctx,ae(this._container),Le(this._container),delete this._container},_updatePaths:function(){if(!this._postponeUpdatePaths){for(var t in this._redrawBounds=null,this._layers)this._layers[t]._update();this._redraw()}},_update:function(){if(!this._map._animatingZoom||!this._bounds){ao.prototype._update.call(this);var t=this._bounds,e=this._container,n=t.getSize(),o=St?2:1;ye(e,t.min),e.width=o*n.x,e.height=o*n.y,e.style.width=n.x+"px",e.style.height=n.y+"px",St&&this._ctx.scale(2,2),this._ctx.translate(-t.min.x,-t.min.y),this.fire("update")}},_reset:function(){ao.prototype._reset.call(this),this._postponeUpdatePaths&&(this._postponeUpdatePaths=!1,this._updatePaths())},_initPath:function(t){this._updateDashArray(t),this._layers[s(t)]=t;var e=t._order={layer:t,prev:this._drawLast,next:null};this._drawLast&&(this._drawLast.next=e),this._drawLast=e,this._drawFirst=this._drawFirst||this._drawLast},_addPath:function(t){this._requestRedraw(t)},_removePath:function(t){var e=t._order,n=e.next,o=e.prev;n?n.prev=o:this._drawLast=o,o?o.next=n:this._drawFirst=n,delete t._order,delete this._layers[s(t)],this._requestRedraw(t)},_updatePath:function(t){this._extendRedrawBounds(t),t._project(),t._update(),this._requestRedraw(t)},_updateStyle:function(t){this._updateDashArray(t),this._requestRedraw(t)},_updateDashArray:function(t){if("string"==typeof t.options.dashArray){var e,n,o=t.options.dashArray.split(/[, ]+/),i=[];for(n=0;n<o.length;n++){if(e=Number(o[n]),isNaN(e))return;i.push(e)}t.options._dashArray=i}else t.options._dashArray=t.options.dashArray},_requestRedraw:function(t){this._map&&(this._extendRedrawBounds(t),this._redrawRequest=this._redrawRequest||A(this._redraw,this))},_extendRedrawBounds:function(t){if(t._pxBounds){var e=(t.options.weight||0)+1;this._redrawBounds=this._redrawBounds||new F,this._redrawBounds.extend(t._pxBounds.min.subtract([e,e])),this._redrawBounds.extend(t._pxBounds.max.add([e,e]))}},_redraw:function(){this._redrawRequest=null,this._redrawBounds&&(this._redrawBounds.min._floor(),this._redrawBounds.max._ceil()),this._clear(),this._draw(),this._redrawBounds=null},_clear:function(){var t=this._redrawBounds;if(t){var e=t.getSize();this._ctx.clearRect(t.min.x,t.min.y,e.x,e.y)}else this._ctx.clearRect(0,0,this._container.width,this._container.height)},_draw:function(){var t,e=this._redrawBounds;if(this._ctx.save(),e){var n=e.getSize();this._ctx.beginPath(),this._ctx.rect(e.min.x,e.min.y,n.x,n.y),this._ctx.clip()}this._drawing=!0;for(var o=this._drawFirst;o;o=o.next)t=o.layer,(!e||t._pxBounds&&t._pxBounds.intersects(e))&&t._updatePath();this._drawing=!1,this._ctx.restore()},_updatePoly:function(t,e){if(this._drawing){var n,o,i,r,a=t._parts,s=a.length,l=this._ctx;if(s){for(l.beginPath(),n=0;n<s;n++){for(o=0,i=a[n].length;o<i;o++)r=a[n][o],l[o?"lineTo":"moveTo"](r.x,r.y);e&&l.closePath()}this._fillStroke(l,t)}}},_updateCircle:function(t){if(this._drawing&&!t._empty()){var e=t._point,n=this._ctx,o=Math.max(Math.round(t._radius),1),i=(Math.max(Math.round(t._radiusY),1)||o)/o;1!==i&&(n.save(),n.scale(1,i)),n.beginPath(),n.arc(e.x,e.y/i,o,0,2*Math.PI,!1),1!==i&&n.restore(),this._fillStroke(n,t)}},_fillStroke:function(t,e){var n=e.options;n.fill&&(t.globalAlpha=n.fillOpacity,t.fillStyle=n.fillColor||n.color,t.fill(n.fillRule||"evenodd")),n.stroke&&0!==n.weight&&(t.setLineDash&&t.setLineDash(e.options&&e.options._dashArray||[]),t.globalAlpha=n.opacity,t.lineWidth=n.weight,t.strokeStyle=n.color,t.lineCap=n.lineCap,t.lineJoin=n.lineJoin,t.stroke())},_onClick:function(t){for(var e,n,o=this._map.mouseEventToLayerPoint(t),i=this._drawFirst;i;i=i.next)(e=i.layer).options.interactive&&e._containsPoint(o)&&!this._map._draggableMoved(e)&&(n=e);n&&(We(t),this._fireEvent([n],t))},_onMouseMove:function(t){if(this._map&&!this._map.dragging.moving()&&!this._map._animatingZoom){var e=this._map.mouseEventToLayerPoint(t);this._handleMouseHover(t,e)}},_handleMouseOut:function(t){var e=this._hoveredLayer;e&&(pe(this._container,"leaflet-interactive"),this._fireEvent([e],t,"mouseout"),this._hoveredLayer=null)},_handleMouseHover:function(t,e){for(var n,o,i=this._drawFirst;i;i=i.next)(n=i.layer).options.interactive&&n._containsPoint(e)&&(o=n);o!==this._hoveredLayer&&(this._handleMouseOut(t),o&&(de(this._container,"leaflet-interactive"),this._fireEvent([o],t,"mouseover"),this._hoveredLayer=o)),this._hoveredLayer&&this._fireEvent([this._hoveredLayer],t)},_fireEvent:function(t,e,n){this._map._fireDOMEvent(e,n||e.type,t)},_bringToFront:function(t){var e=t._order;if(e){var n=e.next,o=e.prev;n&&(n.prev=o,o?o.next=n:n&&(this._drawFirst=n),e.prev=this._drawLast,this._drawLast.next=e,e.next=null,this._drawLast=e,this._requestRedraw(t))}},_bringToBack:function(t){var e=t._order;if(e){var n=e.next,o=e.prev;o&&(o.next=n,n?n.prev=o:o&&(this._drawLast=o),e.prev=null,e.next=this._drawFirst,this._drawFirst.prev=e,this._drawFirst=e,this._requestRedraw(t))}}});function lo(t){return At?new so(t):null}var uo=function(){try{return document.namespaces.add("lvml","urn:schemas-microsoft-com:vml"),function(t){return document.createElement("<lvml:"+t+' class="lvml">')}}catch(t){return function(t){return document.createElement("<"+t+' xmlns="urn:schemas-microsoft.com:vml" class="lvml">')}}}(),co={_initContainer:function(){this._container=re("div","leaflet-vml-container")},_update:function(){this._map._animatingZoom||(ao.prototype._update.call(this),this.fire("update"))},_initPath:function(t){var e=t._container=uo("shape");de(e,"leaflet-vml-shape "+(this.options.className||"")),e.coordsize="1 1",t._path=uo("path"),e.appendChild(t._path),this._updateStyle(t),this._layers[s(t)]=t},_addPath:function(t){var e=t._container;this._container.appendChild(e),t.options.interactive&&t.addInteractiveTarget(e)},_removePath:function(t){var e=t._container;ae(e),t.removeInteractiveTarget(e),delete this._layers[s(t)]},_updateStyle:function(t){var e=t._stroke,n=t._fill,o=t.options,i=t._container;i.stroked=!!o.stroke,i.filled=!!o.fill,o.stroke?(e||(e=t._stroke=uo("stroke")),i.appendChild(e),e.weight=o.weight+"px",e.color=o.color,e.opacity=o.opacity,o.dashArray?e.dashStyle=y(o.dashArray)?o.dashArray.join(" "):o.dashArray.replace(/( *, *)/g," "):e.dashStyle="",e.endcap=o.lineCap.replace("butt","flat"),e.joinstyle=o.lineJoin):e&&(i.removeChild(e),t._stroke=null),o.fill?(n||(n=t._fill=uo("fill")),i.appendChild(n),n.color=o.fillColor||o.color,n.opacity=o.fillOpacity):n&&(i.removeChild(n),t._fill=null)},_updateCircle:function(t){var e=t._point.round(),n=Math.round(t._radius),o=Math.round(t._radiusY||n);this._setPath(t,t._empty()?"M0 0":"AL "+e.x+","+e.y+" "+n+","+o+" 0,23592600")},_setPath:function(t,e){t._path.v=e},_bringToFront:function(t){le(t._container)},_bringToBack:function(t){ue(t._container)}},po=Rt?uo:Q,ho=ao.extend({getEvents:function(){var t=ao.prototype.getEvents.call(this);return t.zoomstart=this._onZoomStart,t},_initContainer:function(){this._container=po("svg"),this._container.setAttribute("pointer-events","none"),this._rootGroup=po("g"),this._container.appendChild(this._rootGroup)},_destroyContainer:function(){ae(this._container),Le(this._container),delete this._container,delete this._rootGroup,delete this._svgSize},_onZoomStart:function(){this._update()},_update:function(){if(!this._map._animatingZoom||!this._bounds){ao.prototype._update.call(this);var t=this._bounds,e=t.getSize(),n=this._container;this._svgSize&&this._svgSize.equals(e)||(this._svgSize=e,n.setAttribute("width",e.x),n.setAttribute("height",e.y)),ye(n,t.min),n.setAttribute("viewBox",[t.min.x,t.min.y,e.x,e.y].join(" ")),this.fire("update")}},_initPath:function(t){var e=t._path=po("path");t.options.className&&de(e,t.options.className),t.options.interactive&&de(e,"leaflet-interactive"),this._updateStyle(t),this._layers[s(t)]=t},_addPath:function(t){this._rootGroup||this._initContainer(),this._rootGroup.appendChild(t._path),t.addInteractiveTarget(t._path)},_removePath:function(t){ae(t._path),t.removeInteractiveTarget(t._path),delete this._layers[s(t)]},_updatePath:function(t){t._project(),t._update()},_updateStyle:function(t){var e=t._path,n=t.options;e&&(n.stroke?(e.setAttribute("stroke",n.color),e.setAttribute("stroke-opacity",n.opacity),e.setAttribute("stroke-width",n.weight),e.setAttribute("stroke-linecap",n.lineCap),e.setAttribute("stroke-linejoin",n.lineJoin),n.dashArray?e.setAttribute("stroke-dasharray",n.dashArray):e.removeAttribute("stroke-dasharray"),n.dashOffset?e.setAttribute("stroke-dashoffset",n.dashOffset):e.removeAttribute("stroke-dashoffset")):e.setAttribute("stroke","none"),n.fill?(e.setAttribute("fill",n.fillColor||n.color),e.setAttribute("fill-opacity",n.fillOpacity),e.setAttribute("fill-rule",n.fillRule||"evenodd")):e.setAttribute("fill","none"))},_updatePoly:function(t,e){this._setPath(t,J(t._parts,e))},_updateCircle:function(t){var e=t._point,n=Math.max(Math.round(t._radius),1),o="a"+n+","+(Math.max(Math.round(t._radiusY),1)||n)+" 0 1,0 ",i=t._empty()?"M0 0":"M"+(e.x-n)+","+e.y+o+2*n+",0 "+o+2*-n+",0 ";this._setPath(t,i)},_setPath:function(t,e){t._path.setAttribute("d",e)},_bringToFront:function(t){le(t._path)},_bringToBack:function(t){ue(t._path)}});function fo(t){return Ot||Rt?new ho(t):null}Rt&&ho.include(co),qe.include({getRenderer:function(t){var e=t.options.renderer||this._getPaneRenderer(t.options.pane)||this.options.renderer||this._renderer;return e||(e=this._renderer=this._createRenderer()),this.hasLayer(e)||this.addLayer(e),e},_getPaneRenderer:function(t){if("overlayPane"===t||void 0===t)return!1;var e=this._paneRenderers[t];return void 0===e&&(e=this._createRenderer({pane:t}),this._paneRenderers[t]=e),e},_createRenderer:function(t){return this.options.preferCanvas&&lo(t)||fo(t)}});var go=In.extend({initialize:function(t,e){In.prototype.initialize.call(this,this._boundsToLatLngs(t),e)},setBounds:function(t){return this.setLatLngs(this._boundsToLatLngs(t))},_boundsToLatLngs:function(t){return[(t=G(t)).getSouthWest(),t.getNorthWest(),t.getNorthEast(),t.getSouthEast()]}});ho.create=po,ho.pointsToPath=J,Gn.geometryToLayer=jn,Gn.coordsToLatLng=Un,Gn.coordsToLatLngs=Bn,Gn.latLngToCoords=Vn,Gn.latLngsToCoords=Wn,Gn.getFeature=Hn,Gn.asFeature=zn,qe.mergeOptions({boxZoom:!0});var mo=en.extend({initialize:function(t){this._map=t,this._container=t._container,this._pane=t._panes.overlayPane,this._resetStateTimeout=0,t.on("unload",this._destroy,this)},addHooks:function(){Re(this._container,"mousedown",this._onMouseDown,this)},removeHooks:function(){Le(this._container,"mousedown",this._onMouseDown,this)},moved:function(){return this._moved},_destroy:function(){ae(this._pane),delete this._pane},_resetState:function(){this._resetStateTimeout=0,this._moved=!1},_clearDeferredResetState:function(){0!==this._resetStateTimeout&&(clearTimeout(this._resetStateTimeout),this._resetStateTimeout=0)},_onMouseDown:function(t){if(!t.shiftKey||1!==t.which&&1!==t.button)return!1;this._clearDeferredResetState(),this._resetState(),Qt(),Ce(),this._startPoint=this._map.mouseEventToContainerPoint(t),Re(document,{contextmenu:Ie,mousemove:this._onMouseMove,mouseup:this._onMouseUp,keydown:this._onKeyDown},this)},_onMouseMove:function(t){this._moved||(this._moved=!0,this._box=re("div","leaflet-zoom-box",this._container),de(this._container,"leaflet-crosshair"),this._map.fire("boxzoomstart")),this._point=this._map.mouseEventToContainerPoint(t);var e=new F(this._point,this._startPoint),n=e.getSize();ye(this._box,e.min),this._box.style.width=n.x+"px",this._box.style.height=n.y+"px"},_finish:function(){this._moved&&(ae(this._box),pe(this._container,"leaflet-crosshair")),Jt(),we(),Le(document,{contextmenu:Ie,mousemove:this._onMouseMove,mouseup:this._onMouseUp,keydown:this._onKeyDown},this)},_onMouseUp:function(t){if((1===t.which||1===t.button)&&(this._finish(),this._moved)){this._clearDeferredResetState(),this._resetStateTimeout=setTimeout(r(this._resetState,this),0);var e=new I(this._map.containerPointToLatLng(this._startPoint),this._map.containerPointToLatLng(this._point));this._map.fitBounds(e).fire("boxzoomend",{boxZoomBounds:e})}},_onKeyDown:function(t){27===t.keyCode&&this._finish()}});qe.addInitHook("addHandler","boxZoom",mo),qe.mergeOptions({doubleClickZoom:!0});var vo=en.extend({addHooks:function(){this._map.on("dblclick",this._onDoubleClick,this)},removeHooks:function(){this._map.off("dblclick",this._onDoubleClick,this)},_onDoubleClick:function(t){var e=this._map,n=e.getZoom(),o=e.options.zoomDelta,i=t.originalEvent.shiftKey?n-o:n+o;"center"===e.options.doubleClickZoom?e.setZoom(i):e.setZoomAround(t.containerPoint,i)}});qe.addInitHook("addHandler","doubleClickZoom",vo),qe.mergeOptions({dragging:!0,inertia:!ot,inertiaDeceleration:3400,inertiaMaxSpeed:1/0,easeLinearity:.2,worldCopyJump:!1,maxBoundsViscosity:0});var yo=en.extend({addHooks:function(){if(!this._draggable){var t=this._map;this._draggable=new ln(t._mapPane,t._container),this._draggable.on({dragstart:this._onDragStart,drag:this._onDrag,dragend:this._onDragEnd},this),this._draggable.on("predrag",this._onPreDragLimit,this),t.options.worldCopyJump&&(this._draggable.on("predrag",this._onPreDragWrap,this),t.on("zoomend",this._onZoomEnd,this),t.whenReady(this._onZoomEnd,this))}de(this._map._container,"leaflet-grab leaflet-touch-drag"),this._draggable.enable(),this._positions=[],this._times=[]},removeHooks:function(){pe(this._map._container,"leaflet-grab"),pe(this._map._container,"leaflet-touch-drag"),this._draggable.disable()},moved:function(){return this._draggable&&this._draggable._moved},moving:function(){return this._draggable&&this._draggable._moving},_onDragStart:function(){var t=this._map;if(t._stop(),this._map.options.maxBounds&&this._map.options.maxBoundsViscosity){var e=G(this._map.options.maxBounds);this._offsetLimit=M(this._map.latLngToContainerPoint(e.getNorthWest()).multiplyBy(-1),this._map.latLngToContainerPoint(e.getSouthEast()).multiplyBy(-1).add(this._map.getSize())),this._viscosity=Math.min(1,Math.max(0,this._map.options.maxBoundsViscosity))}else this._offsetLimit=null;t.fire("movestart").fire("dragstart"),t.options.inertia&&(this._positions=[],this._times=[])},_onDrag:function(t){if(this._map.options.inertia){var e=this._lastTime=+new Date,n=this._lastPos=this._draggable._absPos||this._draggable._newPos;this._positions.push(n),this._times.push(e),this._prunePositions(e)}this._map.fire("move",t).fire("drag",t)},_prunePositions:function(t){for(;this._positions.length>1&&t-this._times[0]>50;)this._positions.shift(),this._times.shift()},_onZoomEnd:function(){var t=this._map.getSize().divideBy(2),e=this._map.latLngToLayerPoint([0,0]);this._initialWorldOffset=e.subtract(t).x,this._worldWidth=this._map.getPixelWorldBounds().getSize().x},_viscousLimit:function(t,e){return t-(t-e)*this._viscosity},_onPreDragLimit:function(){if(this._viscosity&&this._offsetLimit){var t=this._draggable._newPos.subtract(this._draggable._startPos),e=this._offsetLimit;t.x<e.min.x&&(t.x=this._viscousLimit(t.x,e.min.x)),t.y<e.min.y&&(t.y=this._viscousLimit(t.y,e.min.y)),t.x>e.max.x&&(t.x=this._viscousLimit(t.x,e.max.x)),t.y>e.max.y&&(t.y=this._viscousLimit(t.y,e.max.y)),this._draggable._newPos=this._draggable._startPos.add(t)}},_onPreDragWrap:function(){var t=this._worldWidth,e=Math.round(t/2),n=this._initialWorldOffset,o=this._draggable._newPos.x,i=(o-e+n)%t+e-n,r=(o+e+n)%t-e-n,a=Math.abs(i+n)<Math.abs(r+n)?i:r;this._draggable._absPos=this._draggable._newPos.clone(),this._draggable._newPos.x=a},_onDragEnd:function(t){var e=this._map,n=e.options,o=!n.inertia||this._times.length<2;if(e.fire("dragend",t),o)e.fire("moveend");else{this._prunePositions(+new Date);var i=this._lastPos.subtract(this._positions[0]),r=(this._lastTime-this._times[0])/1e3,a=n.easeLinearity,s=i.multiplyBy(a/r),l=s.distanceTo([0,0]),u=Math.min(n.inertiaMaxSpeed,l),c=s.multiplyBy(u/l),d=u/(n.inertiaDeceleration*a),p=c.multiplyBy(-d/2).round();p.x||p.y?(p=e._limitOffset(p,e.options.maxBounds),A((function(){e.panBy(p,{duration:d,easeLinearity:a,noMoveStart:!0,animate:!0})}))):e.fire("moveend")}}});qe.addInitHook("addHandler","dragging",yo),qe.mergeOptions({keyboard:!0,keyboardPanDelta:80});var bo=en.extend({keyCodes:{left:[37],right:[39],down:[40],up:[38],zoomIn:[187,107,61,171],zoomOut:[189,109,54,173]},initialize:function(t){this._map=t,this._setPanDelta(t.options.keyboardPanDelta),this._setZoomDelta(t.options.zoomDelta)},addHooks:function(){var t=this._map._container;t.tabIndex<=0&&(t.tabIndex="0"),Re(t,{focus:this._onFocus,blur:this._onBlur,mousedown:this._onMouseDown},this),this._map.on({focus:this._addHooks,blur:this._removeHooks},this)},removeHooks:function(){this._removeHooks(),Le(this._map._container,{focus:this._onFocus,blur:this._onBlur,mousedown:this._onMouseDown},this),this._map.off({focus:this._addHooks,blur:this._removeHooks},this)},_onMouseDown:function(){if(!this._focused){var t=document.body,e=document.documentElement,n=t.scrollTop||e.scrollTop,o=t.scrollLeft||e.scrollLeft;this._map._container.focus(),window.scrollTo(o,n)}},_onFocus:function(){this._focused=!0,this._map.fire("focus")},_onBlur:function(){this._focused=!1,this._map.fire("blur")},_setPanDelta:function(t){var e,n,o=this._panKeys={},i=this.keyCodes;for(e=0,n=i.left.length;e<n;e++)o[i.left[e]]=[-1*t,0];for(e=0,n=i.right.length;e<n;e++)o[i.right[e]]=[t,0];for(e=0,n=i.down.length;e<n;e++)o[i.down[e]]=[0,t];for(e=0,n=i.up.length;e<n;e++)o[i.up[e]]=[0,-1*t]},_setZoomDelta:function(t){var e,n,o=this._zoomKeys={},i=this.keyCodes;for(e=0,n=i.zoomIn.length;e<n;e++)o[i.zoomIn[e]]=t;for(e=0,n=i.zoomOut.length;e<n;e++)o[i.zoomOut[e]]=-t},_addHooks:function(){Re(document,"keydown",this._onKeyDown,this)},_removeHooks:function(){Le(document,"keydown",this._onKeyDown,this)},_onKeyDown:function(t){if(!(t.altKey||t.ctrlKey||t.metaKey)){var e,n=t.keyCode,o=this._map;if(n in this._panKeys)o._panAnim&&o._panAnim._inProgress||(e=this._panKeys[n],t.shiftKey&&(e=N(e).multiplyBy(3)),o.panBy(e),o.options.maxBounds&&o.panInsideBounds(o.options.maxBounds));else if(n in this._zoomKeys)o.setZoom(o.getZoom()+(t.shiftKey?3:1)*this._zoomKeys[n]);else{if(27!==n||!o._popup||!o._popup.options.closeOnEscapeKey)return;o.closePopup()}Ie(t)}}});qe.addInitHook("addHandler","keyboard",bo),qe.mergeOptions({scrollWheelZoom:!0,wheelDebounceTime:40,wheelPxPerZoomLevel:60});var _o=en.extend({addHooks:function(){Re(this._map._container,"mousewheel",this._onWheelScroll,this),this._delta=0},removeHooks:function(){Le(this._map._container,"mousewheel",this._onWheelScroll,this)},_onWheelScroll:function(t){var e=Ue(t),n=this._map.options.wheelDebounceTime;this._delta+=e,this._lastMousePos=this._map.mouseEventToContainerPoint(t),this._startTime||(this._startTime=+new Date);var o=Math.max(n-(+new Date-this._startTime),0);clearTimeout(this._timer),this._timer=setTimeout(r(this._performZoom,this),o),Ie(t)},_performZoom:function(){var t=this._map,e=t.getZoom(),n=this._map.options.zoomSnap||0;t._stop();var o=this._delta/(4*this._map.options.wheelPxPerZoomLevel),i=4*Math.log(2/(1+Math.exp(-Math.abs(o))))/Math.LN2,r=n?Math.ceil(i/n)*n:i,a=t._limitZoom(e+(this._delta>0?r:-r))-e;this._delta=0,this._startTime=null,a&&("center"===t.options.scrollWheelZoom?t.setZoom(e+a):t.setZoomAround(this._lastMousePos,e+a))}});qe.addInitHook("addHandler","scrollWheelZoom",_o),qe.mergeOptions({tap:!0,tapTolerance:15});var Co=en.extend({addHooks:function(){Re(this._map._container,"touchstart",this._onDown,this)},removeHooks:function(){Le(this._map._container,"touchstart",this._onDown,this)},_onDown:function(t){if(t.touches){if(Me(t),this._fireClick=!0,t.touches.length>1)return this._fireClick=!1,void clearTimeout(this._holdTimeout);var e=t.touches[0],n=e.target;this._startPos=this._newPos=new D(e.clientX,e.clientY),n.tagName&&"a"===n.tagName.toLowerCase()&&de(n,"leaflet-active"),this._holdTimeout=setTimeout(r((function(){this._isTapValid()&&(this._fireClick=!1,this._onUp(),this._simulateEvent("contextmenu",e))}),this),1e3),this._simulateEvent("mousedown",e),Re(document,{touchmove:this._onMove,touchend:this._onUp},this)}},_onUp:function(t){if(clearTimeout(this._holdTimeout),Le(document,{touchmove:this._onMove,touchend:this._onUp},this),this._fireClick&&t&&t.changedTouches){var e=t.changedTouches[0],n=e.target;n&&n.tagName&&"a"===n.tagName.toLowerCase()&&pe(n,"leaflet-active"),this._simulateEvent("mouseup",e),this._isTapValid()&&this._simulateEvent("click",e)}},_isTapValid:function(){return this._newPos.distanceTo(this._startPos)<=this._map.options.tapTolerance},_onMove:function(t){var e=t.touches[0];this._newPos=new D(e.clientX,e.clientY),this._simulateEvent("mousemove",e)},_simulateEvent:function(t,e){var n=document.createEvent("MouseEvents");n._simulated=!0,e.target._simulatedClick=!0,n.initMouseEvent(t,!0,!0,window,1,e.screenX,e.screenY,e.clientX,e.clientY,!1,!1,!1,!1,0,null),e.target.dispatchEvent(n)}});wt&&!Ct&&qe.addInitHook("addHandler","tap",Co),qe.mergeOptions({touchZoom:wt&&!ot,bounceAtZoomLimits:!0});var wo=en.extend({addHooks:function(){de(this._map._container,"leaflet-touch-zoom"),Re(this._map._container,"touchstart",this._onTouchStart,this)},removeHooks:function(){pe(this._map._container,"leaflet-touch-zoom"),Le(this._map._container,"touchstart",this._onTouchStart,this)},_onTouchStart:function(t){var e=this._map;if(t.touches&&2===t.touches.length&&!e._animatingZoom&&!this._zooming){var n=e.mouseEventToContainerPoint(t.touches[0]),o=e.mouseEventToContainerPoint(t.touches[1]);this._centerPoint=e.getSize()._divideBy(2),this._startLatLng=e.containerPointToLatLng(this._centerPoint),"center"!==e.options.touchZoom&&(this._pinchStartLatLng=e.containerPointToLatLng(n.add(o)._divideBy(2))),this._startDist=n.distanceTo(o),this._startZoom=e.getZoom(),this._moved=!1,this._zooming=!0,e._stop(),Re(document,"touchmove",this._onTouchMove,this),Re(document,"touchend",this._onTouchEnd,this),Me(t)}},_onTouchMove:function(t){if(t.touches&&2===t.touches.length&&this._zooming){var e=this._map,n=e.mouseEventToContainerPoint(t.touches[0]),o=e.mouseEventToContainerPoint(t.touches[1]),i=n.distanceTo(o)/this._startDist;if(this._zoom=e.getScaleZoom(i,this._startZoom),!e.options.bounceAtZoomLimits&&(this._zoom<e.getMinZoom()&&i<1||this._zoom>e.getMaxZoom()&&i>1)&&(this._zoom=e._limitZoom(this._zoom)),"center"===e.options.touchZoom){if(this._center=this._startLatLng,1===i)return}else{var a=n._add(o)._divideBy(2)._subtract(this._centerPoint);if(1===i&&0===a.x&&0===a.y)return;this._center=e.unproject(e.project(this._pinchStartLatLng,this._zoom).subtract(a),this._zoom)}this._moved||(e._moveStart(!0,!1),this._moved=!0),O(this._animRequest);var s=r(e._move,e,this._center,this._zoom,{pinch:!0,round:!1});this._animRequest=A(s,this,!0),Me(t)}},_onTouchEnd:function(){this._moved&&this._zooming?(this._zooming=!1,O(this._animRequest),Le(document,"touchmove",this._onTouchMove),Le(document,"touchend",this._onTouchEnd),this._map.options.zoomAnimation?this._map._animateZoom(this._center,this._map._limitZoom(this._zoom),!0,this._map.options.zoomSnap):this._map._resetView(this._center,this._map._limitZoom(this._zoom))):this._zooming=!1}});qe.addInitHook("addHandler","touchZoom",wo),qe.BoxZoom=mo,qe.DoubleClickZoom=vo,qe.Drag=yo,qe.Keyboard=bo,qe.ScrollWheelZoom=_o,qe.Tap=Co,qe.TouchZoom=wo,Object.freeze=n,e.version="1.5.1+build.2e3e0ffb",e.Control=Qe,e.control=Je,e.Browser=Lt,e.Evented=P,e.Mixin=on,e.Util=R,e.Class=T,e.Handler=en,e.extend=o,e.bind=r,e.stamp=s,e.setOptions=f,e.DomEvent=Ze,e.DomUtil=Oe,e.PosAnimation=Ye,e.Draggable=ln,e.LineUtil=vn,e.PolyUtil=bn,e.Point=D,e.point=N,e.Bounds=F,e.bounds=M,e.Transformation=z,e.transformation=Z,e.Projection=wn,e.LatLng=j,e.latLng=U,e.LatLngBounds=I,e.latLngBounds=G,e.CRS=V,e.GeoJSON=Gn,e.geoJSON=Yn,e.geoJson=qn,e.Layer=An,e.LayerGroup=On,e.layerGroup=function(t,e){return new On(t,e)},e.FeatureGroup=Rn,e.featureGroup=function(t){return new Rn(t)},e.ImageOverlay=Qn,e.imageOverlay=function(t,e,n){return new Qn(t,e,n)},e.VideoOverlay=Jn,e.videoOverlay=function(t,e,n){return new Jn(t,e,n)},e.SVGOverlay=Kn,e.svgOverlay=function(t,e,n){return new Kn(t,e,n)},e.DivOverlay=Xn,e.Popup=$n,e.popup=function(t,e){return new $n(t,e)},e.Tooltip=to,e.tooltip=function(t,e){return new to(t,e)},e.Icon=Tn,e.icon=function(t){return new Tn(t)},e.DivIcon=eo,e.divIcon=function(t){return new eo(t)},e.Marker=Dn,e.marker=function(t,e){return new Dn(t,e)},e.TileLayer=oo,e.tileLayer=io,e.GridLayer=no,e.gridLayer=function(t){return new no(t)},e.SVG=ho,e.svg=fo,e.Renderer=ao,e.Canvas=so,e.canvas=lo,e.Path=kn,e.CircleMarker=Nn,e.circleMarker=function(t,e){return new Nn(t,e)},e.Circle=Fn,e.circle=function(t,e,n){return new Fn(t,e,n)},e.Polyline=Mn,e.polyline=function(t,e){return new Mn(t,e)},e.Polygon=In,e.polygon=function(t,e){return new In(t,e)},e.Rectangle=go,e.rectangle=function(t,e){return new go(t,e)},e.Map=qe,e.map=function(t,e){return new qe(t,e)};var Eo=window.L;e.noConflict=function(){return window.L=Eo,this},window.L=e}(e)}).call(this,n("4R65"))},"4WOD":function(t,e,n){var o=n("UTVS"),i=n("ewvW"),r=n("93I0"),a=n("4Xet"),s=r("IE_PROTO"),l=Object.prototype;t.exports=a?Object.getPrototypeOf:function(t){return t=i(t),o(t,s)?t[s]:"function"==typeof t.constructor&&t instanceof t.constructor?t.constructor.prototype:t instanceof Object?l:null}},"4Xet":function(t,e,n){var o=n("0Dky");t.exports=!o((function(){function t(){}return t.prototype.constructor=null,Object.getPrototypeOf(new t)!==t.prototype}))},"4mDm":function(t,e,n){"use strict";var o=n("/GqU"),i=n("RNIs"),r=n("P4y1"),a=n("afO8"),s=n("fdAy"),l=a.set,u=a.getterFor("Array Iterator");t.exports=s(Array,"Array",(function(t,e){l(this,{type:"Array Iterator",target:o(t),index:0,kind:e})}),(function(){var t=u(this),e=t.target,n=t.kind,o=t.index++;return!e||o>=e.length?(t.target=void 0,{value:void 0,done:!0}):"keys"==n?{value:o,done:!1}:"values"==n?{value:e[o],done:!1}:{value:[o,e[o]],done:!1}}),"values"),r.Arguments=r.Array,i("keys"),i("values"),i("entries")},"4rkx":function(t,e,n){"use strict";n.r(e),e.default="/BatBase/web/build/images/marker-shadow.a0c6cc14.png"},"4syw":function(t,e,n){var o=n("busE");t.exports=function(t,e,n){for(var i in e)o(t,i,e[i],n);return t}},"51ff":function(t,e,n){},"5DmW":function(t,e,n){var o=n("I+eb"),i=n("0Dky"),r=n("/GqU"),a=n("Bs8V").f,s=n("g6v/"),l=i((function(){a(1)}));o({target:"Object",stat:!0,forced:!s||l,sham:!s},{getOwnPropertyDescriptor:function(t,e){return a(r(t),e)}})},"5JV0":function(t,e,n){"use strict";var o=n("I+eb"),i=n("xDBR"),r=n("glrk"),a=n("WGBp"),s=n("ImZN");o({target:"Set",proto:!0,real:!0,forced:i},{join:function(t){var e=r(this),n=a(e),o=void 0===t?",":String(t),i=[];return s(n,i.push,i,!1,!0),i.join(o)}})},"5mdu":function(t,e){t.exports=function(t){try{return{error:!1,value:t()}}catch(t){return{error:!0,value:t}}}},"5s+n":function(t,e,n){"use strict";var o,i,r,a,s=n("I+eb"),l=n("xDBR"),u=n("2oRo"),c=n("Qo9l"),d=n("/qmn"),p=n("busE"),h=n("4syw"),f=n("1E5z"),g=n("JiZb"),m=n("hh1v"),v=n("HAuM"),y=n("GarU"),b=n("xrYK"),_=n("ImZN"),C=n("HH4o"),w=n("SEBh"),E=n("LPSS").set,x=n("tXUg"),S=n("zfnd"),A=n("RN6c"),O=n("8GlL"),R=n("5mdu"),T=n("s5pE"),L=n("afO8"),P=n("lMq5"),D=n("tiKp")("species"),k="Promise",N=L.get,F=L.set,M=L.getterFor(k),I=d,G=u.TypeError,j=u.document,U=u.process,B=u.fetch,V=U&&U.versions,W=V&&V.v8||"",H=O.f,z=H,Z="process"==b(U),Y=!!(j&&j.createEvent&&u.dispatchEvent),q=P(k,(function(){var t=I.resolve(1),e=function(){},n=(t.constructor={})[D]=function(t){t(e,e)};return!((Z||"function"==typeof PromiseRejectionEvent)&&(!l||t.finally)&&t.then(e)instanceof n&&0!==W.indexOf("6.6")&&-1===T.indexOf("Chrome/66"))})),Q=q||!C((function(t){I.all(t).catch((function(){}))})),J=function(t){var e;return!(!m(t)||"function"!=typeof(e=t.then))&&e},K=function(t,e,n){if(!e.notified){e.notified=!0;var o=e.reactions;x((function(){for(var i=e.value,r=1==e.state,a=0;o.length>a;){var s,l,u,c=o[a++],d=r?c.ok:c.fail,p=c.resolve,h=c.reject,f=c.domain;try{d?(r||(2===e.rejection&&et(t,e),e.rejection=1),!0===d?s=i:(f&&f.enter(),s=d(i),f&&(f.exit(),u=!0)),s===c.promise?h(G("Promise-chain cycle")):(l=J(s))?l.call(s,p,h):p(s)):h(i)}catch(t){f&&!u&&f.exit(),h(t)}}e.reactions=[],e.notified=!1,n&&!e.rejection&&$(t,e)}))}},X=function(t,e,n){var o,i;Y?((o=j.createEvent("Event")).promise=e,o.reason=n,o.initEvent(t,!1,!0),u.dispatchEvent(o)):o={promise:e,reason:n},(i=u["on"+t])?i(o):"unhandledrejection"===t&&A("Unhandled promise rejection",n)},$=function(t,e){E.call(u,(function(){var n,o=e.value;if(tt(e)&&(n=R((function(){Z?U.emit("unhandledRejection",o,t):X("unhandledrejection",t,o)})),e.rejection=Z||tt(e)?2:1,n.error))throw n.value}))},tt=function(t){return 1!==t.rejection&&!t.parent},et=function(t,e){E.call(u,(function(){Z?U.emit("rejectionHandled",t):X("rejectionhandled",t,e.value)}))},nt=function(t,e,n,o){return function(i){t(e,n,i,o)}},ot=function(t,e,n,o){e.done||(e.done=!0,o&&(e=o),e.value=n,e.state=2,K(t,e,!0))},it=function(t,e,n,o){if(!e.done){e.done=!0,o&&(e=o);try{if(t===n)throw G("Promise can't be resolved itself");var i=J(n);i?x((function(){var o={done:!1};try{i.call(n,nt(it,t,o,e),nt(ot,t,o,e))}catch(n){ot(t,o,n,e)}})):(e.value=n,e.state=1,K(t,e,!1))}catch(n){ot(t,{done:!1},n,e)}}};q&&(I=function(t){y(this,I,k),v(t),o.call(this);var e=N(this);try{t(nt(it,this,e),nt(ot,this,e))}catch(t){ot(this,e,t)}},(o=function(t){F(this,{type:k,done:!1,notified:!1,parent:!1,reactions:[],rejection:!1,state:0,value:void 0})}).prototype=h(I.prototype,{then:function(t,e){var n=M(this),o=H(w(this,I));return o.ok="function"!=typeof t||t,o.fail="function"==typeof e&&e,o.domain=Z?U.domain:void 0,n.parent=!0,n.reactions.push(o),0!=n.state&&K(this,n,!1),o.promise},catch:function(t){return this.then(void 0,t)}}),i=function(){var t=new o,e=N(t);this.promise=t,this.resolve=nt(it,t,e),this.reject=nt(ot,t,e)},O.f=H=function(t){return t===I||t===r?new i(t):z(t)},l||"function"!=typeof d||(a=d.prototype.then,p(d.prototype,"then",(function(t,e){var n=this;return new I((function(t,e){a.call(n,t,e)})).then(t,e)})),"function"==typeof B&&s({global:!0,enumerable:!0,forced:!0},{fetch:function(t){return S(I,B.apply(u,arguments))}}))),s({global:!0,wrap:!0,forced:q},{Promise:I}),f(I,k,!1,!0),g(k),r=c[k],s({target:k,stat:!0,forced:q},{reject:function(t){var e=H(this);return e.reject.call(void 0,t),e.promise}}),s({target:k,stat:!0,forced:l||q},{resolve:function(t){return S(l&&this===r?I:this,t)}}),s({target:k,stat:!0,forced:Q},{all:function(t){var e=this,n=H(e),o=n.resolve,i=n.reject,r=R((function(){var n=v(e.resolve),r=[],a=0,s=1;_(t,(function(t){var l=a++,u=!1;r.push(void 0),s++,n.call(e,t).then((function(t){u||(u=!0,r[l]=t,--s||o(r))}),i)})),--s||o(r)}));return r.error&&i(r.value),n.promise},race:function(t){var e=this,n=H(e),o=n.reject,i=R((function(){var i=v(e.resolve);_(t,(function(t){i.call(e,t).then(n.resolve,o)}))}));return i.error&&o(i.value),n.promise}})},"6PXS":function(t,e,n){"use strict";(function(t){n.d(e,"b",(function(){return s})),n.d(e,"e",(function(){return l})),n.d(e,"d",(function(){return d})),n.d(e,"c",(function(){return f})),n.d(e,"a",(function(){return g}));var o=n("9AQC"),i=n("wCA9"),r=n("9/Zf"),a=n("+924");function s(t,e,n){if(e in t){var o=t[e],i=n(o);if("function"==typeof i)try{i.prototype=i.prototype||{},Object.defineProperties(i,{__sentry_original__:{enumerable:!1,value:o}})}catch(t){}t[e]=i}}function l(t){return Object.keys(t).map((function(e){return encodeURIComponent(e)+"="+encodeURIComponent(t[e])})).join("&")}function u(t){if(Object(o.d)(t)){var e=t,n={message:e.message,name:e.name,stack:e.stack};for(var i in e)Object.prototype.hasOwnProperty.call(e,i)&&(n[i]=e[i]);return n}if(Object(o.f)(t)){var a=t,s={};s.type=a.type;try{s.target=Object(o.c)(a.target)?Object(r.i)(a.target):Object.prototype.toString.call(a.target)}catch(t){s.target="<unknown>"}try{s.currentTarget=Object(o.c)(a.currentTarget)?Object(r.i)(a.currentTarget):Object.prototype.toString.call(a.currentTarget)}catch(t){s.currentTarget="<unknown>"}for(var i in"undefined"!=typeof CustomEvent&&Object(o.g)(t,CustomEvent)&&(s.detail=a.detail),a)Object.prototype.hasOwnProperty.call(a,i)&&(s[i]=a);return s}return t}function c(t){return function(t){return~-encodeURI(t).split(/%..|./).length}(JSON.stringify(t))}function d(t,e,n){void 0===e&&(e=3),void 0===n&&(n=102400);var o=f(t,e);return c(o)>n?d(t,e-1,n):o}function p(e,n){return"domain"===n&&e&&"object"==typeof e&&e._events?"[Domain]":"domainEmitter"===n?"[DomainEmitter]":void 0!==t&&e===t?"[Global]":"undefined"!=typeof window&&e===window?"[Window]":"undefined"!=typeof document&&e===document?"[Document]":Object(o.l)(e)?"[SyntheticEvent]":"number"==typeof e&&e!=e?"[NaN]":void 0===e?"[undefined]":"function"==typeof e?"[Function: "+Object(r.f)(e)+"]":e}function h(t,e,n,r){if(void 0===n&&(n=1/0),void 0===r&&(r=new i.a),0===n)return function(t){var e=Object.prototype.toString.call(t);if("string"==typeof t)return t;if("[object Object]"===e)return"[Object]";if("[object Array]"===e)return"[Array]";var n=p(t);return Object(o.i)(n)?n:e}(e);if(null!=e&&"function"==typeof e.toJSON)return e.toJSON();var a=p(e,t);if(Object(o.i)(a))return a;var s=u(e),l=Array.isArray(e)?[]:{};if(r.memoize(e))return"[Circular ~]";for(var c in s)Object.prototype.hasOwnProperty.call(s,c)&&(l[c]=h(c,s[c],n-1,r));return r.unmemoize(e),l}function f(t,e){try{return JSON.parse(JSON.stringify(t,(function(t,n){return h(t,n,e)})))}catch(t){return"**non-serializable**"}}function g(t,e){void 0===e&&(e=40);var n=Object.keys(u(t));if(n.sort(),!n.length)return"[object has no keys]";if(n[0].length>=e)return Object(a.d)(n[0],e);for(var o=n.length;o>0;o--){var i=n.slice(0,o).join(", ");if(!(i.length>e))return o===n.length?i:Object(a.d)(i,e)}return""}}).call(this,n("yLpj"))},"6VoE":function(t,e,n){var o=n("tiKp"),i=n("P4y1"),r=o("iterator"),a=Array.prototype;t.exports=function(t){return void 0!==t&&(i.Array===t||a[r]===t)}},"7W2i":function(t,e,n){var o=n("SksO");t.exports=function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&o(t,e)}},"8GlL":function(t,e,n){"use strict";var o=n("HAuM"),i=function(t){var e,n;this.promise=new t((function(t,o){if(void 0!==e||void 0!==n)throw TypeError("Bad Promise constructor");e=t,n=o})),this.resolve=o(e),this.reject=o(n)};t.exports.f=function(t){return new i(t)}},"8LbN":function(t,e,n){"use strict";n.d(e,"a",(function(){return s}));var o=n("9/Zf"),i=Object(o.g)(),r="Sentry Logger ",a=function(){function t(){this._enabled=!1}return t.prototype.disable=function(){this._enabled=!1},t.prototype.enable=function(){this._enabled=!0},t.prototype.log=function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];this._enabled&&Object(o.c)((function(){i.console.log(r+"[Log]: "+t.join(" "))}))},t.prototype.warn=function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];this._enabled&&Object(o.c)((function(){i.console.warn(r+"[Warn]: "+t.join(" "))}))},t.prototype.error=function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];this._enabled&&Object(o.c)((function(){i.console.error(r+"[Error]: "+t.join(" "))}))},t}();i.__SENTRY__=i.__SENTRY__||{};var s=i.__SENTRY__.logger||(i.__SENTRY__.logger=new a)},"8YOa":function(t,e,n){var o=n("0BK2"),i=n("hh1v"),r=n("UTVS"),a=n("m/L8").f,s=n("kOOl"),l=n("uy83"),u=s("meta"),c=0,d=Object.isExtensible||function(){return!0},p=function(t){a(t,u,{value:{objectID:"O"+ ++c,weakData:{}}})},h=t.exports={REQUIRED:!1,fastKey:function(t,e){if(!i(t))return"symbol"==typeof t?t:("string"==typeof t?"S":"P")+t;if(!r(t,u)){if(!d(t))return"F";if(!e)return"E";p(t)}return t[u].objectID},getWeakData:function(t,e){if(!r(t,u)){if(!d(t))return!0;if(!e)return!1;p(t)}return t[u].weakData},onFreeze:function(t){return l&&h.REQUIRED&&d(t)&&!r(t,u)&&p(t),t}};o[u]=!0},"8oxB":function(t,e){var n,o,i=t.exports={};function r(){throw new Error("setTimeout has not been defined")}function a(){throw new Error("clearTimeout has not been defined")}function s(t){if(n===setTimeout)return setTimeout(t,0);if((n===r||!n)&&setTimeout)return n=setTimeout,setTimeout(t,0);try{return n(t,0)}catch(e){try{return n.call(null,t,0)}catch(e){return n.call(this,t,0)}}}!function(){try{n="function"==typeof setTimeout?setTimeout:r}catch(t){n=r}try{o="function"==typeof clearTimeout?clearTimeout:a}catch(t){o=a}}();var l,u=[],c=!1,d=-1;function p(){c&&l&&(c=!1,l.length?u=l.concat(u):d=-1,u.length&&h())}function h(){if(!c){var t=s(p);c=!0;for(var e=u.length;e;){for(l=u,u=[];++d<e;)l&&l[d].run();d=-1,e=u.length}l=null,c=!1,function(t){if(o===clearTimeout)return clearTimeout(t);if((o===a||!o)&&clearTimeout)return o=clearTimeout,clearTimeout(t);try{o(t)}catch(e){try{return o.call(null,t)}catch(e){return o.call(this,t)}}}(t)}}function f(t,e){this.fun=t,this.array=e}function g(){}i.nextTick=function(t){var e=new Array(arguments.length-1);if(arguments.length>1)for(var n=1;n<arguments.length;n++)e[n-1]=arguments[n];u.push(new f(t,e)),1!==u.length||c||s(h)},f.prototype.run=function(){this.fun.apply(null,this.array)},i.title="browser",i.browser=!0,i.env={},i.argv=[],i.version="",i.versions={},i.on=g,i.addListener=g,i.once=g,i.off=g,i.removeListener=g,i.removeAllListeners=g,i.emit=g,i.prependListener=g,i.prependOnceListener=g,i.listeners=function(t){return[]},i.binding=function(t){throw new Error("process.binding is not supported")},i.cwd=function(){return"/"},i.chdir=function(t){throw new Error("process.chdir is not supported")},i.umask=function(){return 0}},"9/Zf":function(t,e,n){"use strict";(function(t,o){n.d(e,"d",(function(){return r})),n.d(e,"j",(function(){return a})),n.d(e,"g",(function(){return l})),n.d(e,"n",(function(){return u})),n.d(e,"l",(function(){return c})),n.d(e,"e",(function(){return d})),n.d(e,"c",(function(){return p})),n.d(e,"b",(function(){return h})),n.d(e,"a",(function(){return f})),n.d(e,"h",(function(){return g})),n.d(e,"i",(function(){return m})),n.d(e,"m",(function(){return y})),n.d(e,"k",(function(){return b})),n.d(e,"f",(function(){return _}));var i=n("9AQC");n("+924");function r(t,e){return t.require(e)}function a(){return"[object process]"===Object.prototype.toString.call(void 0!==t?t:0)}var s={};function l(){return a()?o:"undefined"!=typeof window?window:"undefined"!=typeof self?self:s}function u(){var t=l(),e=t.crypto||t.msCrypto;if(void 0!==e&&e.getRandomValues){var n=new Uint16Array(8);e.getRandomValues(n),n[3]=4095&n[3]|16384,n[4]=16383&n[4]|32768;var o=function(t){for(var e=t.toString(16);e.length<4;)e="0"+e;return e};return o(n[0])+o(n[1])+o(n[2])+o(n[3])+o(n[4])+o(n[5])+o(n[6])+o(n[7])}return"xxxxxxxxxxxx4xxxyxxxxxxxxxxxxxxx".replace(/[xy]/g,(function(t){var e=16*Math.random()|0;return("x"===t?e:3&e|8).toString(16)}))}function c(t){if(!t)return{};var e=t.match(/^(([^:\/?#]+):)?(\/\/([^\/?#]*))?([^?#]*)(\?([^#]*))?(#(.*))?$/);if(!e)return{};var n=e[6]||"",o=e[8]||"";return{host:e[4],path:e[5],protocol:e[2],relative:e[5]+n+o}}function d(t){if(t.message)return t.message;if(t.exception&&t.exception.values&&t.exception.values[0]){var e=t.exception.values[0];return e.type&&e.value?e.type+": "+e.value:e.type||e.value||t.event_id||"<unknown>"}return t.event_id||"<unknown>"}function p(t){var e=l();if(!("console"in e))return t();var n=e.console,o={};["debug","info","warn","error","log","assert"].forEach((function(t){t in e.console&&n[t].__sentry_original__&&(o[t]=n[t],n[t]=n[t].__sentry_original__)}));var i=t();return Object.keys(o).forEach((function(t){n[t]=o[t]})),i}function h(t,e,n){t.exception=t.exception||{},t.exception.values=t.exception.values||[],t.exception.values[0]=t.exception.values[0]||{},t.exception.values[0].value=t.exception.values[0].value||e||"",t.exception.values[0].type=t.exception.values[0].type||n||"Error"}function f(t,e){void 0===e&&(e={});try{t.exception.values[0].mechanism=t.exception.values[0].mechanism||{},Object.keys(e).forEach((function(n){t.exception.values[0].mechanism[n]=e[n]}))}catch(t){}}function g(){try{return document.location.href}catch(t){return""}}function m(t){try{for(var e=t,n=[],o=0,i=0,r=" > ".length,a=void 0;e&&o++<5&&!("html"===(a=v(e))||o>1&&i+n.length*r+a.length>=80);)n.push(a),i+=a.length,e=e.parentNode;return n.reverse().join(" > ")}catch(t){return"<unknown>"}}function v(t){var e,n,o,r,a,s=t,l=[];if(!s||!s.tagName)return"";if(l.push(s.tagName.toLowerCase()),s.id&&l.push("#"+s.id),(e=s.className)&&Object(i.k)(e))for(n=e.split(/\s+/),a=0;a<n.length;a++)l.push("."+n[a]);var u=["type","name","title","alt"];for(a=0;a<u.length;a++)o=u[a],(r=s.getAttribute(o))&&l.push("["+o+'="'+r+'"]');return l.join("")}function y(){return(new Date).getTime()/1e3}function b(t,e){if(!e)return 6e4;var n=parseInt(""+e,10);if(!isNaN(n))return 1e3*n;var o=Date.parse(""+e);return isNaN(o)?6e4:o-t}function _(t){try{return t&&"function"==typeof t&&t.name||"<anonymous>"}catch(t){return"<anonymous>"}}}).call(this,n("8oxB"),n("yLpj"))},"9AQC":function(t,e,n){"use strict";function o(t){switch(Object.prototype.toString.call(t)){case"[object Error]":case"[object Exception]":case"[object DOMException]":return!0;default:return g(t,Error)}}function i(t){return"[object ErrorEvent]"===Object.prototype.toString.call(t)}function r(t){return"[object DOMError]"===Object.prototype.toString.call(t)}function a(t){return"[object DOMException]"===Object.prototype.toString.call(t)}function s(t){return"[object String]"===Object.prototype.toString.call(t)}function l(t){return null===t||"object"!=typeof t&&"function"!=typeof t}function u(t){return"[object Object]"===Object.prototype.toString.call(t)}function c(t){return"undefined"!=typeof Event&&g(t,Event)}function d(t){return"undefined"!=typeof Element&&g(t,Element)}function p(t){return"[object RegExp]"===Object.prototype.toString.call(t)}function h(t){return Boolean(t&&t.then&&"function"==typeof t.then)}function f(t){return u(t)&&"nativeEvent"in t&&"preventDefault"in t&&"stopPropagation"in t}function g(t,e){try{return t instanceof e}catch(t){return!1}}n.d(e,"d",(function(){return o})),n.d(e,"e",(function(){return i})),n.d(e,"a",(function(){return r})),n.d(e,"b",(function(){return a})),n.d(e,"k",(function(){return s})),n.d(e,"i",(function(){return l})),n.d(e,"h",(function(){return u})),n.d(e,"f",(function(){return c})),n.d(e,"c",(function(){return d})),n.d(e,"j",(function(){return p})),n.d(e,"m",(function(){return h})),n.d(e,"l",(function(){return f})),n.d(e,"g",(function(){return g}))},AVoK:function(t,e,n){"use strict";var o=n("I+eb"),i=n("xDBR"),r=n("Cg3G");o({target:"Set",proto:!0,real:!0,forced:i},{deleteAll:function(){return r.apply(this,arguments)}})},AW0z:function(t,e,n){"use strict";(function(t){n.d(e,"d",(function(){return r})),n.d(e,"b",(function(){return s})),n.d(e,"a",(function(){return l})),n.d(e,"c",(function(){return u}));n("TeQF"),n("yq1k"),n("2B1R"),n("sMBO"),n("zKZe"),n("JTJg"),n("SYor");var o=n("Zz5/"),i=n("kfS4");function r(e){var n=function(t){var e="sel-cntnr flex-row"+("Taxon"==t?" taxonLbl":" txtLbl");return Object(i._u)("buildElem",["label",{class:e}])}(e),o=Object(i._u)("buildElem",["span",{text:"Name:"}]),r=function(e){var n={type:"text",name:"sel"+e,placeholder:e+" Name (Press Enter to Filter)"},o=Object(i._u)("buildElem",["input",n]);return function(e,n){var o={Location:"locTxtInput",Taxon:"taxonSel"};if(!o[e])return;t(n).addClass(o[e])}(e,o),function(e,n){return t(n).change(a.bind(null,e)),n}(e,o)}(e);return t(n).append([o,r]),n}function a(t,e){var n=function(t){var e={Location:d,Publication:p,Taxon:h};return e[t]?e[t]:l}(t),i=s(t);!function(t){var e=!!t&&'"'+t+'"';o.setPanelFilterState("name",e)}(i),n(i)}function s(e){return t('input[name="sel'+e+'"]').val().trim().toLowerCase()}function l(t){Object(i.accessTableState)().get(null,["api","curFocus","rowData"]).api.setRowData(function(t){var e=o.getCurRowData();return""===t?e:u(e,t)}(t)),Object(i._ui)("updateFilterStatusMsg"),Object(i._ui)("setTreeToggleData",[!1])}function u(t,e){var n=Object(i.accessTableState)().get("curFocus");return t.map((function(t){return Object.assign({},t)})).filter((function(t){var o=function(t,e){return t.name.toLowerCase().includes(e)}(t,e);return function(t,e){return c(t,e)&&!e.children[0].hasOwnProperty("interactionType")}(n,t)&&(t.children=u(t.children,e)),o||!!c(n,t)&&!t.children[0].hasOwnProperty("interactionType")}))}function c(t,e){return"srcs"!==t&&(e.children&&e.children.length>0)}function d(t){o.applyLocFilter(null,t)}function p(t){var e=Object(i._u)("getSelVal",["Publication Type"]);if(e)return o.applyPubFilter(e,t);l(t)}function h(t){o.applyTxnFilter(null,t)}}).call(this,n("EVdn"))},B6y2:function(t,e,n){var o=n("I+eb"),i=n("b1O7").values;o({target:"Object",stat:!0},{values:function(t){return i(t)}})},BGb9:function(t,e,n){"use strict";var o=n("I+eb"),i=n("xDBR"),r=n("0GbY"),a=n("glrk"),s=n("HAuM"),l=n("SEBh"),u=n("ImZN");o({target:"Set",proto:!0,real:!0,forced:i},{union:function(t){var e=a(this),n=new(l(e,r("Set")))(e);return u(t,s(n.add),n),n}})},BIHw:function(t,e,n){"use strict";var o=n("I+eb"),i=n("or9q"),r=n("ewvW"),a=n("UMSQ"),s=n("ppGB"),l=n("ZfDv");o({target:"Array",proto:!0},{flat:function(){var t=arguments.length?arguments[0]:void 0,e=r(this),n=a(e.length),o=l(e,0);return o.length=i(o,e,e,n,0,void 0===t?1:s(t)),o}})},Bkhk:function(t,e,n){"use strict";n.d(e,"a",(function(){return s}));n("2B1R"),n("sMBO"),n("tkto");var o,i=n("i8il"),r=n("kfS4"),a=n("IaMx");n("yqje");function s(){console.log("       /--exportCsvData"),Object(a.fadeTable)(),o=Object(r.accessTableState)().get(),i.getData(["interaction","taxon"]).then(u).then(l)}function l(){var t;d(!0),p(!0),f(!1),(t=o.api).expandAll(),t.forEachNodeAfterFilter(c),o.api.exportDataAsCsv({onlySelected:!0,fileName:"Bat Eco-Interaction Records.csv"}),Object(a.collapseTree)(),d(!1),p(!1),f(!0),Object(a.showTable)(),"taxa"===o.curFocus&&Object(a.expandTreeByOne)()}function u(t){var e={},n=t;function i(t,o,i){!function(t,r){var a=n.taxon[i[t]];e[a.name]?function t(n,i,r){if(o[r.col]=i,!r.prnt)return;t(n,r.prnt,e[r.prnt])}(t,a.name,e[a.name]):function t(i,r){var a=!r.isRoot&&n.taxon[r.parent];if(s(),!a)return;function s(){var t,n,s=("subject"==i?"subj":"obj")+r.level.displayName;t=s,n=!!a&&a.name,e[r.name]={col:t,prnt:n},o[s]=r.name}t(i,a)}(t,a)}(t,i[t])}o.api.forEachNodeAfterFilter((function(t){if("Interaction"!==t.data.entity)return;var e=n.interaction[t.data.id];i("subject",t.data,e),i("object",t.data,e)})),o.api.refreshView()}function c(t){"Interaction"===t.data.entity&&t.setSelected(!0)}function d(t){if(t||"locs"!==o.curFocus){h(["lat","lng","elev","elevMax"],t)}}function p(t){h(["subjOrder","subjGenus","subjFamily","subjSpecies","objDomain","objectKingdom","objPhylum","objClass","objOrder","objGenus","objFamily","objSpecies"],t)}function h(t,e){o.columnApi.setColumnsVisible(t,e)}function f(t){h(["name","intCnt","edit","map","subject","object"],t)}},BuLb:function(t,e,n){"use strict";n("BIHw"),n("oVuX"),n("2B1R"),n("QGkA"),n("tkto"),n("EnZy"),n("FZtP");var o=n("FNQh");e.a=function(t,e,n){return"editor"===t&&(t="author"),function(t,e,n){var i=o.confg("getCoreEntity",[t]),r=function(e){return e[i]={flat:{},rel:{}},e[t]={flat:{},rel:{}},e}({});i!==t&&(r[i].rel[i+"Type"]=t,r[i].hasDetail=!0);return function(t,e,n,i){var r=o.confg("getFieldTranslations",[t]),a=o.confg("getRelationshipFields",[t]),s=!n||function(t){return Object.keys(o.confg("getCoreFieldDefs",[t])).map((function(t){return o.util("lcfirst",[t.split(" ").join("")])}))}(t);for(var l in e)u(l,e[l]);function u(e,o){var l,u=-1!==a.indexOf(e)?"rel":"flat";function c(t,e){!1!==e&&(Array.isArray(e)?e.forEach((function(e){return t[e]=o})):t[e]=o)}e in r?function(){var t=r[e];for(var n in t)c(i[n][u],t[n])}():(l=n&&-1!==s.indexOf(e)?n:t,i[l][u][e]=o)}}(t,e,i,r),function(t,e,n){var i={location:function(){var t=o.state("getStateProp",["editing"]);if(!(t||e.latitude&&e.longitude))return;var i=JSON.stringify([e.longitude,e.latitude]);n.geoJson={flat:{displayPoint:i,coordinates:t?(r=o.state("getFormProp",["top","geoJson"]),r?r.coordinates:i):i,type:"Point"},rel:{}},n.location.hasDetail=!0,delete n.false;var r},taxon:function(){var t="Species"==e.level;n.taxon.flat.displayName=t?e.displayName:e.level+" "+e.displayName},interaction:function(){e.location=e.location||439}};i[t]&&i[t]()}(t,e,r),r}(t,n)}},C1JJ:function(t,e,n){"use strict";var o=n("I+eb"),i=n("xDBR"),r=n("glrk"),a=n("HAuM"),s=n("ImZN");o({target:"Set",proto:!0,real:!0,forced:i},{isDisjointFrom:function(t){var e=r(this),n=a(e.has);return!s(t,(function(t){if(!0===n.call(e,t))return s.stop()})).stopped}})},Cg3G:function(t,e,n){"use strict";var o=n("glrk"),i=n("HAuM");t.exports=function(){for(var t,e=o(this),n=i(e.delete),r=!0,a=0,s=arguments.length;a<s;a++)t=n.call(e,arguments[a]),r=r&&t;return!!r}},Co1j:function(t,e,n){"use strict";var o=n("I+eb"),i=n("xDBR"),r=n("glrk"),a=n("HAuM"),s=n("ImZN");o({target:"Set",proto:!0,real:!0,forced:i},{isSupersetOf:function(t){var e=r(this),n=a(e.has);return!s(t,(function(t){if(!1===n.call(e,t))return s.stop()})).stopped}})},D8Fd:function(t,e,n){"use strict";n.r(e),function(t){n.d(e,"buildFormRow",(function(){return r})),n.d(e,"buildFormRows",(function(){return a})),n.d(e,"getFormFieldRows",(function(){return s}));n("4mDm"),n("2B1R"),n("07d7"),n("5s+n"),n("PKPk"),n("3bBZ");var o=n("FNQh"),i=n("R0t5");function r(){var t;return(t=n("+pG1")).default.apply(t,arguments)}function a(e,n,i,r){return s(e,n,i).then((function(n){var r=e+"_Rows";t("#"+r).length&&(r=r+"_"+i);var a={id:r,class:"flex-row flex-wrap"},s=o.util("buildElem",["div",a]);return t(s).append(n),s}))}function s(e,n,a){return function(e,n,i,a){return Promise.all(e.order.map((function(e){return Array.isArray(e)?(n=e,i=o.util("buildElem",["div",{class:"full-row flex-row cntnr-row"}]),n.reduce((function(e,n){return e.then((function(){return s(n).then((function(e){return t(i).append(e)}))}))}),Promise.resolve()).then((function(){return i}))):s(e);var n,i})));function s(t){return function(t,e,n,i,a){var s={name:t,required:-1!==e.required.indexOf(t),type:e.fields[t],value:i[t]?i[t]:"multiSelect"==e.fields[t]?{}:null};return o.elems("buildFieldInput",[s,n,a]).then((function(e){return r(o.util("ucfirst",[t]),e,a,"")}))}(t,e,n,i,a)}}(Object(i.a)(o.util("lcfirst",[e]),a),e,n,a)}}.call(this,n("EVdn"))},DTth:function(t,e,n){var o=n("0Dky"),i=n("tiKp"),r=n("xDBR"),a=i("iterator");t.exports=!o((function(){var t=new URL("b?e=1","http://a"),e=t.searchParams;return t.pathname="c%20d",r&&!t.toJSON||!e.sort||"http://a/c%20d?e=1"!==t.href||"1"!==e.get("e")||"a=1"!==String(new URLSearchParams("?a=1"))||!e[a]||"a"!==new URL("https://a@b").username||"b"!==new URLSearchParams(new URLSearchParams("a=b")).get("a")||"xn--e1aybc"!==new URL("http://—Ç–µ—Å—Ç").host||"#%D0%B1"!==new URL("http://a#–±").hash}))},E5fR:function(t,e,n){"use strict";function o(t){switch(Object.prototype.toString.call(t)){case"[object Error]":case"[object Exception]":case"[object DOMException]":return!0;default:return d(t,Error)}}function i(t){return"[object String]"===Object.prototype.toString.call(t)}function r(t){return null===t||"object"!=typeof t&&"function"!=typeof t}function a(t){return"[object Object]"===Object.prototype.toString.call(t)}function s(t){return"undefined"!=typeof Event&&d(t,Event)}function l(t){return"undefined"!=typeof Element&&d(t,Element)}function u(t){return"[object RegExp]"===Object.prototype.toString.call(t)}function c(t){return a(t)&&"nativeEvent"in t&&"preventDefault"in t&&"stopPropagation"in t}function d(t,e){try{return t instanceof e}catch(t){return!1}}n.d(e,"b",(function(){return o})),n.d(e,"h",(function(){return i})),n.d(e,"f",(function(){return r})),n.d(e,"e",(function(){return a})),n.d(e,"c",(function(){return s})),n.d(e,"a",(function(){return l})),n.d(e,"g",(function(){return u})),n.d(e,"i",(function(){return c})),n.d(e,"d",(function(){return d}))},ENF9:function(t,e,n){"use strict";var o,i=n("2oRo"),r=n("4syw"),a=n("8YOa"),s=n("bWFh"),l=n("rKzb"),u=n("hh1v"),c=n("afO8").enforce,d=n("f5p1"),p=!i.ActiveXObject&&"ActiveXObject"in i,h=Object.isExtensible,f=function(t){return function(){return t(this,arguments.length?arguments[0]:void 0)}},g=t.exports=s("WeakMap",f,l,!0,!0);if(d&&p){o=l.getConstructor(f,"WeakMap",!0),a.REQUIRED=!0;var m=g.prototype,v=m.delete,y=m.has,b=m.get,_=m.set;r(m,{delete:function(t){if(u(t)&&!h(t)){var e=c(this);return e.frozen||(e.frozen=new o),v.call(this,t)||e.frozen.delete(t)}return v.call(this,t)},has:function(t){if(u(t)&&!h(t)){var e=c(this);return e.frozen||(e.frozen=new o),y.call(this,t)||e.frozen.has(t)}return y.call(this,t)},get:function(t){if(u(t)&&!h(t)){var e=c(this);return e.frozen||(e.frozen=new o),y.call(this,t)?b.call(this,t):e.frozen.get(t)}return b.call(this,t)},set:function(t,e){if(u(t)&&!h(t)){var n=c(this);n.frozen||(n.frozen=new o),y.call(this,t)?_.call(this,t,e):n.frozen.set(t,e)}else _.call(this,t,e);return this}})}},EeXN:function(t,e,n){},Ep9I:function(t,e){t.exports=Object.is||function(t,e){return t===e?0!==t||1/t==1/e:t!=t&&e!=e}},F5f4:function(t,e,n){"use strict";(function(t,o){n.d(e,"d",(function(){return E})),n.d(e,"b",(function(){return x})),n.d(e,"c",(function(){return S})),n.d(e,"a",(function(){return A})),n.d(e,"e",(function(){return Z}));n("pNMO"),n("4Brf"),n("0oug"),n("ma9I"),n("TeQF"),n("yq1k"),n("4mDm"),n("oVuX"),n("2B1R"),n("pDQq"),n("sMBO"),n("qePV"),n("toAj"),n("cDke"),n("tkto"),n("07d7"),n("JTJg"),n("PKPk"),n("UxlC"),n("EnZy"),n("FZtP"),n("3bBZ");var i,r=n("RIqP"),a=n.n(r),s=n("cDf5"),l=n.n(s),u=n("a1gu"),c=n.n(u),d=n("Nsbk"),p=n.n(d),h=n("PJYZ"),f=n.n(h),g=n("7W2i"),m=n.n(g),v=n("lwsE"),y=n.n(v),b=n("W8MJ"),_=n.n(b),C=n("kfS4"),w=(n("JXP8"),function(){function e(n){y()(this,e),this.latLng=n,this._popup=t.popup().setLatLng(n),this.self=null,this.timeout=null}return _()(e,[{key:"updateMouseout",value:function(t){this.self.off("mouseout").on("mouseout",t)}},{key:"layer",get:function(){return this.self}},{key:"popup",get:function(){return this._popup},set:function(t){this._popup=t}}]),e}()),E=function(e){function n(e,o){var r;return y()(this,n),i=e.rcrds,(r=c()(this,p()(n).call(this,e.latLng))).loc=e.loc,r.markerType=o,O(f()(r)),r.self=t.marker(e.latLng,R(o)).bindPopup(r.popup,{closeOnClick:!1,maxWidth:"272",minWidth:"177"}).on("mouseover",r.openPopup),r.self.on("popupclose",r.onPopupClose),r.addMarkerEvents(),r}return m()(n,e),_()(n,[{key:"addMarkerEvents",value:function(){this.self.on("mouseover",this.openPopup).on("mouseenter",this.openPopup).on("click",this.openAndFreezePopup).on("mouseout",this.delayPopupClose)}},{key:"removeMarkerEvents",value:function(){this.self.off("mouseover").off("click").off("mouseout")}},{key:"openPopup",value:function(t){this.timeout&&G(this.timeout),j.bind(this)(this.popup.getContent(),this.markerType),this.self.openPopup()}},{key:"openAndFreezePopup",value:function(t){this.self.openPopup(),this.popup.options.autoClose=!1,this.removeMarkerEvents()}},{key:"onPopupClose",value:function(){this.popup.options.autoClose=!0,this.addMarkerEvents()}},{key:"closePopup",value:function(){this.self.closePopup()}},{key:"delayPopupClose",value:function(t){this.timeout=window.setTimeout(this.closePopup,700)}}]),n}(w),x=function(e){function n(e){var o;return y()(this,n),i=e.rcrds,(o=c()(this,p()(n).call(this,e.latLng))).intData=e.intData,o.focus=e.focus,O(f()(o)),o.self=t.marker(e.latLng,R()).bindPopup(o.popup,{closeOnClick:!1,maxWidth:"272",minWidth:"177"}),o.addMarkerEvents(),o.self.on("popupclose",o.onPopupClose),o}return m()(n,e),_()(n,[{key:"addMarkerEvents",value:function(){this.self.on("mouseover",this.openPopup).on("click",this.openAndFreezePopup).on("mouseout",this.delayPopupClose)}},{key:"removeMarkerEvents",value:function(){this.self.off("mouseover").off("click").off("mouseout")}},{key:"openPopup",value:function(t){this.timeout&&G(this.timeout),this.popup.getContent()||this.popup.setContent(T(this.focus,this.intData)),this.self.openPopup()}},{key:"openAndFreezePopup",value:function(t){this.timeout&&G(this.timeout),this.popup.options.autoClose=!1,this.removeMarkerEvents(),this.self.openPopup()}},{key:"onPopupClose",value:function(){this.popup.options.autoClose=!0,this.addMarkerEvents()}},{key:"closePopup",value:function(){this.self.closePopup()}},{key:"delayPopupClose",value:function(t){this.timeout=window.setTimeout(this.closePopup,700)}}]),n}(w),S=function(e){function n(e,o,r,a){var s;return y()(this,n),i=r.rcrds,(s=c()(this,p()(n).call(this,r.latLng))).map=e,s.loc=r.loc,s.markerType=a,O(f()(s)),s.self=t.markerClusterGroup(s.getClusterConfg(o,a)),s.addClusterEvents(),s.addPopupOptions(),s.addMarkersToCluser(o),s.map.on("popupclose",s.closeLayerPopup),s}return m()(n,e),_()(n,[{key:"getClusterConfg",value:function(e,n){return n?{iconCreateFunction:function(){return t.divIcon({html:e,className:"form-noGps",iconSize:t.point(32,32)})}}:null}},{key:"addPopupOptions",value:function(){this.popup.options.closeOnClick=!1,this.popup.options.maxWidth="272",this.popup.options.minWidth="177"}},{key:"addClusterEvents",value:function(){this.self.on("clustermouseover",this.openClusterPopup).on("clustermouseenter",this.openClusterPopup).on("clustermouseout",this.delayClusterPopupClose).on("clusterclick",this.openAndFreezePopup)}},{key:"removeClusterEvents",value:function(){this.self.off("clustermouseover").off("clustermouseout").off("clusterclick")}},{key:"addMarkersToCluser",value:function(e){for(var n=0;n<e;n++)this.self.addLayer(t.marker(this.latLng))}},{key:"setDefaultPopupHtml",value:function(){var t=this.markerType?nt(this.loc):Z(this.loc);this.popup.setContent(t)}},{key:"openClusterPopup",value:function(t){this.timeout&&G(this.timeout),this.popup.getContent()||this.setDefaultPopupHtml(),this.map.openPopup(this.popup)}},{key:"closeLayerPopup",value:function(t){t.popup._latlng===this.latLng&&this.addClusterEvents()}},{key:"closePopup",value:function(){this.map.closePopup()}},{key:"delayClusterPopupClose",value:function(t){this.timeout=window.setTimeout(this.closePopup.bind(this),700)}},{key:"openAndFreezePopup",value:function(t){t.layer.unspiderfy(),this.popup.options.autoClose=!1,this.openClusterPopup(t),this.removeClusterEvents()}}]),n}(w),A=function(e){function n(e,o,r){var a;return y()(this,n),i=r.rcrds,a=c()(this,p()(n).call(this,r.latLng)),O(f()(a)),a.map=e,a.focus=r.focus,a.intData=r.intData,a.popup.options.closeOnClick=!1,a.popup.options.maxWidth="272",a.popup.options.minWidth="177",a.self=t.markerClusterGroup(),a.addClusterEvents(),a.addMarkersToCluser(o),a.map.on("popupclose",a.closeLayerPopup),a}return m()(n,e),_()(n,[{key:"addClusterEvents",value:function(){this.self.on("clustermouseover",this.openClusterPopup).on("clustermouseenter",this.openClusterPopup).on("clustermouseout",this.delayClusterPopupClose).on("clusterclick",this.openAndFreezeClusterPopup)}},{key:"removeClusterEvents",value:function(){this.self.off("clustermouseover").off("clustermouseout").off("clusterclick")}},{key:"addMarkersToCluser",value:function(e){for(var n=0;n<e;n++)this.self.addLayer(t.marker(this.latLng))}},{key:"openClusterPopup",value:function(t){this.timeout&&G(this.timeout),this.popup.getContent()||this.popup.setContent(T(this.focus,this.intData)),this.map.openPopup(this.popup)}},{key:"openAndFreezeClusterPopup",value:function(t){this.timeout&&G(this.timeout),t.layer.unspiderfy(),this.popup.options.autoClose=!1,this.removeClusterEvents(),this.map.openPopup(this.popup)}},{key:"closeLayerPopup",value:function(t){t.popup._latlng===this.latLng&&this.addClusterEvents()}},{key:"closePopup",value:function(){this.map.closePopup(),this.popup.options.autoClose=!0,this.addClusterEvents()}},{key:"delayClusterPopupClose",value:function(t){this.timeout=window.setTimeout(this.closePopup.bind(this),700)}}]),n}(w);function O(t){var e=!0,n=!1,o=void 0;try{for(var i,r=Object.getOwnPropertyNames(t.constructor.prototype)[Symbol.iterator]();!(e=(i=r.next()).done);e=!0){var a=i.value,s=t[a];"constructor"!==a&&"function"==typeof s&&(t[a]=s.bind(t))}}catch(t){n=!0,o=t}finally{try{e||null==r.return||r.return()}finally{if(n)throw o}}}function R(e){return e?e&&e.includes("form")?null:{icon:t.icon({iconUrl:n("sdKo").default,iconSize:[29,43],iconAnchor:[16,42],popupAnchor:[0,-39],shadowUrl:n("IkTh").default,shadowSize:[33,45],shadowAnchor:[10,44],className:"new-loc"})}:{icon:t.divIcon({className:"single-marker info",html:"new-loc"===e?"":1})}}function T(t,e){var n=U(e.locs[0]),o=function(t,e,n){var o={locs:P,srcs:k,taxa:D},i="",r=1;for(var a in e){if(r>4)return L(i,n);i+=o[t](a,e[a],t),r++}return i}(t,e.ints,e.ttl);return"<div>".concat(n).concat(o,"</div>")}function L(t,e){return t+="<br><b>... ".concat(e," interactions total.</b>")}function P(t,e,n){return I(t,N(e),e.length)}function D(t,e,n){return I(t,N(e),e.length)}function k(t,e,n){return e.length?I(t,N(e),e.length,n):""}function N(t){var e={};t.forEach((function(t){return q(i.taxa[t.subject],e)}));var n=Q(e,F);return"Bat".concat(1==Object.keys(e).length?"":"s",": ").concat(n)}function F(t,e){return 1==e?t[1][1]:function(t,e){return function(t,e){e>3&&(t+="</b> (".concat(e," total cited here.)"));return t}(function(t){for(var e="",n=1;n<=3;n++)e+=M(t[n],n,t);return e}(t),e)}(t,e)}function M(t,e,n){return t.length?(1===e?"":", ")+t[1]:""}function I(t,e,n,o){return'<div class="flex-row flex-wrap"title="'.concat(t,'"><div><b>').concat(n," \n        interactions - &nbsp;</b>").concat(function(t,e){var n="srcs"!==e?30:77,o=(t.length>n?t.substring(0,n)+"...)":t).split(" - (");return function(){o.length>1?(o.splice(1,0,"</b><i> - ("),o.push("</i>")):o.push("</b>")}(),"<b>".concat(o.join(""))}(t,o),"</div></div>").concat(e)}function G(t){clearTimeout(t),t=null}function j(t,e){t||(t=function(t,e){var n={"e-loc":it,form:tt,"form-c":X,"form-noGps":nt,"new-loc":it},o=!!t&&(i=t.includes("edit"),t=i?t.split("edit")[1]:t,i);var i;return n[t]?n[t](e,o):Z(e)}(e,this.loc),this.popup.setContent(t))}function U(t){var e="Country"===t.locationType.displayName?"":t.country?t.country.displayName:"Region";return'<div style="font-size:1.2em;"><b>'+t.displayName+'</b></div><div style="margin: 0 0 .5em 0;">'+e+"</div>"}function B(t,e){if(t.description){var n=t.description.length<e?t.description:t.description.substring(0,e)+"...";return'<span title="'.concat(t.description.replace(/"/g,"&quot;"),'">Description: \n        <b>').concat(n,"</b></span>")}}function V(t,e){if(Y(t))return function(t){var e={};return function t(n){var o="object"===l()(n)?n:i.locs[n];o.interactions.length&&function(t){var n=W(t);if(!n)return;e[n]||(e[n]=0);++e[n]}(o);o.children.length&&o.children.forEach(t)}(t),!!Object.keys(e).length&&function(){var t=Q(e,J);return"Habitats: <b>&ensp;&nbsp; ".concat(t,"</b>")}()}(t);if(!t.habitatType)return!!e&&"";var n=W(t)||"";return"Habitat: <b>".concat(n,"</b>")}function W(t){return t.habitatType.displayName?t.habitatType.displayName.includes("Caves")?"Caves & Subterranean":t.habitatType.displayName:null}function H(t){var e=i.geo[t.geoJsonId];if("Point"!==e.type||Y(t))return!1;var n=JSON.parse(e.displayPoint);return"Coordinates: <b>"+[(n=n.map((function(t){return Number(t).toFixed(6)})))[1],n[0]].join(", ")+"</b>"}function z(t,e){var n=function(t){var e={type:"button",class:"ag-fresh popup-bttn",value:(t?"Merge Into ":"Select ")+"Existing Location"};return Object(C._u)("buildElem",["input",e])}(e);return function(t,e,n){var i=e?Function.prototype:C._form.bind(null,"selectIntLoc");o(t).click(i.bind(null,[n]))}(n,e,t.id),function(t,e){o(t).css({"margin-top":".5em"}),e&&o(t).attr("disabled","disabled").css("opacity",".666")}(n,e),n}function Z(t,e){return i=e||i,function(t){var e=document.createElement("div"),n=function(t){var e=U(t),n=function(t){var e=t.locationType.displayName;return-1!==["Region","Country"].indexOf(e)&&"Interactions in ".concat(e,": <b> ").concat(t.totalInts,"</b>")}(t)||!1,o=B(t,66),r=H(t),a=V(t),s=function(t){var e={};!function t(n){var o="object"==l()(n)?n:i.locs[n];o.interactions.length&&function(t){if("object"==l()(t[0]))return function(t,e){t.forEach((function(t){return q(t.subject,e)}))}(t,e);t.map((function(t){return i.ints[t]})).forEach((function(t){return q(i.taxa[t.subject],e)}))}(o.interactions);o.children.length&&o.children.forEach(t)}(t);var n=Q(e,J);return"Cited bats: <b>".concat(n,"</b>")}(t);return e+[n,o,r,a,s].filter((function(t){return t})).join("<br>")}(t),r=function(t){var e=Object(C._u)("buildElem",["input",{type:"button",class:"ag-fresh",value:"Show Interactions In Data-Table"}]);return o(e).click(C.showLocInDataTable.bind(null,t)),o(e).css({margin:".5em 0 0 -.4em"}),e}(t);return o(e).append(n).append(r),e}(t)}function Y(t){var e=t.locationType.displayName;return-1!==["Region","Country"].indexOf(e)}function q(t,e){var n=t.displayName;-1===Object.keys(e).indexOf(n)&&(e[n]=0),++e[n]}function Q(t,e){var n=Object.keys(t).length,o={1:[],2:[],3:[]},i=Object.keys(o);for(var r in t)a(t[r],r);return e(o,n);function a(t,e){i.some((function(i){if(t>o[i][0]||!o[i][0])return function t(e,i,r){if(r>n||!o[r])return;t(o[r][0],o[r][1],Number(r)+1),o[r]=[e,i]}(t,e,i),!0}))}}function J(t,e){return 1==e?t[1][1]:function(t,e){var n="&emsp;&emsp;&emsp;&emsp;&emsp;&emsp;";return function(t,e,n){e>3&&(t+="<br></b>".concat(n,"(").concat(e," total cited here.)"));return t}(function(t,e){for(var n="",o=1;o<=3;o++)n+=K(o,t,e);return n}(t,n),e,n)}(t,e)}function K(t,e,n){return e[t][1]?(1===t?"":",<br>".concat(n))+e[t][1]:""}function X(t,e){return tt(t,e,$)}function $(t){return'<div style="font-size:1.2em; margin-bottom: .5em;"><b>\n        '.concat(t.displayName,"</b></div>")}function tt(t,e,n){var i=Object(C._u)("buildElem",["div",{class:"flex-col"}]),r=n?n(t):function(t){var e='<div style="font-size:1.2em; margin-bottom: .5em;"><b>\n        '.concat(t.displayName,"</b></div>"),n=document.createElement("div"),i=V(t),r=et(t),a=H(t),s=B(t,55);return o(n).append([e,[i,r,a,s].filter((function(t){return t})).join("<br>")]),n}(t),a=z(t,e);return o(i).append([r,a]),i}function et(t){if(t.elevation)return["Elevation: <b>".concat(t.elevation,"</b>"),t.elevationMax?"&nbsp; Elevation Max: <b>".concat(t.elevationMax,"</b>"):null].filter((function(t){return t}))}function nt(t,e){var n,i=document.createElement("div"),r=(n=t.length,'<div style="font-size:1.2em;"><b>'.concat(n," location with no GPS data.</b>\n        </div><span>Hover over a location name to see the location data.</span><br>")),s=t.map((function(t){return function(t,e){var n=Object(C._u)("buildElem",["div",{class:"info-tooltip"}]),i=Object(C._u)("buildElem",["div",{class:"tip"}]),r=z(t,e);return o(i).append([ot(t),"<br>",r]),o(n).append([t.displayName,i]),n}(t)}));return o(i).append([r].concat(a()(s))),i}function ot(t){return['<span style="font-size:1.1em; margin-bottom: .5em;"><b>\n        '.concat(t.displayName,"</b></span>"),V(t,"leaveBlank"),et(t),B(t,55)].filter((function(t){return t})).join("<br>")}function it(t,e){var n=Object(C._u)("buildElem",["div",{class:"flex-col new-loc-popup"}]),i=function(t,e){var n=t?"Near: <b>"+t.name:"No geo-data found. Please double-check coordinates.",o='<div style="font-size:1.1em;">'.concat(n,"</b></div>");return e?o:"".concat(o,'After confirming that this location is unique, \n        please fill in all available data and click "Create Location" to submit.')}(t,e),r=e?"":function(){var t=Object(C._u)("buildElem",["input",{type:"button",id:"new-gps-loc",class:"ag-fresh",value:"Create Location"}]);return o(t).click(C._form.bind(null,"addNewLocationWithGps",[])),o(t).css({margin:".5em 0 0 -.4em"}),t}();return o(n).append([i,r]),n}}).call(this,n("4R65"),n("EVdn"))},F8JR:function(t,e,n){"use strict";var o=n("tycR").forEach,i=n("swFL");t.exports=i("forEach")?function(t){return o(this,t,arguments.length>1?arguments[1]:void 0)}:[].forEach},FNQh:function(t,e,n){"use strict";n.r(e),function(t){n.d(e,"util",(function(){return f})),n.d(e,"map",(function(){return g})),n.d(e,"loadDataTableAfterFormClose",(function(){return m})),n.d(e,"showTodaysUpdates",(function(){return v})),n.d(e,"initNewDataForm",(function(){return y})),n.d(e,"updateLocalDb",(function(){return b})),n.d(e,"resetStoredData",(function(){return _})),n.d(e,"alertIssue",(function(){return C})),n.d(e,"forms",(function(){return w})),n.d(e,"selectIntLoc",(function(){return E})),n.d(e,"addNewLocationWithGps",(function(){return x})),n.d(e,"create",(function(){return S})),n.d(e,"edit",(function(){return A})),n.d(e,"val",(function(){return O})),n.d(e,"submitForm",(function(){return R})),n.d(e,"formatAndSubmitData",(function(){return T})),n.d(e,"confg",(function(){return L})),n.d(e,"state",(function(){return P})),n.d(e,"clearFormMemory",(function(){return D})),n.d(e,"elems",(function(){return k})),n.d(e,"cmbx",(function(){return N})),n.d(e,"panel",(function(){return F})),n.d(e,"exitFormWindow",(function(){return M})),n.d(e,"exitFormLevel",(function(){return I})),n.d(e,"getFormValData",(function(){return G})),n.d(e,"getNextFormLevel",(function(){return j})),n.d(e,"getSubFormLvl",(function(){return U})),n.d(e,"getSelectedVals",(function(){return B})),n.d(e,"onLevelSelection",(function(){return V}));n("+2oP");var o=n("RIqP"),i=n.n(o),r=n("kCfe"),a=n("QyOE"),s=n("nywv"),l=n("NgBW"),u=n("jXtV"),c=n("wij7"),d=n("U/oR"),p=n("kfS4");function h(t){return Array.isArray(t)?t:[t]}function f(t,e){return p._u(t,e)}function g(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:[];return d[t].apply(d,i()(e))}function m(){p.reloadTableWithCurrentFilters()}function v(t){p.showTodaysUpdates(t)}function y(){return s.createEntity("interaction")}function b(){return p._db("updateLocalDb",Array.prototype.slice.call(arguments))}function _(){p._db("resetStoredData")}function C(){if(l.getFormState())return p._alert("alertIssue",Array.prototype.slice.call(arguments))}function w(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:[];return s[t].apply(s,i()(h(e)))}function E(t){s.selectIntLoc(t)}function x(){s.addNewLocationWithGps()}function S(t,e){return s.createEntity(t,e)}function A(t,e){l.initFormState("edit",e,t).then((function(){return Object(a.a)(t,e)}))}function O(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:[];return u.d(t,e)}function R(t,e,n){u.c(t,e,n)}function T(t,e,n){return u.a(t,e,n)}function L(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:[];return r[t].apply(r,i()(e))}function P(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:[];return l[t].apply(l,i()(e))}function D(){d.clearMemory(),l.clearState()}function k(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:[];return c[t].apply(c,i()(e))}function N(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:[];return c.combos(t,e)}function F(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:[];return c.panel(t,e)}function M(t,e){c.exitFormPopup(t,e)}function I(){return c.exitSubForm.apply(c,arguments)}function G(t,e,n){return u.b(t,e,n)}function j(t,e){var n=l.getStateProp("formLevels");return"parent"===t?n[n.indexOf(e)-1]:n[n.indexOf(e)+1]}function U(t){var e=l.getFormProp("top","entity"),n=l.getStateProp("formLevels");return"interaction"===e?t:n[n.indexOf(t)-1]}function B(e,n){var o={};return t.each(e.children,(function(e,n){return i=e+1,r=n.children,void t.each(r,(function(t,e){e.value&&(o[i]=e.value)}));var i,r})),o}function V(t){s.onLevelSelection.bind(this)(t)}}.call(this,n("EVdn"))},FZtP:function(t,e,n){var o=n("2oRo"),i=n("/byt"),r=n("F8JR"),a=n("X2U+");for(var s in i){var l=o[s],u=l&&l.prototype;if(u&&u.forEach!==r)try{a(u,"forEach",r)}catch(t){u.forEach=r}}},Fjfz:function(t,e,n){"use strict";(function(t){n.d(e,"a",(function(){return i})),n.d(e,"b",(function(){return a})),n.d(e,"c",(function(){return s}));n("fbCW"),n("qePV"),n("i6QF"),n("tkto"),n("FZtP");var o=n("kfS4");function i(e){console.log("       --Init Location UI. view ? [%s]",e),function(){if("locs"===t("#sel-view").data("focus"))return;o._u("replaceSelOpts",["#sel-view",[{value:"map",text:"Map Data"},{value:"tree",text:"Table Data"}],o.onLocViewChange]),t("#sel-view").data("focus","locs")}(),e?r(e):o._u("getData",["curView"]).then(r)}function r(t){o._u("setSelVal",["View",t,"silent"])}function a(e){console.log("       --Init source UI. view ? [%s]",e),function(){if("srcs"===t("#sel-view").data("focus"))return;o._u("replaceSelOpts",["#sel-view",[{value:"auths",text:"Authors"},{value:"pubs",text:"Publications"},{value:"publ",text:"Publishers"}],o.onSrcViewChange]),t("#sel-view").data("focus","srcs")}(),function(t){o.accessTableState().set({curView:t}),o._u("setSelVal",["View"])||o._u("setSelVal",["View",t,"silent"])}(e)}function s(e,n){o._u("getData",["realm"]).then((function(i){!function(e,n){if("taxa"===t("#sel-view").data("focus")&&!n)return;!function(e){var n=function(t){var e=o.accessTableState().get("rcrdsById"),n=[];return Object.keys(t).forEach(i),n;function i(o){var i=e[t[o].taxon],a=i?i.id:o+"temp";Number.isInteger(a)&&!r(i.id)||n.push({value:a,text:t[o].pluralName})}function r(t){var n=e[t];return!!n.subjectRoles.length||!!n.objectRoles.length||n.children.find(r)}}(e);o._u("replaceSelOpts",["#sel-view",n,o.onTxnViewChange]),t("#sel-view").data("focus","taxa")}(e)}(i,n),function(t){if(!o._u("getSelVal",["View"])){var e=t||"2";o._u("setSelVal",["View",e,"silent"])}}(e)}))}}).call(this,n("EVdn"))},"Fn+z":function(t,e,n){"use strict";(function(t){n.d(e,"b",(function(){return a})),n.d(e,"f",(function(){return s})),n.d(e,"g",(function(){return l})),n.d(e,"c",(function(){return u})),n.d(e,"e",(function(){return d})),n.d(e,"d",(function(){return b})),n.d(e,"a",(function(){return L}));n("pNMO"),n("4Brf"),n("pjDv"),n("yq1k"),n("4mDm"),n("oVuX"),n("2B1R"),n("sMBO"),n("tkto"),n("07d7"),n("YGK4"),n("JTJg"),n("PKPk"),n("UxlC"),n("EnZy"),n("49+q"),n("AVoK"),n("hcok"),n("dNT4"),n("3uUd"),n("tijO"),n("ZY7T"),n("C1JJ"),n("lmH4"),n("Co1j"),n("5JV0"),n("ctDJ"),n("JwUS"),n("qaHo"),n("Si40"),n("BGb9"),n("3bBZ");var o=n("G4lP"),i=n("kfS4");t("#save-filter").html("Update");var r={};function a(){return!!r.fltr&&(!!r.fltr.active&&r.fltr.details)}function s(){t("#delete-filter").click(f),t("#apply-filter").click(y),t("#confm-set-delete").click(g),t("#cncl-set-delete").click(m)}function l(e){var n=function(t){return t.unshift({text:"... New Filter Set",value:"create",group:"Create"}),t}(e),o=function(t){var e=Array.from(new Set(t.map((function(t){return t.group}))));return e=e.map((function(t){return{text:t,value:t}}))}(n);t("#selSavedFilters")[0].selectize&&t("#selSavedFilters")[0].selectize.destroy(),Object(i._u)("initCombobox",["Saved Filter Set",d,{add:u,options:n,optgroups:o,optgroupField:"group",labelField:"text",searchField:["text"],sortField:[{field:"group",direction:"asc"},{field:"text",direction:"asc"},{field:"$score"}],render:{optgroup_header:function(t,e){return'<div class="optgroup-header">'+e(t.text)+"</div>"}}}])}function u(e){return P("create"),D(c,o.g()),t("#filter-set-name + input").val(e).focus(),{value:"new",text:e||"Creating New Filter Set"}}function c(){var t=h();o.j(t,"create",x.bind(null,"create")),Object(i._modal)("exitModal")}function d(e){if("new"!==e){if(T(),"create"===e)return u();e&&(P(),D(p,o.g()),Object(i._u)("getData",["savedFilters"]).then((function(n){return function(e,n){var o=w(n[e]);i=o.displayName,r=o.description,t("#filter-set-name + input").val(i).focus(),t(".filter-set-details textarea").val(r);var i,r}(e,n)})))}}function p(){var t=h();t.id=Object(i._u)("getSelVal",["Saved Filter Set"]),o.j(t,"edit",x.bind(null,"edit")),Object(i._modal)("exitModal")}function h(){var e,n,o;return r.tblState=Object(i.accessTableState)().get(null,["curFocus","curView","api"]),{displayName:Object(i._u)("ucfirst",[t("#filter-set-name + input").val()]),type:"filter",description:t("#stored-filters textarea").val(),details:(e=r.tblState,n=Object(i._filter)("getFilterState"),o={focus:e.curFocus,panel:n.panel,table:n.table,view:e.curView},JSON.stringify(o))}}function f(){t("#delete-filter").hide(),t("#set-confm-cntnr").show(),R()}function g(){v(),o.j({id:r.fltr.id},"remove",A)}function m(){v()}function v(){t("#set-confm-cntnr").hide(),t("#delete-filter").show()}function y(){var t=r.fltr.details;console.log("//Applying Filter Set = %O",t),r.fltr.active=!0,b(t,r.fltr.id)}function b(t,e){e&&function(t){Object(i._u)("setSelVal",["Focus",t.focus,"silent"]),function(t){if(t.view==Object(i.accessTableState)().get("curView"))return;var e=t.view?t.view:"tree";Object(i._u)("setData",["curView",e]),Object(i._u)("setSelVal",["View",t.view,"silent"])}(t)}(t),Object(i.buildTable)(t.focus,t.view).then(_.bind(null,t,e))}function _(t,e){e&&Object(i._u)("setSelVal",["Saved Filter Set",e]),function(t){if(!t.panel.combo)return C(t);(e=t.panel.combo,n=Object.keys(e)[0],Object(i._u)("triggerComboChangeReturnPromise",[n,e[n].value])).then(C.bind(null,t));var e,n}(t)}function C(e){!function(e){if(!e)return;e=e.replace(/['"]+/g,""),t('#focus-filters input[type="text"]').val(e).change()}(e.panel.name),function(t){if(!t)return;Object(i._u)("setSelVal",["Date Filter",t.type]),t.time&&Object(i._filter)("toggleDateFilter",[!0,t.time])}(e.panel.date),function(t){for(var e in r.tblApi=Object(i.accessTableState)().get("api"),t)if(null!==t[e]){var n=Object.keys(t[e])[0];r.tblApi.getFilterApi(n).setModel(t[e][n])}delete r.tblApi}(e.table),r.fltr&&(t("#selSavedFilters")[0].selectize.addItem(r.fltr.id),delete r.fltr.active)}function w(t){var e=!!r.fltr&&r.fltr.active;return r.fltr=o.h(t),r.fltr.active=e,r.fltr}function E(e){if(!t(".filter-set-details input").val())return t(".filter-set-details input").focus();var n=!0,o={html:function(){var e=function(t){var e=t.split(") ");e.length>1&&e.shift();return e.join("")}(t("#filter-status").html());e.includes("No Active")&&(n=!1);return"<h2> Saving Filter Set: </h2><br>"+e}(),elem:"#save-filter",dir:"right",submit:!!n&&e,bttn:n?"Submit":"Cancel"};Object(i._modal)("showSaveModal",[o])}function x(t,e){w(JSON.parse(e.list.entity)),o.o(e.list,t).then(S.bind(null,r.fltr.id))}function S(e){Object(i._u)("getOptsFromStoredData",["savedFilterNames"]).then(l).then((function(){t("#selSavedFilters")[0].selectize.addItem(e),function(){if(t=r.fltr,e=Object.keys(t.details.panel).length>0,n=Object.keys(t.details.table).length>0,!e&&!n)return;var t,e,n;r.fltr.active=!0,Object(i._ui)("updateFilterStatusMsg"),delete r.fltr.active}(),t("#set-submit-msg").fadeTo("slow",1),window.setTimeout(R,3e3)}))}function A(t){o.o(t.list,"delete").then(O)}function O(){T(),Object(i._u)("getOptsFromStoredData",["savedFilterNames"]).then(l),t("#selSavedFilters")[0].selectize.open()}function R(){t("#set-submit-msg").fadeTo("slow",0)}function T(){r.filtr&&!r.fltr.active&&(r.fltr=null),R(),t("#filter-set-name + input").val(""),t(".filter-set-details textarea").val(""),L(),Object(i._ui)("updateFilterStatusMsg")}function L(){t(".filter-set-details input, .filter-set-details textarea").val(""),t(".filter-set-details input, .filter-set-details span, #delete-filter, \n        .filter-set-details textarea, #save-filter, #apply-filter").attr("disabled",!0).css("opacity",".5"),t("#save-filter").html("Save")}function P(e){t(".filter-set-details input, .filter-set-details span, #save-filter, \n        .filter-set-details textarea").attr("disabled",!1).css("opacity","1"),e?t("#save-filter").html("Save"):(t("#delete-filter").attr("disabled",!1).css("opacity","1"),t("#save-filter").html("Update"),t("#apply-filter").attr("disabled",!1).css("opacity","1"))}function D(e,n){n?t("#save-filter").css("opacity",".5").attr({disabled:!0,title:"Set can not be changed while interaction list loaded."}):o.n("#save-filter",E.bind(null,e))}}).call(this,n("EVdn"))},G4lP:function(t,e,n){"use strict";(function(t){n.d(e,"l",(function(){return l})),n.d(e,"d",(function(){return u})),n.d(e,"b",(function(){return c})),n.d(e,"m",(function(){return d})),n.d(e,"f",(function(){return p})),n.d(e,"i",(function(){return h})),n.d(e,"g",(function(){return f})),n.d(e,"e",(function(){return g})),n.d(e,"o",(function(){return m})),n.d(e,"a",(function(){return v})),n.d(e,"n",(function(){return y})),n.d(e,"c",(function(){return b})),n.d(e,"k",(function(){return _})),n.d(e,"j",(function(){return S})),n.d(e,"h",(function(){return A}));n("TeQF"),n("yq1k"),n("tkto"),n("JTJg"),n("FZtP");var o=n("kfS4"),i=n("wQzB"),r=n("vpDK"),a=n("sADE"),s={filter:{bttn:"#filter",key:"filter",id:"#filter-pnl",tab:"#filter-opts",tabClass:"hide-fltr-bttm-border"},lists:{bttn:"#lists",key:"lists",id:"#list-pnl",tab:"#list-opts",tabClass:"hide-int-bttm-border"}};function l(t){i.g(t)}function u(){i.b()}function c(){i.a()}function d(){i.h()}function p(){return i.d()}function h(t){i.e(t)}function f(){return r.c()}function g(){return r.a()}function m(t,e){return Object(o._db)("updateUserNamedList",[t,e])}function v(e){n("iPwD"),t("#svd-list-hlp").click(o._modal.bind(null,"showHelpModal",["saved-lists"])),t("#svd-fltr-hlp").click(o._modal.bind(null,"showHelpModal",["selSavedFilters"])),t("#fltr-pnl-hlp").click(o._modal.bind(null,"showHelpModal",["filter-panel"])),i.c(),r.b(),"visitor"===e&&"user"===e||Object(a.a)(e)}function y(e,n){t(e).off("click").click(n)}function b(){x().forEach((function(t){return _(t,"close")}))}function _(e,n){var o=s[e];"open"===n?function(e){var n=x();if(!n.length)return C(e);!function(t,e){return"review"!==e.key&&t.every((function(t){return["filter","lists"].indexOf(t)>=0}))}(n,e)?function(t,e){t.forEach((function(t){return w(s[t])})),window.setTimeout((function(){return C(e)}),500)}(n,e):function(e){t("#fltr-int-pnl-cntnr").attr("class","flex-row"),t("#filter-pnl, #list-pnl").removeClass("flex-row").addClass("flex-col"),C(e),r.d("vert"),i.f("vert")}(e)}(o):w(o)}function C(e){t(e.bttn).addClass("panel-open-toggle"),t(e.id).removeClass("closed"),t(e.tab).addClass("shw-col-borders "+e.tabClass),window.setTimeout((function(){return t(e.id).css("overflow-y","visible")}),1e3)}function w(e){1===x().length?E(e):function(e){E(e),window.setTimeout((function(){i.f("horz",e.id.includes("filter")),r.d("horz"),t("#fltr-int-pnl-cntnr").attr("class","flex-col"),t("#filter-pnl, #list-pnl").removeClass("flex-col").addClass("flex-row")}),500)}(e)}function E(e){t(e.bttn).removeClass("panel-open-toggle"),t(e.id).css("overflow-y","hidden"),t(e.tab).removeClass("shw-col-borders "+e.tabClass),t(e.id).addClass("closed"),window.setTimeout((function(){return t(e.id).css("overflow-y","hidden")}),500)}function x(){return Object.keys(s).filter((function(e){return!t(s[e].id).hasClass("closed")}))}function S(e,n,i){var r=t("body").data("base-url");Object(o._u)("sendAjaxQuery",[e,r+"lists/"+n,i])}function A(t){return t?function(t){return t.details="string"==typeof t.details?JSON.parse(t.details):t.details,t}(t):{details:[]}}}).call(this,n("EVdn"))},GarU:function(t,e){t.exports=function(t,e,n){if(!(t instanceof e))throw TypeError("Incorrect "+(n?n+" ":"")+"invocation");return t}},HH4o:function(t,e,n){var o=n("tiKp")("iterator"),i=!1;try{var r=0,a={next:function(){return{done:!!r++}},return:function(){i=!0}};a[o]=function(){return this},Array.from(a,(function(){throw 2}))}catch(t){}t.exports=function(t,e){if(!e&&!i)return!1;var n=!1;try{var r={};r[o]=function(){return{next:function(){return{done:n=!0}}}},t(r)}catch(t){}return n}},HR75:function(t,e,n){"use strict";n.d(e,"a",(function(){return r}));var o,i=n("9AQC");!function(t){t.PENDING="PENDING",t.RESOLVED="RESOLVED",t.REJECTED="REJECTED"}(o||(o={}));var r=function(){function t(t){var e=this;this._state=o.PENDING,this._handlers=[],this._resolve=function(t){e._setResult(o.RESOLVED,t)},this._reject=function(t){e._setResult(o.REJECTED,t)},this._setResult=function(t,n){e._state===o.PENDING&&(Object(i.m)(n)?n.then(e._resolve,e._reject):(e._state=t,e._value=n,e._executeHandlers()))},this._attachHandler=function(t){e._handlers=e._handlers.concat(t),e._executeHandlers()},this._executeHandlers=function(){e._state!==o.PENDING&&(e._state===o.REJECTED?e._handlers.forEach((function(t){t.onrejected&&t.onrejected(e._value)})):e._handlers.forEach((function(t){t.onfulfilled&&t.onfulfilled(e._value)})),e._handlers=[])};try{t(this._resolve,this._reject)}catch(t){this._reject(t)}}return t.prototype.toString=function(){return"[object SyncPromise]"},t.resolve=function(e){return new t((function(t){t(e)}))},t.reject=function(e){return new t((function(t,n){n(e)}))},t.all=function(e){return new t((function(n,o){if(Array.isArray(e))if(0!==e.length){var i=e.length,r=[];e.forEach((function(e,a){t.resolve(e).then((function(t){r[a]=t,0===(i-=1)&&n(r)})).then(null,o)}))}else n([]);else o(new TypeError("Promise.all requires an array as input."))}))},t.prototype.then=function(e,n){var o=this;return new t((function(t,i){o._attachHandler({onfulfilled:function(n){if(e)try{return void t(e(n))}catch(t){return void i(t)}else t(n)},onrejected:function(e){if(n)try{return void t(n(e))}catch(t){return void i(t)}else i(e)}})}))},t.prototype.catch=function(t){return this.then((function(t){return t}),t)},t.prototype.finally=function(e){var n=this;return new t((function(t,o){var i,r;return n.then((function(t){r=!1,i=t,e&&e()}),(function(t){r=!0,i=t,e&&e()})).then((function(){r?o(i):t(i)}))}))},t}()},HVL7:function(t,e,n){"use strict";n.r(e),function(t){n.d(e,"initFormCombos",(function(){return r})),n.d(e,"initCreateForm",(function(){return a})),n.d(e,"getTaxonEditFields",(function(){return u})),n.d(e,"selectParentTaxon",(function(){return b})),n.d(e,"finishEditFormBuild",(function(){return x}));n("ma9I"),n("2B1R"),n("Junv"),n("sMBO"),n("EnZy"),n("FZtP");var o,i=n("FNQh");function r(t,e){}function a(e,n){return console.log("           /--initTaxon[%s]Form [%s]",e,n),function(e,n){return i.state("setRealmProp",["formTaxonLvl",n]),o().then((function(){return i.elems("toggleSubmitBttn",["#sub2-submit",!0])}));function o(){var t="#"+n+"-sel",o={DisplayName:e};return i.state("addEntityFormState",["taxon","sub2",t,"create"]),i.elems("initSubForm",["sub2","sml-sub-form",o,t]).then(r)}function r(e){t("#"+n+"_row").append(e),i.elems("toggleSubmitBttn",["#sub2-submit"]),t("#sub2-hdr")[0].innerText+=" "+n,t("#DisplayName_row input").focus(),function(e){t("#sub2-submit").off("click").click(s.bind(null,e))}(n)}}("create"===n?"":n,i.util("ucfirst",[e]))}function s(e){return t("#DisplayName_row input").val()?function(e){return"Species"===e&&(n=t("#DisplayName_row input")[0].value,o=i.cmbx("getSelTxt",["#Genus-sel"]),r=n.split(" "),!(o===r[0]));var n,o,r}(e)?l(e,"needsGenusName"):void i.submitForm("#sub2-form","sub2","taxon"):l(e,"needsName")}function l(t,e){i.val("reportFormFieldErr",[t,e,"sub2"])}function u(t){var e=i.state("getEntityRcrds",["taxon"]),n=e[t].realm,r="Bat"===n.displayName?"Subject":"Object";return i.state("initRealmState",[r,n.id]).then((function(n){return function(t,e){(o=e).rcrds=t}(e,n),r=e[t],a=function(t){var e,n,o=(e=t.name,n={id:"txn-name",type:"text",value:e},i.util("buildElem",["input",n]));return[E("Taxon",[c(t),o],"top")]}(r),function(t){var e=o.rcrds[t.parent];return[E("Parent",[p(e),f(e)],"top")]}(r).concat(a);var r,a}))}function c(e){var n=o.realmLvls.reverse().map((function(t){return{value:o.lvls[t].ord,text:t}})),r=i.util("buildSelectElem",[n,{id:"txn-lvl"}]);return t(r).data({txn:e.id,lvl:d(e.level.displayName)}),r}function d(t){return o.lvls[t].ord}function p(e){var n=i.util("buildElem",["div",{id:"txn-prnt"}]);return h(e,n),t(n).css({"padding-top":"4px"}),n}function h(e,n,o){var i=n||t("#txn-prnt")[0],r=o||e.displayName;i.innerHTML="<b>Taxon Parent</b>: <span>&nbsp "+r+"</span>",t(i).data("txn",e.id).data("lvl",d(e.level.displayName))}function f(e){var n=i.util("buildElem",["input",{type:"button",value:"Change Parent",id:"chng-prnt",class:"ag-fresh"}]);return t(n).click(g),n}function g(){var e,n,r,a;(e=t("#txn-prnt").data("txn"),n=o.rcrds[e],r=[i.util("buildElem",["h3",{text:"Select New Taxon Parent",id:"sub-hdr"}])],a=[i.elems("getFormFooter",["parent","sub","edit"])],function(e){var n=i.util("lcfirst",[e.realm.displayName]);return i.state("addEntityFormState",[n,"sub",null,"edit"]),i.elems("buildFormRows",["subject",{},"sub",null]).then((function(n){var r,a,s;return[(r=e,a=i.util("buildElem",["label",{text:o.rootLvl}]),s=function(e){var n=i.util("buildElem",["span",{text:e}]);return t(n).css({"padding-top":".55em"}),n}(r.realm.displayName),E(o.rootLvl,[a,s],"sub")),n]}))}(n).then((function(t){return r.concat(t,a)}))).then(m).then(v)}function m(e){var n=i.util("buildElem",["div",{class:"sml-sub-form flex-row pTaxon",id:"sub-form"}]);t(n).append(e),t("#Parent_row").after(n)}function v(){i.cmbx("initFormCombos",[null,"sub",{Class:{change:y,add:a.bind(null,"class")},Family:{change:y,add:a.bind(null,"family")},Genus:{change:y,add:a.bind(null,"genus")},Order:{change:y,add:a.bind(null,"order")},Realm:{change:y},Species:{change:y,add:a.bind(null,"species")}}]),b(t("#txn-prnt").data("txn")),t("#"+o.rootLvl+"_row .field-row")[0].className+=" realm-row",t("#txn-prnt span").text(""),t("#chng-prnt").attr({disabled:!0}).css({opacity:".6"}),t("#Species_row").hide(),t("#sub-submit").attr("disabled",!1).css("opacity","1"),t("#sub-submit").off("click").click(_),t("#sub-cancel").off("click").click(C),i.elems("toggleSubmitBttn",["#top-submit",!1]),t("#sub-submit")[0].value="Select Taxon"}function y(t){i.onLevelSelection.bind(this)(t)}function b(t){var e=o.rcrds[t];if(!e.isRoot){var n=e.level.displayName;i.cmbx("setSelVal",["#"+n+"-sel",t])}}function _(){var e=i.forms("getSelectedTaxon")||o.realmTaxon;(function(e){var n=function(e){var n=t("#txn-lvl").val();return console.log("ifParentSelectErrs. taxon = %s. parent = %s",n,e),![{needsHigherLvlPrnt:n<=e},{needsGenusPrnt:8==n&&7!=e}].every((function(t){for(var e in t)return!t[e]||T(e,"Parent","sub")}))}(e);n||L("#Parent_errs","sub");return n})(d(e.level.displayName))||w(e)}function C(){w(o.rcrds[t("#txn-prnt").data("txn")])}function w(e){!function(e){L("#Parent_errs","sub"),t("#sub-form").remove(),t("#chng-prnt").attr({disabled:!1}).css({opacity:"1"}),h(e),i.elems("toggleSubmitBttn",["#top-submit",!0])}(e)}function E(e,n,o){var r,a,s=function(t,e){var n={class:e+"-row",id:t+"_row"};return i.util("buildElem",["div",n])}(e,o),l=i.util("buildElem",["div",{id:e+"_errs"}]),u=(r=n,a=i.util("buildElem",["div",{class:"field-row flex-row"}]),t(a).append(r),a);return t(s).append([l,u]),s}function x(e){var n;t("#top-submit").off("click").click(S),n={create:!1,onChange:A,placeholder:null},t("#txn-lvl").selectize(n),i.cmbx("setSelVal",["#txn-lvl",t("#txn-lvl").data("lvl"),"silent"]),t(".all-fields-cntnr").hide()}function S(){var e={displayName:t('#Taxon_row > div.field-row.flex-row > input[type="text"]').val(),level:t("#Taxon_row select").text(),parentTaxon:t("#txn-prnt").data("txn")};i.formatAndSubmitData("taxon","top",e)}function A(e){t("#txn-prnt").data("lvl");var n,o,r={isGenusPrnt:(n=t("#txn-lvl").data("lvl"),o=t("#txn-lvl").data("txn"),6==n&&R(o)<8),needsHigherLvl:O(e)};for(var a in r)if(r[a])return T(a,"Taxon","top");!function(e,n){t(".top-active-errs").length&&i.val(e,[null,null,null,n])}("clrNeedsHigherLvl",e)}function O(e){return e>=R(t("#txn-lvl").data("txn"))}function R(t){var e=o.lvls.Species.ord;return o.rcrds[t].children.forEach((function(t){var n=o.rcrds[t];n.level.ord<e&&(e=n.level.ord)})),e}function T(t,e,n){return i.val("reportFormFieldErr",[e,t,n]),i.elems("toggleSubmitBttn",["#top-submit",!1]),!1}function L(e,n){t(".top-active-errs").length&&i.val("clearErrElemAndEnableSubmit",[t(e)[0],n])}}.call(this,n("EVdn"))},HlZu:function(t,e,n){"use strict";n.d(e,"b",(function(){return o})),n.d(e,"a",(function(){return i}));n("E5fR");function o(t,e){return void 0===e&&(e=0),"string"!=typeof t||0===e||t.length<=e?t:t.substr(0,e)+"..."}function i(t,e){var n=t,o=n.length;if(o<=150)return n;e>o&&(e=o);var i=Math.max(e-60,0);i<5&&(i=0);var r=Math.min(i+140,o);return r>o-5&&(r=o),r===o&&(i=Math.max(r-140,0)),n=n.slice(i,r),i>0&&(n="'{snip} "+n),r<o&&(n+=" {snip}"),n}},I91k:function(t,e,n){"use strict";n.r(e),function(t){n.d(e,"syncLocalDbWithServer",(function(){return a})),n.d(e,"updateLocalDb",(function(){return h})),n.d(e,"updateUserNamedList",(function(){return M}));n("TeQF"),n("4mDm"),n("2B1R"),n("pDQq"),n("sMBO"),n("zKZe"),n("tkto"),n("07d7"),n("5s+n"),n("PKPk"),n("UxlC"),n("FZtP"),n("3bBZ");var o=n("lEny"),i=n("i8il"),r=(n("FNQh"),{data:[],retryQueue:{}});function a(e){"prod"!==t("body").data("env")?console.log("   /--syncLocalDbWithServer. lclUpdtdAt = %O",e):console.log("   /--syncLocalDbWithServer"),o.fetchServerData("data-state").then((function(t){if(n=t.state.System,"2017-09-17 23:56:43"==n)return o.resetStoredData();var n;var i=function(t){return Object.keys(t).map((function(n){return"System"!==n&&(o=t[n],i=e[n],r=o.replace(/-/g,"/"),a=i.replace(/-/g,"/"),Date.parse(r)>Date.parse(a)&&{name:n,updated:e[n]});var o,i,r,a})).filter((function(t){return t}))}(t.state);return i.length?function(t,e){o.getAllStoredData().then((function(t){return o.setMmryDataObj(t)})).then((function(){return function(t){console.log("   --downloadAndStoreNewData. entities = %O",t);var e=function(t){for(var e=t.length-1;e>=0;e--)if("Interaction"==t[e].name){var n=Object.assign({},t[e]);return t.splice(e,1),n}return!1}(t),n=t.map((function(t){return l(t)}));return Promise.all(n).then(u).then((function(){return e?l(e).then(c):Promise.resolve()})).then(U)}(t)})).then(o.setUpdatedDataInLocalDb).then((function(){return o.setData("lclDataUpdtdAt",e)})).then(p).then(j)}(i,t.state):p()})),o.getData("user").then(d)}function s(t,e){return o.getData("lclDataUpdtdAt").then((function(n){return n[t]=e.serverUpdatedAt,o.setData("lclDataUpdtdAt",n)})),Promise.resolve()}function l(t){var e={entity:t.name,updatedAt:t.updated},n={method:"POST",body:JSON.stringify(e)};return o.fetchServerData("sync-data",n)}function u(t){return t.forEach(c)}function c(e){var n=Object.keys(e)[0];return function(e,n){"prod"===t("body").data("env")?console.log("       --processUpdatedEntityData [%s][%s]",Object.keys(n).length,e):console.log("       --processUpdatedEntityData [%s][%s] = %O",Object.keys(n).length,e,n)}(n,e[n]),function(t,e){return Object.keys(t).forEach(n),Promise.resolve();function n(n){var r;(r=t[n],o.getMmryData("user")!==r.updatedBy)&&function(t){return-1!==["Interaction","Location","Source","Taxon"].indexOf(t)?g:v}(e)(i.lcfirst(e),t[n])}}(function(t){for(var e in t)t[e]=JSON.parse(t[e]);return t}(e[n]),n)}function d(e){e!=t("body").data("user-name")&&o.fetchServerData("lists").then((function(e){return function(t,e){e.lists=e.lists.map((function(t){return JSON.parse(t)})),o.deriveUserData(e),o.setDataInMemory("user",t),o.setUpdatedDataInLocalDb().then(o.clearTempMmry)}(t("body").data("user-name"),e)}))}function p(){V(),o.getData("curFocus",!0).then((function(t){return o.pg("initSearchStateAndTable",[t])}))}function h(t){return console.log("   /--updateLocalDb data recieved = %O",t),o.getAllStoredData().then((function(e){return o.setMmryDataObj(e),function(t){for(var e in t)try{t[e]=JSON.parse(t[e])}catch(t){}}(t),f(t),o.setUpdatedDataInLocalDb().then((function(){return function(t){return V(t),j(),t}(t)}))}))}function f(t){g(t.core,t.coreEntity),function(t){if(!t.detailEntity)return Promise.resolve();v(t.detail,t.detailEntity)}(t),function(t){(function(t,e){if(!O(e))return;R(t.core,t.coreEntity,e)})(t,t.coreEdits),function(t){if(!O(t.detailEdits))return;R(t.detail,t.detailEntity,t.detailEdits)}(t)}(t),U()}function g(t,e){!function(t,e){y(t,e)}(t,e),function(t,e){var n=function(t,e){var n="source"===t&&function(t,e){var n=i.lcfirst(t)+"Type";return i.lcfirst(e[n].displayName)}(t,e),o={source:{author:{authSrcs:b},citation:{authors:A,source:C},publication:{pubSrcs:b,authors:A,source:C,editors:A},publisher:{publSrcs:b}},interaction:{location:x,source:x,subject:S,object:S},location:{location:C},taxon:{realm:w,taxon:C,taxonNames:E}};return n?o[t][n]:o[t]}(t,e);m(t,e,n)}(t,e)}function m(t,e,n){var o={entity:t,rcrd:e,stage:"addData"};n&&Object.keys(n).forEach((function(t){G(n[t],t,o)}))}function v(t,e){return function(t,e){return m(t,e,{author:{author:y},citation:{citation:y},publication:{publication:y},publisher:{publisher:y},geoJson:{geoJson:y}}[t])}(t,e)}function y(t,e,n){var i=o.getMmryData(t);i[e.id]=e,o.setDataInMemory(t,i)}function b(t,e,n){var i=o.getMmryData(t);_(i,e.id)&&(i.push(e.id),o.setDataInMemory(t,i))}function _(t,e){return-1===t.indexOf(e)}function C(t,e,n){if(e.parent){var i=o.getMmryData(t),r=i[e.parent];_(r.children,e.id)&&(r.children.push(e.id),o.setDataInMemory(t,i))}}function w(t,e,n){var i=o.getMmryData("taxon"),r=i[e.id];r.realm=function(t,e){var n=e[t.parent];if(n.realm)return n.realm;return getTaxonRealmId(n,e)}(r,i),o.setDataInMemory("taxon",i)}function E(t,e,n){var i=o.getMmryData("taxon")[e.id],r=i.realm.displayName+i.level.displayName+"Names",a=o.getMmryData(r)||{};a[i.name]=i.id,o.setDataInMemory(r,a)}function x(t,e,n){if(e[t]){var i=o.getMmryData(t),r=i[e[t]];_(r.interactions,e.id)&&(r.interactions.push(e.id),"source"===t&&(r.isDirect=!0),o.setDataInMemory(t,i))}}function S(t,e,n){var i=o.getMmryData("taxon"),r=i[e[t]];_(r[t+"Roles"],e.id)&&(r[t+"Roles"].push(e.id),o.setDataInMemory("taxon",i))}function A(t,e,n){if(e[t]){var i=o.getMmryData("source");!function(){for(var n in e[t]){var o=e[t][n];_(i[o].contributions,e.id)&&i[o].contributions.push(e.id)}}()}}function O(t){return t&&Object.keys(t).length>0}function R(t,e,n){var o={entity:t,rcrd:e,stage:"rmvData"},i=function(t){return{author:{},citation:{},geoJson:{},interaction:{location:D,source:P,subject:k,object:k},publication:{},publisher:{},location:{parentLoc:L},source:{contributor:N,parentSource:L},taxon:{parentTaxon:L,displayName:F}}[t]}(t);return Object.keys(n).forEach((function(t){i[t]&&G(i[t],t,o,n)}))}function T(t,e){t.splice(t.indexOf(e),1)}function L(t,e,n,i){if(i[t].old){var r=o.getMmryData(n);T(r[i[t].old].children,e.id),o.setDataInMemory(n,r)}}function P(t,e,n,i){var r=o.getMmryData(t);T(r[i[t].old].interactions,e.id),o.setDataInMemory(t,r)}function D(t,e,n,i){var r=o.getMmryData(t),a=r[i[t].old],s=r[i[t].new];T(a.interactions,e.id),function(t,e,n){function o(t,e){e?++t.totalInts:--t.totalInts,t.parent&&o(n[t.parent],e)}o(t,!1),o(e,!0)}(a,s,r),o.setDataInMemory(t,r)}function k(t,e,n,i){var r=o.getMmryData("taxon");T(r[i[t].old][t+"Roles"],e.id),o.setDataInMemory("taxon",r)}function N(t,e,n,i){var r=o.getMmryData("source");i.contributor.removed.forEach((function(t){T(r[t].contributions,e.id)})),o.setDataInMemory("source",r)}function F(t,e,n,i){var r=function(t,e){return t.name?t.name.old:e.name}(i,e),a=function(t,e){var n=function(t,e){return t?o.getMmryData("level")[t.old].displayName:e.level.displayName}(t.level,e);return e.realm.displayName+n+"Names"}(i,e),s=o.getMmryData(a);delete s[r],o.setDataInMemory(a,s)}function M(t,e){var n,i;console.log("   --Updating [%s] stored list data. %O",e,t);var r="delete"==e?t:JSON.parse(t.entity),a="filter"==r.type?"savedFilters":"dataLists",l="filter"==r.type?"savedFilterNames":"dataListNames";return o.getData([a,l]).then((function(s){return function(s){n=s[a],i=s[l],"delete"==e?(delete n[r.id],delete i[r.displayName]):(n[r.id]=r,i[r.displayName]="filter"!==r.type?r.id:{value:r.id,group:I(r)},t.edits&&t.edits.displayName&&delete i[t.edits.displayName.old]);o.setData(a,n),o.setData(l,i)}(s)})).then(s.bind(null,"UserNamed",r))}function I(t){t.details=JSON.parse(t.details);var e={srcs:"Source",auths:"Author",pubs:"Publication",publ:"Publisher",taxa:"Taxon",2:"Bats",3:"Plants",4:"Arthropod"};return"locs"===t.details.focus?"Location":e[t.details.focus]+" - "+e[t.details.view]}function G(t,e,n,o){try{t(e,n.rcrd,n.entity,o)}catch(i){if(r.final)return function(t,e,n){console.log("               !!Tracking failure with [%s] params = [%O] e = %O",e,n,t);var o={errMsg:t.name+": "+t.message,msg:H(n.entity,n.stage),tag:n.entity+":"+e+":"+n.rcrd.id};r.data.push(o)}(i,e,n);!function(t,e,n,o){r.retryQueue[n.entity]||(r.retryQueue[n.entity]={});r.retryQueue[n.entity][e]={edits:o,entity:n.entity,rcrd:n.rcrd,stage:n.stage,updateFunc:t}}(t,e,n,o)}}function j(){o.clearTempMmry(),r={data:[],retryQueue:{}}}function U(){return console.log("           --retrying[%s]FailedUpdates = %O",Object.keys(r.retryQueue).length,i.snapshot(r)),Object.keys(r.retryQueue).length?(r.final=!0,Object.keys(r.retryQueue).forEach(B),Promise.resolve()):Promise.resolve()}function B(t){Object.keys(r.retryQueue[t]).forEach((function(e){var n=r.retryQueue[t][e];G(n.updateFunc,e,n,n.edits)}))}function V(t){var e=t||{};return function(t){t.fails=r.data.length?r.data:null}(e),e.fails?(console.log("           !!Reporting failures = %O",e.fails),o.pg("alertIssue",["dataSyncFailure",{fails:W(e.fails)}]),e):e}function W(t){var e=t.map((function(t){return{err:t.errMsg,tag:t.tag}}));return JSON.stringify(e)}function H(t,e){return"There was an error while "+{addData:"adding to",rmvData:"removing from"}[e]+" the "+t+"'s stored data."}}.call(this,n("EVdn"))},ILUa:function(t,e,n){"use strict";n.r(e),n.d(e,"showHelpModal",(function(){return r})),n.d(e,"showSaveModal",(function(){return s})),n.d(e,"exitModal",(function(){return u}));var o,i=n("kfS4");function r(t){o||((o=n("mRfS").introJs()).onexit((function(){return o=null})),o.oncomplete((function(){return o=null})),o.setOptions({showBullets:!1,showStepNumbers:!1,steps:a(t),tooltipClass:"intro-tips"}),o.start())}function a(t){return Object(i._tutorial)({"filter-panel":"getFilterPanelSteps",selSavedFilters:"getSavedFilterSteps","saved-lists":"getSavedListSteps"}[t])}function s(t){o||window.setTimeout(l.bind(null,t),500)}function l(t){var e,i;(o=n("mRfS").introJs()).oncomplete((e=t.submit,i=t.cancel,e||u.bind(null,i))),o.onexit(function(t){return t?u.bind(null,t):u}(t.cancel)),o.setOptions(function(t){return{showStepNumbers:!1,showBullets:!1,skipLabel:"Cancel",doneLabel:t.bttn?t.bttn:"Close",tooltipClass:"modal-msg",steps:(e=t.html,n=t.elem,o=t.dir,[{element:n,intro:e,position:o}])};var e,n,o}(t)),t.onLoad&&o.onafterchange(t.onLoad),o.start()}function u(t){o&&o.exit(),t&&t(),o=null}},IaMx:function(t,e,n){"use strict";n.r(e),function(t){n.d(e,"showTips",(function(){return u})),n.d(e,"updateFilterPanelHeader",(function(){return c})),n.d(e,"clearFilterUi",(function(){return d})),n.d(e,"enableClearFiltersButton",(function(){return p})),n.d(e,"updateFilterStatusMsg",(function(){return h})),n.d(e,"reloadTableThenApplyFilters",(function(){return f})),n.d(e,"isSavedIntListLoaded",(function(){return g})),n.d(e,"isFilterSetActive",(function(){return m})),n.d(e,"enableListResetBttn",(function(){return v})),n.d(e,"setTreeToggleData",(function(){return y})),n.d(e,"expandTreeByOne",(function(){return b})),n.d(e,"collapseTree",(function(){return _})),n.d(e,"init",(function(){return E})),n.d(e,"updateUiForDatabaseInit",(function(){return x})),n.d(e,"selectInitialSearchFocus",(function(){return S})),n.d(e,"initTxnViewOpts",(function(){return A})),n.d(e,"initLocViewOpts",(function(){return O})),n.d(e,"initSrcViewOpts",(function(){return R})),n.d(e,"updateUiForMapView",(function(){return T})),n.d(e,"updateUiForTableView",(function(){return L})),n.d(e,"enableTableButtons",(function(){return P})),n.d(e,"fadeTable",(function(){return D})),n.d(e,"showTable",(function(){return k})),n.d(e,"showPopupMsg",(function(){return N})),n.d(e,"hidePopupMsg",(function(){return F}));var o=n("kfS4"),i=n("G4lP"),r=n("JOvb"),a=n("gsnV"),s=n("Fjfz"),l=n("L6zu");function u(){r.d()}function c(t){i.l(t)}function d(){i.b()}function p(){i.d()}function h(){i.m()}function f(t){i.i(t)}function g(){return i.g()}function m(){return i.f()}function v(){return i.e()}function y(t){a.a(t)}function b(){C(!0,!0)}function _(){C(!1)}function C(t,e){a.b(Object(o.accessTableState)().get("api"),t,e)}function w(){C(!t("#xpand-all").data("xpanded"))}function E(){var e=t("body").data("user-role");N("Loading..."),t('button[name="xpand-all"]').click(w),t('button[name="xpand-1"]').click(b),t('button[name="collapse-1"]').click(C.bind(null,!1,!0)),i.a(e),r.c(e)}function x(){r.e()}function S(t){var e=t||"taxa";Object(o._u)("replaceSelOpts",["#search-focus",[{value:"locs",text:"Location"},{value:"srcs",text:"Source"},{value:"taxa",text:"Taxon"}]]),Object(o._u)("setSelVal",["Focus",e,"silent"])}function A(t,e){s.c(t,e)}function O(t){s.a(t)}function R(t){s.b(t)}function T(t){r.a(),l.b(),i.c(),t||N()}function L(){r.b(),l.c()}function P(t){t&&r.b(t)}function D(){t("#borderLayout_eRootPanel, #tool-bar").fadeTo(100,.3)}function k(){t("#borderLayout_eRootPanel, #tool-bar").fadeTo(100,1)}function N(e){var n=e||"Loading...";t("#db-popup").text(n),t("#db-popup").addClass("loading"),t("#db-popup, #db-overlay").show(),D()}function F(){t("#db-popup, #db-overlay").hide(),t("#db-popup").removeClass("loading"),k()}}.call(this,n("EVdn"))},IkTh:function(t,e,n){"use strict";n.r(e),e.default="/BatBase/web/build/images/marker-shadow.a0c6cc14.png"},ImZN:function(t,e,n){var o=n("glrk"),i=n("6VoE"),r=n("UMSQ"),a=n("+MLx"),s=n("NaFW"),l=n("m92n"),u=function(t,e){this.stopped=t,this.result=e};(t.exports=function(t,e,n,c,d){var p,h,f,g,m,v,y=a(e,n,c?2:1);if(d)p=t;else{if("function"!=typeof(h=s(t)))throw TypeError("Target is not iterable");if(i(h)){for(f=0,g=r(t.length);g>f;f++)if((m=c?y(o(v=t[f])[0],v[1]):y(t[f]))&&m instanceof u)return m;return new u(!1)}p=h.call(t)}for(;!(v=p.next()).done;)if((m=l(p,y,v.value,c))&&m instanceof u)return m;return new u(!1)}).stop=function(t){return new u(!0,t)}},JOvb:function(t,e,n){"use strict";(function(t){n.d(e,"c",(function(){return c})),n.d(e,"d",(function(){return d})),n.d(e,"e",(function(){return m})),n.d(e,"b",(function(){return y})),n.d(e,"a",(function(){return _}));var o=n("kfS4"),i=n("IaMx"),r=n("Bkhk"),a=n("VzP+"),s=n("sz/Q"),l=n("L6zu"),u={};function c(e){t("#shw-map").click(l.a),t("#show-tips").click(s.a),function(t){u.userRole=t;var e={visitor:p,user:h,editor:f,admin:f,super:f};u.enabledSelectors=e[t]()}(e)}function d(){Object(s.a)()}function p(){return t('button[name="csv"], #list-opts button, #new-data, #rvw-data, #data-help,\n        #selSavedFilters, .fltr-desc, #apply-filter, #save-filter, #delete-filter, \n        #stored-filters input, #stored-filters textarea').css("cursor","not-allowed").prop("disabled",!0).fadeTo("fast",.5).prop("title","Please register to use these features."),!1}function h(){return g(),t("#data-help, #new-data, #rvw-data").css("cursor","not-allowed").prop("title","This feature is only available to editors.").fadeTo("fast",.5),'button[name="csv"], #lists'}function f(){return g(),t("#data-help").addClass("adminbttn").click(a.a),t("#new-data").addClass("adminbttn").click(o.openDataEntryForm),t("#rvw-data").addClass("adminbttn"),".map-dsbl"}function g(){t('button[name="csv"]').click(r.a)}function m(){u.dbInitializing=!0,t("#filter-status").text("[ Database initializing... Table will reset once complete, ~45 seconds. ]").css("color","teal").data("loading",!0),Object(i.showPopupMsg)(),v("disable"),t("#shw-map").data("loaded",!1)}function v(e){!function(e){var n="enable"===e?1:.5,o="disable"===e,i="enable"===e?"pointer":"wait";t(".ico-bttn").css("cursor",i).prop("disabled",o).fadeTo("fast",n),function(e,n){"enable"!==e||t("#shw-map").data("loaded")||t("#shw-map").prop("disabled",n).fadeTo("fast",.5)}(e,o)}(e),t("#search-focus")[0].selectize[e]()}function y(e){if((u.dbInitializing&&e||u.dbInitializing&&"test"===t("body").data("env"))&&(v("enable"),t("#filter-status").css("color","black").data("loading",!1),"visitor"===u.userRole&&p(),delete u.dbInitializing),!0===u.dbInitializing)return t("#xpand-tree, #xpand-tree button").attr("disabled",!1).css("cursor","pointer").fadeTo("slow",1),void(u.dbInitializing="complete");t(b(".tbl-tools button, .tbl-tools input, #focus-opts, #help-opts button")).attr("disabled",!1).css("cursor","pointer"),t('button[name="show-hide-col"]').css("cursor","not-allowed"),t(b(".tbl-tools, #help-opts button")).fadeTo("slow",1),Object(i.enableListResetBttn)(),Object(i.enableClearFiltersButton)()}function b(t){return u.enabledSelectors?t+=", "+u.enabledSelectors:t}function _(){t(".tbl-tools, .map-dsbl, #help-opts button").fadeTo("slow",.3),t(".tbl-tools button, .tbl-tools input, .map-dsbl, #help-opts button").attr("disabled","disabled").css("cursor","default")}}).call(this,n("EVdn"))},JTJg:function(t,e,n){"use strict";var o=n("I+eb"),i=n("WjRb"),r=n("HYAF");o({target:"String",proto:!0,forced:!n("qxPZ")("includes")},{includes:function(t){return!!~String(r(this)).indexOf(i(t),arguments.length>1?arguments[1]:void 0)}})},JXP8:function(t,e,n){(function(t){!function(e){"use strict";var n=t.MarkerClusterGroup=t.FeatureGroup.extend({options:{maxClusterRadius:80,iconCreateFunction:null,clusterPane:t.Marker.prototype.options.pane,spiderfyOnMaxZoom:!0,showCoverageOnHover:!0,zoomToBoundsOnClick:!0,singleMarkerMode:!1,disableClusteringAtZoom:null,removeOutsideVisibleBounds:!0,animate:!0,animateAddingMarkers:!1,spiderfyDistanceMultiplier:1,spiderLegPolylineOptions:{weight:1.5,color:"#222",opacity:.5},chunkedLoading:!1,chunkInterval:200,chunkDelay:50,chunkProgress:null,polygonOptions:{}},initialize:function(e){t.Util.setOptions(this,e),this.options.iconCreateFunction||(this.options.iconCreateFunction=this._defaultIconCreateFunction),this._featureGroup=t.featureGroup(),this._featureGroup.addEventParent(this),this._nonPointGroup=t.featureGroup(),this._nonPointGroup.addEventParent(this),this._inZoomAnimation=0,this._needsClustering=[],this._needsRemoving=[],this._currentShownBounds=null,this._queue=[],this._childMarkerEventHandlers={dragstart:this._childMarkerDragStart,move:this._childMarkerMoved,dragend:this._childMarkerDragEnd};var n=t.DomUtil.TRANSITION&&this.options.animate;t.extend(this,n?this._withAnimation:this._noAnimation),this._markerCluster=n?t.MarkerCluster:t.MarkerClusterNonAnimated},addLayer:function(e){if(e instanceof t.LayerGroup)return this.addLayers([e]);if(!e.getLatLng)return this._nonPointGroup.addLayer(e),this.fire("layeradd",{layer:e}),this;if(!this._map)return this._needsClustering.push(e),this.fire("layeradd",{layer:e}),this;if(this.hasLayer(e))return this;this._unspiderfy&&this._unspiderfy(),this._addLayer(e,this._maxZoom),this.fire("layeradd",{layer:e}),this._topClusterLevel._recalculateBounds(),this._refreshClustersIcons();var n=e,o=this._zoom;if(e.__parent)for(;n.__parent._zoom>=o;)n=n.__parent;return this._currentShownBounds.contains(n.getLatLng())&&(this.options.animateAddingMarkers?this._animationAddLayer(e,n):this._animationAddLayerNonAnimated(e,n)),this},removeLayer:function(e){return e instanceof t.LayerGroup?this.removeLayers([e]):e.getLatLng?this._map?e.__parent?(this._unspiderfy&&(this._unspiderfy(),this._unspiderfyLayer(e)),this._removeLayer(e,!0),this.fire("layerremove",{layer:e}),this._topClusterLevel._recalculateBounds(),this._refreshClustersIcons(),e.off(this._childMarkerEventHandlers,this),this._featureGroup.hasLayer(e)&&(this._featureGroup.removeLayer(e),e.clusterShow&&e.clusterShow()),this):this:(!this._arraySplice(this._needsClustering,e)&&this.hasLayer(e)&&this._needsRemoving.push({layer:e,latlng:e._latlng}),this.fire("layerremove",{layer:e}),this):(this._nonPointGroup.removeLayer(e),this.fire("layerremove",{layer:e}),this)},addLayers:function(e,n){if(!t.Util.isArray(e))return this.addLayer(e);var o,i=this._featureGroup,r=this._nonPointGroup,a=this.options.chunkedLoading,s=this.options.chunkInterval,l=this.options.chunkProgress,u=e.length,c=0,d=!0;if(this._map){var p=(new Date).getTime(),h=t.bind((function(){for(var f=(new Date).getTime();c<u&&!(a&&c%200==0&&(new Date).getTime()-f>s);c++)if((o=e[c])instanceof t.LayerGroup)d&&(e=e.slice(),d=!1),this._extractNonGroupLayers(o,e),u=e.length;else if(o.getLatLng){if(!this.hasLayer(o)&&(this._addLayer(o,this._maxZoom),n||this.fire("layeradd",{layer:o}),o.__parent&&2===o.__parent.getChildCount())){var g=o.__parent.getAllChildMarkers(),m=g[0]===o?g[1]:g[0];i.removeLayer(m)}}else r.addLayer(o),n||this.fire("layeradd",{layer:o});l&&l(c,u,(new Date).getTime()-p),c===u?(this._topClusterLevel._recalculateBounds(),this._refreshClustersIcons(),this._topClusterLevel._recursivelyAddChildrenToMap(null,this._zoom,this._currentShownBounds)):setTimeout(h,this.options.chunkDelay)}),this);h()}else for(var f=this._needsClustering;c<u;c++)(o=e[c])instanceof t.LayerGroup?(d&&(e=e.slice(),d=!1),this._extractNonGroupLayers(o,e),u=e.length):o.getLatLng?this.hasLayer(o)||f.push(o):r.addLayer(o);return this},removeLayers:function(e){var n,o,i=e.length,r=this._featureGroup,a=this._nonPointGroup,s=!0;if(!this._map){for(n=0;n<i;n++)(o=e[n])instanceof t.LayerGroup?(s&&(e=e.slice(),s=!1),this._extractNonGroupLayers(o,e),i=e.length):(this._arraySplice(this._needsClustering,o),a.removeLayer(o),this.hasLayer(o)&&this._needsRemoving.push({layer:o,latlng:o._latlng}),this.fire("layerremove",{layer:o}));return this}if(this._unspiderfy){this._unspiderfy();var l=e.slice(),u=i;for(n=0;n<u;n++)(o=l[n])instanceof t.LayerGroup?(this._extractNonGroupLayers(o,l),u=l.length):this._unspiderfyLayer(o)}for(n=0;n<i;n++)(o=e[n])instanceof t.LayerGroup?(s&&(e=e.slice(),s=!1),this._extractNonGroupLayers(o,e),i=e.length):o.__parent?(this._removeLayer(o,!0,!0),this.fire("layerremove",{layer:o}),r.hasLayer(o)&&(r.removeLayer(o),o.clusterShow&&o.clusterShow())):(a.removeLayer(o),this.fire("layerremove",{layer:o}));return this._topClusterLevel._recalculateBounds(),this._refreshClustersIcons(),this._topClusterLevel._recursivelyAddChildrenToMap(null,this._zoom,this._currentShownBounds),this},clearLayers:function(){return this._map||(this._needsClustering=[],this._needsRemoving=[],delete this._gridClusters,delete this._gridUnclustered),this._noanimationUnspiderfy&&this._noanimationUnspiderfy(),this._featureGroup.clearLayers(),this._nonPointGroup.clearLayers(),this.eachLayer((function(t){t.off(this._childMarkerEventHandlers,this),delete t.__parent}),this),this._map&&this._generateInitialClusters(),this},getBounds:function(){var e=new t.LatLngBounds;this._topClusterLevel&&e.extend(this._topClusterLevel._bounds);for(var n=this._needsClustering.length-1;n>=0;n--)e.extend(this._needsClustering[n].getLatLng());return e.extend(this._nonPointGroup.getBounds()),e},eachLayer:function(t,e){var n,o,i,r=this._needsClustering.slice(),a=this._needsRemoving;for(this._topClusterLevel&&this._topClusterLevel.getAllChildMarkers(r),o=r.length-1;o>=0;o--){for(n=!0,i=a.length-1;i>=0;i--)if(a[i].layer===r[o]){n=!1;break}n&&t.call(e,r[o])}this._nonPointGroup.eachLayer(t,e)},getLayers:function(){var t=[];return this.eachLayer((function(e){t.push(e)})),t},getLayer:function(e){var n=null;return e=parseInt(e,10),this.eachLayer((function(o){t.stamp(o)===e&&(n=o)})),n},hasLayer:function(t){if(!t)return!1;var e,n=this._needsClustering;for(e=n.length-1;e>=0;e--)if(n[e]===t)return!0;for(e=(n=this._needsRemoving).length-1;e>=0;e--)if(n[e].layer===t)return!1;return!(!t.__parent||t.__parent._group!==this)||this._nonPointGroup.hasLayer(t)},zoomToShowLayer:function(t,e){"function"!=typeof e&&(e=function(){});var n=function(){!t._icon&&!t.__parent._icon||this._inZoomAnimation||(this._map.off("moveend",n,this),this.off("animationend",n,this),t._icon?e():t.__parent._icon&&(this.once("spiderfied",e,this),t.__parent.spiderfy()))};t._icon&&this._map.getBounds().contains(t.getLatLng())?e():t.__parent._zoom<Math.round(this._map._zoom)?(this._map.on("moveend",n,this),this._map.panTo(t.getLatLng())):(this._map.on("moveend",n,this),this.on("animationend",n,this),t.__parent.zoomToBounds())},onAdd:function(t){var e,n,o;if(this._map=t,!isFinite(this._map.getMaxZoom()))throw"Map has no maxZoom specified";for(this._featureGroup.addTo(t),this._nonPointGroup.addTo(t),this._gridClusters||this._generateInitialClusters(),this._maxLat=t.options.crs.projection.MAX_LATITUDE,e=0,n=this._needsRemoving.length;e<n;e++)(o=this._needsRemoving[e]).newlatlng=o.layer._latlng,o.layer._latlng=o.latlng;for(e=0,n=this._needsRemoving.length;e<n;e++)o=this._needsRemoving[e],this._removeLayer(o.layer,!0),o.layer._latlng=o.newlatlng;this._needsRemoving=[],this._zoom=Math.round(this._map._zoom),this._currentShownBounds=this._getExpandedVisibleBounds(),this._map.on("zoomend",this._zoomEnd,this),this._map.on("moveend",this._moveEnd,this),this._spiderfierOnAdd&&this._spiderfierOnAdd(),this._bindEvents(),n=this._needsClustering,this._needsClustering=[],this.addLayers(n,!0)},onRemove:function(t){t.off("zoomend",this._zoomEnd,this),t.off("moveend",this._moveEnd,this),this._unbindEvents(),this._map._mapPane.className=this._map._mapPane.className.replace(" leaflet-cluster-anim",""),this._spiderfierOnRemove&&this._spiderfierOnRemove(),delete this._maxLat,this._hideCoverage(),this._featureGroup.remove(),this._nonPointGroup.remove(),this._featureGroup.clearLayers(),this._map=null},getVisibleParent:function(t){for(var e=t;e&&!e._icon;)e=e.__parent;return e||null},_arraySplice:function(t,e){for(var n=t.length-1;n>=0;n--)if(t[n]===e)return t.splice(n,1),!0},_removeFromGridUnclustered:function(t,e){for(var n=this._map,o=this._gridUnclustered,i=Math.floor(this._map.getMinZoom());e>=i&&o[e].removeObject(t,n.project(t.getLatLng(),e));e--);},_childMarkerDragStart:function(t){t.target.__dragStart=t.target._latlng},_childMarkerMoved:function(t){if(!this._ignoreMove&&!t.target.__dragStart){var e=t.target._popup&&t.target._popup.isOpen();this._moveChild(t.target,t.oldLatLng,t.latlng),e&&t.target.openPopup()}},_moveChild:function(t,e,n){t._latlng=e,this.removeLayer(t),t._latlng=n,this.addLayer(t)},_childMarkerDragEnd:function(t){var e=t.target.__dragStart;delete t.target.__dragStart,e&&this._moveChild(t.target,e,t.target._latlng)},_removeLayer:function(t,e,n){var o=this._gridClusters,i=this._gridUnclustered,r=this._featureGroup,a=this._map,s=Math.floor(this._map.getMinZoom());e&&this._removeFromGridUnclustered(t,this._maxZoom);var l,u=t.__parent,c=u._markers;for(this._arraySplice(c,t);u&&(u._childCount--,u._boundsNeedUpdate=!0,!(u._zoom<s));)e&&u._childCount<=1?(l=u._markers[0]===t?u._markers[1]:u._markers[0],o[u._zoom].removeObject(u,a.project(u._cLatLng,u._zoom)),i[u._zoom].addObject(l,a.project(l.getLatLng(),u._zoom)),this._arraySplice(u.__parent._childClusters,u),u.__parent._markers.push(l),l.__parent=u.__parent,u._icon&&(r.removeLayer(u),n||r.addLayer(l))):u._iconNeedsUpdate=!0,u=u.__parent;delete t.__parent},_isOrIsParent:function(t,e){for(;e;){if(t===e)return!0;e=e.parentNode}return!1},fire:function(e,n,o){if(n&&n.layer instanceof t.MarkerCluster){if(n.originalEvent&&this._isOrIsParent(n.layer._icon,n.originalEvent.relatedTarget))return;e="cluster"+e}t.FeatureGroup.prototype.fire.call(this,e,n,o)},listens:function(e,n){return t.FeatureGroup.prototype.listens.call(this,e,n)||t.FeatureGroup.prototype.listens.call(this,"cluster"+e,n)},_defaultIconCreateFunction:function(e){var n=e.getChildCount(),o=" marker-cluster-";return o+=n<10?"small":n<100?"medium":"large",new t.DivIcon({html:"<div><span>"+n+"</span></div>",className:"marker-cluster"+o,iconSize:new t.Point(40,40)})},_bindEvents:function(){var t=this._map,e=this.options.spiderfyOnMaxZoom,n=this.options.showCoverageOnHover,o=this.options.zoomToBoundsOnClick;(e||o)&&this.on("clusterclick",this._zoomOrSpiderfy,this),n&&(this.on("clustermouseover",this._showCoverage,this),this.on("clustermouseout",this._hideCoverage,this),t.on("zoomend",this._hideCoverage,this))},_zoomOrSpiderfy:function(t){for(var e=t.layer,n=e;1===n._childClusters.length;)n=n._childClusters[0];n._zoom===this._maxZoom&&n._childCount===e._childCount&&this.options.spiderfyOnMaxZoom?e.spiderfy():this.options.zoomToBoundsOnClick&&e.zoomToBounds(),t.originalEvent&&13===t.originalEvent.keyCode&&this._map._container.focus()},_showCoverage:function(e){var n=this._map;this._inZoomAnimation||(this._shownPolygon&&n.removeLayer(this._shownPolygon),e.layer.getChildCount()>2&&e.layer!==this._spiderfied&&(this._shownPolygon=new t.Polygon(e.layer.getConvexHull(),this.options.polygonOptions),n.addLayer(this._shownPolygon)))},_hideCoverage:function(){this._shownPolygon&&(this._map.removeLayer(this._shownPolygon),this._shownPolygon=null)},_unbindEvents:function(){var t=this.options.spiderfyOnMaxZoom,e=this.options.showCoverageOnHover,n=this.options.zoomToBoundsOnClick,o=this._map;(t||n)&&this.off("clusterclick",this._zoomOrSpiderfy,this),e&&(this.off("clustermouseover",this._showCoverage,this),this.off("clustermouseout",this._hideCoverage,this),o.off("zoomend",this._hideCoverage,this))},_zoomEnd:function(){this._map&&(this._mergeSplitClusters(),this._zoom=Math.round(this._map._zoom),this._currentShownBounds=this._getExpandedVisibleBounds())},_moveEnd:function(){if(!this._inZoomAnimation){var t=this._getExpandedVisibleBounds();this._topClusterLevel._recursivelyRemoveChildrenFromMap(this._currentShownBounds,Math.floor(this._map.getMinZoom()),this._zoom,t),this._topClusterLevel._recursivelyAddChildrenToMap(null,Math.round(this._map._zoom),t),this._currentShownBounds=t}},_generateInitialClusters:function(){var e=Math.ceil(this._map.getMaxZoom()),n=Math.floor(this._map.getMinZoom()),o=this.options.maxClusterRadius,i=o;"function"!=typeof o&&(i=function(){return o}),null!==this.options.disableClusteringAtZoom&&(e=this.options.disableClusteringAtZoom-1),this._maxZoom=e,this._gridClusters={},this._gridUnclustered={};for(var r=e;r>=n;r--)this._gridClusters[r]=new t.DistanceGrid(i(r)),this._gridUnclustered[r]=new t.DistanceGrid(i(r));this._topClusterLevel=new this._markerCluster(this,n-1)},_addLayer:function(t,e){var n,o,i=this._gridClusters,r=this._gridUnclustered,a=Math.floor(this._map.getMinZoom());for(this.options.singleMarkerMode&&this._overrideMarkerIcon(t),t.on(this._childMarkerEventHandlers,this);e>=a;e--){n=this._map.project(t.getLatLng(),e);var s=i[e].getNearObject(n);if(s)return s._addChild(t),void(t.__parent=s);if(s=r[e].getNearObject(n)){var l=s.__parent;l&&this._removeLayer(s,!1);var u=new this._markerCluster(this,e,s,t);i[e].addObject(u,this._map.project(u._cLatLng,e)),s.__parent=u,t.__parent=u;var c=u;for(o=e-1;o>l._zoom;o--)c=new this._markerCluster(this,o,c),i[o].addObject(c,this._map.project(s.getLatLng(),o));return l._addChild(c),void this._removeFromGridUnclustered(s,e)}r[e].addObject(t,n)}this._topClusterLevel._addChild(t),t.__parent=this._topClusterLevel},_refreshClustersIcons:function(){this._featureGroup.eachLayer((function(e){e instanceof t.MarkerCluster&&e._iconNeedsUpdate&&e._updateIcon()}))},_enqueue:function(e){this._queue.push(e),this._queueTimeout||(this._queueTimeout=setTimeout(t.bind(this._processQueue,this),300))},_processQueue:function(){for(var t=0;t<this._queue.length;t++)this._queue[t].call(this);this._queue.length=0,clearTimeout(this._queueTimeout),this._queueTimeout=null},_mergeSplitClusters:function(){var t=Math.round(this._map._zoom);this._processQueue(),this._zoom<t&&this._currentShownBounds.intersects(this._getExpandedVisibleBounds())?(this._animationStart(),this._topClusterLevel._recursivelyRemoveChildrenFromMap(this._currentShownBounds,Math.floor(this._map.getMinZoom()),this._zoom,this._getExpandedVisibleBounds()),this._animationZoomIn(this._zoom,t)):this._zoom>t?(this._animationStart(),this._animationZoomOut(this._zoom,t)):this._moveEnd()},_getExpandedVisibleBounds:function(){return this.options.removeOutsideVisibleBounds?t.Browser.mobile?this._checkBoundsMaxLat(this._map.getBounds()):this._checkBoundsMaxLat(this._map.getBounds().pad(1)):this._mapBoundsInfinite},_checkBoundsMaxLat:function(t){var e=this._maxLat;return void 0!==e&&(t.getNorth()>=e&&(t._northEast.lat=1/0),t.getSouth()<=-e&&(t._southWest.lat=-1/0)),t},_animationAddLayerNonAnimated:function(t,e){if(e===t)this._featureGroup.addLayer(t);else if(2===e._childCount){e._addToMap();var n=e.getAllChildMarkers();this._featureGroup.removeLayer(n[0]),this._featureGroup.removeLayer(n[1])}else e._updateIcon()},_extractNonGroupLayers:function(e,n){var o,i=e.getLayers(),r=0;for(n=n||[];r<i.length;r++)(o=i[r])instanceof t.LayerGroup?this._extractNonGroupLayers(o,n):n.push(o);return n},_overrideMarkerIcon:function(t){return t.options.icon=this.options.iconCreateFunction({getChildCount:function(){return 1},getAllChildMarkers:function(){return[t]}})}});t.MarkerClusterGroup.include({_mapBoundsInfinite:new t.LatLngBounds(new t.LatLng(-1/0,-1/0),new t.LatLng(1/0,1/0))}),t.MarkerClusterGroup.include({_noAnimation:{_animationStart:function(){},_animationZoomIn:function(t,e){this._topClusterLevel._recursivelyRemoveChildrenFromMap(this._currentShownBounds,Math.floor(this._map.getMinZoom()),t),this._topClusterLevel._recursivelyAddChildrenToMap(null,e,this._getExpandedVisibleBounds()),this.fire("animationend")},_animationZoomOut:function(t,e){this._topClusterLevel._recursivelyRemoveChildrenFromMap(this._currentShownBounds,Math.floor(this._map.getMinZoom()),t),this._topClusterLevel._recursivelyAddChildrenToMap(null,e,this._getExpandedVisibleBounds()),this.fire("animationend")},_animationAddLayer:function(t,e){this._animationAddLayerNonAnimated(t,e)}},_withAnimation:{_animationStart:function(){this._map._mapPane.className+=" leaflet-cluster-anim",this._inZoomAnimation++},_animationZoomIn:function(e,n){var o,i=this._getExpandedVisibleBounds(),r=this._featureGroup,a=Math.floor(this._map.getMinZoom());this._ignoreMove=!0,this._topClusterLevel._recursively(i,e,a,(function(t){var a,s=t._latlng,l=t._markers;for(i.contains(s)||(s=null),t._isSingleParent()&&e+1===n?(r.removeLayer(t),t._recursivelyAddChildrenToMap(null,n,i)):(t.clusterHide(),t._recursivelyAddChildrenToMap(s,n,i)),o=l.length-1;o>=0;o--)a=l[o],i.contains(a._latlng)||r.removeLayer(a)})),this._forceLayout(),this._topClusterLevel._recursivelyBecomeVisible(i,n),r.eachLayer((function(e){e instanceof t.MarkerCluster||!e._icon||e.clusterShow()})),this._topClusterLevel._recursively(i,e,n,(function(t){t._recursivelyRestoreChildPositions(n)})),this._ignoreMove=!1,this._enqueue((function(){this._topClusterLevel._recursively(i,e,a,(function(t){r.removeLayer(t),t.clusterShow()})),this._animationEnd()}))},_animationZoomOut:function(t,e){this._animationZoomOutSingle(this._topClusterLevel,t-1,e),this._topClusterLevel._recursivelyAddChildrenToMap(null,e,this._getExpandedVisibleBounds()),this._topClusterLevel._recursivelyRemoveChildrenFromMap(this._currentShownBounds,Math.floor(this._map.getMinZoom()),t,this._getExpandedVisibleBounds())},_animationAddLayer:function(t,e){var n=this,o=this._featureGroup;o.addLayer(t),e!==t&&(e._childCount>2?(e._updateIcon(),this._forceLayout(),this._animationStart(),t._setPos(this._map.latLngToLayerPoint(e.getLatLng())),t.clusterHide(),this._enqueue((function(){o.removeLayer(t),t.clusterShow(),n._animationEnd()}))):(this._forceLayout(),n._animationStart(),n._animationZoomOutSingle(e,this._map.getMaxZoom(),this._zoom)))}},_animationZoomOutSingle:function(t,e,n){var o=this._getExpandedVisibleBounds(),i=Math.floor(this._map.getMinZoom());t._recursivelyAnimateChildrenInAndAddSelfToMap(o,i,e+1,n);var r=this;this._forceLayout(),t._recursivelyBecomeVisible(o,n),this._enqueue((function(){if(1===t._childCount){var a=t._markers[0];this._ignoreMove=!0,a.setLatLng(a.getLatLng()),this._ignoreMove=!1,a.clusterShow&&a.clusterShow()}else t._recursively(o,n,i,(function(t){t._recursivelyRemoveChildrenFromMap(o,i,e+1)}));r._animationEnd()}))},_animationEnd:function(){this._map&&(this._map._mapPane.className=this._map._mapPane.className.replace(" leaflet-cluster-anim","")),this._inZoomAnimation--,this.fire("animationend")},_forceLayout:function(){t.Util.falseFn(document.body.offsetWidth)}}),t.markerClusterGroup=function(e){return new t.MarkerClusterGroup(e)};var o=t.MarkerCluster=t.Marker.extend({options:t.Icon.prototype.options,initialize:function(e,n,o,i){t.Marker.prototype.initialize.call(this,o?o._cLatLng||o.getLatLng():new t.LatLng(0,0),{icon:this,pane:e.options.clusterPane}),this._group=e,this._zoom=n,this._markers=[],this._childClusters=[],this._childCount=0,this._iconNeedsUpdate=!0,this._boundsNeedUpdate=!0,this._bounds=new t.LatLngBounds,o&&this._addChild(o),i&&this._addChild(i)},getAllChildMarkers:function(t,e){t=t||[];for(var n=this._childClusters.length-1;n>=0;n--)this._childClusters[n].getAllChildMarkers(t);for(var o=this._markers.length-1;o>=0;o--)e&&this._markers[o].__dragStart||t.push(this._markers[o]);return t},getChildCount:function(){return this._childCount},zoomToBounds:function(t){for(var e,n=this._childClusters.slice(),o=this._group._map,i=o.getBoundsZoom(this._bounds),r=this._zoom+1,a=o.getZoom();n.length>0&&i>r;){r++;var s=[];for(e=0;e<n.length;e++)s=s.concat(n[e]._childClusters);n=s}i>r?this._group._map.setView(this._latlng,r):i<=a?this._group._map.setView(this._latlng,a+1):this._group._map.fitBounds(this._bounds,t)},getBounds:function(){var e=new t.LatLngBounds;return e.extend(this._bounds),e},_updateIcon:function(){this._iconNeedsUpdate=!0,this._icon&&this.setIcon(this)},createIcon:function(){return this._iconNeedsUpdate&&(this._iconObj=this._group.options.iconCreateFunction(this),this._iconNeedsUpdate=!1),this._iconObj.createIcon()},createShadow:function(){return this._iconObj.createShadow()},_addChild:function(e,n){this._iconNeedsUpdate=!0,this._boundsNeedUpdate=!0,this._setClusterCenter(e),e instanceof t.MarkerCluster?(n||(this._childClusters.push(e),e.__parent=this),this._childCount+=e._childCount):(n||this._markers.push(e),this._childCount++),this.__parent&&this.__parent._addChild(e,!0)},_setClusterCenter:function(t){this._cLatLng||(this._cLatLng=t._cLatLng||t._latlng)},_resetBounds:function(){var t=this._bounds;t._southWest&&(t._southWest.lat=1/0,t._southWest.lng=1/0),t._northEast&&(t._northEast.lat=-1/0,t._northEast.lng=-1/0)},_recalculateBounds:function(){var e,n,o,i,r=this._markers,a=this._childClusters,s=0,l=0,u=this._childCount;if(0!==u){for(this._resetBounds(),e=0;e<r.length;e++)o=r[e]._latlng,this._bounds.extend(o),s+=o.lat,l+=o.lng;for(e=0;e<a.length;e++)(n=a[e])._boundsNeedUpdate&&n._recalculateBounds(),this._bounds.extend(n._bounds),o=n._wLatLng,i=n._childCount,s+=o.lat*i,l+=o.lng*i;this._latlng=this._wLatLng=new t.LatLng(s/u,l/u),this._boundsNeedUpdate=!1}},_addToMap:function(t){t&&(this._backupLatlng=this._latlng,this.setLatLng(t)),this._group._featureGroup.addLayer(this)},_recursivelyAnimateChildrenIn:function(t,e,n){this._recursively(t,this._group._map.getMinZoom(),n-1,(function(t){var n,o,i=t._markers;for(n=i.length-1;n>=0;n--)(o=i[n])._icon&&(o._setPos(e),o.clusterHide())}),(function(t){var n,o,i=t._childClusters;for(n=i.length-1;n>=0;n--)(o=i[n])._icon&&(o._setPos(e),o.clusterHide())}))},_recursivelyAnimateChildrenInAndAddSelfToMap:function(t,e,n,o){this._recursively(t,o,e,(function(i){i._recursivelyAnimateChildrenIn(t,i._group._map.latLngToLayerPoint(i.getLatLng()).round(),n),i._isSingleParent()&&n-1===o?(i.clusterShow(),i._recursivelyRemoveChildrenFromMap(t,e,n)):i.clusterHide(),i._addToMap()}))},_recursivelyBecomeVisible:function(t,e){this._recursively(t,this._group._map.getMinZoom(),e,null,(function(t){t.clusterShow()}))},_recursivelyAddChildrenToMap:function(t,e,n){this._recursively(n,this._group._map.getMinZoom()-1,e,(function(o){if(e!==o._zoom)for(var i=o._markers.length-1;i>=0;i--){var r=o._markers[i];n.contains(r._latlng)&&(t&&(r._backupLatlng=r.getLatLng(),r.setLatLng(t),r.clusterHide&&r.clusterHide()),o._group._featureGroup.addLayer(r))}}),(function(e){e._addToMap(t)}))},_recursivelyRestoreChildPositions:function(t){for(var e=this._markers.length-1;e>=0;e--){var n=this._markers[e];n._backupLatlng&&(n.setLatLng(n._backupLatlng),delete n._backupLatlng)}if(t-1===this._zoom)for(var o=this._childClusters.length-1;o>=0;o--)this._childClusters[o]._restorePosition();else for(var i=this._childClusters.length-1;i>=0;i--)this._childClusters[i]._recursivelyRestoreChildPositions(t)},_restorePosition:function(){this._backupLatlng&&(this.setLatLng(this._backupLatlng),delete this._backupLatlng)},_recursivelyRemoveChildrenFromMap:function(t,e,n,o){var i,r;this._recursively(t,e-1,n-1,(function(t){for(r=t._markers.length-1;r>=0;r--)i=t._markers[r],o&&o.contains(i._latlng)||(t._group._featureGroup.removeLayer(i),i.clusterShow&&i.clusterShow())}),(function(t){for(r=t._childClusters.length-1;r>=0;r--)i=t._childClusters[r],o&&o.contains(i._latlng)||(t._group._featureGroup.removeLayer(i),i.clusterShow&&i.clusterShow())}))},_recursively:function(t,e,n,o,i){var r,a,s=this._childClusters,l=this._zoom;if(e<=l&&(o&&o(this),i&&l===n&&i(this)),l<e||l<n)for(r=s.length-1;r>=0;r--)(a=s[r])._boundsNeedUpdate&&a._recalculateBounds(),t.intersects(a._bounds)&&a._recursively(t,e,n,o,i)},_isSingleParent:function(){return this._childClusters.length>0&&this._childClusters[0]._childCount===this._childCount}});t.Marker.include({clusterHide:function(){var t=this.options.opacity;return this.setOpacity(0),this.options.opacity=t,this},clusterShow:function(){return this.setOpacity(this.options.opacity)}}),t.DistanceGrid=function(t){this._cellSize=t,this._sqCellSize=t*t,this._grid={},this._objectPoint={}},t.DistanceGrid.prototype={addObject:function(e,n){var o=this._getCoord(n.x),i=this._getCoord(n.y),r=this._grid,a=r[i]=r[i]||{},s=a[o]=a[o]||[],l=t.Util.stamp(e);this._objectPoint[l]=n,s.push(e)},updateObject:function(t,e){this.removeObject(t),this.addObject(t,e)},removeObject:function(e,n){var o,i,r=this._getCoord(n.x),a=this._getCoord(n.y),s=this._grid,l=s[a]=s[a]||{},u=l[r]=l[r]||[];for(delete this._objectPoint[t.Util.stamp(e)],o=0,i=u.length;o<i;o++)if(u[o]===e)return u.splice(o,1),1===i&&delete l[r],!0},eachObject:function(t,e){var n,o,i,r,a,s,l=this._grid;for(n in l)for(o in a=l[n])for(i=0,r=(s=a[o]).length;i<r;i++)t.call(e,s[i])&&(i--,r--)},getNearObject:function(e){var n,o,i,r,a,s,l,u,c=this._getCoord(e.x),d=this._getCoord(e.y),p=this._objectPoint,h=this._sqCellSize,f=null;for(n=d-1;n<=d+1;n++)if(r=this._grid[n])for(o=c-1;o<=c+1;o++)if(a=r[o])for(i=0,s=a.length;i<s;i++)l=a[i],((u=this._sqDist(p[t.Util.stamp(l)],e))<h||u<=h&&null===f)&&(h=u,f=l);return f},_getCoord:function(t){var e=Math.floor(t/this._cellSize);return isFinite(e)?e:t},_sqDist:function(t,e){var n=e.x-t.x,o=e.y-t.y;return n*n+o*o}},t.QuickHull={getDistant:function(t,e){var n=e[1].lat-e[0].lat;return(e[0].lng-e[1].lng)*(t.lat-e[0].lat)+n*(t.lng-e[0].lng)},findMostDistantPointFromBaseLine:function(t,e){var n,o,i,r=0,a=null,s=[];for(n=e.length-1;n>=0;n--)o=e[n],(i=this.getDistant(o,t))>0&&(s.push(o),i>r&&(r=i,a=o));return{maxPoint:a,newPoints:s}},buildConvexHull:function(t,e){var n=[],o=this.findMostDistantPointFromBaseLine(t,e);return o.maxPoint?n=(n=n.concat(this.buildConvexHull([t[0],o.maxPoint],o.newPoints))).concat(this.buildConvexHull([o.maxPoint,t[1]],o.newPoints)):[t[0]]},getConvexHull:function(t){var e,n=!1,o=!1,i=!1,r=!1,a=null,s=null,l=null,u=null,c=null,d=null;for(e=t.length-1;e>=0;e--){var p=t[e];(!1===n||p.lat>n)&&(a=p,n=p.lat),(!1===o||p.lat<o)&&(s=p,o=p.lat),(!1===i||p.lng>i)&&(l=p,i=p.lng),(!1===r||p.lng<r)&&(u=p,r=p.lng)}return o!==n?(d=s,c=a):(d=u,c=l),[].concat(this.buildConvexHull([d,c],t),this.buildConvexHull([c,d],t))}},t.MarkerCluster.include({getConvexHull:function(){var e,n,o=this.getAllChildMarkers(),i=[];for(n=o.length-1;n>=0;n--)e=o[n].getLatLng(),i.push(e);return t.QuickHull.getConvexHull(i)}}),t.MarkerCluster.include({_2PI:2*Math.PI,_circleFootSeparation:25,_circleStartAngle:0,_spiralFootSeparation:28,_spiralLengthStart:11,_spiralLengthFactor:5,_circleSpiralSwitchover:9,spiderfy:function(){if(this._group._spiderfied!==this&&!this._group._inZoomAnimation){var t,e=this.getAllChildMarkers(null,!0),n=this._group._map.latLngToLayerPoint(this._latlng);this._group._unspiderfy(),this._group._spiderfied=this,e.length>=this._circleSpiralSwitchover?t=this._generatePointsSpiral(e.length,n):(n.y+=10,t=this._generatePointsCircle(e.length,n)),this._animationSpiderfy(e,t)}},unspiderfy:function(t){this._group._inZoomAnimation||(this._animationUnspiderfy(t),this._group._spiderfied=null)},_generatePointsCircle:function(e,n){var o,i,r=this._group.options.spiderfyDistanceMultiplier*this._circleFootSeparation*(2+e)/this._2PI,a=this._2PI/e,s=[];for(r=Math.max(r,35),s.length=e,o=0;o<e;o++)i=this._circleStartAngle+o*a,s[o]=new t.Point(n.x+r*Math.cos(i),n.y+r*Math.sin(i))._round();return s},_generatePointsSpiral:function(e,n){var o,i=this._group.options.spiderfyDistanceMultiplier,r=i*this._spiralLengthStart,a=i*this._spiralFootSeparation,s=i*this._spiralLengthFactor*this._2PI,l=0,u=[];for(u.length=e,o=e;o>=0;o--)o<e&&(u[o]=new t.Point(n.x+r*Math.cos(l),n.y+r*Math.sin(l))._round()),r+=s/(l+=a/r+5e-4*o);return u},_noanimationUnspiderfy:function(){var t,e,n=this._group,o=n._map,i=n._featureGroup,r=this.getAllChildMarkers(null,!0);for(n._ignoreMove=!0,this.setOpacity(1),e=r.length-1;e>=0;e--)t=r[e],i.removeLayer(t),t._preSpiderfyLatlng&&(t.setLatLng(t._preSpiderfyLatlng),delete t._preSpiderfyLatlng),t.setZIndexOffset&&t.setZIndexOffset(0),t._spiderLeg&&(o.removeLayer(t._spiderLeg),delete t._spiderLeg);n.fire("unspiderfied",{cluster:this,markers:r}),n._ignoreMove=!1,n._spiderfied=null}}),t.MarkerClusterNonAnimated=t.MarkerCluster.extend({_animationSpiderfy:function(e,n){var o,i,r,a,s=this._group,l=s._map,u=s._featureGroup,c=this._group.options.spiderLegPolylineOptions;for(s._ignoreMove=!0,o=0;o<e.length;o++)a=l.layerPointToLatLng(n[o]),i=e[o],r=new t.Polyline([this._latlng,a],c),l.addLayer(r),i._spiderLeg=r,i._preSpiderfyLatlng=i._latlng,i.setLatLng(a),i.setZIndexOffset&&i.setZIndexOffset(1e6),u.addLayer(i);this.setOpacity(.3),s._ignoreMove=!1,s.fire("spiderfied",{cluster:this,markers:e})},_animationUnspiderfy:function(){this._noanimationUnspiderfy()}}),t.MarkerCluster.include({_animationSpiderfy:function(e,n){var o,i,r,a,s,l,u=this,c=this._group,d=c._map,p=c._featureGroup,h=this._latlng,f=d.latLngToLayerPoint(h),g=t.Path.SVG,m=t.extend({},this._group.options.spiderLegPolylineOptions),v=m.opacity;for(void 0===v&&(v=t.MarkerClusterGroup.prototype.options.spiderLegPolylineOptions.opacity),g?(m.opacity=0,m.className=(m.className||"")+" leaflet-cluster-spider-leg"):m.opacity=v,c._ignoreMove=!0,o=0;o<e.length;o++)i=e[o],l=d.layerPointToLatLng(n[o]),r=new t.Polyline([h,l],m),d.addLayer(r),i._spiderLeg=r,g&&(s=(a=r._path).getTotalLength()+.1,a.style.strokeDasharray=s,a.style.strokeDashoffset=s),i.setZIndexOffset&&i.setZIndexOffset(1e6),i.clusterHide&&i.clusterHide(),p.addLayer(i),i._setPos&&i._setPos(f);for(c._forceLayout(),c._animationStart(),o=e.length-1;o>=0;o--)l=d.layerPointToLatLng(n[o]),(i=e[o])._preSpiderfyLatlng=i._latlng,i.setLatLng(l),i.clusterShow&&i.clusterShow(),g&&((a=(r=i._spiderLeg)._path).style.strokeDashoffset=0,r.setStyle({opacity:v}));this.setOpacity(.3),c._ignoreMove=!1,setTimeout((function(){c._animationEnd(),c.fire("spiderfied",{cluster:u,markers:e})}),200)},_animationUnspiderfy:function(e){var n,o,i,r,a,s,l=this,u=this._group,c=u._map,d=u._featureGroup,p=e?c._latLngToNewLayerPoint(this._latlng,e.zoom,e.center):c.latLngToLayerPoint(this._latlng),h=this.getAllChildMarkers(null,!0),f=t.Path.SVG;for(u._ignoreMove=!0,u._animationStart(),this.setOpacity(1),o=h.length-1;o>=0;o--)(n=h[o])._preSpiderfyLatlng&&(n.closePopup(),n.setLatLng(n._preSpiderfyLatlng),delete n._preSpiderfyLatlng,s=!0,n._setPos&&(n._setPos(p),s=!1),n.clusterHide&&(n.clusterHide(),s=!1),s&&d.removeLayer(n),f&&(a=(r=(i=n._spiderLeg)._path).getTotalLength()+.1,r.style.strokeDashoffset=a,i.setStyle({opacity:0})));u._ignoreMove=!1,setTimeout((function(){var t=0;for(o=h.length-1;o>=0;o--)(n=h[o])._spiderLeg&&t++;for(o=h.length-1;o>=0;o--)(n=h[o])._spiderLeg&&(n.clusterShow&&n.clusterShow(),n.setZIndexOffset&&n.setZIndexOffset(0),t>1&&d.removeLayer(n),c.removeLayer(n._spiderLeg),delete n._spiderLeg);u._animationEnd(),u.fire("unspiderfied",{cluster:l,markers:h})}),200)}}),t.MarkerClusterGroup.include({_spiderfied:null,unspiderfy:function(){this._unspiderfy.apply(this,arguments)},_spiderfierOnAdd:function(){this._map.on("click",this._unspiderfyWrapper,this),this._map.options.zoomAnimation&&this._map.on("zoomstart",this._unspiderfyZoomStart,this),this._map.on("zoomend",this._noanimationUnspiderfy,this),t.Browser.touch||this._map.getRenderer(this)},_spiderfierOnRemove:function(){this._map.off("click",this._unspiderfyWrapper,this),this._map.off("zoomstart",this._unspiderfyZoomStart,this),this._map.off("zoomanim",this._unspiderfyZoomAnim,this),this._map.off("zoomend",this._noanimationUnspiderfy,this),this._noanimationUnspiderfy()},_unspiderfyZoomStart:function(){this._map&&this._map.on("zoomanim",this._unspiderfyZoomAnim,this)},_unspiderfyZoomAnim:function(e){t.DomUtil.hasClass(this._map._mapPane,"leaflet-touching")||(this._map.off("zoomanim",this._unspiderfyZoomAnim,this),this._unspiderfy(e))},_unspiderfyWrapper:function(){this._unspiderfy()},_unspiderfy:function(t){this._spiderfied&&this._spiderfied.unspiderfy(t)},_noanimationUnspiderfy:function(){this._spiderfied&&this._spiderfied._noanimationUnspiderfy()},_unspiderfyLayer:function(t){t._spiderLeg&&(this._featureGroup.removeLayer(t),t.clusterShow&&t.clusterShow(),t.setZIndexOffset&&t.setZIndexOffset(0),this._map.removeLayer(t._spiderLeg),delete t._spiderLeg)}}),t.MarkerClusterGroup.include({refreshClusters:function(e){return e?e instanceof t.MarkerClusterGroup?e=e._topClusterLevel.getAllChildMarkers():e instanceof t.LayerGroup?e=e._layers:e instanceof t.MarkerCluster?e=e.getAllChildMarkers():e instanceof t.Marker&&(e=[e]):e=this._topClusterLevel.getAllChildMarkers(),this._flagParentsIconsNeedUpdate(e),this._refreshClustersIcons(),this.options.singleMarkerMode&&this._refreshSingleMarkerModeMarkers(e),this},_flagParentsIconsNeedUpdate:function(t){var e,n;for(e in t)for(n=t[e].__parent;n;)n._iconNeedsUpdate=!0,n=n.__parent},_refreshSingleMarkerModeMarkers:function(t){var e,n;for(e in t)n=t[e],this.hasLayer(n)&&n.setIcon(this._overrideMarkerIcon(n))}}),t.Marker.include({refreshIconOptions:function(e,n){var o=this.options.icon;return t.setOptions(o,e),this.setIcon(o),n&&this.__parent&&this.__parent._group.refreshClusters(this),this}}),e.MarkerClusterGroup=n,e.MarkerCluster=o}(e)}).call(this,n("4R65"))},JiZb:function(t,e,n){"use strict";var o=n("0GbY"),i=n("m/L8"),r=n("tiKp"),a=n("g6v/"),s=r("species");t.exports=function(t){var e=o(t),n=i.f;a&&e&&!e[s]&&n(e,s,{configurable:!0,get:function(){return this}})}},JtgP:function(t,e,n){"use strict";n.r(e),function(t){n.d(e,"default",(function(){return u}));n("ma9I"),n("sMBO"),n("tkto"),n("U3f4"),n("EnZy"),n("FZtP");var o,i=n("2mBW"),r=n.n(i),a=n("kfS4"),s=n("RRj0"),l=n("q2xg");function u(e,n,i){var r;return console.log("           //--initTable [%s], rowData = %O, tblState = %O",e,n,i),o=i,(r=i.api)&&r.destroy(),function(e,n){return(r=e,(i=r,o.curRealm,Object(a._u)("getData",["tagNames",!0]).then((function(t){return[{headerName:i,field:"name",width:b(),cellRenderer:"group",suppressFilter:!0,cellRendererParams:{innerRenderer:_,padding:20},cellClass:A,comparator:C},{headerName:"Subject Order",field:"subjOrder",width:10,hide:!0},{headerName:"Subject Family",field:"subjFamily",width:10,hide:!0},{headerName:"Subject Genus",field:"subjGenus",width:10,hide:!0},{headerName:"Subject Species",field:"subjSpecies",width:10,hide:!0},{headerName:"Object Domain",field:"objDomain",width:10,hide:!0},{headerName:"Object Kingdom",field:"objKingdom",width:10,hide:!0},{headerName:"Object Phylum",field:"objPhylum",width:10,hide:!0},{headerName:"Object Class",field:"objClass",width:10,hide:!0},{headerName:"Object Order",field:"objOrder",width:10,hide:!0},{headerName:"Object Family",field:"objFamily",width:10,hide:!0},{headerName:"Object Genus",field:"objGenus",width:10,hide:!0},{headerName:"Object Species",field:"objSpecies",width:10,hide:!0},{headerName:"Edit",field:"edit",width:50,hide:-1===["admin","editor","super"].indexOf(o.userRole),headerTooltip:"Edit",cellRenderer:w},{headerName:"Editor",field:"updatedBy",width:80,hide:!0,headerTooltip:"Last Editied By",filter:l.a},{headerName:"Cnt",field:"intCnt",width:48,volatile:!0,headerTooltip:"Interaction Count"},{headerName:"Map",field:"map",width:39,hide:!E(),headerTooltip:"Show on Map",cellRenderer:x},{headerName:"Subject Taxon",field:"subject",width:m("sub"),cellRenderer:y,comparator:C},{headerName:"Object Taxon",field:"object",width:m("ob"),cellRenderer:y,comparator:C},{headerName:"Type",field:"interactionType",width:m("typ"),cellRenderer:y,filter:l.a},v(t),{headerName:"Citation",field:"citation",width:m("cit"),cellRenderer:y},{headerName:"Habitat",field:"habitat",width:m("hab"),cellRenderer:y,filter:l.a},{headerName:"Location",field:"location",width:m("loc"),hide:E(),cellRenderer:y},{headerName:"Elev",field:"elev",width:60,hide:!E(),cellRenderer:y},{headerName:"Elev Max",field:"elevMax",width:60,hide:!0},{headerName:"Lat",field:"lat",width:60,hide:!E(),cellRenderer:y},{headerName:"Long",field:"lng",width:60,hide:!E(),cellRenderer:y},{headerName:"Country",field:"country",width:m("cty"),cellRenderer:y,filter:l.a},{headerName:"Region",field:"region",width:m("reg"),cellRenderer:y,filter:l.a},{headerName:"Note",field:"note",width:m("nt"),cellRenderer:y}]}))).then((function(t){return{columnDefs:t,enableColResize:!0,enableFilter:!0,enableSorting:!0,getHeaderCellTemplate:f,getNodeChildDetails:T,getRowClass:S,onBeforeFilterChanged:d,onAfterFilterChanged:c,onBeforeSortChanged:p,onModelUpdated:L,onRowGroupOpened:g,onRowSelected:h,rowHeight:26,rowSelection:"multiple",unSortIcon:!0}}))).then((function(e){e.rowData=n,new s.Grid(t("#search-tbl")[0],e),function(t,e){o.api=t.api,Object(a.accessTableState)().set({api:t.api,columnApi:t.columnApi,rowData:e})}(e,n),"taxa"===o.curFocus&&o.api.setSortModel([{colId:"name",sort:"asc"}]),L()}));var i;var r}(e,n).then((function(){return function(e){Object(a._ui)("hidePopupMsg"),Object(a._ui)("enableTableButtons",[o.flags.allDataAvailable]),t(".ag-header-cell-menu-button.name").hide(),t(".ag-header-cell-menu-button.edit").hide(),t(".ag-header-cell-menu-button.intCnt").hide(),t(".ag-header-cell-menu-button.map").hide(),t('div[colId="map"] .ag-sort-none-icon').hide(),t('div[colId="map"] .ag-sort-ascending-icon').hide(),t('div[colId="map"] .ag-sort-descending-icon').hide(),t('div[colId="edit"] .ag-sort-none-icon').hide(),t('div[colId="edit"] .ag-sort-ascending-icon').hide(),t('div[colId="edit"] .ag-sort-descending-icon').hide(),t(".ag-header-cell-menu-button.elev").hide(),t(".ag-header-cell-menu-button.lat").hide(),t(".ag-header-cell-menu-button.lng").hide(),t('div[colId="lat"] .ag-sort-none-icon').hide(),t('div[colId="lat"] .ag-sort-ascending-icon').hide(),t('div[colId="lat"] .ag-sort-descending-icon').hide(),t('div[colId="lng"] .ag-sort-none-icon').hide(),t('div[colId="lng"] .ag-sort-ascending-icon').hide(),void t('div[colId="lng"] .ag-sort-descending-icon').hide(),o.intSet&&function(t){if(0==t.length)return o.api.showNoRowsOverlay();o.api.expandAll(),Object(a._ui)("setTreeToggleData",[!0])}(e);Object(a._ui)("updateFilterStatusMsg")}(n)}))}function c(){}function d(){Object(a._ui)("updateFilterStatusMsg")}function p(){if("taxa"===o.curFocus){var t,e=o.api.getSortModel();if(!e.length)return o.api.setSortModel([{colId:"name",sort:"asc"}]);(t=e).some((function(t){return"name"===t.colId}))||(t.push({colId:"name",sort:"asc"}),o.api.setSortModel(t))}}function h(){t("#list-pnl").hasClass("closed")||t("#submit-list").data("submitting")||(t("#unsel-rows").attr({disabled:!1}).fadeTo("slow",1),t("#mod-some-list").prop("checked")||t("#mod-some-list").prop({checked:"checked"}).change())}function f(t){var e=t.column.colId+"ColFilterIcon";return'<div class="ag-header-cell">  <div id="agResizeBar" class="ag-header-cell-resize"></div>  <span id="agMenu" class="'+t.column.colId+' ag-header-icon ag-header-cell-menu-button"></span>  <div id="agHeaderCellLabel" class="ag-header-cell-label">    <span id="agSortAsc" class="ag-header-icon ag-sort-ascending-icon"></span>    <span id="agSortDesc" class="ag-header-icon ag-sort-descending-icon"></span>    <span id="agNoSort" class="ag-header-icon ag-sort-none-icon"></span>    <a name="'+e+'" id="agFilter" class="anything ag-header-icon ag-filter-icon"></a>    <span id="agText" class="ag-header-cell-text"></span>  </div></div>'}function g(){o.api.refreshView()}function m(e){var n=t(window).width()<1500?"sml":"reg";return{sub:{sml:133,reg:141},ob:{sml:127,reg:135},typ:{sml:88,reg:102},cit:{sml:111,reg:133},hab:{sml:90,reg:100},loc:{sml:111,reg:122},cty:{sml:94,reg:102},reg:{sml:90,reg:100},nt:{sml:100,reg:127}}[e][n]}function v(t){var e=t?Object.keys(t):[];return{headerName:"Tags",field:"tags",width:75,cellRenderer:y,filter:l.a,filterParams:{values:e}}}function y(t){var e=t.value||null;return null===e?null:'<span title="'+e+'">'+e+"</span>"}function b(){var e=-1===["admin","super","editor"].indexOf(o.userRole)?0:50;return"locs"===o.curFocus&&(e+=66),(t(window).width()>1500?340:273)-e}function _(e){var o,i,r,a,s=e.data.name||null;return s?'<span title="'+(a=s)+'">'+a+"</span>":(o=e.data.id,r=n("Zy9/").default,i="<img src=".concat(r,' class="tree-show" title="Show Interaction Details" \n        alt="Show Interaction Details">'),'<a href="'.concat(function(e){return t("body").data("base-url")+"interaction/"+e}(o),'">').concat(i,"</a>"))}function C(t,e,n,i,r){return t?"taxa"!==o.curFocus?function(t,e){var n=t.toLowerCase(),o=e.toLowerCase();return n<o?-1:n>o?1:0}(t,e):function(t,e){var n=["Kingdom","Phylum","Class","Order","Family","Genus","Species"],o=t.split(" "),i=o[0],r=o[1],a=e.split(" "),s=a[0],l=a[1];return"Unspecified"===s?1:(-1===n.indexOf(i)||-1===n.indexOf(s)?-1!==n.indexOf(i)?1:-1!==n.indexOf(s)?-1:t.toLowerCase()>e.toLowerCase()?1:-1:n.indexOf(i)!==n.indexOf(s)&&(n.indexOf(i)>n.indexOf(s)?1:-1))||(r.toLowerCase()>l.toLowerCase()?1:-1)}(t,e):0}function w(e){return function(t){return["locs"===o.curFocus&&-1!==["Region","Country","Habitat"].indexOf(t.data.type),"taxa"===o.curFocus&&!t.data.parentTaxon&&!t.data.interactionType,"srcs"===o.curFocus&&0===t.data.id].some((function(t){return t}))}(e)?"<span>":function(e,o){var i=n("wLHj").default,r="<img src=".concat(i,' id="edit').concat(o).concat(e,'"\n        class="tbl-edit" title="Edit ').concat(o," ").concat(e,'" alt="Edit ').concat(o,'">');return t("#search-tbl").off("click","#edit"+o+e),t("#search-tbl").on("click","#edit"+o+e,a._form.bind(null,"edit",[e,Object(a._u)("lcfirst",[o])])),r}(e.data.id,e.data.entity)}function E(){return"locs"===o.curFocus}function x(e){if(!e.data.onMap)return"<span>";var o,i=e.data.id;return t("#search-tbl").off("click","#map"+i),t("#search-tbl").on("click","#map"+i,a.showLocOnMap.bind(null,e.data.onMap,"Region"===(o=e.data).type?4:"Country"===o.type?5:7)),function(e){var o=n("SpUQ").default;return"<img src='".concat(o,"' id='map").concat(e,"' alt='Map Icon class='map-ico'  \n        title='Show on Map' style='").concat(function(){var e="height: 22px; margin-left: 9px; cursor:pointer;";t("#shw-map").data("disabled")&&(e+=(r()("styles")," opacity: .3;"));return e}(),"'>")}(i)}function S(t){if(""===t.data.name)return"srcs"===o.curFocus?R(t.data):O(t.data.treeLvl)}function A(t){if(!0===t.node.expanded&&function(t){if(t.data.locGroupedInts)return function(t){return t.node.childrenAfterFilter.some((function(t){return"Unspecified"===t.data.name.split(" ")[0]}))}(t);if(!0===t.data.interactions&&""!==t.data.name)return"taxa"!==o.curFocus||function(t){if("Species"===t.data.taxonLvl)return!0;return t.node.childrenAfterFilter.some((function(t){return"Unspecified"===t.data.name.split(" ")[0]}))}(t)}(t)||function(t){return!0===t.data.groupedInts}(t))return"srcs"===o.curFocus?R(t.data):O(t.data.treeLvl)}function O(t){return"row-"+["purple","green","orange","blue","red","turquoise","yellow"][t]}function R(t){return"row-"+["purple","green","orange","blue","red","turquoise","yellow"][t.rowColorIdx]}function T(t){return t.isParent?{group:!0,expanded:t.open,children:t.children}:null}function L(){if(o.api){var e,n=function(t){var e=P(t.childrenAfterFilter);return o.api.softRefreshView(),e}(o.api.getModel().rootNode);e=n,t("#tbl-cnt").text("[ Interactions: ".concat(e," ]"))}}function P(t){var e,n=0;return t.forEach((function(t){e=0,e+=function(t){var e=0;t.childrenAfterFilter?0!==(e+=P(t.childrenAfterFilter))&&(t.data.intCnt=e):(++e,t.data.intCnt=null);return e}(t),n+=e,0!==e&&null!==t.data.intCnt&&(t.data.intCnt=e)})),n}}.call(this,n("EVdn"))},Junv:function(t,e,n){"use strict";var o=n("I+eb"),i=n("6LWA"),r=[].reverse,a=[1,2];o({target:"Array",proto:!0,forced:String(a)===String(a.reverse())},{reverse:function(){return i(this)&&(this.length=this.length),r.call(this)}})},JwUS:function(t,e,n){"use strict";var o=n("I+eb"),i=n("xDBR"),r=n("glrk"),a=n("HAuM"),s=n("WGBp"),l=n("ImZN");o({target:"Set",proto:!0,real:!0,forced:i},{reduce:function(t){var e,n,o=r(this),i=s(o);if(a(t),arguments.length>1)e=arguments[1];else{if((n=i.next()).done)throw TypeError("Reduce of empty set with no initial value");e=n.value}return l(i,(function(n){e=t(e,n,n,o)}),void 0,!1,!0),e}})},Jzt5:function(t,e,n){"use strict";(function(t,o){n.d(e,"d",(function(){return s})),n.d(e,"b",(function(){return u})),n.d(e,"e",(function(){return c})),n.d(e,"a",(function(){return d})),n.d(e,"c",(function(){return h}));n("ma9I"),n("U3f4"),n("EnZy");var i=n("kfS4"),r=n("U/oR"),a=n("FNQh");function s(e){var n=t.control({position:"topright"});n.onAdd=l,n.addTo(e)}function l(){return Object(i._u)("buildElem",["div",{id:"cnt-legend",class:"info legend flex-col"}])}function u(t,e,n){var i=0===e?null:'<span style="align-self: flex-end;">'.concat(e," without GPS data</span>"),r=1===t?"":"s",a=function(t){return(t=t.split("[")[0]).length<22?t:t.substring(0,19)+"..."}(n.displayName);o("#cnt-legend").html("\n        <h3 title='".concat(n.displayName,"'>").concat(t," location").concat(r," in ").concat(a,"</h3>\n        ").concat(i||""))}function c(e){t.Control.Create=t.Control.extend({onAdd:function(e){var n,i,r,s=(n="custom-icon leaflet-control-create",i=t.DomUtil.create("div",n),(r=t.DomUtil.create("input",n+"-icon",i)).type="button",o(i).attr("title","Create New Location").append(r),i);return o(s).click(a.create.bind(null,"location",null)),s},onRemove:function(t){}}),t.control.create=function(e){return new t.Control.Create(e)},t.control.create({position:"topleft"}).addTo(e)}function d(e){t.Control.CreateHere=t.Control.extend({onAdd:function(e){var n,i,r,a=(n="custom-icon leaflet-control-click-create",i=t.DomUtil.create("div",n),(r=t.DomUtil.create("input",n+"-icon",i)).type="button",o(i).attr("title","Click on map to select location position").append(r),i);return t.DomEvent.on(a,"click",p),a},onRemove:function(t){}}),t.control.createHere=function(e){return new t.Control.CreateHere(e)},t.control.createHere({position:"topleft"}).addTo(e)}function p(t){var e,n,i=(e=Object(r.getMapState)(),n=!e.flags.onClickDropPin||!e.flags.onClickDropPin,e.flags.onClickDropPin=n,Object(r.setMapState)(e),n),a=o("input.leaflet-control-click-create-icon");i?a.addClass("active-icon"):a.removeClass("active-icon")}function h(e){t.Control.Draw=t.Control.extend({onAdd:function(e){var n,i,r,a=(n="custom-icon leaflet-control-draw",i=t.DomUtil.create("div",n),(r=t.DomUtil.create("input",n+"-icon",i)).type="button",o(r).attr("disabled","disabled").css("opacity",".3"),o(i).attr("title","Draw new location boundary on map").append(r),i);return t.DomEvent.on(a,"click",f),a},onRemove:function(t){}}),t.control.draw=function(e){return new t.Control.Draw(e)},t.control.draw({position:"topleft"}).addTo(e)}function f(){console.log("Draw new location boundary!")}}).call(this,n("4R65"),n("EVdn"))},"K+Wz":function(t,e,n){},KjyA:function(t,e,n){"use strict";n.d(e,"a",(function(){return s})),n.d(e,"b",(function(){return u}));var o=n("mrSG"),i=n("HR75"),r=n("9AQC"),a=n("9/Zf"),s=function(){function t(){this._notifyingListeners=!1,this._scopeListeners=[],this._eventProcessors=[],this._breadcrumbs=[],this._user={},this._tags={},this._extra={},this._context={}}return t.prototype.addScopeListener=function(t){this._scopeListeners.push(t)},t.prototype.addEventProcessor=function(t){return this._eventProcessors.push(t),this},t.prototype._notifyScopeListeners=function(){var t=this;this._notifyingListeners||(this._notifyingListeners=!0,setTimeout((function(){t._scopeListeners.forEach((function(e){e(t)})),t._notifyingListeners=!1})))},t.prototype._notifyEventProcessors=function(t,e,n,a){var s=this;return void 0===a&&(a=0),new i.a((function(i,l){var u=t[a];if(null===e||"function"!=typeof u)i(e);else{var c=u(o.a({},e),n);Object(r.m)(c)?c.then((function(e){return s._notifyEventProcessors(t,e,n,a+1).then(i)})).then(null,l):s._notifyEventProcessors(t,c,n,a+1).then(i).then(null,l)}}))},t.prototype.setUser=function(t){return this._user=t||{},this._notifyScopeListeners(),this},t.prototype.setTags=function(t){return this._tags=o.a({},this._tags,t),this._notifyScopeListeners(),this},t.prototype.setTag=function(t,e){var n;return this._tags=o.a({},this._tags,((n={})[t]=e,n)),this._notifyScopeListeners(),this},t.prototype.setExtras=function(t){return this._extra=o.a({},this._extra,t),this._notifyScopeListeners(),this},t.prototype.setExtra=function(t,e){var n;return this._extra=o.a({},this._extra,((n={})[t]=e,n)),this._notifyScopeListeners(),this},t.prototype.setFingerprint=function(t){return this._fingerprint=t,this._notifyScopeListeners(),this},t.prototype.setLevel=function(t){return this._level=t,this._notifyScopeListeners(),this},t.prototype.setTransaction=function(t){return this._transaction=t,this._span&&(this._span.transaction=t),this._notifyScopeListeners(),this},t.prototype.setContext=function(t,e){var n;return this._context=o.a({},this._context,((n={})[t]=e,n)),this._notifyScopeListeners(),this},t.prototype.setSpan=function(t){return this._span=t,this._notifyScopeListeners(),this},t.prototype.getSpan=function(){return this._span},t.clone=function(e){var n=new t;return e&&(n._breadcrumbs=o.d(e._breadcrumbs),n._tags=o.a({},e._tags),n._extra=o.a({},e._extra),n._context=o.a({},e._context),n._user=e._user,n._level=e._level,n._span=e._span,n._transaction=e._transaction,n._fingerprint=e._fingerprint,n._eventProcessors=o.d(e._eventProcessors)),n},t.prototype.clear=function(){return this._breadcrumbs=[],this._tags={},this._extra={},this._user={},this._context={},this._level=void 0,this._transaction=void 0,this._fingerprint=void 0,this._span=void 0,this._notifyScopeListeners(),this},t.prototype.addBreadcrumb=function(t,e){var n=o.a({timestamp:Object(a.m)()},t);return this._breadcrumbs=void 0!==e&&e>=0?o.d(this._breadcrumbs,[n]).slice(-e):o.d(this._breadcrumbs,[n]),this._notifyScopeListeners(),this},t.prototype.clearBreadcrumbs=function(){return this._breadcrumbs=[],this._notifyScopeListeners(),this},t.prototype._applyFingerprint=function(t){t.fingerprint=t.fingerprint?Array.isArray(t.fingerprint)?t.fingerprint:[t.fingerprint]:[],this._fingerprint&&(t.fingerprint=t.fingerprint.concat(this._fingerprint)),t.fingerprint&&!t.fingerprint.length&&delete t.fingerprint},t.prototype.applyToEvent=function(t,e){return this._extra&&Object.keys(this._extra).length&&(t.extra=o.a({},this._extra,t.extra)),this._tags&&Object.keys(this._tags).length&&(t.tags=o.a({},this._tags,t.tags)),this._user&&Object.keys(this._user).length&&(t.user=o.a({},this._user,t.user)),this._context&&Object.keys(this._context).length&&(t.contexts=o.a({},this._context,t.contexts)),this._level&&(t.level=this._level),this._transaction&&(t.transaction=this._transaction),this._applyFingerprint(t),t.breadcrumbs=o.d(t.breadcrumbs||[],this._breadcrumbs),t.breadcrumbs=t.breadcrumbs.length>0?t.breadcrumbs:void 0,this._notifyEventProcessors(o.d(l(),this._eventProcessors),t,e)},t}();function l(){var t=Object(a.g)();return t.__SENTRY__=t.__SENTRY__||{},t.__SENTRY__.globalEventProcessors=t.__SENTRY__.globalEventProcessors||[],t.__SENTRY__.globalEventProcessors}function u(t){l().push(t)}},Kz25:function(t,e,n){"use strict";n("PKPk");var o,i=n("I+eb"),r=n("g6v/"),a=n("DTth"),s=n("2oRo"),l=n("N+g0"),u=n("busE"),c=n("GarU"),d=n("UTVS"),p=n("YNrV"),h=n("TfTi"),f=n("ZUd8").codeAt,g=n("yY7y"),m=n("1E5z"),v=n("mGGf"),y=n("afO8"),b=s.URL,_=v.URLSearchParams,C=v.getState,w=y.set,E=y.getterFor("URL"),x=Math.floor,S=Math.pow,A=/[A-Za-z]/,O=/[\d+\-.A-Za-z]/,R=/\d/,T=/^(0x|0X)/,L=/^[0-7]+$/,P=/^\d+$/,D=/^[\dA-Fa-f]+$/,k=/[\u0000\u0009\u000A\u000D #%/:?@[\\]]/,N=/[\u0000\u0009\u000A\u000D #/:?@[\\]]/,F=/^[\u0000-\u001F ]+|[\u0000-\u001F ]+$/g,M=/[\u0009\u000A\u000D]/g,I=function(t,e){var n,o,i;if("["==e.charAt(0)){if("]"!=e.charAt(e.length-1))return"Invalid host";if(!(n=j(e.slice(1,-1))))return"Invalid host";t.host=n}else if(Y(t)){if(e=g(e),k.test(e))return"Invalid host";if(null===(n=G(e)))return"Invalid host";t.host=n}else{if(N.test(e))return"Invalid host";for(n="",o=h(e),i=0;i<o.length;i++)n+=z(o[i],B);t.host=n}},G=function(t){var e,n,o,i,r,a,s,l=t.split(".");if(l.length&&""==l[l.length-1]&&l.pop(),(e=l.length)>4)return t;for(n=[],o=0;o<e;o++){if(""==(i=l[o]))return t;if(r=10,i.length>1&&"0"==i.charAt(0)&&(r=T.test(i)?16:8,i=i.slice(8==r?1:2)),""===i)a=0;else{if(!(10==r?P:8==r?L:D).test(i))return t;a=parseInt(i,r)}n.push(a)}for(o=0;o<e;o++)if(a=n[o],o==e-1){if(a>=S(256,5-e))return null}else if(a>255)return null;for(s=n.pop(),o=0;o<n.length;o++)s+=n[o]*S(256,3-o);return s},j=function(t){var e,n,o,i,r,a,s,l=[0,0,0,0,0,0,0,0],u=0,c=null,d=0,p=function(){return t.charAt(d)};if(":"==p()){if(":"!=t.charAt(1))return;d+=2,c=++u}for(;p();){if(8==u)return;if(":"!=p()){for(e=n=0;n<4&&D.test(p());)e=16*e+parseInt(p(),16),d++,n++;if("."==p()){if(0==n)return;if(d-=n,u>6)return;for(o=0;p();){if(i=null,o>0){if(!("."==p()&&o<4))return;d++}if(!R.test(p()))return;for(;R.test(p());){if(r=parseInt(p(),10),null===i)i=r;else{if(0==i)return;i=10*i+r}if(i>255)return;d++}l[u]=256*l[u]+i,2!=++o&&4!=o||u++}if(4!=o)return;break}if(":"==p()){if(d++,!p())return}else if(p())return;l[u++]=e}else{if(null!==c)return;d++,c=++u}}if(null!==c)for(a=u-c,u=7;0!=u&&a>0;)s=l[u],l[u--]=l[c+a-1],l[c+--a]=s;else if(8!=u)return;return l},U=function(t){var e,n,o,i;if("number"==typeof t){for(e=[],n=0;n<4;n++)e.unshift(t%256),t=x(t/256);return e.join(".")}if("object"==typeof t){for(e="",o=function(t){for(var e=null,n=1,o=null,i=0,r=0;r<8;r++)0!==t[r]?(i>n&&(e=o,n=i),o=null,i=0):(null===o&&(o=r),++i);return i>n&&(e=o,n=i),e}(t),n=0;n<8;n++)i&&0===t[n]||(i&&(i=!1),o===n?(e+=n?":":"::",i=!0):(e+=t[n].toString(16),n<7&&(e+=":")));return"["+e+"]"}return t},B={},V=p({},B,{" ":1,'"':1,"<":1,">":1,"`":1}),W=p({},V,{"#":1,"?":1,"{":1,"}":1}),H=p({},W,{"/":1,":":1,";":1,"=":1,"@":1,"[":1,"\\":1,"]":1,"^":1,"|":1}),z=function(t,e){var n=f(t,0);return n>32&&n<127&&!d(e,t)?t:encodeURIComponent(t)},Z={ftp:21,file:null,gopher:70,http:80,https:443,ws:80,wss:443},Y=function(t){return d(Z,t.scheme)},q=function(t){return""!=t.username||""!=t.password},Q=function(t){return!t.host||t.cannotBeABaseURL||"file"==t.scheme},J=function(t,e){var n;return 2==t.length&&A.test(t.charAt(0))&&(":"==(n=t.charAt(1))||!e&&"|"==n)},K=function(t){var e;return t.length>1&&J(t.slice(0,2))&&(2==t.length||"/"===(e=t.charAt(2))||"\\"===e||"?"===e||"#"===e)},X=function(t){var e=t.path,n=e.length;!n||"file"==t.scheme&&1==n&&J(e[0],!0)||e.pop()},$=function(t){return"."===t||"%2e"===t.toLowerCase()},tt={},et={},nt={},ot={},it={},rt={},at={},st={},lt={},ut={},ct={},dt={},pt={},ht={},ft={},gt={},mt={},vt={},yt={},bt={},_t={},Ct=function(t,e,n,i){var r,a,s,l,u,c=n||tt,p=0,f="",g=!1,m=!1,v=!1;for(n||(t.scheme="",t.username="",t.password="",t.host=null,t.port=null,t.path=[],t.query=null,t.fragment=null,t.cannotBeABaseURL=!1,e=e.replace(F,"")),e=e.replace(M,""),r=h(e);p<=r.length;){switch(a=r[p],c){case tt:if(!a||!A.test(a)){if(n)return"Invalid scheme";c=nt;continue}f+=a.toLowerCase(),c=et;break;case et:if(a&&(O.test(a)||"+"==a||"-"==a||"."==a))f+=a.toLowerCase();else{if(":"!=a){if(n)return"Invalid scheme";f="",c=nt,p=0;continue}if(n&&(Y(t)!=d(Z,f)||"file"==f&&(q(t)||null!==t.port)||"file"==t.scheme&&!t.host))return;if(t.scheme=f,n)return void(Y(t)&&Z[t.scheme]==t.port&&(t.port=null));f="","file"==t.scheme?c=ht:Y(t)&&i&&i.scheme==t.scheme?c=ot:Y(t)?c=st:"/"==r[p+1]?(c=it,p++):(t.cannotBeABaseURL=!0,t.path.push(""),c=yt)}break;case nt:if(!i||i.cannotBeABaseURL&&"#"!=a)return"Invalid scheme";if(i.cannotBeABaseURL&&"#"==a){t.scheme=i.scheme,t.path=i.path.slice(),t.query=i.query,t.fragment="",t.cannotBeABaseURL=!0,c=_t;break}c="file"==i.scheme?ht:rt;continue;case ot:if("/"!=a||"/"!=r[p+1]){c=rt;continue}c=lt,p++;break;case it:if("/"==a){c=ut;break}c=vt;continue;case rt:if(t.scheme=i.scheme,a==o)t.username=i.username,t.password=i.password,t.host=i.host,t.port=i.port,t.path=i.path.slice(),t.query=i.query;else if("/"==a||"\\"==a&&Y(t))c=at;else if("?"==a)t.username=i.username,t.password=i.password,t.host=i.host,t.port=i.port,t.path=i.path.slice(),t.query="",c=bt;else{if("#"!=a){t.username=i.username,t.password=i.password,t.host=i.host,t.port=i.port,t.path=i.path.slice(),t.path.pop(),c=vt;continue}t.username=i.username,t.password=i.password,t.host=i.host,t.port=i.port,t.path=i.path.slice(),t.query=i.query,t.fragment="",c=_t}break;case at:if(!Y(t)||"/"!=a&&"\\"!=a){if("/"!=a){t.username=i.username,t.password=i.password,t.host=i.host,t.port=i.port,c=vt;continue}c=ut}else c=lt;break;case st:if(c=lt,"/"!=a||"/"!=f.charAt(p+1))continue;p++;break;case lt:if("/"!=a&&"\\"!=a){c=ut;continue}break;case ut:if("@"==a){g&&(f="%40"+f),g=!0,s=h(f);for(var y=0;y<s.length;y++){var b=s[y];if(":"!=b||v){var _=z(b,H);v?t.password+=_:t.username+=_}else v=!0}f=""}else if(a==o||"/"==a||"?"==a||"#"==a||"\\"==a&&Y(t)){if(g&&""==f)return"Invalid authority";p-=h(f).length+1,f="",c=ct}else f+=a;break;case ct:case dt:if(n&&"file"==t.scheme){c=gt;continue}if(":"!=a||m){if(a==o||"/"==a||"?"==a||"#"==a||"\\"==a&&Y(t)){if(Y(t)&&""==f)return"Invalid host";if(n&&""==f&&(q(t)||null!==t.port))return;if(l=I(t,f))return l;if(f="",c=mt,n)return;continue}"["==a?m=!0:"]"==a&&(m=!1),f+=a}else{if(""==f)return"Invalid host";if(l=I(t,f))return l;if(f="",c=pt,n==dt)return}break;case pt:if(!R.test(a)){if(a==o||"/"==a||"?"==a||"#"==a||"\\"==a&&Y(t)||n){if(""!=f){var C=parseInt(f,10);if(C>65535)return"Invalid port";t.port=Y(t)&&C===Z[t.scheme]?null:C,f=""}if(n)return;c=mt;continue}return"Invalid port"}f+=a;break;case ht:if(t.scheme="file","/"==a||"\\"==a)c=ft;else{if(!i||"file"!=i.scheme){c=vt;continue}if(a==o)t.host=i.host,t.path=i.path.slice(),t.query=i.query;else if("?"==a)t.host=i.host,t.path=i.path.slice(),t.query="",c=bt;else{if("#"!=a){K(r.slice(p).join(""))||(t.host=i.host,t.path=i.path.slice(),X(t)),c=vt;continue}t.host=i.host,t.path=i.path.slice(),t.query=i.query,t.fragment="",c=_t}}break;case ft:if("/"==a||"\\"==a){c=gt;break}i&&"file"==i.scheme&&!K(r.slice(p).join(""))&&(J(i.path[0],!0)?t.path.push(i.path[0]):t.host=i.host),c=vt;continue;case gt:if(a==o||"/"==a||"\\"==a||"?"==a||"#"==a){if(!n&&J(f))c=vt;else if(""==f){if(t.host="",n)return;c=mt}else{if(l=I(t,f))return l;if("localhost"==t.host&&(t.host=""),n)return;f="",c=mt}continue}f+=a;break;case mt:if(Y(t)){if(c=vt,"/"!=a&&"\\"!=a)continue}else if(n||"?"!=a)if(n||"#"!=a){if(a!=o&&(c=vt,"/"!=a))continue}else t.fragment="",c=_t;else t.query="",c=bt;break;case vt:if(a==o||"/"==a||"\\"==a&&Y(t)||!n&&("?"==a||"#"==a)){if(".."===(u=(u=f).toLowerCase())||"%2e."===u||".%2e"===u||"%2e%2e"===u?(X(t),"/"==a||"\\"==a&&Y(t)||t.path.push("")):$(f)?"/"==a||"\\"==a&&Y(t)||t.path.push(""):("file"==t.scheme&&!t.path.length&&J(f)&&(t.host&&(t.host=""),f=f.charAt(0)+":"),t.path.push(f)),f="","file"==t.scheme&&(a==o||"?"==a||"#"==a))for(;t.path.length>1&&""===t.path[0];)t.path.shift();"?"==a?(t.query="",c=bt):"#"==a&&(t.fragment="",c=_t)}else f+=z(a,W);break;case yt:"?"==a?(t.query="",c=bt):"#"==a?(t.fragment="",c=_t):a!=o&&(t.path[0]+=z(a,B));break;case bt:n||"#"!=a?a!=o&&("'"==a&&Y(t)?t.query+="%27":t.query+="#"==a?"%23":z(a,B)):(t.fragment="",c=_t);break;case _t:a!=o&&(t.fragment+=z(a,V))}p++}},wt=function(t){var e,n,o=c(this,wt,"URL"),i=arguments.length>1?arguments[1]:void 0,a=String(t),s=w(o,{type:"URL"});if(void 0!==i)if(i instanceof wt)e=E(i);else if(n=Ct(e={},String(i)))throw TypeError(n);if(n=Ct(s,a,null,e))throw TypeError(n);var l=s.searchParams=new _,u=C(l);u.updateSearchParams(s.query),u.updateURL=function(){s.query=String(l)||null},r||(o.href=xt.call(o),o.origin=St.call(o),o.protocol=At.call(o),o.username=Ot.call(o),o.password=Rt.call(o),o.host=Tt.call(o),o.hostname=Lt.call(o),o.port=Pt.call(o),o.pathname=Dt.call(o),o.search=kt.call(o),o.searchParams=Nt.call(o),o.hash=Ft.call(o))},Et=wt.prototype,xt=function(){var t=E(this),e=t.scheme,n=t.username,o=t.password,i=t.host,r=t.port,a=t.path,s=t.query,l=t.fragment,u=e+":";return null!==i?(u+="//",q(t)&&(u+=n+(o?":"+o:"")+"@"),u+=U(i),null!==r&&(u+=":"+r)):"file"==e&&(u+="//"),u+=t.cannotBeABaseURL?a[0]:a.length?"/"+a.join("/"):"",null!==s&&(u+="?"+s),null!==l&&(u+="#"+l),u},St=function(){var t=E(this),e=t.scheme,n=t.port;if("blob"==e)try{return new URL(e.path[0]).origin}catch(t){return"null"}return"file"!=e&&Y(t)?e+"://"+U(t.host)+(null!==n?":"+n:""):"null"},At=function(){return E(this).scheme+":"},Ot=function(){return E(this).username},Rt=function(){return E(this).password},Tt=function(){var t=E(this),e=t.host,n=t.port;return null===e?"":null===n?U(e):U(e)+":"+n},Lt=function(){var t=E(this).host;return null===t?"":U(t)},Pt=function(){var t=E(this).port;return null===t?"":String(t)},Dt=function(){var t=E(this),e=t.path;return t.cannotBeABaseURL?e[0]:e.length?"/"+e.join("/"):""},kt=function(){var t=E(this).query;return t?"?"+t:""},Nt=function(){return E(this).searchParams},Ft=function(){var t=E(this).fragment;return t?"#"+t:""},Mt=function(t,e){return{get:t,set:e,configurable:!0,enumerable:!0}};if(r&&l(Et,{href:Mt(xt,(function(t){var e=E(this),n=String(t),o=Ct(e,n);if(o)throw TypeError(o);C(e.searchParams).updateSearchParams(e.query)})),origin:Mt(St),protocol:Mt(At,(function(t){var e=E(this);Ct(e,String(t)+":",tt)})),username:Mt(Ot,(function(t){var e=E(this),n=h(String(t));if(!Q(e)){e.username="";for(var o=0;o<n.length;o++)e.username+=z(n[o],H)}})),password:Mt(Rt,(function(t){var e=E(this),n=h(String(t));if(!Q(e)){e.password="";for(var o=0;o<n.length;o++)e.password+=z(n[o],H)}})),host:Mt(Tt,(function(t){var e=E(this);e.cannotBeABaseURL||Ct(e,String(t),ct)})),hostname:Mt(Lt,(function(t){var e=E(this);e.cannotBeABaseURL||Ct(e,String(t),dt)})),port:Mt(Pt,(function(t){var e=E(this);Q(e)||(""==(t=String(t))?e.port=null:Ct(e,t,pt))})),pathname:Mt(Dt,(function(t){var e=E(this);e.cannotBeABaseURL||(e.path=[],Ct(e,t+"",mt))})),search:Mt(kt,(function(t){var e=E(this);""==(t=String(t))?e.query=null:("?"==t.charAt(0)&&(t=t.slice(1)),e.query="",Ct(e,t,bt)),C(e.searchParams).updateSearchParams(e.query)})),searchParams:Mt(Nt),hash:Mt(Ft,(function(t){var e=E(this);""!=(t=String(t))?("#"==t.charAt(0)&&(t=t.slice(1)),e.fragment="",Ct(e,t,_t)):e.fragment=null}))}),u(Et,"toJSON",(function(){return xt.call(this)}),{enumerable:!0}),u(Et,"toString",(function(){return xt.call(this)}),{enumerable:!0}),b){var It=b.createObjectURL,Gt=b.revokeObjectURL;It&&u(wt,"createObjectURL",(function(t){return It.apply(b,arguments)})),Gt&&u(wt,"revokeObjectURL",(function(t){return Gt.apply(b,arguments)}))}m(wt,"URL"),i({global:!0,forced:!a,sham:!r},{URL:wt})},L6zu:function(t,e,n){"use strict";(function(t){n.d(e,"b",(function(){return a})),n.d(e,"c",(function(){return s})),n.d(e,"a",(function(){return l}));n("07d7"),n("5s+n");var o=n("IaMx"),i=n("kfS4"),r=n("U/oR");function a(){t("#shw-map").text("Return to Table"),t("#shw-map").off("click").on("click",u).prop("title","Close map and reopen records in table."),t("#tool-bar").fadeTo("fast",1),t("#search-tbl").hide(),t("#map").show()}function s(){t("#search-tbl").fadeTo("fast",1),t("#map, #filter-in-tbl-msg").hide(),t("#shw-map").text("Map Interactions"),t("#shw-map").off("click").on("click",l).prop("title","Show interactions on a map.")}function l(){console.log("       +--showTableRecordsOnMap");var e=Object(i.accessTableState)().get(null,["curFocus","rcrdsById"]);t("#search-tbl").fadeTo("fast",.3,(function(){Object(o.updateUiForMapView)(),Promise.resolve("locs"!==e.curFocus?Object(i._u)("getData",["location"]):e.rcrdsById).then((function(t){Object(r.showInts)(e.curFocus,e.rcrdsById,t)}))}))}function u(){console.log("       +--returnRcrdsToTable"),Object(o.updateUiForTableView)(),"map"===Object(i._u)("getSelVal",["View"])&&Object(i._u)("setSelVal",["View","tree"])}}).call(this,n("EVdn"))},LJyf:function(t,e,n){"use strict";n.r(e),function(t){n.d(e,"loadSrcFilters",(function(){return r})),n.d(e,"applyPubFilter",(function(){return c}));n("TeQF"),n("sMBO"),n("07d7"),n("5s+n");var o=n("Zz5/"),i=n("kfS4");function r(e){return console.log("       --Loading source [%s] filters.",e),t("#focus-filters label").length?function(e){if("pubs"!==e)return Promise.resolve();return Promise.resolve(t("#selPubType")[0].selectize.clear("silent"))}(e):{auths:a,pubs:s,publ:u}[e]()}function a(){var e=o.getTreeTextFilterElem("Author");return t("#focus-filters").append(e),Promise.resolve()}function s(){return Object(i._u)("getOptsFromStoredData",["pubTypeNames"]).then(l)}function l(e){var n,r,a,s,l,u=(n=e,r=Object(i._u)("buildElem",["label",{class:"sel-cntnr flex-row"}]),a=Object(i._u)("buildElem",["span",{text:"Type:"}]),s=function(e,n,o,r){var a=Object(i._u)("buildSelectElem",[e,{class:n,id:o}]);return t(a).data("field",r),a}(function(t){return t.unshift({value:"all",text:"- All -"}),t}(n),"","selPubType","Publication Type"),l=t(window).width()>1500?"222px":"230px",t(s).css("width","177px"),t(r).css("width",l).append([a,s]),r),d=o.getTreeTextFilterElem("Publication");t("#focus-filters").append([d,u]),Object(i._u)("initCombobox",["Publication Type",c]),t("#selPubType")[0].selectize.clear("silent")}function u(){var e=o.getTreeTextFilterElem("Publisher");return t("#focus-filters").append(e),Promise.resolve()}function c(e,n){if(e){var r=Object(i.accessTableState)().get(null,["api","rowData","curFocus"]),a=e||Object(i._u)("getSelVal",["Publication Type"]),s=n||o.getTreeFilterVal("Publication");console.log("       +-applyPubFilter. typeId [%s], text [%s]",a,s);var l=a&&"all"!=a?""===s?o.getCurRowData().filter((function(t){return t.type==a})):function(t){return o.getCurRowData().filter((function(e){return e.type==t&&-1!==e.name.toLowerCase().indexOf(s)}))}(a):o.getRowsWithText(s);return a&&function(){var e=t('#selPubType option[value="'.concat(a,'"]')).text();s&&s.length>50&&s.substring(0,50);n=e,r=a,l="- All -"!==n&&(u={},u["Publication Type"]={text:"Publication Type",value:r},u),o.setPanelFilterState("combo",l),Object(i._ui)("updateFilterStatusMsg");var n,r,l,u}(),r.api.setRowData(l),Object(i._ui)("setTreeToggleData",[!1]),Promise.resolve()}}}.call(this,n("EVdn"))},LPSS:function(t,e,n){var o,i,r,a=n("2oRo"),s=n("0Dky"),l=n("xrYK"),u=n("+MLx"),c=n("G+Rx"),d=n("zBJ4"),p=a.location,h=a.setImmediate,f=a.clearImmediate,g=a.process,m=a.MessageChannel,v=a.Dispatch,y=0,b={},_=function(t){if(b.hasOwnProperty(t)){var e=b[t];delete b[t],e()}},C=function(t){return function(){_(t)}},w=function(t){_(t.data)},E=function(t){a.postMessage(t+"",p.protocol+"//"+p.host)};h&&f||(h=function(t){for(var e=[],n=1;arguments.length>n;)e.push(arguments[n++]);return b[++y]=function(){("function"==typeof t?t:Function(t)).apply(void 0,e)},o(y),y},f=function(t){delete b[t]},"process"==l(g)?o=function(t){g.nextTick(C(t))}:v&&v.now?o=function(t){v.now(C(t))}:m?(r=(i=new m).port2,i.port1.onmessage=w,o=u(r.postMessage,r,1)):!a.addEventListener||"function"!=typeof postMessage||a.importScripts||s(E)?o="onreadystatechange"in d("script")?function(t){c.appendChild(d("script")).onreadystatechange=function(){c.removeChild(this),_(t)}}:function(t){setTimeout(C(t),0)}:(o=E,a.addEventListener("message",w,!1))),t.exports={set:h,clear:f}},NaFW:function(t,e,n){var o=n("9d/t"),i=n("P4y1"),r=n("tiKp")("iterator");t.exports=function(t){if(null!=t)return t[r]||t["@@iterator"]||i[o(t)]}},NgBW:function(t,e,n){"use strict";n.r(e),n.d(e,"clearState",(function(){return r})),n.d(e,"initFormState",(function(){return a})),n.d(e,"addEntityFormState",(function(){return s})),n.d(e,"initRealmState",(function(){return l})),n.d(e,"isEditForm",(function(){return u})),n.d(e,"getEditEntityId",(function(){return c})),n.d(e,"getFormState",(function(){return d})),n.d(e,"getStateProp",(function(){return p})),n.d(e,"getFormLvlState",(function(){return h})),n.d(e,"getFormProp",(function(){return f})),n.d(e,"getFormEntity",(function(){return g})),n.d(e,"getFormParentId",(function(){return m})),n.d(e,"getTaxonProp",(function(){return v})),n.d(e,"getRealmState",(function(){return y})),n.d(e,"getFormFieldData",(function(){return b})),n.d(e,"getEntityRcrds",(function(){return _})),n.d(e,"getRcrd",(function(){return w})),n.d(e,"addEntityRecords",(function(){return E})),n.d(e,"addRequiredFieldInput",(function(){return x})),n.d(e,"addComboToFormState",(function(){return S})),n.d(e,"setStateProp",(function(){return A})),n.d(e,"setFormProp",(function(){return O})),n.d(e,"setRealmProp",(function(){return R})),n.d(e,"setFormFieldData",(function(){return T})),n.d(e,"setFormEntityType",(function(){return L})),n.d(e,"setOnFormCloseHandler",(function(){return P}));n("pDQq"),n("tkto"),n("FZtP");var o=n("FNQh"),i={};function r(){i={}}function a(t,e,n){var r=function(t,e){var n=["author","citation","interaction","interactionType","location","publication","publisher","source","taxon"];return"interaction"===e?function(){"create"===t&&n.splice(2,1);return n}():function(t,e){return{author:{edit:["source","author"]},citation:{edit:["source","citation","author","publisher"]},location:{edit:["location"]},publication:{edit:["source","publication"]},publisher:{edit:["source","publisher"]},taxon:{edit:["taxon"]}}[t][e]}(e,"edit")}(t,e);return i.init=!0,o.util("getData",[r]).then((function(r){return function(o){i={action:t,editing:"edit"===t&&{core:n||null,detail:null},entity:e,forms:{},formLevels:["top","sub","sub2"],records:o}}(r),s(e,"top",null,t),console.log("       #### Init formState = %O, curFormState = %O",o.util("snapshot",[i]),i),delete i.init,i}))}function s(t,e,n,o){i.forms[t]=e,i.forms[e]={action:o,expanded:!1,fieldData:{},entity:t,entityType:!1,onFormClose:null,pSelId:n,reqElems:[],selElems:[]}}function l(t,e){return o.util("getData",[["realm","realmNames","levelNames"]]).then((function(n){return o=n.realm,r=n.realmNames,a=n.levelNames,s=o[e],l=i.records.taxon[s.taxon],i.forms.realmData={lvls:a,realmLvls:s.uiLevelsShown,realmName:s.displayName,realms:r,realmTaxon:l,role:t,rootLvl:l.level.displayName},console.log("           /--taxon params = %O",i.forms.realmData),i.forms.realmData;var o,r,a,s,l}))}function u(){return"edit"===i.action}function c(t){return i.editing[t]}function d(){return!!Object.keys(i).length&&i}function p(t){return i[t]}function h(t){return!!i.forms[t]&&i.forms[t]}function f(t,e){return!!i.forms[t]&&i.forms[t][e]}function g(t){return!!i.forms[t]&&i.forms[t].entity}function m(t){return!!i.forms[t]&&i.forms[t].pSelId}function v(t){return!!i.forms.realmData&&i.forms.realmData[t]}function y(){return i.forms.realmData}function b(t,e){return i.forms[t].fieldData[e]}function _(t){return"string"==typeof t?i.records[t]:C(t)}function C(t){var e={};return t.forEach((function(t){e[t]=i.records[entity]})),e}function w(t,e){if(i.records[t])return i.records[t][e]?o.util("snapshot",[i.records[t][e]]):o.alertIssue("noRcrdFound",{id:e,entity:t})}function E(t,e){i.records&&(i.records[t]=e)}function x(t,e){i.forms[t].reqElems.push(e)}function S(t,e){i.forms&&i.forms[t].selElems.push(e)}function A(t,e){i[t]=e}function O(t,e,n){i.forms[t][e]=n}function R(t,e){return i.forms.realmData[t]=e}function T(t,e,n,o){var r=i.forms[t].fieldData;r[e]||(r[e]={}),o&&(r[e].type=o),r[e].val=n}function L(t,e){i.forms[t].entityType=e}function P(t,e){i.forms[t].onFormClose=e}},Nsbk:function(t,e){function n(e){return t.exports=n=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)},n(e)}t.exports=n},O741:function(t,e,n){var o=n("hh1v");t.exports=function(t){if(!o(t)&&null!==t)throw TypeError("Can't set "+String(t)+" as a prototype");return t}},OSAz:function(t,e,n){"use strict";(function(t){n.d(e,"a",(function(){return u}));n("mrSG");var o=n("E5fR"),i=n("3yzX"),r=n("gM5y");n("HlZu");function a(t){if(Object(o.b)(t)){var e=t,n={message:e.message,name:e.name,stack:e.stack};for(var i in e)Object.prototype.hasOwnProperty.call(e,i)&&(n[i]=e[i]);return n}if(Object(o.c)(t)){var a=t,s={};s.type=a.type;try{s.target=Object(o.a)(a.target)?Object(r.d)(a.target):Object.prototype.toString.call(a.target)}catch(t){s.target="<unknown>"}try{s.currentTarget=Object(o.a)(a.currentTarget)?Object(r.d)(a.currentTarget):Object.prototype.toString.call(a.currentTarget)}catch(t){s.currentTarget="<unknown>"}for(var i in"undefined"!=typeof CustomEvent&&Object(o.d)(t,CustomEvent)&&(s.detail=a.detail),a)Object.prototype.hasOwnProperty.call(a,i)&&(s[i]=a);return s}return t}function s(e,n){return"domain"===n&&e&&"object"==typeof e&&e._events?"[Domain]":"domainEmitter"===n?"[DomainEmitter]":void 0!==t&&e===t?"[Global]":"undefined"!=typeof window&&e===window?"[Window]":"undefined"!=typeof document&&e===document?"[Document]":Object(o.i)(e)?"[SyntheticEvent]":"number"==typeof e&&e!=e?"[NaN]":void 0===e?"[undefined]":"function"==typeof e?"[Function: "+Object(r.b)(e)+"]":e}function l(t,e,n,r){if(void 0===n&&(n=1/0),void 0===r&&(r=new i.a),0===n)return function(t){var e=Object.prototype.toString.call(t);if("string"==typeof t)return t;if("[object Object]"===e)return"[Object]";if("[object Array]"===e)return"[Array]";var n=s(t);return Object(o.f)(n)?n:e}(e);if(null!=e&&"function"==typeof e.toJSON)return e.toJSON();var u=s(e,t);if(Object(o.f)(u))return u;var c=a(e),d=Array.isArray(e)?[]:{};if(r.memoize(e))return"[Circular ~]";for(var p in c)Object.prototype.hasOwnProperty.call(c,p)&&(d[p]=l(p,c[p],n-1,r));return r.unmemoize(e),d}function u(t,e){try{return JSON.parse(JSON.stringify(t,(function(t,n){return l(t,n,e)})))}catch(t){return"**non-serializable**"}}}).call(this,n("yLpj"))},OsGc:function(t,e,n){},P4y1:function(t,e){t.exports={}},PFVR:function(t,e,n){"use strict";n.r(e),function(t){n.d(e,"initDateFilterUi",(function(){return s})),n.d(e,"selDateFilter",(function(){return l})),n.d(e,"toggleDateFilter",(function(){return u})),n.d(e,"reapplyPreviousDateFilter",(function(){return c})),n.d(e,"showTodaysUpdates",(function(){return m})),n.d(e,"clearDateFilter",(function(){return w})),n.d(e,"syncViewFiltersAndUi",(function(){return x}));n("TeQF"),n("sMBO"),n("tkto"),n("FZtP");var o,i=n("Zz5/"),r=n("kfS4"),a={};function s(){t("#shw-chngd").change(u.bind(null,null,null,null)),Object(r._u)("initCombobox",["Date Filter",l]),t("#selDateFilter")[0].selectize.disable(),h(!1)}function l(t){a.date||(a.date={time:null}),a.date.type=t,f()&&(a.cal=d(),g())}function u(t,e,n){console.log("       +-toggleDateFilter. state = %s, time? ",t,e),a.cal=d(),a.date=i.getFilterStateKey("date"),o=Object(r.accessTableState)().get();var s=f(t);!function(t){a.date||(a.date={});a.date={time:t||a.date.time,type:Object(r._u)("getSelVal",["Date Filter"])},i.setPanelFilterState("date",a.date)}(e),h(s),s?g(e):function(t){i.setCurrentRowData(null),!t&&o.api&&o.rowData&&(o.api.setRowData(o.rowData),E())}(n)}function c(t,e){a.cal.setDate(t),y(null,t,null,e)}function d(){a.cal&&a.cal.destroy();var e,o=n("zwY0"),i={altInput:!0,maxDate:"today",enableTime:p(),plugins:p()?(e=n("dJ8p"),[new e({showAlways:!0})]):[],onReady:p()?function(){this.amPM.textContent="AM"}:Function.prototype,disableMobile:!0,onClose:y};return function(e){var n=t("#selDateFilter").data("default");if(!n)return;e.defaultDate=n}(i),new o("#filter-cal",i)}function p(){return a.date&&"updated"===a.date.type}function h(e){var n=e?1:.6;t("#filter-cal, #filter-cal+.form-control").attr({disabled:!e}),t(".selDateFilter-sel, #filter-cal, .flatpickr-input, #shw-chngd-ints label, #shw-chngd-ints div").css({opacity:n}),t("#shw-chngd")[0].checked=e,Object(r._ui)("setTreeToggleData",[!1]),e?t("#selDateFilter")[0].selectize.enable():t("#selDateFilter")[0].selectize.disable()}function f(e){return"disable"!==e&&(!0===e||t("#shw-chngd")[0].checked)}function g(e){if("today"==e)o=(new Date).today(),t("#selDateFilter")[0].selectize.addItem("updated"),a.date.type="updated",a.cal.setDate(o,!1,"Y-m-d"),y(null,o);else if(e)n=e,a.cal.setDate(n,!1,"F d, Y h:i K"),y(null,n);else if(a.date.time)c(a.date.time);else{if(a.cal.open(),t("#selDateFilter").data("default"))return;a.cal.setDate((new Date).today(),!1,"Y-m-d")}var n,o}function m(t){Object(r._u)("setSelVal",["Focus",t,"silent"]),Object(r.resetDataTable)(t).then(v)}function v(){Object(r._u)("setSelVal",["Date Filter","updated"]),u(!0,"today")}function y(t,e,n){var o=!(arguments.length>3&&void 0!==arguments[3])||arguments[3],i=b(e);_(i,a.date.type),C(e,o)}function b(t){o=Object(r.accessTableState)().get();var e=t||a.date.time;return a.date.time=e,new Date(e).getTime()}function _(t,e){var n=function(t,e){return Object(r._u)("snapshot",[o.rowData]).filter((function n(o){if(o.interactionType)return function(n){return function(t){var e=new Date(t);return e.setHours(e.getHours()+8),e.getTime()}("cited"===e?n.year+"-01-01":n.updatedAt)>=t}(o);return o.children=o.children?o.children.filter(n):[],o.children.length>0}))}(t,e);o.api.setRowData(n),i.setCurrentRowData(n)}function C(e,n){t(".flatpickr-input").val(e),Object(r._ui)("updateFilterStatusMsg"),n||E(e)}function w(){t("#shw-chngd").prop("checked",!1),u("disable",null,"skipSync"),o=null}function E(t){Object(r._ui)("setTreeToggleData",[!1]),t!=(new Date).today()&&x(o.curFocus)}function x(t){o=Object(r.accessTableState)().get(),{locs:S,srcs:A,taxa:R}[t](o)}function S(t){i.applyLocFilter(null)}function A(t){({auths:T,pubs:O,publ:T})[t.curView]()}function O(){var t=Object(r._u)("getSelVal",["Publication Type"]);"all"!==t&&i.applyPubFilter(t)}function R(){var t=Object(r._u)("snapshot",[i.getCurRowData()]);Object(r._u)("getData",["levelNames"]).then((function(e){var n=function(t,e){var n={};return e.forEach((function(t){return function t(e){n[e.taxonLvl]||(n[e.taxonLvl]={});n[e.taxonLvl][e.name]=e.id,e.children&&e.children.forEach((function(e){return t(e)}))}(t)})),o();function o(){var e={};return Object.keys(t).forEach((function(t){t in n&&(e[t]=n[t])})),e}}(e,t);Object(r.accessTableState)().set({taxaByLvl:n}),i.loadTxnFilters(Object(r.accessTableState)().get())}))}function T(){var t={taxa:"Taxon",locs:"Location",auths:"Author",publ:"Publisher",pubs:"Publication"}["srcs"===o.curFocus?o.curView:o.curFocus],e=i.getTreeFilterVal(t);""!==e&&i.filterTableByText(e)}}.call(this,n("EVdn"))},PJYZ:function(t,e){t.exports=function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}},PKPk:function(t,e,n){"use strict";var o=n("ZUd8").charAt,i=n("afO8"),r=n("fdAy"),a=i.set,s=i.getterFor("String Iterator");r(String,"String",(function(t){a(this,{type:"String Iterator",string:String(t),index:0})}),(function(){var t,e=s(this),n=e.string,i=e.index;return i>=n.length?{value:void 0,done:!0}:(t=o(n,i),e.index+=t.length,{value:t,done:!1})}))},Q5S7:function(t,e,n){"use strict";n.r(e),function(t){n.d(e,"initCreateForm",(function(){return i})),n.d(e,"finishEditFormBuild",(function(){return u})),n.d(e,"initFormCombos",(function(){return p})),n.d(e,"fillCitationField",(function(){return b})),n.d(e,"selectLoc",(function(){return x})),n.d(e,"enableCountryRegionField",(function(){return S})),n.d(e,"onLevelSelection",(function(){return N})),n.d(e,"getSelectedTaxon",(function(){return I}));n("TeQF"),n("fbCW"),n("yq1k"),n("4mDm"),n("2B1R"),n("Junv"),n("+2oP"),n("sMBO"),n("tkto"),n("07d7"),n("5s+n"),n("JTJg"),n("PKPk"),n("EnZy"),n("FZtP"),n("3bBZ");var o=n("FNQh");function i(t){if(console.log("   //Building New Interaction Form"),!o.state("getFormState"))return o.state("initFormState",["create","interaction"]).then(r).then((function(t){return o.elems("buildAndAppendForm",[t])})).then(c).then((function(){return o.state("setOnFormCloseHandler",["top",a])}))}function r(){return o.elems("getFormFieldRows",["Interaction",{},"top"])}function a(){var e=function(){var e=t('form[name="top"] [id$="_pin"]').toArray(),n={};return e.forEach((function(e){var o,i;e.checked?(o=e.id.split("_pin")[0],i="Note"===o?"-txt":"-sel",n[o]=t("#"+o+i).val()):function(t){n[t]=!1}(e.id.split("_pin")[0])})),n}();o.elems("showSuccessMsg",["New Interaction successfully created."]),function(t){console.log("           --resetIntFields. vals = %O",t),o.elems("toggleSubmitBttn",["#top-submit",!1]),o.state("addEntityFormState",["interaction","top",null,"create"]),function(t){for(var e in t)t[e]||s(e,t),"Publication"===e&&l(t[e])}(t),l(t.Publication)}(e),t("#top-cancel").val(" Close "),o.elems("toggleSubmitBttn",["#top-submit",!1]),o.state("setFormProp",["top","unchanged",!0]),o.state("setOnFormCloseHandler",["top",a])}function s(e,n){if(function(e){o.state("setFormFieldData",["top",e,null]),function(e){if(-1===["Subject","Object"].indexOf(e))return;t("#"+e+"-sel").data("selTaxon",!1)}(e)}(e),"Note"===e)return t("#Note-txt").val("");var i;o.panel("clearFieldDetails",[e]),o.cmbx("clearCombobox",["#"+e+"-sel"]),"Location"===e&&E((i=n["Country-Region"])?Z("location",i):null)}function l(t){t?o.panel("updateSrcDetails",["pub"]):o.cmbx("enableCombobox",["#CitationTitle-sel",!1])}function u(t){c()}function c(){var e,n,i,r;t("#Note-txt").change(H.bind(null,"Note")),t("#Note_row label")[0].innerText+="s",t("#Country-Region_row label")[0].innerText="Country/Region",t(".all-fields-cntnr").hide(),t("#Subject-lbl").text("Subject (Bat)"),o.elems("setCoreRowStyles",["#form-main",".top-row"]),e=o.util("buildElem",["div",{id:"loc-note",class:"skipFormData"}]),i=o.util("buildElem",["span",{class:"map-link",text:"click here to use the map interface."}]),t(i).click(d),n=["<span>Select or create a location using the fields below or </span>",i],t(e).append(n),t("#Country-Region_row")[0].parentNode.before(e),p("interaction","top"),o.cmbx("enableCombobox",["#CitationTitle-sel",!1]),["Subject","Object"].forEach(v),o.cmbx("enableCombobox",["#InteractionTags-sel",!1]),r=o.state("getFormProp",["top","action"]),o.cmbx("focusCombobox",["#Publication-sel","create"===r])}function d(){if(!t("#form-map").length){var e=t("#Location_row")[0].parentNode;o.forms("addMapToLocForm",["int",t(e)]),o.cmbx("getSelVal",["#Country-Region-sel"])||o.cmbx("focusCombobox",["#Country-Region-sel",!0])}}function p(t,e){var n=function(t){var e={interaction:{CitationTitle:{change:C,add:h("citation","sub")},"Country-Region":{change:w},InteractionType:{change:V},InteractionTags:{change:W},Location:{change:A,add:h("location","sub")},Publication:{change:y,add:h("publication","sub")},Subject:{change:j.bind(null,"Subject")},Object:{change:j.bind(null,"Object")}},taxon:{Class:{change:N,add:h("class")},Family:{change:N,add:h("family")},Genus:{change:N,add:h("genus")},Order:{change:N,add:h("order")},Realm:{change:T},Species:{change:N,add:h("species")}}};return e[t]||e.taxon}(t);o.cmbx("initFormCombos",[t,e,n])}function h(t,e){return f.bind(null,t,e)}function f(t,e,n){if(g(e))return m(t,e);o.create(t,n)}function g(e){return!!e&&0!==t("#"+e+"-form").length}function m(t,e){(function(t,e){var n="citation"===t?"citationTitle":t,i=o.util("ucfirst",[n]);return o.val("openSubFormErr",[i,null,e]),Promise.reject()})(t,e).catch((function(){}))}function v(e){var n="#"+e+"-sel + div div.selectize-input",o="Object"===e?R:O;t("#form-main").on("focus",n,o)}function y(t){return console.log("       +--onPubSelection[%s]",t),"create"===t?f("publication","sub"):""===t||isNaN(parseInt(t))?(o.cmbx("clearCombobox",["#CitationTitle-sel"]),o.cmbx("enableCombobox",["#CitationTitle-sel",!1]),void o.panel("clearDetailPanel",["pub"])):(b(t),o.panel("updateSrcDetails",["pub"]),function(t){var e=Z("source",t);return e?e.children.length:null}(t)?void H("Publication"):f("citation","sub"))}function b(t){o.cmbx("enableCombobox",["#CitationTitle-sel"]),o.cmbx("updateComboboxOptions",["#CitationTitle-sel",_(t)])}function _(t){var e=Z("source",t);if(!e)return[{value:"create",text:"Add a new Citation..."}];var n=o.elems("getRcrdOpts",[e.children,Y("source")]);return n.unshift({value:"create",text:"Add a new Citation..."}),n}function C(t){return console.log("       +--onCitSelection [%s]",t),"create"===t?f("citation","sub"):""===t||isNaN(parseInt(t))?o.panel("clearDetailPanel",["cit"]):(o.panel("updateSrcDetails",["cit"]),o.cmbx("enableCombobox",["#Publication-sel"]),void H("CitationTitle"))}function w(e){if(console.log("       +--onCntryRegSelection [%s]",e),""===e||isNaN(parseInt(e)))return E(null);E(Z("location",e)),H("Country-Region"),t("#form-map").length&&function(t){o.forms("focusParentAndShowChildLocs",["int",t])}(e)}function E(t){var e=t?function(t){var e=(n=t.children,n.map((function(t){var e=Z("location",t);return e?{value:t,text:e.displayName}:null})).filter((function(t){return t})));var n;return e.push({value:t.id,text:t.displayName}),(e=e.sort((function(t,e){return o.util("alphaOptionObjs",[t,e])}))).unshift({value:"create",text:"Add a new Location..."}),e}(t):o.elems("getLocationOpts");o.cmbx("updateComboboxOptions",["#Location-sel",e])}function x(e){t("#sub-form").remove(),o.cmbx("setSelVal",["#Location-sel",e]),S(),o.cmbx("enableCombobox",["#Location-sel"])}function S(){o.cmbx("enableCombobox",["#Country-Region-sel"]),t("#loc-note").fadeTo(400,1)}function A(e){if(console.log("       +--onLocSelection [%s]",e),"create"===e)return f("location","sub");if(""===e||isNaN(parseInt(e)))return o.panel("clearDetailPanel",["loc"]);t("#form-map").length&&t("#form-map").fadeTo(400,0,(function(){return t("#form-map").remove()}));var n=Z("location",e);if(n){var i=n.parent?n.parent:n.id;o.cmbx("setSelVal",["#Country-Region-sel",i,"silent"]),o.panel("fillLocDataInDetailPanel",[n]),H("Location")}}function O(){console.log("       +--initSubjectSelect (selected ? [%s])",t("#Subject-sel").val()),P("Subject",1)}function R(){console.log("       +--initObjectSelect (selected ? [%s])",t("#Object-sel").val()),P("Object",function(){var e=t("#Object-sel").data("selTaxon");if(!e)return 2;return Z("taxon",e).realm.id}())}function T(e){function n(e){t("#Realm_row").after(e),o.state("setFormFieldData",["sub","Realm",null,"select"]),p("taxon","sub"),t("#select-realm").off("click"),t("#select-realm").click(M.bind(null,null,B("realmTaxon")))}""===e||isNaN(parseInt(e))||(t("#object_Rows>div").each(L),o.state("initRealmState",["Object",e]).then((function(){o.elems("buildFormRows",["object",{},"sub"]).then(n)})))}function L(t,e){0!==t&&e.remove()}function P(e,n){return g("sub")?m(e,"sub"):function(t,e){return function(t){var e=o.util("lcfirst",[t]);o.state("addEntityFormState",[e,"sub","#"+t+"-sel","create"])}(t),o.state("initRealmState",[t,e]).then((function(){return o.elems("initSubForm",["sub","sml-sub-form",{Realm:e},"#"+t+"-sel"])}))}(e,n).then((function(n){return function(e,n){o.util("lcfirst",[e]);t("#"+e+"_row").append(n),p("taxon","sub")}(e,n)})).then((function(){return function(e){n=function(){var e=o.util("buildElem",["input",{id:"select-realm",class:"ag-fresh",type:"button",value:"Select Unspecified"}]);return t(e).click(M.bind(null,null,B("realmTaxon"))),e}(),t("#sub-form .bttn-cntnr").prepend(n),function(e){t("#sub-hdr")[0].innerHTML="Select "+e+" Taxon",t("#sub-hdr").append(function(e){var n=o.elems("getExitButton");return n.id="exit-sub-form",t(n).unbind("click").click(D.bind(null,e)),n}(e)),t("#sub-submit")[0].value="Select Taxon",t("#sub-cancel")[0].value="Reset",t("#sub-submit").unbind("click").click(M),t("#sub-cancel").unbind("click").click(k.bind(null,e))}(e),function(e){var n=function(e){return t("#"+e+"-sel").val()||t("#"+e+"-sel").data("reset")?t("#"+e+"-sel").data("selTaxon"):null}(e);n?function(e,n){var i=Z("taxon",e);if(function(t){return B("rootLvl")==t.level.displayName}(i))return;console.log("           --resetPrevTaxonSelection [%s] [%s] = %O",n,e,i),function(e,n){if(function(t){o.state("setRealmProp",["prevSel",{val:t.id,text:t.displayName}])}(e),function(e){return"Bat"!==e.displayName&&t("#Realm-sel").val()!=e.id}(e.realm))return function(t){o.cmbx("setSelVal",["#Realm-sel",t.realm.id])}(e);o.cmbx("setSelVal",["#"+e.level.displayName+"-sel",e.id]),window.setTimeout((function(){!function(e){t("#"+e+"-sel").removeData("reset")}(n)}),1e3)}(i,n)}(n,e):(i=o.util("lcfirst",[e]),o.cmbx("focusFirstCombobox",["#"+i+"_Rows"]));var i}(e),o.util("replaceSelOpts",["#"+e+"-sel",[]]);var n}(e)}))}function D(e){o.elems("exitSubForm",["sub",!1,U]);var n=t("#"+e+"-sel").data("selTaxon");n&&function(t,e){var n={value:e,text:(i=e,Z("taxon",i).displayName)};var i;o.cmbx("updateComboboxOptions",["#"+t+"-sel",n]),o.cmbx("setSelVal",["#"+t+"-sel",e])}(e,n)}function k(e){var n="Bat"==B("realmName")?O:R;t("#"+e+"-sel").data("reset",!0),t("#sub-form").remove(),n()}function N(e){console.log("           --onLevelSelection. val = [%s] isNaN? [%s]",e,isNaN(parseInt(e)));var n,i,r,a=o.getSubFormLvl("sub");return"create"===e?function(e,n){var i=e.id.split("-sel")[0];if("Species"===i&&!t("#Genus-sel").val())return o.val("formInitErr",[i,"noGenus",n]);if("Genus"===i&&!t("#Family-sel").val())return o.val("formInitErr",[i,"noFamily",n]);e.selectize.createItem("create")}(this.$input[0],a):""===e||isNaN(parseInt(e))?(r=this.$input[0],n=I(r.id.split("-sel")[0]),void("Species"!=(i=n?n.level.displayName:B("realmLvls").map((function(t){return t})).pop())&&function(t){var e,n,i={};return(n=(e=B("realmLvls"),e.slice(0,e.indexOf(t))).map((function(t){return e=t,o.elems("getTaxonOpts",[e,null,B("realmName")]).then((function(t){return i[e]=t}));var e})),Promise.all(n)).then((function(){return i}))}(i).then((function(t){return F(t,{})})))):(function(t){var e={},n={},i=Z("taxon",t),r=B("realmName");if(!i)return;return i.children.forEach((function t(n){var o=Z("taxon",n);if(!o)return;var i=o.level.displayName;(function(t,n){e[n]||(e[n]=[]);e[n].push({value:t.id,text:t.name})})(o,i),o.children.forEach(t)})),function(){return Promise.all([a(i),s(i.parent)]).then(l).then(u)}().then(F.bind(null,e,n));function a(t){return o.elems("getTaxonOpts",[t.level.displayName,null,r]).then((function(o){e[t.level.displayName]=o,n[t.level.displayName]=t.id}))}function s(t){var i=Z("taxon",t);return i.isRoot?Promise.resolve():(n[i.level.displayName]=i.id,function(t){return o.elems("getTaxonOpts",[t.level.displayName,null,r]).then((function(n){return e[t.level.displayName]=n,s(t.parent)}))}(i))}function l(){var t=B("realmLvls"),a=[];return t.forEach((function(t){e[t]||t==i.level.displayName||function(t){n[t]="none",a.push(o.elems("getTaxonOpts",[t,null,r]).then((function(n){return e[t]=n})))}(t)})),Promise.all(a)}function u(){for(var t in e)e[t].unshift({value:"create",text:"Add a new "+t+"..."});return Promise.resolve()}}(e),void o.elems("toggleSubmitBttn",["#"+a+"-submit",!0]))}function F(e,n){Object.keys(e).forEach((function(i){!function(e,n,i){if(function(e,n){o.util("replaceSelOpts",["#"+e+"-sel",n,function(){}]),t("#"+e+"-sel")[0].selectize.on("change",N)}(n,e),!n in i)return;if("none"==i[n])return function(t){o.util("updatePlaceholderText",["#"+t+"-sel",null,0])}(n);o.cmbx("setSelVal",["#"+n+"-sel",i[n],"silent"])}(e[i],i,n)}))}function M(e,n){var i="Bat"===B("realmName")?"Subject":"Object",r=function(t){var e=t||I();if(!e)return;return{value:e.id,text:e.displayName}}(n);t("#sub-form").remove(),r&&(o.cmbx("updateComboboxOptions",["#"+i+"-sel",r]),o.cmbx("setSelVal",["#"+i+"-sel",r.value]))}function I(e){var n=t("#sub-form .selectized").toArray();(function(){var t=o.state("getFormProp",["top","action"]),e=o.state("getFormProp",["top","entity"]);return"edit"==t&&"taxon"==e})()&&n.reverse();var i=n.find(G.bind(null,e));return!!i&&o.state("getRcrd",["taxon",t(i).val()])}function G(e,n){return!!function(t){return t.id.includes("-sel")&&!t.id.includes("Realm")}(n)&&((!e||!function(t,e){var n=B("realmLvls"),o=e.id.split("-sel")[0];return n.indexOf(o)<n.indexOf(t)}(e,n))&&t(n).val())}function j(e,n){console.log("       +--onTaxonRoleSelection [%s] = ",e,n),""===n||isNaN(parseInt(n))||(t("#"+o.getSubFormLvl("sub")+"-form").remove(),t("#"+e+"-sel").data("selTaxon",n),U(),H(e))}function U(){o.cmbx("enableCombobox",["#Subject-sel"]),o.cmbx("enableCombobox",["#Object-sel"])}function B(t){return t?o.state("getTaxonProp",[t]):o.state("getRealmState")}function V(e){var n;e&&(n=function(t){return Z("interactionType",t).tags.map((function(t){return{value:t.id,text:t.displayName}}))}(e),o.cmbx("updateComboboxOptions",["#InteractionTags-sel",n]),o.cmbx("enableCombobox",["#InteractionTags-sel",!0]),function(e){if(2!==e.length)return t("#InteractionTags-sel").data("default",!1);var n=e.find((function(t){return"Secondary"!==t.text})).value;o.cmbx("setSelVal",["#InteractionTags-sel",n]),t("#InteractionTags-sel").data("default",n)}(n),H("InteractionType"))}function W(e){!function(e){var n=t("#InteractionTags-sel").data("default");if(!n||-1!==e.indexOf(n))return;o.cmbx("setSelVal",["#InteractionTags-sel",n,"silent"])}(e),z()}function H(e){"edit"===o.state("getFormProp",["top","action"])||t("#"+e+"_pin").focus(),z()}function z(){o.elems("checkReqFieldsAndToggleSubmitBttn",["top"]),function(){if(!o.state("getFormProp",["top","unchanged"]))return;o.elems("exitSuccessMsg"),o.state("setFormProp",["top","unchanged",!1])}()}function Z(t,e){return o.state("getRcrd",[t,e])||!1}function Y(t){return o.state("getEntityRcrds",[t])}}.call(this,n("EVdn"))},QGkA:function(t,e,n){n("RNIs")("flat")},QIpd:function(t,e,n){var o=n("xrYK");t.exports=function(t){if("number"!=typeof t&&"Number"!=o(t))throw TypeError("Incorrect invocation");return+t}},QWlc:function(t,e,n){"use strict";n.r(e),function(t){n.d(e,"buildMultiSelectElem",(function(){return r})),n.d(e,"getRcrdOpts",(function(){return a})),n.d(e,"getTaxonOpts",(function(){return s})),n.d(e,"getLocationOpts",(function(){return l})),n.d(e,"buildFieldInput",(function(){return u})),n.d(e,"buildLongTextArea",(function(){return h})),n.d(e,"ifAllRequiredFieldsFilled",(function(){return m}));n("yq1k"),n("sMBO"),n("07d7"),n("5s+n"),n("JTJg");var o=n("FNQh"),i=n("XQ+Q");function r(){return i.buildMultiSelectElem.apply(i,arguments)}function a(){return i.getRcrdOpts.apply(i,arguments)}function s(){return i.getTaxonOpts.apply(i,arguments)}function l(){return i.getLocationOpts()}function u(e,n,r){return Promise.resolve({text:d,tags:i.buildTagField,select:i.buildSelect,multiSelect:i.buildMultiSelect,textArea:p,fullTextArea:h}[e.type](n,e.name,r)).then((function(i){o.state("setFormFieldData",[r,e.name,e.value,e.type]),e.required&&function(e,n){t(e).change(g),t(e).data("fLvl",n),o.state("addRequiredFieldInput",[n,e])}(i,r);(function(e,n,i,r){if(function(e,n){"citation"===e&&t(n).change(o.forms.bind(null,"handleCitText",[]))}(e,n),n.id.includes("-sel-cntnr"))return;t(n).change(f.bind(null,n,i,r,null))})(n,i,e.name,r),"multiSelect"!=e.type&&t(i).val(e.value);return i}))}function c(t,e){return"long"===e?"top"===t?"xlrg-field top":"xlrg-field":{top:"lrg-field",sub:"med-field",sub2:"med-field"}[t]}function d(t,e,n){var i={type:"text",class:c(n)};return o.util("buildElem",["input",i])}function p(t,e,n){return o.util("buildElem",["textarea",{class:c(n)}])}function h(t,e,n){var i={class:c(n,"long"),id:e+"-txt"};return o.util("buildElem",["textarea",i])}function f(e,n,i,r,a){var s=r||t(e).val();o.state("setFormFieldData",[i,n,s])}function g(e){var n=t(e.currentTarget).data("fLvl");o.elems("checkReqFieldsAndToggleSubmitBttn",[n])}function m(t){return o.state("getFormProp",[t,"reqElems"]).every(v.bind(null,t))}function v(e,n){return!t("."+e+"-active-errs").length&&function(t){return!!t.value||!!t.id.includes("-cntnr")&&(y("Authors")||y("Editors"))}(n)}function y(e){if(!t("#"+e+"-sel-cntnr").length)return!1;var n=t("#"+e+"-sel-cntnr")[0].firstChild.children,o=!1;return t.each(n,(function(e,n){t(n).val()&&(o=!0)})),o}}.call(this,n("EVdn"))},QyOE:function(t,e,n){"use strict";(function(t){n.d(e,"a",(function(){return i}));n("oVuX"),n("07d7"),n("5s+n"),n("EnZy"),n("FZtP");var o=n("FNQh");function i(e,n){console.log("       //editEntity [%s] [%s]",n,e),function(e,n){return function(t,e){return o.state("setFormProp",["top","expanded",!0]),function(t,e){var n={citation:"getSrcTypeFields",publication:"getSrcTypeFields",taxon:"getTaxonEditFields"};return n[t]?o.forms(n[t],[t,e]):function(t,e){o.confg("getFormConfg",[t]);return o.elems("getFormFieldRows",[t,{},"top"])}(t)}(e,t)}(e,n).then((function(i){return function(e,n,i){return o.elems("buildAndAppendForm",[e,n]).then((function(){return function(e){return t(".top-pin").remove(),["citation","interaction","location","publication","taxon"].indexOf(e)>-1?n():function(e){return o.forms("initFormCombos",[e,"top"]),t(".all-fields-cntnr").hide(),Promise.resolve()}(e);function n(){return o.forms("finishEntityEditFormBuild",[e])}}(i)}))}(i,e,n)})).then((function(){return function(e,n){var i=o.confg("getCoreEntity",[e]);(function(e,n,i){if("interaction"===i)return;var r=o.state("getRcrd",[e,n]);t("#top-hdr")[0].innerText+=": "+r.displayName,t("#det-cnt-cntnr span")[0].innerText="This "+i+" is referenced by:"})(i,n,e),function(t,e,n){var i={interaction:a,location:u,source:c,taxon:d},r=o.state("getRcrd",[t,e]);return console.log("      --fillEntityData [%s] [%s] = %O",t,e,r),Promise.resolve(i[t](t,e,r,n))}(i,n,e).then(p)}(n,e)}))}(e,n).then((function(){return o.forms("finishEditFormInit",[n,e])}))}function r(t){var e=o.state("getStateProp",["editing"]);e.detail=t,o.state("setStateProp",["editing",e])}function a(t,e,n,i){var r;h(n,(r=o.confg("getCoreFieldDefs",["interaction"]),["Publication","CitationTitle"].forEach((function(t){return delete r[t]})),["Subject","Object"].forEach((function(t){return r[t]="taxon"})),r.Source="source",r))}function s(e,n,i){var r=t("#"+e+"-sel")[0].selectize,a=o.state("getRcrd",["taxon",i[n]]);r.addOption({value:a.id,text:a.displayName}),r.addItem(a.id)}function l(t,e,n){var i=o.state("getRcrd",["source",n.source]);o.cmbx("setSelVal",["#Publication-sel",i.parent]),o.cmbx("setSelVal",["#CitationTitle-sel",n.source])}function u(e,n,i,a){var s,l=o.confg("getCoreFieldDefs",[e]);delete l.Latitude,delete l.Longitude,delete l.Country,t("#Latitude_row input").val(parseFloat(i.latitude)),t("#Longitude_row input").val(parseFloat(i.longitude)),o.cmbx("setSelVal",["#Country-sel",i.country.id,"silent"]),h(i,l),o.panel("fillRelationalDataInPanel",[e,i]),i.geoJsonId&&(r(s=i.geoJsonId),function(t){o.util("getData",["geoJson"]).then((function(e){return o.state("setFormProp",["top","geoJson",e[t]])}))}(s))}function c(e,n,i,a){var s=o.state("getRcrd",[a,i[a]]),l=function(t){return{core:o.confg("getCoreFieldDefs",[t]),detail:o.confg("getFormConfg",[t]).add}}(a);h(i,l.core),o.panel("fillRelationalDataInPanel",[a,i]),h(s,l.detail),function(e,n,i){-1!==["publication","citation"].indexOf(e)&&(function(e,n){var i,r="publication"===e?n.displayName:(i=n.citation,o.state("getRcrd",["citation",i]).displayName);t('#Title_row input[type="text"]').val(r).change()}(e,n),function(t,e){o.elems("ifFieldIsDisplayed",["Publisher","top"])&&o.cmbx("setSelVal",["#Publisher-sel",e.parent])}(0,n),function(e){t('#Doi_row input[type="text"]').val(e.doi)}(n),function(e,n){"citation"===e&&(t("#CitationText_row textarea").val(n.fullText),t('#Issue_row input[type="number"]').val(parseInt(n.publicationIssue)),t('#Pages_row input[type="number"]').val(n.publicationPages),t('#Volume_row input[type="number"]').val(parseInt(n.publicationVolume)))}(e,i))}(a,i,s),r(s.id)}function d(t,e,n,i){o.panel("fillRelationalDataInPanel",[t,n])}function p(){o.elems("checkReqFieldsAndToggleSubmitBttn",["top"])}function h(t,e){console.log("           --fillEditFields. rcrd = %O, fields = %O",t,e);var n={text:m,textArea:v,select:y,fullTextArea:v,multiSelect:g,tags:b,cntry:_,source:l,taxon:s};for(var o in e)f(o,n[e[o]],t)}function f(t,e,n){var i=t.split(" ").join("");e(i,o.util("lcfirst",[i]),n)}function g(e,n,i){if(i[n]&&(r=e,o.elems("ifFieldIsDisplayed",[r,"top"]))){var r,a=o.util("ucfirst",[n]);o.state("setFormFieldData",["top",a,i[n]]),t("#"+a+"-sel-cntnr").length&&o.forms("selectExistingAuthors",[a,i[n],"top"])}}function m(e,n,o){var i=isNaN(parseInt(o[n]))?o[n]:parseInt(o[n]);t("#"+e+"_row input").val(i).change()}function v(e,n,o){t("#"+e+"_row textarea").val(o[n]).change()}function y(t,e,n){var i=n[e]?n[e].id?n[e].id:n[e]:null;o.cmbx("setSelVal",["#"+t+"-sel",i])}function b(t,e,n){(n[e]||n.tags).forEach((function(e){return o.cmbx("setSelVal",["#"+t+"-sel",e.id])}))}function _(t,e,n){o.cmbx("setSelVal",["#Country-sel",n.country.id])}}).call(this,n("EVdn"))},R0t5:function(t,e,n){"use strict";n.d(e,"a",(function(){return i}));n("ma9I"),n("2B1R"),n("zKZe"),n("FZtP");var o=n("FNQh");function i(t,e){var n,i,c=function(t,e){return{entity:t,form:o.confg("getFormConfg",[t]),type:r(t,e),showAll:o.state("getFormProp",[e,"expanded"])}}(t,e);return{fields:a(c),order:(n=c,i=n.showAll?s(n):l(n),i.map((function(t){return t}))),required:u(c)}}function r(t,e){var n=o.state("getFormProp",[e,"entityType"]);return!!n&&o.confg("getFormConfg",[t]).types[n]}function a(t){var e=function(t){var e=o.confg("getCoreFieldDefs",[t.entity]);return Object.assign(e,t.form.add)}(t),n={};return function(t){var e=function(t){var e=t.form.required.concat(t.form.suggested);return t.showAll?e.concat(t.form.optional):e}(t),n=function(t){var e=t.type?t.type.required.concat(t.type.suggested):[];return t.showAll?e.concat(t.type.optional):e}(t);return e.concat(n)}(t).forEach((function(t){return n[t]=e[t]})),n}function s(t){return t.type?function(t){return t.form.order.opt&&t.type.order.opt?t.form.order.opt.concat(t.type.order.opt):t.form.order.sug.concat(t.type.order.sug)}(t):t.form.order.opt?t.form.order.opt:t.form.order.sug}function l(t){return t.type?t.form.order.sug.concat(t.type.order.sug):t.form.order.sug}function u(t){return t.type?t.type.required.concat(t.form.required):t.form.required}},"RCL/":function(t,e,n){"use strict";n.r(e),function(t){n.d(e,"initFormCombos",(function(){return l})),n.d(e,"initCreateForm",(function(){return u})),n.d(e,"handleCitText",(function(){return y})),n.d(e,"loadSrcTypeFields",(function(){return C})),n.d(e,"selectExistingAuthors",(function(){return R})),n.d(e,"getSrcTypeFields",(function(){return B})),n.d(e,"finishEditFormBuild",(function(){return V})),n.d(e,"setSrcEditRowStyle",(function(){return W})),n.d(e,"finishSourceToggleAllFields",(function(){return H}));n("ma9I"),n("TeQF"),n("yq1k"),n("+2oP"),n("tkto"),n("07d7"),n("5s+n"),n("JTJg"),n("EnZy"),n("FZtP");var o=n("RIqP"),i=n.n(o),r=n("FNQh"),a=null,s={};function l(t,e){var n=function(t){return{citation:{CitationType:{add:!1,change:m},Authors:{add:G.bind(null,1),change:L}},publication:{PublicationType:{change:d},Publisher:{change:A,add:O},Authors:{add:G.bind(null,1),change:L},Editors:{change:P,add:j.bind(null,1)}}}[t]}(t);r.cmbx("initFormCombos",[t,e,n])}function u(t,e){({author:G,editor:j,citation:h,publication:c,publisher:O})[t](e)}function c(e){console.log("       /--initPubForm [%s]",e);var n="create"===e?"":e;r.state("addEntityFormState",["publication","sub","#Publication-sel","create"]),function(e){r.elems("initSubForm",["sub","med-sub-form",{Title:e},"#Publication-sel"]).then((function(e){return function(e){t("#CitationTitle_row")[0].parentNode.after(e),l("publication","sub"),t("#Title_row input").focus(),r.elems("setCoreRowStyles",["#publication_Rows",".sub-row"]),t("#PublicationType-lbl").css("min-width","125px")}(e)}))}(n)}function d(e){return console.log("           /--loadPubTypeFields"),C("publication",e,this.$input[0]).then((function(){t("#PublicationType-lbl").css("min-width","125px"),p(),r.elems("setCoreRowStyles",["#publication_Rows",".sub-row"])}))}function p(){if("Book"===t("#PublicationType-sel")[0].innerText){var e=r.util("buildElem",["div",{class:"skipFormData"}]);t(e).html("<i>Note: there must be at least one author OR editor selected for book publications.</i>"),t(e).css({margin:"auto"}),t("#Authors_row")[0].parentNode.before(e)}}function h(e){console.log("       /--initCitForm [%s]",e);var n="create"===e?"":e;a=null,s={},r.util("getData",[["author","publication"]]).then((function(e){return function(e){return function(t){var e=r.state("getStateProp",["records"]);if(!e)return;Object.keys(t).forEach((function(n){return e[n]=t[n]})),r.state("setStateProp",["records",e])}(e),r.state("addEntityFormState",["citation","sub","#CitationTitle-sel","create"]),r.state("setOnFormCloseHandler",["sub",z]),function(e){var n=r.state("getRcrd",["source",t("#Publication-sel").val()]),o=e[n.publication];g(n,o,"sub")}(e.publication),Promise.resolve()}(e)})).then((function(){return function(e){(function(t){return r.elems("initSubForm",["sub","med-sub-form",{Title:t},"#CitationTitle-sel"])})(e).then((function(e){return function(e){t("#CitationTitle_row")[0].parentNode.after(e),l("citation","sub"),r.util("getData",["citTypeNames"]).then((function(t){return e=t,n=r.state("getFormProp",["sub","rcrds"]),o=n.pub.publicationType.displayName,i={Book:f(o,n),Journal:"Article",Other:"Other","Thesis/Dissertation":"Ph.D. Dissertation"}[o],void r.cmbx("setSelVal",["#CitationType-sel",e[i]]);var e,n,o,i})).then((function(){return r.cmbx("enableCombobox",["#Publication-sel",!1]),t("#Abstract_row textarea").focus(),void r.elems("setCoreRowStyles",["#citation_Rows",".sub-row"])}))}(e)}))}(n)}))}function f(t,e){return"Book"!==t||e.src.authors?"Book":"Chapter"}function g(t,e,n){r.state("setFormProp",[n,"rcrds",{pub:e,src:t}])}function m(t){var e=r.getSubFormLvl("sub"),n=this.$input[0];return r.state("isEditForm")||function(t,e,n){var o=e.innerText,i=-1!==["Book","Master's Thesis","Museum record","Other","Ph.D. Dissertation","Report","Chapter"].indexOf(o);!function(t,e,n){var o=r.state("getFormProp",[t,"fieldData"]),i=r.state("getFormProp",[t,"rcrds"]);(function(t,e,n){if(!o.Title.val){o.Title={},o.Title.val=t&&-1===["Chapter"].indexOf(n)?i.src.displayName:""}})(e,0,n),a=e,o.Year={},o.Year.val=a?i.src.year:"",function(t,e,n){var r,a=i.src.authors;if(t&&a)r=a,o.Authors={type:"multiSelect"},o.Authors.val=r||null}(e),r.state("setFormProp",[t,"fieldData",o]);var a}(n,i,o)}(0,n,e),C("citation",t,n).then((function(){v(n,e),y(e),function(t){r.elems("setCoreRowStyles",["#citation_Rows","."+t+"-row"])}(e),r.elems("checkReqFieldsAndToggleSubmitBttn",[e])}))}function v(e,n){var o=e.innerText,i={Book:a,Chapter:a,"Master's Thesis":u,Other:l,"Ph.D. Dissertation":u,"Museum record":l,Report:l};function a(){var e,i=r.state("getFormLvlState",[n]);if(!i.rcrds.src.authors)return function(){if(!s.authRow)return;t("#citation_Rows").append(s.authRow),r.state("addRequiredFieldInput",[n,s.authElem]),r.state("setFormFieldData",[n,"Authors",{},"multiSelect"]),delete s.authRow,delete s.authElem}();s.authRow=t("#Authors_row").detach(),r.state("setFormProp",[n,"reqElems",i.reqElems.filter((function(t){return!t.id.includes("Authors")||(s.authElem=t,!1)}))]),delete(e=r.state("getFormProp",[n,"fieldData"])).Authors,r.state("setFormProp",[n,"fieldData",e]),"Book"===o?u():t("#Title_row input").prop("disabled",!1)}function l(){t("#Title_row input").prop("disabled",!0),t("#Year_row input").prop("disabled",!0),function(){t("#Authors-sel-cntnr")[0].children.length>1&&t("#Authors-sel-cntnr")[0].lastChild.remove();r.cmbx("enableComboboxes",[t("#Authors-sel-cntnr select"),!1])}()}function u(){t("#Title_row input").prop("disabled",!0)}-1!==Object.keys(i).indexOf(o)&&i[o](o,n)}function y(e){a||(a=window.setTimeout((function(){console.log("           /--buildCitTextAndUpdateField");var n=e||r.getSubFormLvl("sub"),o=t("#CitationText_row textarea");o.val()||function(t){t.prop("disabled",!0).unbind("change").css({height:"6.6em"})}(o);var i=r.elems("ifAllRequiredFieldsFilled",[n]);return function(e,n,o){var i="The citation will display here once all required fields are filled.";return Promise.resolve(function(e){return 0==t("#"+r.getNextFormLevel("child",e)+"-form").length}(n)&&o?r.forms("getCitationText",[n]):e.val()!==i&&i)}(o,n,i).then((function(t){return function(t,e){if(!t)return;e.val(t).change()}(t,o)})).then((function(){return function(e,n){if(!n)return;if(!t("#citation_Rows div.field-row").filter(b).length&&t(".warn-msg").length)return t(".warn-msg").remove();if(t(".warn-msg").length)return;t("#"+e+"-submit").before('<div class="warn-msg warn">Please add highlighted data if available.</div>')}(n,i)})).then((function(){a=null}))}),750))}function b(e,n){n.children[1];return!_.apply(void 0,[n].concat(i()(n.children)))&&(t(n).addClass("warn"),!0)}function _(e,n,o){var i=t(o).val()||-1!==["Authors"].indexOf(n.id.split("-")[0]);return i&&e.className.includes("warn")&&t(e).removeClass("warn"),i}function C(e,n,o,i){var a=r.getSubFormLvl("sub");return function(t,e,n){var o=r.util("ucfirst",[t]);r.state("setFormFieldData",[n,o+"Type",e]),r.state("setFormProp",[n,"reqElems",[]]),r.elems("toggleSubmitBttn",["#"+n+"-submit",!1])}(e,n,a),w(e,n,a,i).then((function(n){return t("#"+e+"_Rows").append(n),l(e,a),r.elems("fillComplexFormFields",[a]).then(s)}));function s(){r.elems("checkReqFieldsAndToggleSubmitBttn",[a]),E(e,a),t("#Title_row input").focus(),t(".top-pin").hide()}}function w(e,n,o,i){var a=function(t,e,n){var o=r.elems("getCurrentFormFieldVals",[n]);return o[r.util("ucfirst",[t])+"Type"]=e,o}(e,n,o);return function(t,e,n){var o=n||function(t){var e="#"+r.util("ucfirst",[t])+"Type-sel";return r.cmbx("getSelTxt",[e])}(t);r.state("setFormProp",[e,"entityType",o])}(e,o,i),t("#"+e+"_Rows").empty(),r.elems("getFormFieldRows",[e,a,o])}function E(e,n){!function(e,n){var o="#"+r.util("ucfirst",[e])+"Type-sel",i=t(o)[0].innerText,a={publication:{"Thesis/Dissertation":{Publisher:"Publisher / University"}},citation:{Book:{Volume:"Edition"},Chapter:{Title:"Chapter Title"}}}[e][i],s="#"+n+"-form";for(var l in a){var u=t(s+" label:contains("+l+")");u.text(a[l]),t(s+" [id^="+l+"-sel]").length&&c(u[0],l,a[l])}function c(e,n,o){return e.nextSibling.id.includes("-cntnr")?function(t){for(var e=0;e<t.children.length;e++)"SELECT"===t.children[e].tagName&&x(t.children[e],o)}(t("#"+n+"-sel-cntnr")[0]):x(t("#"+n+"-sel")[0],o)}}(e,n),["Edition","Issue","Volume","Year"].forEach((function(t){return S(t,"number")})),S("LinkUrl","url")}function x(t,e){t.selectize.settings.placeholder="Select "+e,t.selectize.updatePlaceholder()}function S(e,n){t("#"+e+"-lbl + input").length&&t("#"+e+"-lbl + input").attr("type",n)}function A(t){if("create"===t)return O(t)}function O(e){console.log("       /--initPublisherForm [%s]",e);var n="create"===e?"":e,o=r.getSubFormLvl("sub2"),i=r.getNextFormLevel("parent",o);if(0!==t("#"+o+"-form").length)return r.val("openSubFormErr",["Publisher",null,o]);Z("publisher",o,{DisplayName:n},"#Publisher-sel").then((function(e){t("#Publisher_row").append(e),r.elems("toggleSubmitBttn",["#"+i+"-submit",!1]),t("#DisplayName_row input").focus()}))}function R(e,n,o){return function(e,n){return!Object.keys(n).length||!t("#"+e+"-sel-cntnr").length}(e,n)?Promise.resolve():(k(e,!1),Object.keys(n).reduce((function(t,i){var r=T.bind(null,i,n[i],e,o);return t.then(r)}),Promise.resolve()))}function T(e,n,o,i){return t("#"+o+"-sel"+e).length?(r.cmbx("setSelVal",["#"+o+"-sel"+e,n,"silent"]),N(++e,n,i,o)):Promise.resolve()}function L(t){D(t,null,this.$input[0].id.substr(-1))}function P(t){D(t,"editor",this.$input[0].id.substr(-1))}function D(e,n,o){var i=n?"Editors":"Authors",a=t("#"+i+"-sel-cntnr").data("cnt");if(""===e||NaN===parseInt(e))return function(e,n){(function(e){if(t("#"+e+"-sel1").val())return;k(e,!0)})(e),y(s),""===t("#"+e+"-sel"+(n-1)).val()&&function(e,n){t("#"+e+"-sel"+n)[0].selectize.destroy(),t("#"+e+"-sel"+n)[0].parentNode.remove(),t("#"+e+"-sel-cntnr").data("cnt",--n)}(e,n)}(i,a);var s=r.getSubFormLvl("sub");if(1===a&&k(i,!1),"create"===e)return U(o,e,i);(function(e,n){return""===t("#"+n+"-sel"+e).val()})(a,i)||N(a+1,e,s,i)}function k(e,n){var o="Authors"===e?"Editors":"Authors";t("#"+o+"-sel-cntnr").length&&r.cmbx("enableFirstCombobox",["#"+o+"-sel-cntnr",n])}function N(e,n,o,i){return r.elems("buildMultiSelectElem",[null,i,o,e]).then((function(n){t("#"+i+"-sel-cntnr").append(n).data("cnt",e),r.cmbx("initSingle",[F(i,e),o])}))}function F(t,e){return{add:I(t,e),change:M(t),id:"#"+t+"-sel"+e,name:t.slice(0,-1)}}function M(t){return"Editors"===t?P:L}function I(t,e){return("Editors"===t?j:G).bind(null,e)}function G(t,e){U(t,e,"Authors")}function j(t,e){U(t,e,"Editors")}function U(e,n,o){var i="#"+o+"-sel"+e,a=r.getSubFormLvl("sub2");if(0!==t("#"+a+"-form").length)return r.val("openSubFormErr",[o,i,a]);var s="create"===n?"":n;Z(r.util("lcfirst",[o.slice(0,-1)]),a,{LastName:s},i).then((function(n){t("#"+o+"_row").append(n),i=r.getNextFormLevel("parent",a),r.elems("toggleSubmitBttn",["#"+i+"-submit",!1]),r.elems("checkReqFieldsAndToggleSubmitBttn",[a]),t("#"+a+"-cancel").click(k.bind(null,o,!0)),t("#"+a+"-cancel").click(r.cmbx.bind(null,"clearCombobox",["#"+o+"-sel"+e])),t("#FirstName_row input").focus();var i}))}function B(t,e){var n=r.state("getRcrd",["source",e]),o=r.state("getRcrd",[t,n[t]]),i=o[t+"Type"].id,a=o[t+"Type"].displayName;return function(t,e){if("citation"!==t)return Promise.resolve();return r.util("getData",["publication"]).then((function(t){var n=r.state("getRcrd",["source",e.parent]),o=t[n.publication];g(n,o,"top")}))}(t,n).then((function(){return w(t,i,"top",a)}))}function V(e){l(e,"top"),t(".all-fields-cntnr").hide(),"citation"===e?v(t("#CitationType-sel")[0],"top"):t("#PublicationType-lbl").css("min-width","125px"),H(e,{},"top")}function W(){r.elems("setCoreRowStyles",["#form-main",".top-row"])}function H(e,n,o){"publication"===e?p(n.PublicationType):(v(t("#CitationType-sel")[0],o),y(o)),E(e,o)}function z(){r.cmbx("enableCombobox",["#Publication-sel"]),r.forms("fillCitationField",[t("#Publication-sel").val()])}function Z(t,e,n,o){return r.state("addEntityFormState",[t,e,o,"create"]),r.elems("initSubForm",[e,"sml-sub-form",n,o])}}.call(this,n("EVdn"))},RIr2:function(t,e,n){"use strict";n.r(e),function(t,o){n.d(e,"initSentry",(function(){return y})),n.d(e,"reportErr",(function(){return b})),n.d(e,"alertIssue",(function(){return _}));n("ma9I"),n("sMBO"),n("zKZe");var i=n("lwsE"),r=n.n(i),a=n("a1gu"),s=n.n(a),l=n("Nsbk"),u=n.n(l),c=n("PJYZ"),d=n.n(c),p=n("7W2i"),h=n.n(p),f=n("oShl"),g=n.n(f),m=n("kfS4"),v=n("0ZTt");function y(){var e,n;t.init({dsn:"https://e4208400b3414c6d85beccfd218e194f@sentry.io/2506194",integrations:[new v.a],blacklistUrls:["copy.batbase.org","dev.batbase.org"]}),e=o("body").data("user-name"),n=o("body").data("user-role"),t.configureScope((function(t){t.setUser({username:e,role:n})}))}function b(e){t.captureException(e)}function _(e){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};"prod"===o("body").data("env")&&(console.log("       !!!alertIssue [%s] = %O",e,n),C(n),t.captureException(new w(e,n)),E(e))}function C(e){!function(){if("/search"!==o("body").data("this-url"))return;var e=Object(m.accessTableState)().get(),n={focus:e.curFocus,view:e.curView};t.setContext("filter_state",Object.assign(n,Object(m.getCurrentFilterState)()))}(),function(e){t.setContext("error_tags",e)}(e)}var w=function(t){function e(t,n){var o,i;r()(this,e);for(var a=arguments.length,l=new Array(a>2?a-2:0),c=2;c<a;c++)l[c-2]=arguments[c];return i=s()(this,(o=u()(e)).call.apply(o,[this].concat(l))),Error.captureStackTrace&&Error.captureStackTrace(d()(i),e),i.name=t,i.message=JSON.stringify(n),i}return h()(e,t),e}(g()(Error));function E(t){if(-1===["dataSyncFailure","noRcrdFound","TestIssue","editorReport"].indexOf(t)){var e,n,i={alertNoRcrdFound:x};t in i?i[t]():alert("An error ocurred somewhere on the page. If error persists, try reloading the page or ".concat((e=o("body").data("user-role"),(n={visitor:S,user:A})[e]?n[e]():'send debug information: \n> Open the browser logs: Open Chrome menu -> "More Tools" -> "Developer Tools".\n> Once the panel loads and the "console" tab is displayed, select all log text and copy.\n> Submit an Issue Report by clicking the far right blue button on the page options bar. Thank you!')))}}function x(){alert("Expected record not found. Try reloading the page or ".concat('send debug information: \n> Open the browser logs: Open Chrome menu -> "More Tools" -> "Developer Tools".\n> Once the panel loads and the "console" tab is displayed, select all log text and copy.\n> Submit an Issue Report by clicking the far right blue button on the page options bar. Thank you!'))}function S(){return"contact us at info@batbase.org and let us know about the issue you are experiencing."}function A(){return"contact us by Leaving Feedback on this page (in your user menu) and let us know about the issue you are experiencing."}}.call(this,n("WSEr"),n("EVdn"))},RN6c:function(t,e,n){var o=n("2oRo");t.exports=function(t,e){var n=o.console;n&&n.error&&(1===arguments.length?n.error(t):n.error(t,e))}},RNIs:function(t,e,n){var o=n("tiKp"),i=n("fHMY"),r=n("X2U+"),a=o("unscopables"),s=Array.prototype;null==s[a]&&r(s,a,i(null)),t.exports=function(t){s[a][t]=!0}},RRj0:function(t,e,n){(function(t){var o,i,r;n("ma9I"),n("TeQF"),n("fbCW"),n("4mDm"),n("oVuX"),n("2B1R"),n("Junv"),n("+2oP"),n("pDQq"),n("sMBO"),n("qePV"),n("5DmW"),n("tkto"),n("07d7"),n("JfAA"),n("PKPk"),n("Rm1S"),n("UxlC"),n("EnZy"),n("SYor"),n("qgGA"),n("FZtP"),n("3bBZ"),n("Kz25");var a,s=n("cDf5");a=function(){return function(t){var e={};function n(o){if(e[o])return e[o].exports;var i=e[o]={exports:{},id:o,loaded:!1};return t[o].call(i.exports,i,i.exports,n),i.loaded=!0,i.exports}return n.m=t,n.c=e,n.p="",n(0)}([function(t,e,n){(0,n(1).populateClientExports)(e),n(90),n(94),n(96),n(98),n(100),n(102)},function(t,e,n){
/**
	 * ag-grid - Advanced Data Grid / Data Table supporting Javascript / React / AngularJS / Web Components
	 * @version v4.2.6
	 * @link http://www.ag-grid.com/
	 * @license MIT
	 */
var o=n(2),i=n(11),r=n(10),a=n(9),s=n(13),l=n(84),u=n(85),c=n(33),d=n(27),p=n(17),h=n(14),f=n(15),g=n(35),m=n(66),v=n(3),y=n(19),b=n(20),_=n(16),C=n(21),w=n(65),E=n(6),x=n(73),S=n(31),A=n(43),O=n(46),R=n(45),T=n(24),L=n(32),P=n(72),D=n(69),k=n(68),N=n(75),F=n(71),M=n(76),I=n(74),G=n(70),j=n(78),U=n(30),B=n(86),V=n(87),W=n(22),H=n(37),z=n(23),Z=n(79),Y=n(81),q=n(80),Q=n(26),J=n(41),K=n(47),X=n(88),$=n(63),tt=n(64),et=n(8),nt=n(12),ot=n(4),it=n(18),rt=n(40),at=n(5),st=n(25),lt=n(28),ut=n(42),ct=n(59),dt=n(36),pt=n(7),ht=n(29),ft=n(44),gt=n(34),mt=n(83),vt=n(82),yt=n(89),bt=n(56),_t=n(48),Ct=n(51),wt=n(53),Et=n(52),xt=n(50),St=n(49),At=n(55),Ot=n(58),Rt=n(60),Tt=n(61),Lt=n(54),Pt=n(62),Dt=n(67);e.populateClientExports=function(t){t.BalancedColumnTreeBuilder=y.BalancedColumnTreeBuilder,t.ColumnController=s.ColumnController,t.ColumnKeyCreator=b.ColumnKeyCreator,t.ColumnUtils=_.ColumnUtils,t.DisplayedGroupCreator=C.DisplayedGroupCreator,t.GroupInstanceIdCreator=w.GroupInstanceIdCreator,t.PivotService=Dt.PivotService,t.ComponentUtil=a.ComponentUtil,t.initialiseAgGridWithAngular1=l.initialiseAgGridWithAngular1,t.initialiseAgGridWithWebComponents=u.initialiseAgGridWithWebComponents,t.Context=E.Context,t.Autowired=E.Autowired,t.PostConstruct=E.PostConstruct,t.PreDestroy=E.PreDestroy,t.Optional=E.Optional,t.Bean=E.Bean,t.Qualifier=E.Qualifier,t.DragAndDropService=x.DragAndDropService,t.DragService=S.DragService,t.Column=f.Column,t.ColumnGroup=h.ColumnGroup,t.GridCell=c.GridCell,t.GridRow=gt.GridRow,t.OriginalColumnGroup=p.OriginalColumnGroup,t.RowNode=d.RowNode,t.FilterManager=A.FilterManager,t.NumberFilter=O.NumberFilter,t.TextFilter=R.TextFilter,t.GridPanel=T.GridPanel,t.MouseEventService=L.MouseEventService,t.CssClassApplier=P.CssClassApplier,t.HeaderContainer=D.HeaderContainer,t.HeaderRenderer=k.HeaderRenderer,t.HeaderTemplateLoader=N.HeaderTemplateLoader,t.HorizontalDragService=F.HorizontalDragService,t.MoveColumnController=M.MoveColumnController,t.RenderedHeaderCell=I.RenderedHeaderCell,t.RenderedHeaderGroupCell=G.RenderedHeaderGroupCell,t.StandardMenuFactory=j.StandardMenuFactory,t.BorderLayout=U.BorderLayout,t.TabbedLayout=B.TabbedLayout,t.VerticalStack=V.VerticalStack,t.DateCellEditor=Lt.DateCellEditor,t.PopupEditorWrapper=Ct.PopupEditorWrapper,t.PopupSelectCellEditor=wt.PopupSelectCellEditor,t.PopupTextCellEditor=Et.PopupTextCellEditor,t.SelectCellEditor=xt.SelectCellEditor,t.TextCellEditor=St.TextCellEditor,t.AnimateSlideCellRenderer=bt.AnimateSlideCellRenderer,t.GroupCellRenderer=Ot.GroupCellRenderer,t.AutoWidthCalculator=W.AutoWidthCalculator,t.CellEditorFactory=_t.CellEditorFactory,t.RenderedHeaderCell=I.RenderedHeaderCell,t.CellRendererFactory=At.CellRendererFactory,t.CellRendererService=Rt.CellRendererService,t.RenderedRow=H.RenderedRow,t.RowRenderer=z.RowRenderer,t.ValueFormatterService=Tt.ValueFormatterService,t.FilterStage=Z.FilterStage,t.FlattenStage=Y.FlattenStage,t.InMemoryRowModel=mt.InMemoryRowModel,t.SortStage=q.SortStage,t.FloatingRowModel=Q.FloatingRowModel,t.PaginationController=J.PaginationController,t.VirtualPageRowModel=vt.VirtualPageRowModel,t.PopupService=ft.PopupService,t.MenuItemComponent=yt.MenuItemComponent,t.Component=K.Component,t.MenuList=X.MenuList,t.CellNavigationService=$.CellNavigationService,t.ColumnChangeEvent=tt.ColumnChangeEvent,t.Constants=et.Constants,t.CsvCreator=nt.CsvCreator,t.Events=r.Events,t.EventService=ot.EventService,t.ExpressionService=it.ExpressionService,t.FocusedCellController=g.FocusedCellController,t.defaultGroupComparator=m.defaultGroupComparator,t.Grid=o.Grid,t.GridApi=i.GridApi,t.GridCore=rt.GridCore,t.GridOptionsWrapper=v.GridOptionsWrapper,t.Logger=at.Logger,t.MasterSlaveService=st.MasterSlaveService,t.SelectionController=lt.SelectionController,t.CheckboxSelectionComponent=Pt.CheckboxSelectionComponent,t.SortController=ut.SortController,t.SvgFactory=ct.SvgFactory,t.TemplateService=dt.TemplateService,t.Utils=pt.Utils,t.ValueService=ht.ValueService}},function(t,e,n){
/**
	 * ag-grid - Advanced Data Grid / Data Table supporting Javascript / React / AngularJS / Web Components
	 * @version v4.2.6
	 * @link http://www.ag-grid.com/
	 * @license MIT
	 */
var o=n(3),i=n(41),r=n(26),a=n(28),s=n(13),l=n(23),u=n(68),c=n(43),d=n(29),p=n(25),h=n(4),f=n(77),g=n(24),m=n(11),v=n(75),y=n(19),b=n(21),_=n(18),C=n(36),w=n(44),E=n(5),x=n(16),S=n(22),A=n(71),O=n(6),R=n(12),T=n(40),L=n(78),P=n(73),D=n(31),k=n(42),N=n(35),F=n(32),M=n(63),I=n(7),G=n(79),j=n(80),U=n(81),B=n(39),V=n(48),W=n(10),H=n(82),z=n(83),Z=n(55),Y=n(60),q=n(61),Q=n(67),J=function(){function t(e,n,H,z,J,K){void 0===H&&(H=null),void 0===z&&(z=null),void 0===J&&(J=null),void 0===K&&(K=null),e||console.error("ag-Grid: no div element provided to the grid"),n||console.error("ag-Grid: no gridOptions provided to the grid");var X=this.getRowModelClass(n),$=I.Utils.exists(t.enterpriseBeans);this.context=new O.Context({overrideBeans:t.enterpriseBeans,seed:{enterprise:$,gridOptions:n,eGridDiv:e,$scope:z,$compile:J,quickFilterOnScope:K,globalEventListener:H},beans:[X,Z.CellRendererFactory,A.HorizontalDragService,v.HeaderTemplateLoader,r.FloatingRowModel,D.DragService,b.DisplayedGroupCreator,h.EventService,o.GridOptionsWrapper,a.SelectionController,c.FilterManager,s.ColumnController,l.RowRenderer,Q.PivotService,u.HeaderRenderer,_.ExpressionService,y.BalancedColumnTreeBuilder,R.CsvCreator,C.TemplateService,g.GridPanel,w.PopupService,d.ValueService,p.MasterSlaveService,E.LoggerFactory,f.OldToolPanelDragAndDropService,x.ColumnUtils,S.AutoWidthCalculator,m.GridApi,i.PaginationController,w.PopupService,T.GridCore,L.StandardMenuFactory,P.DragAndDropService,k.SortController,s.ColumnApi,N.FocusedCellController,F.MouseEventService,M.CellNavigationService,G.FilterStage,j.SortStage,U.FlattenStage,B.FocusService,V.CellEditorFactory,Y.CellRendererService,q.ValueFormatterService],debug:!!n.debug});var tt=this.context.getBean("eventService"),et={api:n.api,columnApi:n.columnApi};tt.dispatchEvent(W.Events.EVENT_GRID_READY,et)}return t.setEnterpriseBeans=function(e,n){this.enterpriseBeans=e,I.Utils.iterateObject(n,(function(e,n){return t.RowModelClasses[e]=n}))},t.prototype.getRowModelClass=function(e){var n=e.rowModelType;if(I.Utils.exists(n)){var o=t.RowModelClasses[n];if(I.Utils.exists(o))return o;console.error("ag-Grid: count not find matching row model for rowModelType "+n),"viewport"===n&&console.error("ag-Grid: rowModelType viewport is only available in ag-Grid Enterprise")}return z.InMemoryRowModel},t.prototype.destroy=function(){this.context.destroy()},t.RowModelClasses={virtual:H.VirtualPageRowModel,pagination:z.InMemoryRowModel},t}();e.Grid=J},function(t,e,n){
/**
	 * ag-grid - Advanced Data Grid / Data Table supporting Javascript / React / AngularJS / Web Components
	 * @version v4.2.6
	 * @link http://www.ag-grid.com/
	 * @license MIT
	 */
var o=this&&this.__decorate||function(t,e,n,o){var i,r=arguments.length,a=r<3?e:null===o?o=Object.getOwnPropertyDescriptor(e,n):o;if("object"===("undefined"==typeof Reflect?"undefined":s(Reflect))&&"function"==typeof Reflect.decorate)a=Reflect.decorate(t,e,n,o);else for(var l=t.length-1;l>=0;l--)(i=t[l])&&(a=(r<3?i(a):r>3?i(e,n,a):i(e,n))||a);return r>3&&a&&Object.defineProperty(e,n,a),a},i=this&&this.__metadata||function(t,e){if("object"===("undefined"==typeof Reflect?"undefined":s(Reflect))&&"function"==typeof Reflect.metadata)return Reflect.metadata(t,e)},r=this&&this.__param||function(t,e){return function(n,o){e(n,o,t)}},a=n(4),l=n(8),u=n(9),c=n(11),d=n(6),p=n(13),h=n(10),f=n(7);function g(t){return!0===t||"true"===t}function m(t,e){return t>0?t:e}var v=function(){function t(){}return t.prototype.agWire=function(t,e){this.headerHeight=this.gridOptions.headerHeight,this.gridOptions.api=t,this.gridOptions.columnApi=e,this.checkForDeprecated()},t.prototype.init=function(){this.eventService.addGlobalListener(this.globalEventHandler.bind(this)),this.isGroupSelectsChildren()&&this.isSuppressParentsInRowNodes()&&console.warn("ag-Grid: groupSelectsChildren does not work wth suppressParentsInRowNodes, this selection method needs the part in rowNode to work"),this.isGroupSelectsChildren()&&!this.isRowSelectionMulti()&&console.warn("ag-Grid: rowSelectionMulti must be true for groupSelectsChildren to make sense")},t.prototype.isEnterprise=function(){return this.enterprise},t.prototype.isRowSelection=function(){return"single"===this.gridOptions.rowSelection||"multiple"===this.gridOptions.rowSelection},t.prototype.isRowDeselection=function(){return g(this.gridOptions.rowDeselection)},t.prototype.isRowSelectionMulti=function(){return"multiple"===this.gridOptions.rowSelection},t.prototype.getContext=function(){return this.gridOptions.context},t.prototype.isRowModelPagination=function(){return this.gridOptions.rowModelType===l.Constants.ROW_MODEL_TYPE_PAGINATION},t.prototype.isRowModelVirtual=function(){return this.gridOptions.rowModelType===l.Constants.ROW_MODEL_TYPE_VIRTUAL},t.prototype.isRowModelViewport=function(){return this.gridOptions.rowModelType===l.Constants.ROW_MODEL_TYPE_VIEWPORT},t.prototype.isRowModelDefault=function(){return!(this.isRowModelPagination()||this.isRowModelVirtual()||this.isRowModelViewport())},t.prototype.isShowToolPanel=function(){return g(this.gridOptions.showToolPanel)},t.prototype.isToolPanelSuppressGroups=function(){return g(this.gridOptions.toolPanelSuppressGroups)},t.prototype.isToolPanelSuppressValues=function(){return g(this.gridOptions.toolPanelSuppressValues)},t.prototype.isEnableCellChangeFlash=function(){return g(this.gridOptions.enableCellChangeFlash)},t.prototype.isGroupSelectsChildren=function(){return g(this.gridOptions.groupSelectsChildren)},t.prototype.isGroupIncludeFooter=function(){return g(this.gridOptions.groupIncludeFooter)},t.prototype.isGroupSuppressBlankHeader=function(){return g(this.gridOptions.groupSuppressBlankHeader)},t.prototype.isSuppressRowClickSelection=function(){return g(this.gridOptions.suppressRowClickSelection)},t.prototype.isSuppressCellSelection=function(){return g(this.gridOptions.suppressCellSelection)},t.prototype.isSuppressMultiSort=function(){return g(this.gridOptions.suppressMultiSort)},t.prototype.isGroupSuppressAutoColumn=function(){return g(this.gridOptions.groupSuppressAutoColumn)},t.prototype.isSuppressDragLeaveHidesColumns=function(){return g(this.gridOptions.suppressDragLeaveHidesColumns)},t.prototype.isForPrint=function(){return g(this.gridOptions.forPrint)},t.prototype.isSuppressHorizontalScroll=function(){return g(this.gridOptions.suppressHorizontalScroll)},t.prototype.isSuppressLoadingOverlay=function(){return g(this.gridOptions.suppressLoadingOverlay)},t.prototype.isSuppressNoRowsOverlay=function(){return g(this.gridOptions.suppressNoRowsOverlay)},t.prototype.isSuppressFieldDotNotation=function(){return g(this.gridOptions.suppressFieldDotNotation)},t.prototype.getFloatingTopRowData=function(){return this.gridOptions.floatingTopRowData},t.prototype.getFloatingBottomRowData=function(){return this.gridOptions.floatingBottomRowData},t.prototype.getQuickFilterText=function(){return this.gridOptions.quickFilterText},t.prototype.isUnSortIcon=function(){return g(this.gridOptions.unSortIcon)},t.prototype.isSuppressMenuHide=function(){return g(this.gridOptions.suppressMenuHide)},t.prototype.getRowStyle=function(){return this.gridOptions.rowStyle},t.prototype.getRowClass=function(){return this.gridOptions.rowClass},t.prototype.getRowStyleFunc=function(){return this.gridOptions.getRowStyle},t.prototype.getRowClassFunc=function(){return this.gridOptions.getRowClass},t.prototype.getBusinessKeyForNodeFunc=function(){return this.gridOptions.getBusinessKeyForNode},t.prototype.getHeaderCellRenderer=function(){return this.gridOptions.headerCellRenderer},t.prototype.getApi=function(){return this.gridOptions.api},t.prototype.getColumnApi=function(){return this.gridOptions.columnApi},t.prototype.isEnableColResize=function(){return g(this.gridOptions.enableColResize)},t.prototype.isSingleClickEdit=function(){return g(this.gridOptions.singleClickEdit)},t.prototype.getGroupDefaultExpanded=function(){return this.gridOptions.groupDefaultExpanded},t.prototype.getRowData=function(){return this.gridOptions.rowData},t.prototype.isGroupUseEntireRow=function(){return g(this.gridOptions.groupUseEntireRow)},t.prototype.getGroupColumnDef=function(){return this.gridOptions.groupColumnDef},t.prototype.isGroupSuppressRow=function(){return g(this.gridOptions.groupSuppressRow)},t.prototype.getRowGroupPanelShow=function(){return this.gridOptions.rowGroupPanelShow},t.prototype.isAngularCompileRows=function(){return g(this.gridOptions.angularCompileRows)},t.prototype.isAngularCompileFilters=function(){return g(this.gridOptions.angularCompileFilters)},t.prototype.isAngularCompileHeaders=function(){return g(this.gridOptions.angularCompileHeaders)},t.prototype.isDebug=function(){return g(this.gridOptions.debug)},t.prototype.getColumnDefs=function(){return this.gridOptions.columnDefs},t.prototype.getDatasource=function(){return this.gridOptions.datasource},t.prototype.getViewportDatasource=function(){return this.gridOptions.viewportDatasource},t.prototype.isEnableSorting=function(){return g(this.gridOptions.enableSorting)||g(this.gridOptions.enableServerSideSorting)},t.prototype.isEnableCellExpressions=function(){return g(this.gridOptions.enableCellExpressions)},t.prototype.isSuppressMiddleClickScrolls=function(){return g(this.gridOptions.suppressMiddleClickScrolls)},t.prototype.isSuppressPreventDefaultOnMouseWheel=function(){return g(this.gridOptions.suppressPreventDefaultOnMouseWheel)},t.prototype.isEnableServerSideSorting=function(){return g(this.gridOptions.enableServerSideSorting)},t.prototype.isSuppressContextMenu=function(){return g(this.gridOptions.suppressContextMenu)},t.prototype.isEnableFilter=function(){return g(this.gridOptions.enableFilter)||g(this.gridOptions.enableServerSideFilter)},t.prototype.isEnableServerSideFilter=function(){return this.gridOptions.enableServerSideFilter},t.prototype.isSuppressScrollLag=function(){return g(this.gridOptions.suppressScrollLag)},t.prototype.isSuppressMovableColumns=function(){return g(this.gridOptions.suppressMovableColumns)},t.prototype.isSuppressColumnMoveAnimation=function(){return g(this.gridOptions.suppressColumnMoveAnimation)},t.prototype.isSuppressMenuColumnPanel=function(){return g(this.gridOptions.suppressMenuColumnPanel)},t.prototype.isSuppressMenuFilterPanel=function(){return g(this.gridOptions.suppressMenuFilterPanel)},t.prototype.isSuppressMenuMainPanel=function(){return g(this.gridOptions.suppressMenuMainPanel)},t.prototype.isEnableRangeSelection=function(){return g(this.gridOptions.enableRangeSelection)},t.prototype.isRememberGroupStateWhenNewData=function(){return g(this.gridOptions.rememberGroupStateWhenNewData)},t.prototype.getIcons=function(){return this.gridOptions.icons},t.prototype.getIsScrollLag=function(){return this.gridOptions.isScrollLag},t.prototype.getSortingOrder=function(){return this.gridOptions.sortingOrder},t.prototype.getSlaveGrids=function(){return this.gridOptions.slaveGrids},t.prototype.getGroupRowRenderer=function(){return this.gridOptions.groupRowRenderer},t.prototype.getGroupRowRendererParams=function(){return this.gridOptions.groupRowRendererParams},t.prototype.getGroupRowInnerRenderer=function(){return this.gridOptions.groupRowInnerRenderer},t.prototype.getOverlayLoadingTemplate=function(){return this.gridOptions.overlayLoadingTemplate},t.prototype.getOverlayNoRowsTemplate=function(){return this.gridOptions.overlayNoRowsTemplate},t.prototype.getCheckboxSelection=function(){return this.gridOptions.checkboxSelection},t.prototype.isSuppressAutoSize=function(){return g(this.gridOptions.suppressAutoSize)},t.prototype.isSuppressParentsInRowNodes=function(){return g(this.gridOptions.suppressParentsInRowNodes)},t.prototype.isEnableStatusBar=function(){return g(this.gridOptions.enableStatusBar)},t.prototype.getHeaderCellTemplate=function(){return this.gridOptions.headerCellTemplate},t.prototype.getHeaderCellTemplateFunc=function(){return this.gridOptions.getHeaderCellTemplate},t.prototype.getNodeChildDetailsFunc=function(){return this.gridOptions.getNodeChildDetails},t.prototype.getGroupRowAggNodesFunc=function(){return this.gridOptions.groupRowAggNodes},t.prototype.getContextMenuItemsFunc=function(){return this.gridOptions.getContextMenuItems},t.prototype.getMainMenuItemsFunc=function(){return this.gridOptions.getMainMenuItems},t.prototype.getProcessCellForClipboardFunc=function(){return this.gridOptions.processCellForClipboard},t.prototype.getViewportRowModelPageSize=function(){return m(this.gridOptions.viewportRowModelPageSize,5)},t.prototype.getViewportRowModelBufferSize=function(){return m(this.gridOptions.viewportRowModelBufferSize,5)},t.prototype.executeProcessRowPostCreateFunc=function(t){this.gridOptions.processRowPostCreate&&this.gridOptions.processRowPostCreate(t)},t.prototype.getHeaderHeight=function(){return"number"==typeof this.headerHeight?this.headerHeight:25},t.prototype.setHeaderHeight=function(t){this.headerHeight=t,this.eventService.dispatchEvent(h.Events.EVENT_HEADER_HEIGHT_CHANGED)},t.prototype.isExternalFilterPresent=function(){return"function"==typeof this.gridOptions.isExternalFilterPresent&&this.gridOptions.isExternalFilterPresent()},t.prototype.doesExternalFilterPass=function(t){return"function"==typeof this.gridOptions.doesExternalFilterPass&&this.gridOptions.doesExternalFilterPass(t)},t.prototype.getMinColWidth=function(){return this.gridOptions.minColWidth>t.MIN_COL_WIDTH?this.gridOptions.minColWidth:t.MIN_COL_WIDTH},t.prototype.getMaxColWidth=function(){return this.gridOptions.maxColWidth>t.MIN_COL_WIDTH?this.gridOptions.maxColWidth:null},t.prototype.getColWidth=function(){return"number"!=typeof this.gridOptions.colWidth||this.gridOptions.colWidth<t.MIN_COL_WIDTH?200:this.gridOptions.colWidth},t.prototype.getRowBuffer=function(){return"number"==typeof this.gridOptions.rowBuffer?(this.gridOptions.rowBuffer<0&&console.warn("ag-Grid: rowBuffer should not be negative"),this.gridOptions.rowBuffer):l.Constants.ROW_BUFFER_SIZE},t.prototype.checkForDeprecated=function(){var t=this.gridOptions;t.suppressUnSort&&console.warn("ag-grid: as of v1.12.4 suppressUnSort is not used. Please use sortOrder instead."),t.suppressDescSort&&console.warn("ag-grid: as of v1.12.4 suppressDescSort is not used. Please use sortOrder instead."),t.groupAggFields&&console.warn("ag-grid: as of v3 groupAggFields is not used. Please add appropriate agg fields to your columns."),t.groupHidePivotColumns&&console.warn("ag-grid: as of v3 groupHidePivotColumns is not used as pivot columns are now called rowGroup columns. Please refer to the documentation"),t.groupKeys&&console.warn("ag-grid: as of v3 groupKeys is not used. You need to set rowGroupIndex on the columns to group. Please refer to the documentation"),(t.ready||t.onReady)&&console.warn("ag-grid: as of v3.3 ready event is now called gridReady, so the callback should be onGridReady"),"boolean"==typeof t.groupDefaultExpanded&&console.warn("ag-grid: groupDefaultExpanded can no longer be boolean. for groupDefaultExpanded=true, use groupDefaultExpanded=9999 instead, to expand all the groups"),(t.onRowDeselected||t.rowDeselected)&&console.warn("ag-grid: since version 3.4 event rowDeselected no longer exists, please check the docs"),t.rowsAlreadyGrouped&&console.warn("ag-grid: since version 3.4 rowsAlreadyGrouped no longer exists, please use getNodeChildDetails() instead"),t.groupAggFunction&&console.warn("ag-grid: since version 4.3.x groupAggFunction is now called groupRowAggNodes")},t.prototype.getLocaleTextFunc=function(){if(this.gridOptions.localeTextFunc)return this.gridOptions.localeTextFunc;var t=this;return function(e,n){var o=t.gridOptions.localeText;return o&&o[e]?o[e]:n}},t.prototype.globalEventHandler=function(t,e){var n=u.ComponentUtil.getCallbackForEvent(t);"function"==typeof this.gridOptions[n]&&this.gridOptions[n](e)},t.prototype.getRowHeightAsNumber=function(){var t=this.gridOptions.rowHeight;return f.Utils.missing(t)?25:"number"==typeof this.gridOptions.rowHeight?this.gridOptions.rowHeight:(console.warn("ag-Grid row height must be a number if not using standard row model"),25)},t.prototype.getRowHeightForNode=function(t){if("number"==typeof this.gridOptions.rowHeight)return this.gridOptions.rowHeight;if("function"==typeof this.gridOptions.getRowHeight){var e={node:t,data:t.data,api:this.gridOptions.api,context:this.gridOptions.context};return this.gridOptions.getRowHeight(e)}return 25},t.MIN_COL_WIDTH=10,o([d.Autowired("gridOptions"),i("design:type",Object)],t.prototype,"gridOptions",void 0),o([d.Autowired("columnController"),i("design:type",p.ColumnController)],t.prototype,"columnController",void 0),o([d.Autowired("eventService"),i("design:type",a.EventService)],t.prototype,"eventService",void 0),o([d.Autowired("enterprise"),i("design:type",Boolean)],t.prototype,"enterprise",void 0),o([r(0,d.Qualifier("gridApi")),r(1,d.Qualifier("columnApi")),i("design:type",Function),i("design:paramtypes",[c.GridApi,p.ColumnApi]),i("design:returntype",void 0)],t.prototype,"agWire",null),o([d.PostConstruct,i("design:type",Function),i("design:paramtypes",[]),i("design:returntype",void 0)],t.prototype,"init",null),t=o([d.Bean("gridOptionsWrapper"),i("design:paramtypes",[])],t)}();e.GridOptionsWrapper=v},function(t,e,n){
/**
	 * ag-grid - Advanced Data Grid / Data Table supporting Javascript / React / AngularJS / Web Components
	 * @version v4.2.6
	 * @link http://www.ag-grid.com/
	 * @license MIT
	 */
var o=this&&this.__decorate||function(t,e,n,o){var i,r=arguments.length,a=r<3?e:null===o?o=Object.getOwnPropertyDescriptor(e,n):o;if("object"===("undefined"==typeof Reflect?"undefined":s(Reflect))&&"function"==typeof Reflect.decorate)a=Reflect.decorate(t,e,n,o);else for(var l=t.length-1;l>=0;l--)(i=t[l])&&(a=(r<3?i(a):r>3?i(e,n,a):i(e,n))||a);return r>3&&a&&Object.defineProperty(e,n,a),a},i=this&&this.__metadata||function(t,e){if("object"===("undefined"==typeof Reflect?"undefined":s(Reflect))&&"function"==typeof Reflect.metadata)return Reflect.metadata(t,e)},r=this&&this.__param||function(t,e){return function(n,o){e(n,o,t)}},a=n(5),l=n(7),u=n(6),c=n(6),d=function(){function t(){this.allListeners={},this.globalListeners=[]}return t.prototype.agWire=function(t,e){void 0===e&&(e=null),this.logger=t.create("EventService"),e&&this.addGlobalListener(e)},t.prototype.getListenerList=function(t){var e=this.allListeners[t];return e||(e=[],this.allListeners[t]=e),e},t.prototype.addEventListener=function(t,e){var n=this.getListenerList(t);n.indexOf(e)<0&&n.push(e)},t.prototype.addModalPriorityEventListener=function(e,n){this.addEventListener(e+t.PRIORITY,n)},t.prototype.addGlobalListener=function(t){this.globalListeners.push(t)},t.prototype.removeEventListener=function(t,e){var n=this.getListenerList(t);l.Utils.removeFromArray(n,e)},t.prototype.removeGlobalListener=function(t){l.Utils.removeFromArray(this.globalListeners,t)},t.prototype.dispatchEvent=function(e,n){n||(n={}),this.getListenerList(e+t.PRIORITY).forEach((function(t){t(n)})),this.getListenerList(e).forEach((function(t){t(n)})),this.globalListeners.forEach((function(t){t(e,n)}))},t.PRIORITY="-P1",o([r(0,c.Qualifier("loggerFactory")),r(1,c.Qualifier("globalEventListener")),i("design:type",Function),i("design:paramtypes",[a.LoggerFactory,Function]),i("design:returntype",void 0)],t.prototype,"agWire",null),t=o([u.Bean("eventService"),i("design:paramtypes",[])],t)}();e.EventService=d},function(t,e,n){
/**
	 * ag-grid - Advanced Data Grid / Data Table supporting Javascript / React / AngularJS / Web Components
	 * @version v4.2.6
	 * @link http://www.ag-grid.com/
	 * @license MIT
	 */
var o=this&&this.__decorate||function(t,e,n,o){var i,r=arguments.length,a=r<3?e:null===o?o=Object.getOwnPropertyDescriptor(e,n):o;if("object"===("undefined"==typeof Reflect?"undefined":s(Reflect))&&"function"==typeof Reflect.decorate)a=Reflect.decorate(t,e,n,o);else for(var l=t.length-1;l>=0;l--)(i=t[l])&&(a=(r<3?i(a):r>3?i(e,n,a):i(e,n))||a);return r>3&&a&&Object.defineProperty(e,n,a),a},i=this&&this.__metadata||function(t,e){if("object"===("undefined"==typeof Reflect?"undefined":s(Reflect))&&"function"==typeof Reflect.metadata)return Reflect.metadata(t,e)},r=this&&this.__param||function(t,e){return function(n,o){e(n,o,t)}},a=n(3),l=n(6),u=n(6),c=function(){function t(){}return t.prototype.setBeans=function(t){this.logging=t.isDebug()},t.prototype.create=function(t){return new d(t,this.logging)},o([r(0,u.Qualifier("gridOptionsWrapper")),i("design:type",Function),i("design:paramtypes",[a.GridOptionsWrapper]),i("design:returntype",void 0)],t.prototype,"setBeans",null),t=o([l.Bean("loggerFactory"),i("design:paramtypes",[])],t)}();e.LoggerFactory=c;var d=function(){function t(t,e){this.name=t,this.logging=e}return t.prototype.log=function(t){this.logging&&console.log("ag-Grid."+this.name+": "+t)},t}();e.Logger=d},function(t,e,n){
/**
	 * ag-grid - Advanced Data Grid / Data Table supporting Javascript / React / AngularJS / Web Components
	 * @version v4.2.6
	 * @link http://www.ag-grid.com/
	 * @license MIT
	 */
var o=n(7),i=n(5),r=function(){function t(t){if(this.beans={},this.destroyed=!1,t&&t.beans){this.contextParams=t,this.logger=new i.Logger("Context",this.contextParams.debug),this.logger.log(">> creating ag-Application Context"),this.createBeans();var e=o.Utils.mapObject(this.beans,(function(t){return t.beanInstance}));this.wireBeans(e),this.logger.log(">> ag-Application Context ready - component is alive")}}return t.prototype.wireBean=function(t){this.wireBeans([t])},t.prototype.wireBeans=function(t){this.autoWireBeans(t),this.methodWireBeans(t),this.postConstruct(t)},t.prototype.createBeans=function(){var t=this;this.contextParams.beans.forEach(this.createBeanEntry.bind(this)),this.contextParams.overrideBeans&&this.contextParams.overrideBeans.forEach(this.createBeanEntry.bind(this)),o.Utils.iterateObject(this.beans,(function(e,n){var o;n.bean.prototype.__agBeanMetaData&&n.bean.prototype.__agBeanMetaData.autowireMethods&&n.bean.prototype.__agBeanMetaData.autowireMethods.agConstructor&&(o=n.bean.prototype.__agBeanMetaData.autowireMethods.agConstructor);var i,r,a=t.getBeansForParameters(o,n.beanName),s=(i=n.bean,r=[null].concat(a),new(i.bind.apply(i,r)));n.beanInstance=s,t.logger.log("bean "+t.getBeanName(s)+" created")}))},t.prototype.createBeanEntry=function(t){var e,n=t.prototype.__agBeanMetaData;if(!n)return e=t.prototype.constructor?t.prototype.constructor.name:""+t,void console.error("context item "+e+" is not a bean");var o={bean:t,beanInstance:null,beanName:n.beanName};this.beans[n.beanName]=o},t.prototype.autoWireBeans=function(t){var e=this;t.forEach((function(t){return e.autoWireBean(t)}))},t.prototype.methodWireBeans=function(t){var e=this;t.forEach((function(t){return e.methodWireBean(t)}))},t.prototype.autoWireBean=function(t){var e=this;if(t&&t.__agBeanMetaData&&t.__agBeanMetaData.agClassAttributes){var n=t.__agBeanMetaData.agClassAttributes;if(n){var o=this.getBeanName(t);n.forEach((function(n){var i=e.lookupBeanInstance(o,n.beanName,n.optional);t[n.attributeName]=i}))}}},t.prototype.getBeanName=function(t){var e=t.constructor.toString();return e.substring(9,e.indexOf("("))},t.prototype.methodWireBean=function(t){var e,n=this;t.__agBeanMetaData&&(e=t.__agBeanMetaData.autowireMethods),o.Utils.iterateObject(e,(function(e,o){if("agConstructor"!==e){var i=n.getBeanName(t),r=n.getBeansForParameters(o,i);t[e].apply(t,r)}}))},t.prototype.getBeansForParameters=function(t,e){var n=this,i=[];return t&&o.Utils.iterateObject(t,(function(t,o){var r=n.lookupBeanInstance(e,o);i[Number(t)]=r})),i},t.prototype.lookupBeanInstance=function(t,e,n){if(void 0===n&&(n=!1),"context"===e)return this;if(this.contextParams.seed&&this.contextParams.seed.hasOwnProperty(e))return this.contextParams.seed[e];var o=this.beans[e];return o?o.beanInstance:(n||console.error("ag-Grid: unable to find bean reference "+e+" while initialising "+t),null)},t.prototype.postConstruct=function(t){t.forEach((function(t){t.__agBeanMetaData&&t.__agBeanMetaData.postConstructMethods&&t.__agBeanMetaData.postConstructMethods.forEach((function(e){return t[e]()}))}))},t.prototype.getBean=function(t){return this.lookupBeanInstance("getBean",t,!0)},t.prototype.destroy=function(){this.destroyed||(this.logger.log(">> Shutting down ag-Application Context"),o.Utils.iterateObject(this.beans,(function(t,e){var n=e.beanInstance;n.__agBeanMetaData&&n.__agBeanMetaData.preDestroyMethods&&n.__agBeanMetaData.preDestroyMethods.forEach((function(t){return n[t]()}))})),this.destroyed=!0,this.logger.log(">> ag-Application Context shut down - component is dead"))},t}();function a(t,e,n,o,i){if(null!==t)if("number"!=typeof i){var r=s(n);r.agClassAttributes||(r.agClassAttributes=[]),r.agClassAttributes.push({attributeName:o,beanName:t,optional:e})}else console.error("ag-Grid: Autowired should be on an attribute");else console.error("ag-Grid: Autowired name should not be null")}function s(t){var e=t.__agBeanMetaData;return e||(e={},t.__agBeanMetaData=e),e}e.Context=r,e.PostConstruct=function(t,e,n){var o=s(t);o.postConstructMethods||(o.postConstructMethods=[]),o.postConstructMethods.push(e)},e.PreDestroy=function(t,e,n){var o=s(t);o.preDestroyMethods||(o.preDestroyMethods=[]),o.preDestroyMethods.push(e)},e.Bean=function(t){return function(e){s(e.prototype).beanName=t}},e.Autowired=function(t){return a.bind(this,t,!1)},e.Optional=function(t){return a.bind(this,t,!0)},e.Qualifier=function(t){return function(e,n,o){var i,r;"number"==typeof o&&(n?(i=s(e),r=n):(i=s(e.prototype),r="agConstructor"),i.autowireMethods||(i.autowireMethods={}),i.autowireMethods[r]||(i.autowireMethods[r]={}),i.autowireMethods[r][o]=t)}}},function(t,e){
/**
	 * ag-grid - Advanced Data Grid / Data Table supporting Javascript / React / AngularJS / Web Components
	 * @version v4.2.6
	 * @link http://www.ag-grid.com/
	 * @license MIT
	 */
var n=/((\/\/.*$)|(\/\*[\s\S]*?\*\/))/gm,o=/([^\s,]+)/g,i=function(){function t(){}return t.iterateObject=function(t,e){if(!this.missing(t))for(var n=Object.keys(t),o=0;o<n.length;o++){var i=n[o];e(i,t[i])}},t.cloneObject=function(t){for(var e={},n=Object.keys(t),o=0;o<n.length;o++){var i=n[o],r=t[i];e[i]=r}return e},t.map=function(t,e){for(var n=[],o=0;o<t.length;o++){var i=e(t[o]);n.push(i)}return n},t.mapObject=function(e,n){var o=[];return t.iterateObject(e,(function(t,e){o.push(n(e))})),o},t.forEach=function(t,e){if(t)for(var n=0;n<t.length;n++)e(t[n],n)},t.filter=function(t,e){var n=[];return t.forEach((function(t){e(t)&&n.push(t)})),n},t.assign=function(t,e){this.exists(e)&&this.iterateObject(e,(function(e,n){t[e]=n}))},t.getFunctionParameters=function(t){var e=t.toString().replace(n,""),i=e.slice(e.indexOf("(")+1,e.indexOf(")")).match(o);return null===i?[]:i},t.find=function(t,e,n){if(null==t)return null;for(var o,i=0;i<t.length;i++){var r=t[i];if("string"==typeof e){if(r[e]===n){o=r;break}}else if(e(r)){o=r;break}}return o},t.toStrings=function(t){return this.map(t,(function(t){return null!=t&&t.toString?t.toString():null}))},t.iterateArray=function(t,e){for(var n=0;n<t.length;n++)e(t[n],n)},t.isNode=function(t){return"function"==typeof Node?t instanceof Node:t&&"object"===s(t)&&"number"==typeof t.nodeType&&"string"==typeof t.nodeName},t.isElement=function(t){return"function"==typeof HTMLElement?t instanceof HTMLElement:t&&"object"===s(t)&&null!==t&&1===t.nodeType&&"string"==typeof t.nodeName},t.isNodeOrElement=function(t){return this.isNode(t)||this.isElement(t)},t.addChangeListener=function(t,e){t.addEventListener("changed",e),t.addEventListener("paste",e),t.addEventListener("input",e),t.addEventListener("keydown",e),t.addEventListener("keyup",e)},t.makeNull=function(t){return null==t||""===t?null:t},t.missing=function(t){return!this.exists(t)},t.missingOrEmpty=function(t){return this.missing(t)||0===t.length},t.exists=function(t){return null!=t&&""!==t},t.existsAndNotEmpty=function(t){return this.exists(t)&&t.length>0},t.removeAllChildren=function(t){if(t)for(;t.hasChildNodes();)t.removeChild(t.lastChild)},t.removeElement=function(t,e){this.removeFromParent(t.querySelector(e))},t.removeFromParent=function(t){t&&t.parentNode&&t.parentNode.removeChild(t)},t.isVisible=function(t){return null!==t.offsetParent},t.loadTemplate=function(t){var e=document.createElement("div");return e.innerHTML=t,e.firstChild},t.addOrRemoveCssClass=function(t,e,n){n?this.addCssClass(t,e):this.removeCssClass(t,e)},t.callIfPresent=function(t){t&&t()},t.addCssClass=function(t,e){var n=this;if(e&&0!==e.length)if(e.indexOf(" ")>=0)e.split(" ").forEach((function(e){return n.addCssClass(t,e)}));else if(t.classList)t.classList.add(e);else if(t.className&&t.className.length>0){var o=t.className.split(" ");o.indexOf(e)<0&&(o.push(e),t.className=o.join(" "))}else t.className=e},t.containsClass=function(t,e){if(t.classList)return t.classList.contains(e);if(t.className){var n=t.className===e,o=t.className.indexOf(" "+e+" ")>=0,i=0===t.className.indexOf(e+" "),r=t.className.lastIndexOf(" "+e)===t.className.length-e.length-1;return n||o||i||r}return!1},t.getElementAttribute=function(t,e){return t.attributes&&t.attributes[e]?t.attributes[e].value:null},t.offsetHeight=function(t){return t&&t.clientHeight?t.clientHeight:0},t.offsetWidth=function(t){return t&&t.clientWidth?t.clientWidth:0},t.removeCssClass=function(t,e){if(t.className&&t.className.length>0){var n=t.className.split(" "),o=n.indexOf(e);o>=0&&(n.splice(o,1),t.className=n.join(" "))}},t.removeFromArray=function(t,e){t.indexOf(e)>=0&&t.splice(t.indexOf(e),1)},t.insertIntoArray=function(t,e,n){t.splice(n,0,e)},t.moveInArray=function(t,e,n){var o=this;e.forEach((function(e){o.removeFromArray(t,e)})),e.slice().reverse().forEach((function(e){o.insertIntoArray(t,e,n)}))},t.defaultComparator=function(t,e){var n=null==t,o=null==e;return n&&o?0:n?-1:o?1:t<e?-1:t>e?1:0},t.formatWidth=function(t){return"number"==typeof t?t+"px":t},t.formatNumberTwoDecimalPlacesAndCommas=function(t){return"number"==typeof t?(Math.round(100*t)/100).toString().replace(/(\d)(?=(\d{3})+(?!\d))/g,"$1,"):""},t.createIcon=function(t,e,n,o){var i=document.createElement("span");return i.appendChild(this.createIconNoSpan(t,e,n,o)),i},t.createIconNoSpan=function(t,e,n,o){var i;if(n&&n.getColDef().icons&&(i=n.getColDef().icons[t]),!i&&e.getIcons()&&(i=e.getIcons()[t]),i){var r;if("function"==typeof i)r=i();else{if("string"!=typeof i)throw"icon from grid options needs to be a string or a function";r=i}if("string"==typeof r)return this.loadTemplate(r);if(this.isNodeOrElement(r))return r;throw"iconRenderer should return back a string or a dom object"}return o?o():null},t.addStylesToElement=function(t,e){e&&Object.keys(e).forEach((function(n){t.style[n]=e[n]}))},t.getScrollbarWidth=function(){var t=document.createElement("div");t.style.visibility="hidden",t.style.width="100px",t.style.msOverflowStyle="scrollbar",document.body.appendChild(t);var e=t.offsetWidth;t.style.overflow="scroll";var n=document.createElement("div");n.style.width="100%",t.appendChild(n);var o=n.offsetWidth;return t.parentNode.removeChild(t),e-o},t.isKeyPressed=function(t,e){return(t.which||t.keyCode)===e},t.setVisible=function(t,e,n){e?this.exists(n)?t.style.display=n:t.style.display="inline":t.style.display="none"},t.isBrowserIE=function(){return void 0===this.isIE&&(this.isIE=!!document.documentMode),this.isIE},t.isBrowserSafari=function(){return void 0===this.isSafari&&(this.isSafari=Object.prototype.toString.call(window.HTMLElement).indexOf("Constructor")>0),this.isSafari},t.getBodyWidth=function(){return document.body?document.body.clientWidth:window.innerHeight?window.innerWidth:document.documentElement&&document.documentElement.clientWidth?document.documentElement.clientWidth:-1},t.getBodyHeight=function(){return document.body?document.body.clientHeight:window.innerHeight?window.innerHeight:document.documentElement&&document.documentElement.clientHeight?document.documentElement.clientHeight:-1},t.setCheckboxState=function(t,e){"boolean"==typeof e?(t.checked=e,t.indeterminate=!1):t.indeterminate=!0},t.traverseNodesWithKey=function(t,e){var n=[];!function t(o){o.forEach((function(o){if(o.group){n.push(o.key);var i=n.join("|");e(o,i),t(o.childrenAfterGroup),n.pop()}}))}(t)},t.normalizeWheel=function(t){var e=0,n=0,o=0,i=0;return"detail"in t&&(n=t.detail),"wheelDelta"in t&&(n=-t.wheelDelta/120),"wheelDeltaY"in t&&(n=-t.wheelDeltaY/120),"wheelDeltaX"in t&&(e=-t.wheelDeltaX/120),"axis"in t&&t.axis===t.HORIZONTAL_AXIS&&(e=n,n=0),o=10*e,i=10*n,"deltaY"in t&&(i=t.deltaY),"deltaX"in t&&(o=t.deltaX),(o||i)&&t.deltaMode&&(1==t.deltaMode?(o*=40,i*=40):(o*=800,i*=800)),o&&!e&&(e=o<1?-1:1),i&&!n&&(n=i<1?-1:1),{spinX:e,spinY:n,pixelX:o,pixelY:i}},t}();e.Utils=i},function(t,e){
/**
	 * ag-grid - Advanced Data Grid / Data Table supporting Javascript / React / AngularJS / Web Components
	 * @version v4.2.6
	 * @link http://www.ag-grid.com/
	 * @license MIT
	 */
var n=function(){function t(){}return t.STEP_EVERYTHING=0,t.STEP_FILTER=1,t.STEP_SORT=2,t.STEP_MAP=3,t.STEP_AGGREGATE=4,t.STEP_PIVOT=5,t.ROW_BUFFER_SIZE=5,t.KEY_BACKSPACE=8,t.KEY_TAB=9,t.KEY_ENTER=13,t.KEY_SHIFT=16,t.KEY_ESCAPE=27,t.KEY_SPACE=32,t.KEY_LEFT=37,t.KEY_UP=38,t.KEY_RIGHT=39,t.KEY_DOWN=40,t.KEY_DELETE=46,t.KEY_A=65,t.KEY_C=67,t.KEY_V=86,t.KEY_D=68,t.KEY_F2=113,t.ROW_MODEL_TYPE_PAGINATION="pagination",t.ROW_MODEL_TYPE_VIRTUAL="virtual",t.ROW_MODEL_TYPE_VIEWPORT="viewport",t.ROW_MODEL_TYPE_NORMAL="normal",t.ALWAYS="always",t.ONLY_WHEN_GROUPING="onlyWhenGrouping",t.FLOATING_TOP="top",t.FLOATING_BOTTOM="bottom",t}();e.Constants=n},function(t,e,n){
/**
	 * ag-grid - Advanced Data Grid / Data Table supporting Javascript / React / AngularJS / Web Components
	 * @version v4.2.6
	 * @link http://www.ag-grid.com/
	 * @license MIT
	 */
var o=n(10),i=n(7),r=function(){function t(){}return t.getEventCallbacks=function(){return t.EVENT_CALLBACKS||(t.EVENT_CALLBACKS=[],t.EVENTS.forEach((function(e){t.EVENT_CALLBACKS.push(t.getCallbackForEvent(e))}))),t.EVENT_CALLBACKS},t.copyAttributesToGridOptions=function(e,n){a(n),"object"!==s(e)&&(e={});var o=e;return t.ARRAY_PROPERTIES.concat(t.STRING_PROPERTIES).concat(t.OBJECT_PROPERTIES).concat(t.FUNCTION_PROPERTIES).forEach((function(t){void 0!==n[t]&&(o[t]=n[t])})),t.BOOLEAN_PROPERTIES.forEach((function(e){void 0!==n[e]&&(o[e]=t.toBoolean(n[e]))})),t.NUMBER_PROPERTIES.forEach((function(e){void 0!==n[e]&&(o[e]=t.toNumber(n[e]))})),t.getEventCallbacks().forEach((function(t){void 0!==n[t]&&(o[t]=n[t])})),e},t.getCallbackForEvent=function(t){return!t||t.length<2?t:"on"+t[0].toUpperCase()+t.substr(1)},t.processOnChange=function(e,n,o){if(e){a(e);var i=n;t.ARRAY_PROPERTIES.concat(t.OBJECT_PROPERTIES).concat(t.STRING_PROPERTIES).forEach((function(t){e[t]&&(i[t]=e[t].currentValue)})),t.BOOLEAN_PROPERTIES.forEach((function(n){e[n]&&(i[n]=t.toBoolean(e[n].currentValue))})),t.NUMBER_PROPERTIES.forEach((function(n){e[n]&&(i[n]=t.toNumber(e[n].currentValue))})),t.getEventCallbacks().forEach((function(t){e[t]&&(i[t]=e[t].currentValue)})),e.showToolPanel&&o.showToolPanel(e.showToolPanel.currentValue),e.quickFilterText&&o.setQuickFilter(e.quickFilterText.currentValue),e.rowData&&o.setRowData(e.rowData.currentValue),e.floatingTopRowData&&o.setFloatingTopRowData(e.floatingTopRowData.currentValue),e.floatingBottomRowData&&o.setFloatingBottomRowData(e.floatingBottomRowData.currentValue),e.columnDefs&&o.setColumnDefs(e.columnDefs.currentValue),e.datasource&&o.setDatasource(e.datasource.currentValue),e.headerHeight&&o.setHeaderHeight(e.headerHeight.currentValue)}},t.toBoolean=function(t){return"boolean"==typeof t?t:"string"==typeof t&&("TRUE"===t.toUpperCase()||""==t)},t.toNumber=function(t){return"number"==typeof t?t:"string"==typeof t?Number(t):void 0},t.EVENTS=[],t.STRING_PROPERTIES=["sortingOrder","rowClass","rowSelection","overlayLoadingTemplate","overlayNoRowsTemplate","headerCellTemplate","quickFilterText","rowModelType"],t.OBJECT_PROPERTIES=["rowStyle","context","groupColumnDef","localeText","icons","datasource","viewportDatasource","groupRowRendererParams"],t.ARRAY_PROPERTIES=["slaveGrids","rowData","floatingTopRowData","floatingBottomRowData","columnDefs"],t.NUMBER_PROPERTIES=["rowHeight","rowBuffer","colWidth","headerHeight","groupDefaultExpanded","minColWidth","maxColWidth","viewportRowModelPageSize","viewportRowModelBufferSize"],t.BOOLEAN_PROPERTIES=["toolPanelSuppressGroups","toolPanelSuppressValues","suppressRowClickSelection","suppressCellSelection","suppressHorizontalScroll","debug","enableColResize","enableCellExpressions","enableSorting","enableServerSideSorting","enableFilter","enableServerSideFilter","angularCompileRows","angularCompileFilters","angularCompileHeaders","groupSuppressAutoColumn","groupSelectsChildren","groupIncludeFooter","groupUseEntireRow","groupSuppressRow","groupSuppressBlankHeader","forPrint","suppressMenuHide","rowDeselection","unSortIcon","suppressMultiSort","suppressScrollLag","singleClickEdit","suppressLoadingOverlay","suppressNoRowsOverlay","suppressAutoSize","suppressParentsInRowNodes","showToolPanel","suppressColumnMoveAnimation","suppressMovableColumns","suppressFieldDotNotation","enableRangeSelection","suppressEnterprise","rowGroupPanelShow","suppressContextMenu","suppressMenuFilterPanel","suppressMenuMainPanel","suppressMenuColumnPanel","enableStatusBar","rememberGroupStateWhenNewData","enableCellChangeFlash","suppressDragLeaveHidesColumns","suppressMiddleClickScrolls","suppressPreventDefaultOnMouseWheel"],t.FUNCTION_PROPERTIES=["headerCellRenderer","localeTextFunc","groupRowInnerRenderer","groupRowRenderer","isScrollLag","isExternalFilterPresent","getRowHeight","doesExternalFilterPass","getRowClass","getRowStyle","getHeaderCellTemplate","traverseNode","getContextMenuItems","getMainMenuItems","processRowPostCreate","processCellForClipboard","getNodeChildDetails","groupRowAggNodes"],t.ALL_PROPERTIES=t.ARRAY_PROPERTIES.concat(t.OBJECT_PROPERTIES).concat(t.STRING_PROPERTIES).concat(t.NUMBER_PROPERTIES).concat(t.FUNCTION_PROPERTIES).concat(t.BOOLEAN_PROPERTIES),t}();function a(t){(t.ready||t.onReady)&&console.warn("ag-grid: as of v3.3 ready event is now called gridReady, so the callback should be onGridReady"),(t.rowDeselected||t.onRowDeselected)&&console.warn("ag-grid: as of v3.4 rowDeselected no longer exists. Please check the docs.")}e.ComponentUtil=r,i.Utils.iterateObject(o.Events,(function(t,e){r.EVENTS.push(e)}))},function(t,e){
/**
	 * ag-grid - Advanced Data Grid / Data Table supporting Javascript / React / AngularJS / Web Components
	 * @version v4.2.6
	 * @link http://www.ag-grid.com/
	 * @license MIT
	 */
var n=function(){function t(){}return t.EVENT_COLUMN_EVERYTHING_CHANGED="columnEverythingChanged",t.EVENT_NEW_COLUMNS_LOADED="newColumnsLoaded",t.EVENT_COLUMN_ROW_GROUP_CHANGED="columnRowGroupChanged",t.EVENT_COLUMN_PIVOT_CHANGED="columnPivotChanged",t.EVENT_PIVOT_VALUE_CHANGED="pivotValueChanged",t.EVENT_COLUMN_VALUE_CHANGED="columnValueChanged",t.EVENT_COLUMN_MOVED="columnMoved",t.EVENT_COLUMN_VISIBLE="columnVisible",t.EVENT_COLUMN_PINNED="columnPinned",t.EVENT_COLUMN_GROUP_OPENED="columnGroupOpened",t.EVENT_COLUMN_RESIZED="columnResized",t.EVENT_ROW_GROUP_OPENED="rowGroupOpened",t.EVENT_ROW_DATA_CHANGED="rowDataChanged",t.EVENT_FLOATING_ROW_DATA_CHANGED="floatingRowDataChanged",t.EVENT_RANGE_SELECTION_CHANGED="rangeSelectionChanged",t.EVENT_FLASH_CELLS="clipboardPaste",t.EVENT_HEADER_HEIGHT_CHANGED="headerHeightChanged",t.EVENT_MODEL_UPDATED="modelUpdated",t.EVENT_CELL_CLICKED="cellClicked",t.EVENT_CELL_DOUBLE_CLICKED="cellDoubleClicked",t.EVENT_CELL_CONTEXT_MENU="cellContextMenu",t.EVENT_CELL_VALUE_CHANGED="cellValueChanged",t.EVENT_CELL_FOCUSED="cellFocused",t.EVENT_ROW_SELECTED="rowSelected",t.EVENT_SELECTION_CHANGED="selectionChanged",t.EVENT_BEFORE_FILTER_CHANGED="beforeFilterChanged",t.EVENT_FILTER_CHANGED="filterChanged",t.EVENT_AFTER_FILTER_CHANGED="afterFilterChanged",t.EVENT_FILTER_MODIFIED="filterModified",t.EVENT_BEFORE_SORT_CHANGED="beforeSortChanged",t.EVENT_SORT_CHANGED="sortChanged",t.EVENT_AFTER_SORT_CHANGED="afterSortChanged",t.EVENT_VIRTUAL_ROW_REMOVED="virtualRowRemoved",t.EVENT_ROW_CLICKED="rowClicked",t.EVENT_ROW_DOUBLE_CLICKED="rowDoubleClicked",t.EVENT_GRID_READY="gridReady",t.EVENT_GRID_SIZE_CHANGED="gridSizeChanged",t.EVENT_VIEWPORT_CHANGED="viewportChanged",t}();e.Events=n},function(t,e,n){
/**
	 * ag-grid - Advanced Data Grid / Data Table supporting Javascript / React / AngularJS / Web Components
	 * @version v4.2.6
	 * @link http://www.ag-grid.com/
	 * @license MIT
	 */
var o=this&&this.__decorate||function(t,e,n,o){var i,r=arguments.length,a=r<3?e:null===o?o=Object.getOwnPropertyDescriptor(e,n):o;if("object"===("undefined"==typeof Reflect?"undefined":s(Reflect))&&"function"==typeof Reflect.decorate)a=Reflect.decorate(t,e,n,o);else for(var l=t.length-1;l>=0;l--)(i=t[l])&&(a=(r<3?i(a):r>3?i(e,n,a):i(e,n))||a);return r>3&&a&&Object.defineProperty(e,n,a),a},i=this&&this.__metadata||function(t,e){if("object"===("undefined"==typeof Reflect?"undefined":s(Reflect))&&"function"==typeof Reflect.metadata)return Reflect.metadata(t,e)},r=n(12),a=n(23),l=n(68),u=n(43),c=n(13),d=n(28),p=n(3),h=n(24),f=n(29),g=n(25),m=n(4),v=n(26),y=n(8),b=n(6),_=n(40),C=n(42),w=n(41),E=n(35),x=n(7),S=n(55),A=n(48),O=function(){function t(){}return t.prototype.init=function(){this.rowModel.getType()===y.Constants.ROW_MODEL_TYPE_NORMAL&&(this.inMemoryRowModel=this.rowModel)},t.prototype.__getMasterSlaveService=function(){return this.masterSlaveService},t.prototype.getFirstRenderedRow=function(){return this.rowRenderer.getFirstVirtualRenderedRow()},t.prototype.getLastRenderedRow=function(){return this.rowRenderer.getLastVirtualRenderedRow()},t.prototype.getDataAsCsv=function(t){return this.csvCreator.getDataAsCsv(t)},t.prototype.exportDataAsCsv=function(t){this.csvCreator.exportDataAsCsv(t)},t.prototype.setDatasource=function(t){this.gridOptionsWrapper.isRowModelPagination()?this.paginationController.setDatasource(t):this.gridOptionsWrapper.isRowModelVirtual()?this.rowModel.setDatasource(t):console.warn("ag-Grid: you can only use a datasource when gridOptions.rowModelType is '"+y.Constants.ROW_MODEL_TYPE_VIRTUAL+"' or '"+y.Constants.ROW_MODEL_TYPE_PAGINATION+"'")},t.prototype.setViewportDatasource=function(t){this.gridOptionsWrapper.isRowModelViewport()?this.rowModel.setViewportDatasource(t):console.warn("ag-Grid: you can only use a datasource when gridOptions.rowModelType is '"+y.Constants.ROW_MODEL_TYPE_VIEWPORT+"'")},t.prototype.setRowData=function(t){x.Utils.missing(this.inMemoryRowModel)&&console.log("cannot call setRowData unless using normal row model"),this.inMemoryRowModel.setRowData(t,!0)},t.prototype.setFloatingTopRowData=function(t){this.floatingRowModel.setFloatingTopRowData(t)},t.prototype.setFloatingBottomRowData=function(t){this.floatingRowModel.setFloatingBottomRowData(t)},t.prototype.setColumnDefs=function(t){this.columnController.setColumnDefs(t)},t.prototype.refreshRows=function(t){this.rowRenderer.refreshRows(t)},t.prototype.refreshCells=function(t,e,n){void 0===n&&(n=!1),this.rowRenderer.refreshCells(t,e,n)},t.prototype.rowDataChanged=function(t){this.rowRenderer.rowDataChanged(t)},t.prototype.refreshView=function(){this.rowRenderer.refreshView()},t.prototype.softRefreshView=function(){this.rowRenderer.softRefreshView()},t.prototype.refreshGroupRows=function(){this.rowRenderer.refreshGroupRows()},t.prototype.refreshHeader=function(){this.headerRenderer.refreshHeader()},t.prototype.isAnyFilterPresent=function(){return this.filterManager.isAnyFilterPresent()},t.prototype.isAdvancedFilterPresent=function(){return this.filterManager.isAdvancedFilterPresent()},t.prototype.isQuickFilterPresent=function(){return this.filterManager.isQuickFilterPresent()},t.prototype.getModel=function(){return this.rowModel},t.prototype.onGroupExpandedOrCollapsed=function(t){x.Utils.missing(this.inMemoryRowModel)&&console.log("cannot call onGroupExpandedOrCollapsed unless using normal row model"),this.inMemoryRowModel.refreshModel(y.Constants.STEP_MAP,t)},t.prototype.refreshInMemoryRowModel=function(){x.Utils.missing(this.inMemoryRowModel)&&console.log("cannot call refreshInMemoryRowModel unless using normal row model"),this.inMemoryRowModel.refreshModel(y.Constants.STEP_EVERYTHING)},t.prototype.expandAll=function(){x.Utils.missing(this.inMemoryRowModel)&&console.log("cannot call expandAll unless using normal row model"),this.inMemoryRowModel.expandOrCollapseAll(!0)},t.prototype.collapseAll=function(){x.Utils.missing(this.inMemoryRowModel)&&console.log("cannot call collapseAll unless using normal row model"),this.inMemoryRowModel.expandOrCollapseAll(!1)},t.prototype.addVirtualRowListener=function(t,e,n){"string"!=typeof t&&console.log("ag-Grid: addVirtualRowListener is deprecated, please use addRenderedRowListener."),this.addRenderedRowListener(t,e,n)},t.prototype.addRenderedRowListener=function(t,e,n){"virtualRowRemoved"===t&&(console.log("ag-Grid: event virtualRowRemoved is deprecated, now called renderedRowRemoved"),t=""),"virtualRowSelected"===t&&console.log("ag-Grid: event virtualRowSelected is deprecated, to register for individual row selection events, add a listener directly to the row node."),this.rowRenderer.addRenderedRowListener(t,e,n)},t.prototype.setQuickFilter=function(t){this.filterManager.setQuickFilter(t)},t.prototype.selectIndex=function(t,e,n){console.log("ag-Grid: do not use api for selection, call node.setSelected(value) instead"),n&&console.log("ag-Grid: suppressEvents is no longer supported, stop listening for the event if you no longer want it"),this.selectionController.selectIndex(t,e)},t.prototype.deselectIndex=function(t,e){void 0===e&&(e=!1),console.log("ag-Grid: do not use api for selection, call node.setSelected(value) instead"),e&&console.log("ag-Grid: suppressEvents is no longer supported, stop listening for the event if you no longer want it"),this.selectionController.deselectIndex(t)},t.prototype.selectNode=function(t,e,n){void 0===e&&(e=!1),void 0===n&&(n=!1),console.log("ag-Grid: API for selection is deprecated, call node.setSelected(value) instead"),n&&console.log("ag-Grid: suppressEvents is no longer supported, stop listening for the event if you no longer want it"),t.setSelectedParams({newValue:!0,clearSelection:!e})},t.prototype.deselectNode=function(t,e){void 0===e&&(e=!1),console.log("ag-Grid: API for selection is deprecated, call node.setSelected(value) instead"),e&&console.log("ag-Grid: suppressEvents is no longer supported, stop listening for the event if you no longer want it"),t.setSelectedParams({newValue:!1})},t.prototype.selectAll=function(){this.selectionController.selectAllRowNodes()},t.prototype.deselectAll=function(){this.selectionController.deselectAllRowNodes()},t.prototype.recomputeAggregates=function(){x.Utils.missing(this.inMemoryRowModel)&&console.log("cannot call recomputeAggregates unless using normal row model"),this.inMemoryRowModel.refreshModel(y.Constants.STEP_AGGREGATE)},t.prototype.sizeColumnsToFit=function(){this.gridOptionsWrapper.isForPrint()?console.warn("ag-grid: sizeColumnsToFit does not work when forPrint=true"):this.gridPanel.sizeColumnsToFit()},t.prototype.showLoadingOverlay=function(){this.gridPanel.showLoadingOverlay()},t.prototype.showNoRowsOverlay=function(){this.gridPanel.showNoRowsOverlay()},t.prototype.hideOverlay=function(){this.gridPanel.hideOverlay()},t.prototype.isNodeSelected=function(t){return console.log("ag-Grid: no need to call api.isNodeSelected(), just call node.isSelected() instead"),t.isSelected()},t.prototype.getSelectedNodesById=function(){return console.error("ag-Grid: since version 3.4, getSelectedNodesById no longer exists, use getSelectedNodes() instead"),null},t.prototype.getSelectedNodes=function(){return this.selectionController.getSelectedNodes()},t.prototype.getSelectedRows=function(){return this.selectionController.getSelectedRows()},t.prototype.getBestCostNodeSelection=function(){return this.selectionController.getBestCostNodeSelection()},t.prototype.getRenderedNodes=function(){return this.rowRenderer.getRenderedNodes()},t.prototype.ensureColIndexVisible=function(t){console.warn("ag-Grid: ensureColIndexVisible(index) no longer supported, use ensureColumnVisible(colKey) instead.")},t.prototype.ensureColumnVisible=function(t){this.gridPanel.ensureColumnVisible(t)},t.prototype.ensureIndexVisible=function(t){this.gridPanel.ensureIndexVisible(t)},t.prototype.ensureNodeVisible=function(t){this.gridCore.ensureNodeVisible(t)},t.prototype.forEachLeafNode=function(t){x.Utils.missing(this.inMemoryRowModel)&&console.log("cannot call forEachNodeAfterFilter unless using normal row model"),this.inMemoryRowModel.forEachLeafNode(t)},t.prototype.forEachNode=function(t){this.rowModel.forEachNode(t)},t.prototype.forEachNodeAfterFilter=function(t){x.Utils.missing(this.inMemoryRowModel)&&console.log("cannot call forEachNodeAfterFilter unless using normal row model"),this.inMemoryRowModel.forEachNodeAfterFilter(t)},t.prototype.forEachNodeAfterFilterAndSort=function(t){x.Utils.missing(this.inMemoryRowModel)&&console.log("cannot call forEachNodeAfterFilterAndSort unless using normal row model"),this.inMemoryRowModel.forEachNodeAfterFilterAndSort(t)},t.prototype.getFilterApiForColDef=function(t){return console.warn("ag-grid API method getFilterApiForColDef deprecated, use getFilterApi instead"),this.getFilterApi(t)},t.prototype.getFilterApi=function(t){var e=this.columnController.getOriginalColumn(t);if(e)return this.filterManager.getFilterApi(e)},t.prototype.destroyFilter=function(t){var e=this.columnController.getOriginalColumn(t);if(e)return this.filterManager.destroyFilter(e)},t.prototype.getColumnDef=function(t){var e=this.columnController.getOriginalColumn(t);return e?e.getColDef():null},t.prototype.onFilterChanged=function(){this.filterManager.onFilterChanged()},t.prototype.setSortModel=function(t){this.sortController.setSortModel(t)},t.prototype.getSortModel=function(){return this.sortController.getSortModel()},t.prototype.setFilterModel=function(t){this.filterManager.setFilterModel(t)},t.prototype.getFilterModel=function(){return this.filterManager.getFilterModel()},t.prototype.getFocusedCell=function(){return this.focusedCellController.getFocusedCell()},t.prototype.setFocusedCell=function(t,e,n){this.focusedCellController.setFocusedCell(t,e,n,!0)},t.prototype.setHeaderHeight=function(t){this.gridOptionsWrapper.setHeaderHeight(t)},t.prototype.showToolPanel=function(t){this.gridCore.showToolPanel(t)},t.prototype.isToolPanelShowing=function(){return this.gridCore.isToolPanelShowing()},t.prototype.doLayout=function(){this.gridCore.doLayout()},t.prototype.getValue=function(t,e){var n=this.columnController.getOriginalColumn(t);return this.valueService.getValue(n,e)},t.prototype.addEventListener=function(t,e){this.eventService.addEventListener(t,e)},t.prototype.addGlobalListener=function(t){this.eventService.addGlobalListener(t)},t.prototype.removeEventListener=function(t,e){this.eventService.removeEventListener(t,e)},t.prototype.removeGlobalListener=function(t){this.eventService.removeGlobalListener(t)},t.prototype.dispatchEvent=function(t,e){this.eventService.dispatchEvent(t,e)},t.prototype.destroy=function(){this.context.destroy()},t.prototype.resetQuickFilter=function(){this.rowModel.forEachNode((function(t){return t.quickFilterAggregateText=null}))},t.prototype.getRangeSelections=function(){return this.rangeController?this.rangeController.getCellRanges():(console.warn("ag-Grid: cell range selection is only available in ag-Grid Enterprise"),null)},t.prototype.addRangeSelection=function(t){this.rangeController||console.warn("ag-Grid: cell range selection is only available in ag-Grid Enterprise"),this.rangeController.addRange(t)},t.prototype.clearRangeSelection=function(){this.rangeController||console.warn("ag-Grid: cell range selection is only available in ag-Grid Enterprise"),this.rangeController.clearSelection()},t.prototype.copySelectedRowsToClipboard=function(){this.clipboardService||console.warn("ag-Grid: clipboard is only available in ag-Grid Enterprise"),this.clipboardService.copySelectedRowsToClipboard()},t.prototype.copySelectedRangeToClipboard=function(){this.clipboardService||console.warn("ag-Grid: clipboard is only available in ag-Grid Enterprise"),this.clipboardService.copySelectedRangeToClipboard()},t.prototype.copySelectedRangeDown=function(){this.clipboardService||console.warn("ag-Grid: clipboard is only available in ag-Grid Enterprise"),this.clipboardService.copyRangeDown()},t.prototype.showColumnMenuAfterButtonClick=function(t,e){var n=this.columnController.getOriginalColumn(t);this.menuFactory.showMenuAfterButtonClick(n,e)},t.prototype.showColumnMenuAfterMouseClick=function(t,e){var n=this.columnController.getOriginalColumn(t);this.menuFactory.showMenuAfterMouseEvent(n,e)},t.prototype.stopEditing=function(t){void 0===t&&(t=!1),this.rowRenderer.stopEditing(t)},o([b.Autowired("csvCreator"),i("design:type",r.CsvCreator)],t.prototype,"csvCreator",void 0),o([b.Autowired("gridCore"),i("design:type",_.GridCore)],t.prototype,"gridCore",void 0),o([b.Autowired("rowRenderer"),i("design:type",a.RowRenderer)],t.prototype,"rowRenderer",void 0),o([b.Autowired("headerRenderer"),i("design:type",l.HeaderRenderer)],t.prototype,"headerRenderer",void 0),o([b.Autowired("filterManager"),i("design:type",u.FilterManager)],t.prototype,"filterManager",void 0),o([b.Autowired("columnController"),i("design:type",c.ColumnController)],t.prototype,"columnController",void 0),o([b.Autowired("selectionController"),i("design:type",d.SelectionController)],t.prototype,"selectionController",void 0),o([b.Autowired("gridOptionsWrapper"),i("design:type",p.GridOptionsWrapper)],t.prototype,"gridOptionsWrapper",void 0),o([b.Autowired("gridPanel"),i("design:type",h.GridPanel)],t.prototype,"gridPanel",void 0),o([b.Autowired("valueService"),i("design:type",f.ValueService)],t.prototype,"valueService",void 0),o([b.Autowired("masterSlaveService"),i("design:type",g.MasterSlaveService)],t.prototype,"masterSlaveService",void 0),o([b.Autowired("eventService"),i("design:type",m.EventService)],t.prototype,"eventService",void 0),o([b.Autowired("floatingRowModel"),i("design:type",v.FloatingRowModel)],t.prototype,"floatingRowModel",void 0),o([b.Autowired("context"),i("design:type",b.Context)],t.prototype,"context",void 0),o([b.Autowired("rowModel"),i("design:type",Object)],t.prototype,"rowModel",void 0),o([b.Autowired("sortController"),i("design:type",C.SortController)],t.prototype,"sortController",void 0),o([b.Autowired("paginationController"),i("design:type",w.PaginationController)],t.prototype,"paginationController",void 0),o([b.Autowired("focusedCellController"),i("design:type",E.FocusedCellController)],t.prototype,"focusedCellController",void 0),o([b.Optional("rangeController"),i("design:type",Object)],t.prototype,"rangeController",void 0),o([b.Optional("clipboardService"),i("design:type",Object)],t.prototype,"clipboardService",void 0),o([b.Autowired("menuFactory"),i("design:type",Object)],t.prototype,"menuFactory",void 0),o([b.Autowired("cellRendererFactory"),i("design:type",S.CellRendererFactory)],t.prototype,"cellRendererFactory",void 0),o([b.Autowired("cellEditorFactory"),i("design:type",A.CellEditorFactory)],t.prototype,"cellEditorFactory",void 0),o([b.PostConstruct,i("design:type",Function),i("design:paramtypes",[]),i("design:returntype",void 0)],t.prototype,"init",null),t=o([b.Bean("gridApi"),i("design:paramtypes",[])],t)}();e.GridApi=O},function(t,e,n){
/**
	 * ag-grid - Advanced Data Grid / Data Table supporting Javascript / React / AngularJS / Web Components
	 * @version v4.2.6
	 * @link http://www.ag-grid.com/
	 * @license MIT
	 */
var o=this&&this.__decorate||function(t,e,n,o){var i,r=arguments.length,a=r<3?e:null===o?o=Object.getOwnPropertyDescriptor(e,n):o;if("object"===("undefined"==typeof Reflect?"undefined":s(Reflect))&&"function"==typeof Reflect.decorate)a=Reflect.decorate(t,e,n,o);else for(var l=t.length-1;l>=0;l--)(i=t[l])&&(a=(r<3?i(a):r>3?i(e,n,a):i(e,n))||a);return r>3&&a&&Object.defineProperty(e,n,a),a},i=this&&this.__metadata||function(t,e){if("object"===("undefined"==typeof Reflect?"undefined":s(Reflect))&&"function"==typeof Reflect.metadata)return Reflect.metadata(t,e)},r=n(13),a=n(29),l=n(6),u=n(3),c=n(8),d=function(){function t(){}return t.prototype.exportDataAsCsv=function(t){var e=this.getDataAsCsv(t),n=t&&t.fileName&&0!==t.fileName.length?t.fileName:"export.csv",o=new Blob(["\ufeff",e],{type:"text/csv;charset=utf-8;"});if(window.navigator.msSaveOrOpenBlob)window.navigator.msSaveOrOpenBlob(o,n);else{var i=document.createElement("a");i.href=window.URL.createObjectURL(o),i.download=n,document.body.appendChild(i),i.click(),document.body.removeChild(i)}},t.prototype.getDataAsCsv=function(t){var e=this;if(this.rowModel.getType()!==c.Constants.ROW_MODEL_TYPE_NORMAL)return console.log("ag-Grid: getDataAsCsv is only available for standard row model"),"";var n,o=this.rowModel,i="",r=t&&t.skipGroups,a=t&&t.skipHeader,s=t&&t.skipFooters,l=t&&t.customHeader,u=t&&t.customFooter,d=t&&t.allColumns,p=t&&t.onlySelected,h=t&&t.columnSeparator||",",f=t&&t.suppressQuotes,g=t&&t.processCellCallback;return(n=d?this.columnController.getAllOriginalColumns():this.columnController.getAllDisplayedColumns())&&0!==n.length?(l&&(i+=t.customHeader),a||(n.forEach((function(n,o){var r=e.getHeaderName(t.processHeaderCallback,n);null==r&&(r=""),0!=o&&(i+=h),i+=e.putInQuotes(r,f)})),i+="\r\n"),o.forEachNodeAfterFilterAndSort((function(t){r&&t.group||s&&t.footer||p&&!t.isSelected()||(n.forEach((function(n,o){var r;r=t.group&&0===o?e.createValueForGroupNode(t):e.valueService.getValue(n,t),null==(r=e.processCell(t,n,r,g))&&(r=""),0!=o&&(i+=h),i+=e.putInQuotes(r,f)})),i+="\r\n")})),u&&(i+=t.customFooter),i):""},t.prototype.getHeaderName=function(t,e){return t?t({column:e,api:this.gridOptionsWrapper.getApi(),columnApi:this.gridOptionsWrapper.getColumnApi(),context:this.gridOptionsWrapper.getContext()}):this.columnController.getDisplayNameForCol(e)},t.prototype.processCell=function(t,e,n,o){return o?o({column:e,node:t,value:n,api:this.gridOptionsWrapper.getApi(),columnApi:this.gridOptionsWrapper.getColumnApi(),context:this.gridOptionsWrapper.getContext()}):n},t.prototype.createValueForGroupNode=function(t){for(var e=[t.key];t.parent;)t=t.parent,e.push(t.key);return e.reverse().join(" -> ")},t.prototype.putInQuotes=function(t,e){return e?t:null==t?'""':("string"==typeof t?n=t:"function"==typeof t.toString?n=t.toString():(console.warn("unknown value type during csv conversion"),n=""),'"'+n.replace(/"/g,'""')+'"');var n},o([l.Autowired("rowModel"),i("design:type",Object)],t.prototype,"rowModel",void 0),o([l.Autowired("columnController"),i("design:type",r.ColumnController)],t.prototype,"columnController",void 0),o([l.Autowired("valueService"),i("design:type",a.ValueService)],t.prototype,"valueService",void 0),o([l.Autowired("gridOptionsWrapper"),i("design:type",u.GridOptionsWrapper)],t.prototype,"gridOptionsWrapper",void 0),t=o([l.Bean("csvCreator"),i("design:paramtypes",[])],t)}();e.CsvCreator=d},function(t,e,n){
/**
	 * ag-grid - Advanced Data Grid / Data Table supporting Javascript / React / AngularJS / Web Components
	 * @version v4.2.6
	 * @link http://www.ag-grid.com/
	 * @license MIT
	 */
var o=this&&this.__decorate||function(t,e,n,o){var i,r=arguments.length,a=r<3?e:null===o?o=Object.getOwnPropertyDescriptor(e,n):o;if("object"===("undefined"==typeof Reflect?"undefined":s(Reflect))&&"function"==typeof Reflect.decorate)a=Reflect.decorate(t,e,n,o);else for(var l=t.length-1;l>=0;l--)(i=t[l])&&(a=(r<3?i(a):r>3?i(e,n,a):i(e,n))||a);return r>3&&a&&Object.defineProperty(e,n,a),a},i=this&&this.__metadata||function(t,e){if("object"===("undefined"==typeof Reflect?"undefined":s(Reflect))&&"function"==typeof Reflect.metadata)return Reflect.metadata(t,e)},r=this&&this.__param||function(t,e){return function(n,o){e(n,o,t)}},a=n(7),l=n(14),u=n(15),c=n(3),d=n(18),p=n(19),h=n(21),f=n(22),g=n(4),m=n(16),v=n(5),y=n(10),b=n(64),_=n(17),C=n(65),w=n(66),E=n(6),x=n(24),S=n(67),A=function(){function t(){}return t.prototype.sizeColumnsToFit=function(t){this._columnController.sizeColumnsToFit(t)},t.prototype.setColumnGroupOpened=function(t,e,n){this._columnController.setColumnGroupOpened(t,e,n)},t.prototype.getColumnGroup=function(t,e){return this._columnController.getColumnGroup(t,e)},t.prototype.getDisplayNameForCol=function(t){return this._columnController.getDisplayNameForCol(t)},t.prototype.getColumn=function(t){return this._columnController.getOriginalColumn(t)},t.prototype.setColumnState=function(t){return this._columnController.setColumnState(t)},t.prototype.getColumnState=function(){return this._columnController.getColumnState()},t.prototype.resetColumnState=function(){this._columnController.resetColumnState()},t.prototype.isPinning=function(){return this._columnController.isPinningLeft()||this._columnController.isPinningRight()},t.prototype.isPinningLeft=function(){return this._columnController.isPinningLeft()},t.prototype.isPinningRight=function(){return this._columnController.isPinningRight()},t.prototype.getDisplayedColAfter=function(t){return this._columnController.getDisplayedColAfter(t)},t.prototype.getDisplayedColBefore=function(t){return this._columnController.getDisplayedColBefore(t)},t.prototype.setColumnVisible=function(t,e){this._columnController.setColumnVisible(t,e)},t.prototype.setColumnsVisible=function(t,e){this._columnController.setColumnsVisible(t,e)},t.prototype.setColumnPinned=function(t,e){this._columnController.setColumnPinned(t,e)},t.prototype.setColumnsPinned=function(t,e){this._columnController.setColumnsPinned(t,e)},t.prototype.getAllColumns=function(){return this._columnController.getAllOriginalColumns()},t.prototype.getDisplayedLeftColumns=function(){return this._columnController.getDisplayedLeftColumns()},t.prototype.getDisplayedCenterColumns=function(){return this._columnController.getDisplayedCenterColumns()},t.prototype.getDisplayedRightColumns=function(){return this._columnController.getDisplayedRightColumns()},t.prototype.getAllDisplayedColumns=function(){return this._columnController.getAllDisplayedColumns()},t.prototype.getRowGroupColumns=function(){return this._columnController.getRowGroupColumns()},t.prototype.getValueColumns=function(){return this._columnController.getValueColumns()},t.prototype.moveColumn=function(t,e){this._columnController.moveColumnByIndex(t,e)},t.prototype.moveRowGroupColumn=function(t,e){this._columnController.moveRowGroupColumn(t,e)},t.prototype.setColumnAggFunction=function(t,e){this._columnController.setColumnAggFunction(t,e)},t.prototype.setColumnWidth=function(t,e,n){void 0===n&&(n=!0),this._columnController.setColumnWidth(t,e,n)},t.prototype.removeValueColumn=function(t){this._columnController.removeValueColumn(t)},t.prototype.addValueColumn=function(t){this._columnController.addValueColumn(t)},t.prototype.setRowGroupColumns=function(t){this._columnController.setRowGroupColumns(t)},t.prototype.removeRowGroupColumn=function(t){this._columnController.removeRowGroupColumn(t)},t.prototype.removeRowGroupColumns=function(t){this._columnController.removeRowGroupColumns(t)},t.prototype.addRowGroupColumn=function(t){this._columnController.addRowGroupColumn(t)},t.prototype.addRowGroupColumns=function(t){this._columnController.addRowGroupColumns(t)},t.prototype.setPivotColumns=function(t){this._columnController.setPivotColumns(t)},t.prototype.removePivotColumn=function(t){this._columnController.removePivotColumn(t)},t.prototype.removePivotColumns=function(t){this._columnController.removePivotColumns(t)},t.prototype.addPivotColumn=function(t){this._columnController.addPivotColumn(t)},t.prototype.addPivotColumns=function(t){this._columnController.addPivotColumns(t)},t.prototype.getLeftDisplayedColumnGroups=function(){return this._columnController.getLeftDisplayedColumnGroups()},t.prototype.getCenterDisplayedColumnGroups=function(){return this._columnController.getCenterDisplayedColumnGroups()},t.prototype.getRightDisplayedColumnGroups=function(){return this._columnController.getRightDisplayedColumnGroups()},t.prototype.getAllDisplayedColumnGroups=function(){return this._columnController.getAllDisplayedColumnGroups()},t.prototype.autoSizeColumn=function(t){return this._columnController.autoSizeColumn(t)},t.prototype.autoSizeColumns=function(t){return this._columnController.autoSizeColumns(t)},t.prototype.columnGroupOpened=function(t,e){console.error("ag-Grid: columnGroupOpened no longer exists, use setColumnGroupOpened"),this.setColumnGroupOpened(t,e)},t.prototype.hideColumns=function(t,e){console.error("ag-Grid: hideColumns is deprecated, use setColumnsVisible"),this._columnController.setColumnsVisible(t,!e)},t.prototype.hideColumn=function(t,e){console.error("ag-Grid: hideColumn is deprecated, use setColumnVisible"),this._columnController.setColumnVisible(t,!e)},t.prototype.setState=function(t){return console.error("ag-Grid: setState is deprecated, use setColumnState"),this.setColumnState(t)},t.prototype.getState=function(){return console.error("ag-Grid: hideColumn is getState, use getColumnState"),this.getColumnState()},t.prototype.resetState=function(){console.error("ag-Grid: hideColumn is resetState, use resetColumnState"),this.resetColumnState()},o([E.Autowired("columnController"),i("design:type",O)],t.prototype,"_columnController",void 0),t=o([E.Bean("columnApi"),i("design:paramtypes",[])],t)}();e.ColumnApi=A;var O=function(){function t(){this.originalHeaderRowCount=0,this.gridHeaderRowCount=0,this.displayedLeftColumns=[],this.displayedRightColumns=[],this.displayedCenterColumns=[],this.ready=!1}return t.prototype.init=function(){this.gridOptionsWrapper.getColumnDefs()&&this.setColumnDefs(this.gridOptionsWrapper.getColumnDefs())},t.prototype.isReduce=function(){return this.pivotColumns.length>0},t.prototype.setBeans=function(t){this.logger=t.create("ColumnController")},t.prototype.setFirstRightAndLastLeftPinned=function(){var t=this.displayedLeftColumns?this.displayedLeftColumns[this.displayedLeftColumns.length-1]:null,e=this.displayedRightColumns?this.displayedRightColumns[0]:null;this.originalColumns.forEach((function(n){n.setLastLeftPinned(n===t),n.setFirstRightPinned(n===e)}))},t.prototype.autoSizeColumns=function(t){var e=this;this.actionOnColumns(t,(function(t){var n=e.autoWidthCalculator.getPreferredWidthForColumn(t);if(n>0){var o=e.normaliseColumnWidth(t,n);t.setActualWidth(o)}}),(function(){return new b.ColumnChangeEvent(y.Events.EVENT_COLUMN_RESIZED).withFinished(!0)}))},t.prototype.autoSizeColumn=function(t){this.autoSizeColumns([t])},t.prototype.autoSizeAllColumns=function(){var t=this.getAllDisplayedColumns();this.autoSizeColumns(t)},t.prototype.getColumnsFromTree=function(t){var e=[];return function t(n){for(var o=0;o<n.length;o++){var i=n[o];i instanceof u.Column?e.push(i):i instanceof _.OriginalColumnGroup&&t(i.getChildren())}}(t),e},t.prototype.getAllDisplayedColumnGroups=function(){return this.displayedLeftColumnTree&&this.displayedRightColumnTree&&this.displayedCentreColumnTree?this.displayedLeftColumnTree.concat(this.displayedCentreColumnTree).concat(this.displayedRightColumnTree):null},t.prototype.getOriginalColumnTree=function(){return this.originalBalancedTree},t.prototype.getHeaderRowCount=function(){return this.gridHeaderRowCount},t.prototype.getLeftDisplayedColumnGroups=function(){return this.displayedLeftColumnTree},t.prototype.getRightDisplayedColumnGroups=function(){return this.displayedRightColumnTree},t.prototype.getCenterDisplayedColumnGroups=function(){return this.displayedCentreColumnTree},t.prototype.getDisplayedColumnGroups=function(t){switch(t){case u.Column.PINNED_LEFT:return this.getLeftDisplayedColumnGroups();case u.Column.PINNED_RIGHT:return this.getRightDisplayedColumnGroups();default:return this.getCenterDisplayedColumnGroups()}},t.prototype.isColumnDisplayed=function(t){return this.getAllDisplayedColumns().indexOf(t)>=0},t.prototype.getAllDisplayedColumns=function(){return this.displayedLeftColumns.concat(this.displayedCenterColumns).concat(this.displayedRightColumns)},t.prototype.getPinnedLeftContainerWidth=function(){return this.getWithOfColsInList(this.displayedLeftColumns)},t.prototype.getPinnedRightContainerWidth=function(){return this.getWithOfColsInList(this.displayedRightColumns)},t.prototype.addRowGroupColumns=function(t){var e=this;t.forEach((function(t){var n=e.getOriginalColumn(t);n&&e.rowGroupColumns.push(n)})),this.updateModel();var n=new b.ColumnChangeEvent(y.Events.EVENT_COLUMN_ROW_GROUP_CHANGED);this.eventService.dispatchEvent(y.Events.EVENT_COLUMN_ROW_GROUP_CHANGED,n)},t.prototype.setRowGroupColumns=function(t){this.rowGroupColumns.length=0,this.addRowGroupColumns(t)},t.prototype.addRowGroupColumn=function(t){this.addRowGroupColumns([t])},t.prototype.removeRowGroupColumns=function(t){var e=this;t.forEach((function(t){var n=e.getOriginalColumn(t);n&&a.Utils.removeFromArray(e.rowGroupColumns,n)})),this.updateModel();var n=new b.ColumnChangeEvent(y.Events.EVENT_COLUMN_ROW_GROUP_CHANGED);this.eventService.dispatchEvent(y.Events.EVENT_COLUMN_ROW_GROUP_CHANGED,n)},t.prototype.removeRowGroupColumn=function(t){this.removeRowGroupColumns([t])},t.prototype.addPivotColumns=function(t){var e=this;t.forEach((function(t){var n=e.getOriginalColumn(t);n&&e.pivotColumns.push(n)})),this.updateModel();var n=new b.ColumnChangeEvent(y.Events.EVENT_COLUMN_PIVOT_CHANGED);this.eventService.dispatchEvent(y.Events.EVENT_COLUMN_PIVOT_CHANGED,n)},t.prototype.setPivotColumns=function(t){this.pivotColumns.length=0,this.addPivotColumns(t)},t.prototype.addPivotColumn=function(t){this.addPivotColumns([t])},t.prototype.removePivotColumns=function(t){var e=this;t.forEach((function(t){var n=e.getOriginalColumn(t);n&&a.Utils.removeFromArray(e.pivotColumns,n)})),this.updateModel();var n=new b.ColumnChangeEvent(y.Events.EVENT_COLUMN_PIVOT_CHANGED);this.eventService.dispatchEvent(y.Events.EVENT_COLUMN_PIVOT_CHANGED,n)},t.prototype.removePivotColumn=function(t){this.removePivotColumns([t])},t.prototype.addValueColumn=function(t){if(this.originalColumns.indexOf(t)<0)console.warn("not a valid column: "+t);else if(this.valueColumns.indexOf(t)>=0)console.warn("column is already a value column");else{t.getAggFunc()||t.setAggFunc(u.Column.AGG_SUM),this.valueColumns.push(t);var e=new b.ColumnChangeEvent(y.Events.EVENT_COLUMN_VALUE_CHANGED);this.eventService.dispatchEvent(y.Events.EVENT_COLUMN_VALUE_CHANGED,e)}},t.prototype.removeValueColumn=function(t){if(this.valueColumns.indexOf(t)<0)console.warn("column not a value");else{a.Utils.removeFromArray(this.valueColumns,t);var e=new b.ColumnChangeEvent(y.Events.EVENT_COLUMN_VALUE_CHANGED);this.eventService.dispatchEvent(y.Events.EVENT_COLUMN_VALUE_CHANGED,e)}},t.prototype.normaliseColumnWidth=function(t,e){return e<t.getMinWidth()&&(e=t.getMinWidth()),t.isGreaterThanMax(e)&&(e=t.getMaxWidth()),e},t.prototype.setColumnWidth=function(t,e,n){var o=this.getOriginalColumn(t);if(o){e=this.normaliseColumnWidth(o,e);var i=o.getActualWidth()!==e;if(i&&(o.setActualWidth(e),this.setLeftValues()),n||i){var r=new b.ColumnChangeEvent(y.Events.EVENT_COLUMN_RESIZED).withColumn(o).withFinished(n);this.eventService.dispatchEvent(y.Events.EVENT_COLUMN_RESIZED,r)}}},t.prototype.setColumnAggFunction=function(t,e){t.setAggFunc(e);var n=new b.ColumnChangeEvent(y.Events.EVENT_COLUMN_VALUE_CHANGED);this.eventService.dispatchEvent(y.Events.EVENT_COLUMN_VALUE_CHANGED,n)},t.prototype.moveRowGroupColumn=function(t,e){var n=this.rowGroupColumns[t];this.rowGroupColumns.splice(t,1),this.rowGroupColumns.splice(e,0,n);var o=new b.ColumnChangeEvent(y.Events.EVENT_COLUMN_ROW_GROUP_CHANGED);this.eventService.dispatchEvent(y.Events.EVENT_COLUMN_ROW_GROUP_CHANGED,o)},t.prototype.moveColumns=function(t,e){if(e>this.gridColumns.length-t.length)return console.warn("ag-Grid: tried to insert columns in invalid location, toIndex = "+e),void console.warn("ag-Grid: remember that you should not count the moving columns when calculating the new index");var n=this.getGridColumns(t);if(this.doesMovePassRules(n,e)){this.gridPanel.turnOnAnimationForABit(),a.Utils.moveInArray(this.gridColumns,n,e),this.updateModel();var o=new b.ColumnChangeEvent(y.Events.EVENT_COLUMN_MOVED).withToIndex(e).withColumns(n);1===n.length&&o.withColumn(n[0]),this.eventService.dispatchEvent(y.Events.EVENT_COLUMN_MOVED,o)}},t.prototype.doesMovePassRules=function(t,e){var n=this.gridColumns.slice();a.Utils.moveInArray(n,t,e);for(var o=0;o<n.length-1;o++){var i=n[o],r=n[o+1];if(r.isVisible()){var s=this.columnUtils.getOriginalPathForColumn(i,this.gridBalancedTree),l=this.columnUtils.getOriginalPathForColumn(r,this.gridBalancedTree);l&&s||console.log("next path is missing");for(var u=0;u<s.length;u++){var c=s[u],d=c!==l[u],p=c.getColGroupDef(),h=p&&p.marryChildren;if(d&&h)for(var f=o+1;f<n.length;f++){var g=n[f];if(this.columnUtils.getOriginalPathForColumn(g,this.gridBalancedTree)[u]===c)return!1}}}}return!0},t.prototype.moveColumn=function(t,e){this.moveColumns([t],e)},t.prototype.moveColumnByIndex=function(t,e){var n=this.originalColumns[t];this.moveColumn(n,e)},t.prototype.getBodyContainerWidth=function(){return this.getWithOfColsInList(this.displayedCenterColumns)},t.prototype.getValueColumns=function(){return this.valueColumns?this.valueColumns:[]},t.prototype.getPivotColumns=function(){return this.pivotColumns?this.pivotColumns:[]},t.prototype.getRowGroupColumns=function(){return this.rowGroupColumns?this.rowGroupColumns:[]},t.prototype.isColumnRowGrouped=function(t){return this.rowGroupColumns.indexOf(t)>=0},t.prototype.isColumnPivoted=function(t){return this.pivotColumns.indexOf(t)>=0},t.prototype.getDisplayedCenterColumns=function(){return this.displayedCenterColumns.slice(0)},t.prototype.getDisplayedLeftColumns=function(){return this.displayedLeftColumns.slice(0)},t.prototype.getDisplayedRightColumns=function(){return this.displayedRightColumns.slice(0)},t.prototype.getDisplayedColumns=function(t){switch(t){case u.Column.PINNED_LEFT:return this.getDisplayedLeftColumns();case u.Column.PINNED_RIGHT:return this.getDisplayedRightColumns();default:return this.getDisplayedCenterColumns()}},t.prototype.getAllOriginalColumns=function(){return this.originalColumns},t.prototype.getAllGridColumns=function(){return this.gridColumns},t.prototype.isEmpty=function(){return a.Utils.missingOrEmpty(this.originalColumns)},t.prototype.isRowGroupEmpty=function(){return a.Utils.missingOrEmpty(this.rowGroupColumns)},t.prototype.setColumnVisible=function(t,e){this.setColumnsVisible([t],e)},t.prototype.setColumnsVisible=function(t,e){this.gridPanel.turnOnAnimationForABit(),this.actionOnColumns(t,(function(t){t.setVisible(e)}),(function(){return new b.ColumnChangeEvent(y.Events.EVENT_COLUMN_VISIBLE).withVisible(e)}))},t.prototype.setColumnPinned=function(t,e){this.setColumnsPinned([t],e)},t.prototype.setColumnsPinned=function(t,e){var n;this.gridPanel.turnOnAnimationForABit(),n=!0===e||e===u.Column.PINNED_LEFT?u.Column.PINNED_LEFT:e===u.Column.PINNED_RIGHT?u.Column.PINNED_RIGHT:null,this.actionOnColumns(t,(function(t){t.setPinned(n)}),(function(){return new b.ColumnChangeEvent(y.Events.EVENT_COLUMN_PINNED).withPinned(n)}))},t.prototype.actionOnColumns=function(t,e,n){var o=this;if(t&&0!==t.length){var i=[];if(t.forEach((function(t){var n=o.getGridColumn(t);n&&(e(n),i.push(n))})),0!==i.length){this.updateModel();var r=n();r.withColumns(i),1===i.length&&r.withColumn(i[0]),this.eventService.dispatchEvent(r.getType(),r)}}},t.prototype.getDisplayedColBefore=function(t){var e=this.getAllDisplayedColumns(),n=e.indexOf(t);return n>0?e[n-1]:null},t.prototype.getDisplayedColAfter=function(t){var e=this.getAllDisplayedColumns(),n=e.indexOf(t);return n<e.length-1?e[n+1]:null},t.prototype.isPinningLeft=function(){return this.displayedLeftColumns.length>0},t.prototype.isPinningRight=function(){return this.displayedRightColumns.length>0},t.prototype.getAllColumnsIncludingAuto=function(){var t=this.originalColumns.slice(0);return this.groupAutoColumnActive&&t.push(this.groupAutoColumn),t},t.prototype.getColumnState=function(){if(!this.gridColumns||this.gridColumns.length<0)return[];for(var t=[],e=0;e<this.gridColumns.length;e++){var n=this.gridColumns[e],o=this.rowGroupColumns.indexOf(n),i={colId:n.getColId(),hide:!n.isVisible(),aggFunc:n.getAggFunc()?n.getAggFunc():null,width:n.getActualWidth(),pinned:n.getPinned(),rowGroupIndex:o>=0?o:null};t.push(i)}return t},t.prototype.resetColumnState=function(){var t=this.getColumnsFromTree(this.originalBalancedTree),e=[];t&&t.forEach((function(t){e.push({colId:t.getColId(),aggFunc:t.getColDef().aggFunc,hide:t.getColDef().hide,pinned:t.getColDef().pinned,rowGroupIndex:t.getColDef().rowGroupIndex,width:t.getColDef().width})})),this.setColumnState(e)},t.prototype.setColumnState=function(t){var e=this,n=this.originalColumns;this.originalColumns=[],this.rowGroupColumns=[],this.valueColumns=[];var o=!0;t&&t.forEach((function(t){var i=a.Utils.find(n,"colId",t.colId);if(!i)return console.warn("ag-grid: column "+t.colId+" not found"),void(o=!1);i.setVisible(!t.hide),i.setPinned(t.pinned),t.width>=e.gridOptionsWrapper.getMinColWidth()&&i.setActualWidth(t.width),[u.Column.AGG_MIN,u.Column.AGG_MAX,u.Column.AGG_SUM,u.Column.AGG_FIRST,u.Column.AGG_LAST].indexOf(t.aggFunc)>=0?(i.setAggFunc(t.aggFunc),e.valueColumns.push(i)):i.setAggFunc(null),"number"==typeof t.rowGroupIndex&&t.rowGroupIndex>=0&&e.rowGroupColumns.push(i),e.originalColumns.push(i),n.splice(n.indexOf(i),1)})),n.forEach((function(t){t.setVisible(!1),t.setAggFunc(null),t.setPinned(null),e.originalColumns.push(t)})),this.rowGroupColumns.sort((function(e,n){for(var o=-1,i=-1,r=0;r<t.length;r++){var a=t[r];a.colId===e.getColId()&&(o=a.rowGroupIndex),a.colId===n.getColId()&&(i=a.rowGroupIndex)}return o-i})),this.setupGridColumns(),this.updateModel();var i=new b.ColumnChangeEvent(y.Events.EVENT_COLUMN_EVERYTHING_CHANGED);return this.eventService.dispatchEvent(y.Events.EVENT_COLUMN_EVERYTHING_CHANGED,i),o},t.prototype.getGridColumns=function(t){return this.getColumns(t,this.getGridColumn.bind(this))},t.prototype.getColumns=function(t,e){var n=[];return t&&t.forEach((function(t){var o=e(t);o&&n.push(o)})),n},t.prototype.getColumnWithValidation=function(t){var e=this.getOriginalColumn(t);return e||console.warn("ag-Grid: could not find column "+e),e},t.prototype.getOriginalColumn=function(t){return this.getColumn(t,this.originalColumns)},t.prototype.getGridColumn=function(t){return this.getColumn(t,this.gridColumns)},t.prototype.getColumn=function(t,e){if(!t)return null;for(var n=0;n<e.length;n++)if(o(e[n]))return e[n];if(this.groupAutoColumnActive&&o(this.groupAutoColumn))return this.groupAutoColumn;function o(e){var n=e===t,o=e.getColDef()===t,i=e.getColId()===t;return n||o||i}return null},t.prototype.getDisplayNameForCol=function(t){var e=t.colDef,n=e.headerValueGetter;if(!n)return e.displayName?(console.warn("ag-grid: Found displayName "+e.displayName+", please use headerName instead, displayName is deprecated."),e.displayName):e.headerName;var o={colDef:e,api:this.gridOptionsWrapper.getApi(),context:this.gridOptionsWrapper.getContext()};return"function"==typeof n?n(o):"string"==typeof n?this.expressionService.evaluate(n,o):void console.warn("ag-grid: headerValueGetter must be a function or a string")},t.prototype.getColumnGroup=function(t,e){if(!t)return null;if(t instanceof l.ColumnGroup)return t;var n=this.getAllDisplayedColumnGroups(),o="number"==typeof e,i=null;return this.columnUtils.deptFirstAllColumnTreeSearch(n,(function(n){if(n instanceof l.ColumnGroup){var r=n;(o?t===r.getGroupId()&&e===r.getInstanceId():t===r.getGroupId())&&(i=r)}})),i},t.prototype.getColumnDept=function(){var t=0;return function e(n,o){t<o&&(t=o),t>o||n.forEach((function(t){t instanceof l.ColumnGroup&&e(t.getChildren(),o+1)}))}(this.getAllDisplayedColumnGroups(),1),t},t.prototype.setColumnDefs=function(t){var e=this.balancedColumnTreeBuilder.createBalancedColumnGroups(t);this.originalBalancedTree=e.balancedTree,this.originalHeaderRowCount=e.treeDept+1,this.originalColumns=this.getColumnsFromTree(this.originalBalancedTree),this.extractRowGroupColumns(),this.extractPivotColumns(),this.createValueColumns(),this.setupGridColumns(),this.updateModel(),this.ready=!0;var n=new b.ColumnChangeEvent(y.Events.EVENT_COLUMN_EVERYTHING_CHANGED);this.eventService.dispatchEvent(y.Events.EVENT_COLUMN_EVERYTHING_CHANGED,n),this.eventService.dispatchEvent(y.Events.EVENT_NEW_COLUMNS_LOADED)},t.prototype.isReady=function(){return this.ready},t.prototype.extractRowGroupColumns=function(){var t=this;this.rowGroupColumns=[],this.originalColumns.forEach((function(e){"number"==typeof e.getColDef().rowGroupIndex&&t.rowGroupColumns.push(e)})),this.rowGroupColumns.sort((function(t,e){return t.getColDef().rowGroupIndex-e.getColDef().rowGroupIndex}))},t.prototype.extractPivotColumns=function(){var t=this;this.pivotColumns=[],this.originalColumns.forEach((function(e){"number"==typeof e.getColDef().pivotIndex&&t.pivotColumns.push(e)})),this.pivotColumns.sort((function(t,e){return t.getColDef().pivotIndex-e.getColDef().pivotIndex}))},t.prototype.setColumnGroupOpened=function(t,e,n){var o=this.getColumnGroup(t,n);if(o){this.logger.log("columnGroupOpened("+o.getGroupId()+","+e+")"),o.setExpanded(e),this.gridPanel.turnOnAnimationForABit(),this.updateGroupsAndDisplayedColumns();var i=new b.ColumnChangeEvent(y.Events.EVENT_COLUMN_GROUP_OPENED).withColumnGroup(o);this.eventService.dispatchEvent(y.Events.EVENT_COLUMN_GROUP_OPENED,i)}},t.prototype.getColumnGroupState=function(){var t={};return this.columnUtils.deptFirstDisplayedColumnTreeSearch(this.getAllDisplayedColumnGroups(),(function(e){if(e instanceof l.ColumnGroup){var n=e,o=n.getGroupId();t.hasOwnProperty(o)||(t[o]=n.isExpanded())}})),t},t.prototype.setColumnGroupState=function(t){this.columnUtils.deptFirstDisplayedColumnTreeSearch(this.getAllDisplayedColumnGroups(),(function(e){if(e instanceof l.ColumnGroup){var n=e,o=n.getGroupId();!0===t[o]&&n.isExpandable()&&n.setExpanded(!0)}}))},t.prototype.updateModel=function(){var t=this.getColumnGroupState();this.createGroupAutoColumn();var e=a.Utils.filter(this.gridColumns,(function(t){return t.isVisible()}));this.groupAutoColumnActive&&e.unshift(this.groupAutoColumn),this.buildAllGroups(e),this.setColumnGroupState(t),this.updateGroupsAndDisplayedColumns(),this.setFirstRightAndLastLeftPinned()},t.prototype.onPivotValueChanged=function(){this.setupGridColumns(),this.updateModel();var t=new b.ColumnChangeEvent(y.Events.EVENT_PIVOT_VALUE_CHANGED);this.eventService.dispatchEvent(y.Events.EVENT_PIVOT_VALUE_CHANGED,t)},t.prototype.setupGridColumns=function(){if(this.pivotColumns.length>0){var t=this.pivotService.getPivotColumnGroupDefs(),e=this.balancedColumnTreeBuilder.createBalancedColumnGroups(t);this.gridBalancedTree=e.balancedTree,this.gridHeaderRowCount=e.treeDept+1,this.gridColumns=this.getColumnsFromTree(this.gridBalancedTree)}else this.gridBalancedTree=this.originalBalancedTree.slice(),this.gridHeaderRowCount=this.originalHeaderRowCount,this.gridColumns=this.originalColumns.slice()},t.prototype.updateGroupsAndDisplayedColumns=function(){this.updateGroups(),this.updateDisplayedColumnsFromGroups()},t.prototype.updateDisplayedColumnsFromGroups=function(){this.addToDisplayedColumns(this.displayedLeftColumnTree,this.displayedLeftColumns),this.addToDisplayedColumns(this.displayedRightColumnTree,this.displayedRightColumns),this.addToDisplayedColumns(this.displayedCentreColumnTree,this.displayedCenterColumns),this.setLeftValues()},t.prototype.setLeftValues=function(){var t=this.originalColumns.slice(0);[this.displayedLeftColumns,this.displayedRightColumns,this.displayedCenterColumns].forEach((function(e){var n=0;e.forEach((function(e){e.setLeft(n),n+=e.getActualWidth(),a.Utils.removeFromArray(t,e)}))})),t.forEach((function(t){t.setLeft(null)}))},t.prototype.addToDisplayedColumns=function(t,e){e.length=0,this.columnUtils.deptFirstDisplayedColumnTreeSearch(t,(function(t){t instanceof u.Column&&e.push(t)}))},t.prototype.sizeColumnsToFit=function(t){var e=this,n=this.getAllDisplayedColumns();if(!(t<=0||0===n.length)){for(var o=a.Utils.filter(n,(function(t){return!0===t.getColDef().suppressSizeToFit})),i=a.Utils.filter(n,(function(t){return!0!==t.getColDef().suppressSizeToFit})),r=i.slice(0),s=!1;!s;){s=!0;var l=t-g(o);if(l<=0)i.forEach((function(t){t.setMinimum()}));else for(var u=l/g(i),c=l,d=i.length-1;d>=0;d--){var p=i[d],h=Math.round(p.getActualWidth()*u);h<p.getMinWidth()?(p.setMinimum(),f(p),s=!1):p.isGreaterThanMax(h)?(p.setActualWidth(p.getMaxWidth()),f(p),s=!1):0===d?p.setActualWidth(c):(c-=h,p.setActualWidth(h))}}this.setLeftValues(),r.forEach((function(t){var n=new b.ColumnChangeEvent(y.Events.EVENT_COLUMN_RESIZED).withColumn(t);e.eventService.dispatchEvent(y.Events.EVENT_COLUMN_RESIZED,n)}))}function f(t){a.Utils.removeFromArray(i,t),o.push(t)}function g(t){for(var e=0,n=0;n<t.length;n++)e+=t[n].getActualWidth();return e}},t.prototype.buildAllGroups=function(t){var e=a.Utils.filter(t,(function(t){return"left"===t.getPinned()})),n=a.Utils.filter(t,(function(t){return"right"===t.getPinned()})),o=a.Utils.filter(t,(function(t){return"left"!==t.getPinned()&&"right"!==t.getPinned()})),i=new C.GroupInstanceIdCreator;this.displayedLeftColumnTree=this.displayedGroupCreator.createDisplayedGroups(e,this.gridBalancedTree,i),this.displayedRightColumnTree=this.displayedGroupCreator.createDisplayedGroups(n,this.gridBalancedTree,i),this.displayedCentreColumnTree=this.displayedGroupCreator.createDisplayedGroups(o,this.gridBalancedTree,i)},t.prototype.updateGroups=function(){var t=this.getAllDisplayedColumnGroups();this.columnUtils.deptFirstAllColumnTreeSearch(t,(function(t){t instanceof l.ColumnGroup&&t.calculateDisplayedColumns()}))},t.prototype.createGroupAutoColumn=function(){var t=this.rowGroupColumns.length>0&&!this.gridOptionsWrapper.isGroupSuppressAutoColumn()&&!this.gridOptionsWrapper.isGroupUseEntireRow()&&!this.gridOptionsWrapper.isGroupSuppressRow();if(this.groupAutoColumnActive=t,t&&!this.groupAutoColumn){var e=this.gridOptionsWrapper.getGroupColumnDef();e||(e={headerName:this.gridOptionsWrapper.getLocaleTextFunc()("group","Group"),comparator:w.defaultGroupComparator,valueGetter:function(t){return t.node.group?t.node.key:t.data&&t.colDef.field?t.data[t.colDef.field]:null},suppressAggregation:!0,suppressRowGroup:!0,cellRenderer:"group"}),e.suppressMovable=!0,this.groupAutoColumn=new u.Column(e,"ag-Grid-AutoColumn"),this.context.wireBean(this.groupAutoColumn)}},t.prototype.createValueColumns=function(){this.valueColumns=[];for(var t=0;t<this.originalColumns.length;t++){var e=this.originalColumns[t];e.getColDef().aggFunc&&(e.setAggFunc(e.getColDef().aggFunc),this.valueColumns.push(e))}},t.prototype.getWithOfColsInList=function(t){for(var e=0,n=0;n<t.length;n++)e+=t[n].getActualWidth();return e},o([E.Autowired("gridOptionsWrapper"),i("design:type",c.GridOptionsWrapper)],t.prototype,"gridOptionsWrapper",void 0),o([E.Autowired("expressionService"),i("design:type",d.ExpressionService)],t.prototype,"expressionService",void 0),o([E.Autowired("balancedColumnTreeBuilder"),i("design:type",p.BalancedColumnTreeBuilder)],t.prototype,"balancedColumnTreeBuilder",void 0),o([E.Autowired("displayedGroupCreator"),i("design:type",h.DisplayedGroupCreator)],t.prototype,"displayedGroupCreator",void 0),o([E.Autowired("autoWidthCalculator"),i("design:type",f.AutoWidthCalculator)],t.prototype,"autoWidthCalculator",void 0),o([E.Autowired("eventService"),i("design:type",g.EventService)],t.prototype,"eventService",void 0),o([E.Autowired("columnUtils"),i("design:type",m.ColumnUtils)],t.prototype,"columnUtils",void 0),o([E.Autowired("gridPanel"),i("design:type",x.GridPanel)],t.prototype,"gridPanel",void 0),o([E.Autowired("context"),i("design:type",E.Context)],t.prototype,"context",void 0),o([E.Autowired("pivotService"),i("design:type",S.PivotService)],t.prototype,"pivotService",void 0),o([E.PostConstruct,i("design:type",Function),i("design:paramtypes",[]),i("design:returntype",void 0)],t.prototype,"init",null),o([r(0,E.Qualifier("loggerFactory")),i("design:type",Function),i("design:paramtypes",[v.LoggerFactory]),i("design:returntype",void 0)],t.prototype,"setBeans",null),t=o([E.Bean("columnController"),i("design:paramtypes",[])],t)}();e.ColumnController=O},function(t,e,n){
/**
	 * ag-grid - Advanced Data Grid / Data Table supporting Javascript / React / AngularJS / Web Components
	 * @version v4.2.6
	 * @link http://www.ag-grid.com/
	 * @license MIT
	 */
var o=n(15),i=n(4),r=function(){function t(t,e,n){this.displayedChildren=[],this.moving=!1,this.eventService=new i.EventService,this.groupId=e,this.instanceId=n,this.originalColumnGroup=t}return t.prototype.getHeaderName=function(){return this.originalColumnGroup.getColGroupDef()?this.originalColumnGroup.getColGroupDef().headerName:null},t.prototype.addEventListener=function(t,e){this.eventService.addEventListener(t,e)},t.prototype.removeEventListener=function(t,e){this.eventService.removeEventListener(t,e)},t.prototype.setMoving=function(t){this.getDisplayedLeafColumns().forEach((function(e){return e.setMoving(t)}))},t.prototype.isMoving=function(){return this.moving},t.prototype.getGroupId=function(){return this.groupId},t.prototype.getInstanceId=function(){return this.instanceId},t.prototype.isChildInThisGroupDeepSearch=function(e){var n=!1;return this.children.forEach((function(o){e===o&&(n=!0),o instanceof t&&o.isChildInThisGroupDeepSearch(e)&&(n=!0)})),n},t.prototype.getActualWidth=function(){var t=0;return this.displayedChildren&&this.displayedChildren.forEach((function(e){t+=e.getActualWidth()})),t},t.prototype.getMinWidth=function(){var t=0;return this.displayedChildren.forEach((function(e){t+=e.getMinWidth()})),t},t.prototype.addChild=function(t){this.children||(this.children=[]),this.children.push(t)},t.prototype.getDisplayedChildren=function(){return this.displayedChildren},t.prototype.getLeafColumns=function(){var t=[];return this.addLeafColumns(t),t},t.prototype.getDisplayedLeafColumns=function(){var t=[];return this.addDisplayedLeafColumns(t),t},t.prototype.getDefinition=function(){return this.originalColumnGroup.getColGroupDef()},t.prototype.getColGroupDef=function(){return this.originalColumnGroup.getColGroupDef()},t.prototype.isExpandable=function(){return this.originalColumnGroup.isExpandable()},t.prototype.isExpanded=function(){return this.originalColumnGroup.isExpanded()},t.prototype.setExpanded=function(t){this.originalColumnGroup.setExpanded(t)},t.prototype.addDisplayedLeafColumns=function(e){this.displayedChildren.forEach((function(n){n instanceof o.Column?e.push(n):n instanceof t&&n.addDisplayedLeafColumns(e)}))},t.prototype.addLeafColumns=function(e){this.children.forEach((function(n){n instanceof o.Column?e.push(n):n instanceof t&&n.addLeafColumns(e)}))},t.prototype.getChildren=function(){return this.children},t.prototype.getColumnGroupShow=function(){return this.originalColumnGroup.getColumnGroupShow()},t.prototype.getOriginalColumnGroup=function(){return this.originalColumnGroup},t.prototype.calculateDisplayedColumns=function(){if(this.displayedChildren=[],this.originalColumnGroup.isExpandable())for(var e=0,n=this.children.length;e<n;e++){var o=this.children[e];switch(o.getColumnGroupShow()){case t.HEADER_GROUP_SHOW_OPEN:this.originalColumnGroup.isExpanded()&&this.displayedChildren.push(o);break;case t.HEADER_GROUP_SHOW_CLOSED:this.originalColumnGroup.isExpanded()||this.displayedChildren.push(o);break;default:this.displayedChildren.push(o)}}else this.displayedChildren=this.children},t.HEADER_GROUP_SHOW_OPEN="open",t.HEADER_GROUP_SHOW_CLOSED="closed",t}();e.ColumnGroup=r},function(t,e,n){
/**
	 * ag-grid - Advanced Data Grid / Data Table supporting Javascript / React / AngularJS / Web Components
	 * @version v4.2.6
	 * @link http://www.ag-grid.com/
	 * @license MIT
	 */
var o=this&&this.__decorate||function(t,e,n,o){var i,r=arguments.length,a=r<3?e:null===o?o=Object.getOwnPropertyDescriptor(e,n):o;if("object"===("undefined"==typeof Reflect?"undefined":s(Reflect))&&"function"==typeof Reflect.decorate)a=Reflect.decorate(t,e,n,o);else for(var l=t.length-1;l>=0;l--)(i=t[l])&&(a=(r<3?i(a):r>3?i(e,n,a):i(e,n))||a);return r>3&&a&&Object.defineProperty(e,n,a),a},i=this&&this.__metadata||function(t,e){if("object"===("undefined"==typeof Reflect?"undefined":s(Reflect))&&"function"==typeof Reflect.metadata)return Reflect.metadata(t,e)},r=n(4),a=n(7),l=n(6),u=n(3),c=n(16),d=function(){function t(t,e){this.moving=!1,this.filterActive=!1,this.eventService=new r.EventService,this.colDef=t,this.visible=!t.hide,this.sort=t.sort,this.sortedAt=t.sortedAt,this.colId=e}return t.prototype.initialise=function(){this.setPinned(this.colDef.pinned);var t=this.gridOptionsWrapper.getMinColWidth(),e=this.gridOptionsWrapper.getMaxColWidth();this.colDef.minWidth?this.minWidth=this.colDef.minWidth:this.minWidth=t,this.colDef.maxWidth?this.maxWidth=this.colDef.maxWidth:this.maxWidth=e,this.actualWidth=this.columnUtils.calculateColInitialWidth(this.colDef);var n=this.gridOptionsWrapper.isSuppressFieldDotNotation();this.fieldContainsDots=a.Utils.exists(this.colDef.field)&&this.colDef.field.indexOf(".")>=0&&!n,this.validate()},t.prototype.isFieldContainsDots=function(){return this.fieldContainsDots},t.prototype.validate=function(){this.gridOptionsWrapper.isEnterprise()||(a.Utils.exists(this.colDef.aggFunc)&&console.warn("ag-Grid: aggFunc is only valid in ag-Grid-Enterprise"),a.Utils.exists(this.colDef.rowGroupIndex)&&console.warn("ag-Grid: rowGroupIndex is only valid in ag-Grid-Enterprise"))},t.prototype.addEventListener=function(t,e){this.eventService.addEventListener(t,e)},t.prototype.removeEventListener=function(t,e){this.eventService.removeEventListener(t,e)},t.prototype.isCellEditable=function(t){if("boolean"==typeof this.colDef.editable)return this.colDef.editable;if("function"==typeof this.colDef.editable){var e={node:t,column:this,colDef:this.colDef,context:this.gridOptionsWrapper.getContext(),api:this.gridOptionsWrapper.getApi(),columnApi:this.gridOptionsWrapper.getColumnApi()};return(0,this.colDef.editable)(e)}return!1},t.prototype.setMoving=function(e){this.moving=e,this.eventService.dispatchEvent(t.EVENT_MOVING_CHANGED)},t.prototype.isMoving=function(){return this.moving},t.prototype.getSort=function(){return this.sort},t.prototype.setSort=function(e){this.sort!==e&&(this.sort=e,this.eventService.dispatchEvent(t.EVENT_SORT_CHANGED))},t.prototype.isSortAscending=function(){return this.sort===t.SORT_ASC},t.prototype.isSortDescending=function(){return this.sort===t.SORT_DESC},t.prototype.isSortNone=function(){return a.Utils.missing(this.sort)},t.prototype.getSortedAt=function(){return this.sortedAt},t.prototype.setSortedAt=function(t){this.sortedAt=t},t.prototype.setAggFunc=function(t){this.aggFunc=t},t.prototype.getAggFunc=function(){return this.aggFunc},t.prototype.getLeft=function(){return this.left},t.prototype.getRight=function(){return this.left+this.actualWidth},t.prototype.setLeft=function(e){this.left!==e&&(this.left=e,this.eventService.dispatchEvent(t.EVENT_LEFT_CHANGED))},t.prototype.isFilterActive=function(){return this.filterActive},t.prototype.setFilterActive=function(e){this.filterActive!==e&&(this.filterActive=e,this.eventService.dispatchEvent(t.EVENT_FILTER_ACTIVE_CHANGED))},t.prototype.setPinned=function(e){this.gridOptionsWrapper.isForPrint()||(!0===e||e===t.PINNED_LEFT?this.pinned=t.PINNED_LEFT:e===t.PINNED_RIGHT?this.pinned=t.PINNED_RIGHT:this.pinned=null)},t.prototype.setFirstRightPinned=function(e){this.firstRightPinned!==e&&(this.firstRightPinned=e,this.eventService.dispatchEvent(t.EVENT_FIRST_RIGHT_PINNED_CHANGED))},t.prototype.setLastLeftPinned=function(e){this.lastLeftPinned!==e&&(this.lastLeftPinned=e,this.eventService.dispatchEvent(t.EVENT_LAST_LEFT_PINNED_CHANGED))},t.prototype.isFirstRightPinned=function(){return this.firstRightPinned},t.prototype.isLastLeftPinned=function(){return this.lastLeftPinned},t.prototype.isPinned=function(){return this.pinned===t.PINNED_LEFT||this.pinned===t.PINNED_RIGHT},t.prototype.isPinnedLeft=function(){return this.pinned===t.PINNED_LEFT},t.prototype.isPinnedRight=function(){return this.pinned===t.PINNED_RIGHT},t.prototype.getPinned=function(){return this.pinned},t.prototype.setVisible=function(e){var n=!0===e;this.visible!==n&&(this.visible=n,this.eventService.dispatchEvent(t.EVENT_VISIBLE_CHANGED))},t.prototype.isVisible=function(){return this.visible},t.prototype.getColDef=function(){return this.colDef},t.prototype.getColumnGroupShow=function(){return this.colDef.columnGroupShow},t.prototype.getColId=function(){return this.colId},t.prototype.getId=function(){return this.getColId()},t.prototype.getDefinition=function(){return this.colDef},t.prototype.getActualWidth=function(){return this.actualWidth},t.prototype.setActualWidth=function(e){this.actualWidth!==e&&(this.actualWidth=e,this.eventService.dispatchEvent(t.EVENT_WIDTH_CHANGED))},t.prototype.isGreaterThanMax=function(t){return!!this.maxWidth&&t>this.maxWidth},t.prototype.getMinWidth=function(){return this.minWidth},t.prototype.getMaxWidth=function(){return this.maxWidth},t.prototype.setMinimum=function(){this.setActualWidth(this.minWidth)},t.EVENT_MOVING_CHANGED="movingChanged",t.EVENT_LEFT_CHANGED="leftChanged",t.EVENT_WIDTH_CHANGED="widthChanged",t.EVENT_LAST_LEFT_PINNED_CHANGED="lastLeftPinnedChanged",t.EVENT_FIRST_RIGHT_PINNED_CHANGED="firstRightPinnedChanged",t.EVENT_VISIBLE_CHANGED="visibleChanged",t.EVENT_FILTER_ACTIVE_CHANGED="filterChanged",t.EVENT_SORT_CHANGED="filterChanged",t.PINNED_RIGHT="right",t.PINNED_LEFT="left",t.AGG_SUM="sum",t.AGG_MIN="min",t.AGG_MAX="max",t.AGG_FIRST="first",t.AGG_LAST="last",t.SORT_ASC="asc",t.SORT_DESC="desc",o([l.Autowired("gridOptionsWrapper"),i("design:type",u.GridOptionsWrapper)],t.prototype,"gridOptionsWrapper",void 0),o([l.Autowired("columnUtils"),i("design:type",c.ColumnUtils)],t.prototype,"columnUtils",void 0),o([l.PostConstruct,i("design:type",Function),i("design:paramtypes",[]),i("design:returntype",void 0)],t.prototype,"initialise",null),t}();e.Column=d},function(t,e,n){
/**
	 * ag-grid - Advanced Data Grid / Data Table supporting Javascript / React / AngularJS / Web Components
	 * @version v4.2.6
	 * @link http://www.ag-grid.com/
	 * @license MIT
	 */
var o=this&&this.__decorate||function(t,e,n,o){var i,r=arguments.length,a=r<3?e:null===o?o=Object.getOwnPropertyDescriptor(e,n):o;if("object"===("undefined"==typeof Reflect?"undefined":s(Reflect))&&"function"==typeof Reflect.decorate)a=Reflect.decorate(t,e,n,o);else for(var l=t.length-1;l>=0;l--)(i=t[l])&&(a=(r<3?i(a):r>3?i(e,n,a):i(e,n))||a);return r>3&&a&&Object.defineProperty(e,n,a),a},i=this&&this.__metadata||function(t,e){if("object"===("undefined"==typeof Reflect?"undefined":s(Reflect))&&"function"==typeof Reflect.metadata)return Reflect.metadata(t,e)},r=n(3),a=n(14),l=n(17),u=n(6),c=n(6),d=function(){function t(){}return t.prototype.calculateColInitialWidth=function(t){return t.width?t.width<this.gridOptionsWrapper.getMinColWidth()?this.gridOptionsWrapper.getMinColWidth():t.width:this.gridOptionsWrapper.getColWidth()},t.prototype.getOriginalPathForColumn=function(t,e){var n=[],o=!1;return function e(i,r){for(var a=0;a<i.length;a++){if(o)return;var s=i[a];s instanceof l.OriginalColumnGroup?(e(s.getChildren(),r+1),n[r]=s):s===t&&(o=!0)}}(e,0),o?n:null},t.prototype.deptFirstOriginalTreeSearch=function(t,e){var n=this;t&&t.forEach((function(t){t instanceof l.OriginalColumnGroup&&n.deptFirstOriginalTreeSearch(t.getChildren(),e),e(t)}))},t.prototype.deptFirstAllColumnTreeSearch=function(t,e){var n=this;t&&t.forEach((function(t){t instanceof a.ColumnGroup&&n.deptFirstAllColumnTreeSearch(t.getChildren(),e),e(t)}))},t.prototype.deptFirstDisplayedColumnTreeSearch=function(t,e){var n=this;t&&t.forEach((function(t){t instanceof a.ColumnGroup&&n.deptFirstDisplayedColumnTreeSearch(t.getDisplayedChildren(),e),e(t)}))},o([c.Autowired("gridOptionsWrapper"),i("design:type",r.GridOptionsWrapper)],t.prototype,"gridOptionsWrapper",void 0),t=o([u.Bean("columnUtils"),i("design:paramtypes",[])],t)}();e.ColumnUtils=d},function(t,e,n){
/**
	 * ag-grid - Advanced Data Grid / Data Table supporting Javascript / React / AngularJS / Web Components
	 * @version v4.2.6
	 * @link http://www.ag-grid.com/
	 * @license MIT
	 */
var o=n(14),i=n(15),r=function(){function t(t,e){this.expandable=!1,this.expanded=!1,this.colGroupDef=t,this.groupId=e}return t.prototype.setExpanded=function(t){this.expanded=t},t.prototype.isExpandable=function(){return this.expandable},t.prototype.isExpanded=function(){return this.expanded},t.prototype.getGroupId=function(){return this.groupId},t.prototype.getId=function(){return this.getGroupId()},t.prototype.setChildren=function(t){this.children=t},t.prototype.getChildren=function(){return this.children},t.prototype.getColGroupDef=function(){return this.colGroupDef},t.prototype.getLeafColumns=function(){var t=[];return this.addLeafColumns(t),t},t.prototype.addLeafColumns=function(e){this.children.forEach((function(n){n instanceof i.Column?e.push(n):n instanceof t&&n.addLeafColumns(e)}))},t.prototype.getColumnGroupShow=function(){return this.colGroupDef?this.colGroupDef.columnGroupShow:this.children[0].getColumnGroupShow()},t.prototype.calculateExpandable=function(){for(var t=!1,e=!1,n=!1,i=0,r=this.children.length;i<r;i++){var a=this.children[i].getColumnGroupShow();a===o.ColumnGroup.HEADER_GROUP_SHOW_OPEN?(t=!0,n=!0):a===o.ColumnGroup.HEADER_GROUP_SHOW_CLOSED?(e=!0,n=!0):(t=!0,e=!0)}this.expandable=t&&e&&n},t}();e.OriginalColumnGroup=r},function(t,e,n){
/**
	 * ag-grid - Advanced Data Grid / Data Table supporting Javascript / React / AngularJS / Web Components
	 * @version v4.2.6
	 * @link http://www.ag-grid.com/
	 * @license MIT
	 */
var o=this&&this.__decorate||function(t,e,n,o){var i,r=arguments.length,a=r<3?e:null===o?o=Object.getOwnPropertyDescriptor(e,n):o;if("object"===("undefined"==typeof Reflect?"undefined":s(Reflect))&&"function"==typeof Reflect.decorate)a=Reflect.decorate(t,e,n,o);else for(var l=t.length-1;l>=0;l--)(i=t[l])&&(a=(r<3?i(a):r>3?i(e,n,a):i(e,n))||a);return r>3&&a&&Object.defineProperty(e,n,a),a},i=this&&this.__metadata||function(t,e){if("object"===("undefined"==typeof Reflect?"undefined":s(Reflect))&&"function"==typeof Reflect.metadata)return Reflect.metadata(t,e)},r=this&&this.__param||function(t,e){return function(n,o){e(n,o,t)}},a=n(5),l=n(6),u=n(6),c=function(){function t(){this.expressionToFunctionCache={}}return t.prototype.setBeans=function(t){this.logger=t.create("ExpressionService")},t.prototype.evaluate=function(t,e){try{return this.createExpressionFunction(t)(e.value,e.context,e.node,e.data,e.colDef,e.rowIndex,e.api,e.getValue)}catch(e){return this.logger.log("Processing of the expression failed"),this.logger.log("Expression = "+t),this.logger.log("Exception = "+e),null}},t.prototype.createExpressionFunction=function(t){if(this.expressionToFunctionCache[t])return this.expressionToFunctionCache[t];var e=this.createFunctionBody(t),n=new Function("x, ctx, node, data, colDef, rowIndex, api, getValue",e);return this.expressionToFunctionCache[t]=n,n},t.prototype.createFunctionBody=function(t){return t.indexOf("return")>=0?t:"return "+t+";"},o([r(0,u.Qualifier("loggerFactory")),i("design:type",Function),i("design:paramtypes",[a.LoggerFactory]),i("design:returntype",void 0)],t.prototype,"setBeans",null),t=o([l.Bean("expressionService"),i("design:paramtypes",[])],t)}();e.ExpressionService=c},function(t,e,n){
/**
	 * ag-grid - Advanced Data Grid / Data Table supporting Javascript / React / AngularJS / Web Components
	 * @version v4.2.6
	 * @link http://www.ag-grid.com/
	 * @license MIT
	 */
var o=this&&this.__decorate||function(t,e,n,o){var i,r=arguments.length,a=r<3?e:null===o?o=Object.getOwnPropertyDescriptor(e,n):o;if("object"===("undefined"==typeof Reflect?"undefined":s(Reflect))&&"function"==typeof Reflect.decorate)a=Reflect.decorate(t,e,n,o);else for(var l=t.length-1;l>=0;l--)(i=t[l])&&(a=(r<3?i(a):r>3?i(e,n,a):i(e,n))||a);return r>3&&a&&Object.defineProperty(e,n,a),a},i=this&&this.__metadata||function(t,e){if("object"===("undefined"==typeof Reflect?"undefined":s(Reflect))&&"function"==typeof Reflect.metadata)return Reflect.metadata(t,e)},r=this&&this.__param||function(t,e){return function(n,o){e(n,o,t)}},a=n(3),l=n(5),u=n(16),c=n(20),d=n(17),p=n(15),h=n(6),f=n(6),g=n(6),m=n(6),v=function(){function t(){}return t.prototype.setBeans=function(t){this.logger=t.create("BalancedColumnTreeBuilder")},t.prototype.createBalancedColumnGroups=function(t){var e=new c.ColumnKeyCreator,n=this.recursivelyCreateColumns(t,0,e),o=this.findMaxDept(n,0);this.logger.log("Number of levels for grouped columns is "+o);var i=this.balanceColumnTree(n,0,o,e);return this.columnUtils.deptFirstOriginalTreeSearch(i,(function(t){t instanceof d.OriginalColumnGroup&&t.calculateExpandable()})),{balancedTree:i,treeDept:o}},t.prototype.balanceColumnTree=function(t,e,n,o){var i=this,r=[];return t.forEach((function(t){if(t instanceof d.OriginalColumnGroup){var a=t,s=i.balanceColumnTree(a.getChildren(),e+1,n,o);a.setChildren(s),r.push(a)}else{for(var l=t,u=n-1;u>=e;u--){var c=o.getUniqueKey(null,null),p=new d.OriginalColumnGroup(null,c);p.setChildren([l]),l=p}r.push(l)}})),r},t.prototype.findMaxDept=function(t,e){for(var n=e,o=0;o<t.length;o++){var i=t[o];if(i instanceof d.OriginalColumnGroup){var r=i,a=this.findMaxDept(r.getChildren(),e+1);n<a&&(n=a)}}return n},t.prototype.recursivelyCreateColumns=function(t,e,n){var o=this,i=[];return t?(t.forEach((function(t){if(o.checkForDeprecatedItems(t),o.isColumnGroup(t)){var r=t,a=n.getUniqueKey(r.groupId,null),s=new d.OriginalColumnGroup(r,a),l=o.recursivelyCreateColumns(r.children,e+1,n);s.setChildren(l),i.push(s)}else{var u=t,c=n.getUniqueKey(u.colId,u.field),h=new p.Column(u,c);o.context.wireBean(h),i.push(h)}})),i):i},t.prototype.checkForDeprecatedItems=function(t){if(t){var e=t;void 0!==e.group&&console.warn("ag-grid: colDef.group is invalid, please check documentation on how to do grouping as it changed in version 3"),void 0!==e.headerGroup&&console.warn("ag-grid: colDef.headerGroup is invalid, please check documentation on how to do grouping as it changed in version 3"),void 0!==e.headerGroupShow&&console.warn("ag-grid: colDef.headerGroupShow is invalid, should be columnGroupShow, please check documentation on how to do grouping as it changed in version 3")}},t.prototype.isColumnGroup=function(t){return void 0!==t.children},o([g.Autowired("gridOptionsWrapper"),i("design:type",a.GridOptionsWrapper)],t.prototype,"gridOptionsWrapper",void 0),o([g.Autowired("columnUtils"),i("design:type",u.ColumnUtils)],t.prototype,"columnUtils",void 0),o([g.Autowired("context"),i("design:type",m.Context)],t.prototype,"context",void 0),o([r(0,f.Qualifier("loggerFactory")),i("design:type",Function),i("design:paramtypes",[l.LoggerFactory]),i("design:returntype",void 0)],t.prototype,"setBeans",null),t=o([h.Bean("balancedColumnTreeBuilder"),i("design:paramtypes",[])],t)}();e.BalancedColumnTreeBuilder=v},function(t,e){
/**
	 * ag-grid - Advanced Data Grid / Data Table supporting Javascript / React / AngularJS / Web Components
	 * @version v4.2.6
	 * @link http://www.ag-grid.com/
	 * @license MIT
	 */
var n=function(){function t(){this.existingKeys=[]}return t.prototype.getUniqueKey=function(t,e){for(var n=0;;){var o;if(t?(o=t,0!==n&&(o+="_"+n)):e?(o=e,0!==n&&(o+="_"+n)):o=""+n,this.existingKeys.indexOf(o)<0)return this.existingKeys.push(o),o;n++}},t}();e.ColumnKeyCreator=n},function(t,e,n){
/**
	 * ag-grid - Advanced Data Grid / Data Table supporting Javascript / React / AngularJS / Web Components
	 * @version v4.2.6
	 * @link http://www.ag-grid.com/
	 * @license MIT
	 */
var o=this&&this.__decorate||function(t,e,n,o){var i,r=arguments.length,a=r<3?e:null===o?o=Object.getOwnPropertyDescriptor(e,n):o;if("object"===("undefined"==typeof Reflect?"undefined":s(Reflect))&&"function"==typeof Reflect.decorate)a=Reflect.decorate(t,e,n,o);else for(var l=t.length-1;l>=0;l--)(i=t[l])&&(a=(r<3?i(a):r>3?i(e,n,a):i(e,n))||a);return r>3&&a&&Object.defineProperty(e,n,a),a},i=this&&this.__metadata||function(t,e){if("object"===("undefined"==typeof Reflect?"undefined":s(Reflect))&&"function"==typeof Reflect.metadata)return Reflect.metadata(t,e)},r=n(16),a=n(14),l=n(17),u=n(6),c=n(6),d=function(){function t(){}return t.prototype.createDisplayedGroups=function(t,e,n){var o,i,r=this,s=[];return t.forEach((function(t){for(var l=r.getOriginalPathForColumn(e,t),u=[],c=!i,d=0;d<l.length;d++)if(c||l[d]!==i[d]){var p=l[d],h=p.getGroupId(),f=n.getInstanceIdForKey(h),g=new a.ColumnGroup(p,h,f);u[d]=g,0==d?s.push(g):u[d-1].addChild(g)}else u[d]=o[d];0===u.length?s.push(t):u[u.length-1].addChild(t),o=u,i=l})),s},t.prototype.createFakePath=function(t){for(var e=[],n=t,o=0;n&&n[0]&&n[0]instanceof l.OriginalColumnGroup;)e.push(new l.OriginalColumnGroup(null,"FAKE_PATH_"+o)),n=n[0].getChildren(),o++;return e},t.prototype.getOriginalPathForColumn=function(t,e){var n=[],o=!1;return function t(i,r){for(var a=0;a<i.length;a++){if(o)return;var s=i[a];s instanceof l.OriginalColumnGroup?(t(s.getChildren(),r+1),n[r]=s):s===e&&(o=!0)}}(t,0),o?n:this.createFakePath(t)},o([c.Autowired("columnUtils"),i("design:type",r.ColumnUtils)],t.prototype,"columnUtils",void 0),t=o([u.Bean("displayedGroupCreator"),i("design:paramtypes",[])],t)}();e.DisplayedGroupCreator=d},function(t,e,n){
/**
	 * ag-grid - Advanced Data Grid / Data Table supporting Javascript / React / AngularJS / Web Components
	 * @version v4.2.6
	 * @link http://www.ag-grid.com/
	 * @license MIT
	 */
var o=this&&this.__decorate||function(t,e,n,o){var i,r=arguments.length,a=r<3?e:null===o?o=Object.getOwnPropertyDescriptor(e,n):o;if("object"===("undefined"==typeof Reflect?"undefined":s(Reflect))&&"function"==typeof Reflect.decorate)a=Reflect.decorate(t,e,n,o);else for(var l=t.length-1;l>=0;l--)(i=t[l])&&(a=(r<3?i(a):r>3?i(e,n,a):i(e,n))||a);return r>3&&a&&Object.defineProperty(e,n,a),a},i=this&&this.__metadata||function(t,e){if("object"===("undefined"==typeof Reflect?"undefined":s(Reflect))&&"function"==typeof Reflect.metadata)return Reflect.metadata(t,e)},r=n(23),a=n(24),l=n(6),u=n(6),c=function(){function t(){}return t.prototype.getPreferredWidthForColumn=function(t){var e=document.createElement("span");e.style.position="fixed";var n=this.gridPanel.getBodyContainer();n.appendChild(e),this.rowRenderer.getAllCellsForColumn(t).forEach((function(t,n){var o=t.cloneNode(!0);o.style.width="",o.style.position="static",o.style.left="";var i=document.createElement("div");i.style.display="table-row",i.appendChild(o),e.appendChild(i)}));var o=e.offsetWidth;return n.removeChild(e),o+4},o([u.Autowired("rowRenderer"),i("design:type",r.RowRenderer)],t.prototype,"rowRenderer",void 0),o([u.Autowired("gridPanel"),i("design:type",a.GridPanel)],t.prototype,"gridPanel",void 0),t=o([l.Bean("autoWidthCalculator"),i("design:paramtypes",[])],t)}();e.AutoWidthCalculator=c},function(t,e,n){
/**
	 * ag-grid - Advanced Data Grid / Data Table supporting Javascript / React / AngularJS / Web Components
	 * @version v4.2.6
	 * @link http://www.ag-grid.com/
	 * @license MIT
	 */
var o=this&&this.__decorate||function(t,e,n,o){var i,r=arguments.length,a=r<3?e:null===o?o=Object.getOwnPropertyDescriptor(e,n):o;if("object"===("undefined"==typeof Reflect?"undefined":s(Reflect))&&"function"==typeof Reflect.decorate)a=Reflect.decorate(t,e,n,o);else for(var l=t.length-1;l>=0;l--)(i=t[l])&&(a=(r<3?i(a):r>3?i(e,n,a):i(e,n))||a);return r>3&&a&&Object.defineProperty(e,n,a),a},i=this&&this.__metadata||function(t,e){if("object"===("undefined"==typeof Reflect?"undefined":s(Reflect))&&"function"==typeof Reflect.metadata)return Reflect.metadata(t,e)},r=this&&this.__param||function(t,e){return function(n,o){e(n,o,t)}},a=n(7),l=n(3),u=n(24),c=n(18),d=n(36),p=n(29),h=n(4),f=n(26),g=n(37),m=n(10),v=n(8),y=n(6),b=n(40),_=n(13),C=n(5),w=n(35),E=n(63),x=n(33),S=function(){function t(){this.renderedRows={},this.renderedTopFloatingRows=[],this.renderedBottomFloatingRows=[]}return t.prototype.agWire=function(t){this.logger=this.loggerFactory.create("RowRenderer"),this.logger=t.create("BalancedColumnTreeBuilder")},t.prototype.init=function(){this.getContainersFromGridPanel(),this.eventService.addEventListener(m.Events.EVENT_COLUMN_GROUP_OPENED,this.onColumnEvent.bind(this)),this.eventService.addEventListener(m.Events.EVENT_COLUMN_VISIBLE,this.onColumnEvent.bind(this)),this.eventService.addEventListener(m.Events.EVENT_COLUMN_RESIZED,this.onColumnEvent.bind(this)),this.eventService.addEventListener(m.Events.EVENT_COLUMN_PINNED,this.onColumnEvent.bind(this)),this.eventService.addEventListener(m.Events.EVENT_COLUMN_ROW_GROUP_CHANGED,this.onColumnEvent.bind(this)),this.eventService.addEventListener(m.Events.EVENT_MODEL_UPDATED,this.refreshView.bind(this)),this.eventService.addEventListener(m.Events.EVENT_FLOATING_ROW_DATA_CHANGED,this.refreshView.bind(this,null)),this.refreshView()},t.prototype.onColumnEvent=function(t){t.isContainerWidthImpacted()&&this.setMainRowWidths()},t.prototype.getContainersFromGridPanel=function(){this.eBodyContainer=this.gridPanel.getBodyContainer(),this.ePinnedLeftColsContainer=this.gridPanel.getPinnedLeftColsContainer(),this.ePinnedRightColsContainer=this.gridPanel.getPinnedRightColsContainer(),this.eFloatingTopContainer=this.gridPanel.getFloatingTopContainer(),this.eFloatingTopPinnedLeftContainer=this.gridPanel.getPinnedLeftFloatingTop(),this.eFloatingTopPinnedRightContainer=this.gridPanel.getPinnedRightFloatingTop(),this.eFloatingBottomContainer=this.gridPanel.getFloatingBottomContainer(),this.eFloatingBottomPinnedLeftContainer=this.gridPanel.getPinnedLeftFloatingBottom(),this.eFloatingBottomPinnedRightContainer=this.gridPanel.getPinnedRightFloatingBottom(),this.eBodyViewport=this.gridPanel.getBodyViewport(),this.eAllBodyContainers=[this.eBodyContainer,this.eFloatingBottomContainer,this.eFloatingTopContainer],this.eAllPinnedLeftContainers=[this.ePinnedLeftColsContainer,this.eFloatingBottomPinnedLeftContainer,this.eFloatingTopPinnedLeftContainer],this.eAllPinnedRightContainers=[this.ePinnedRightColsContainer,this.eFloatingBottomPinnedRightContainer,this.eFloatingTopPinnedRightContainer]},t.prototype.setRowModel=function(t){this.rowModel=t},t.prototype.getAllCellsForColumn=function(t){var e=[];function n(n,o){var i=o.getCellForCol(t);i&&e.push(i)}return a.Utils.iterateObject(this.renderedRows,n),a.Utils.iterateObject(this.renderedBottomFloatingRows,n),a.Utils.iterateObject(this.renderedBottomFloatingRows,n),e},t.prototype.setMainRowWidths=function(){var t=this.columnController.getBodyContainerWidth()+"px";this.eAllBodyContainers.forEach((function(e){for(var n=e.querySelectorAll(".ag-row"),o=0;o<n.length;o++)n[o].style.width=t}))},t.prototype.refreshAllFloatingRows=function(){this.refreshFloatingRows(this.renderedTopFloatingRows,this.floatingRowModel.getFloatingTopRowData(),this.eFloatingTopPinnedLeftContainer,this.eFloatingTopPinnedRightContainer,this.eFloatingTopContainer),this.refreshFloatingRows(this.renderedBottomFloatingRows,this.floatingRowModel.getFloatingBottomRowData(),this.eFloatingBottomPinnedLeftContainer,this.eFloatingBottomPinnedRightContainer,this.eFloatingBottomContainer)},t.prototype.refreshFloatingRows=function(t,e,n,o,i){var r=this;t.forEach((function(t){t.destroy()})),t.length=0;var a=this.columnController.getAllDisplayedColumns();a&&0!=a.length&&e&&e.forEach((function(e,a){var s=new g.RenderedRow(r.$scope,r,i,n,o,e,a);r.context.wireBean(s),t.push(s)}))},t.prototype.refreshView=function(t){this.logger.log("refreshView");var e=this.focusedCellController.getFocusCellIfBrowserFocused();this.focusedCellController.getFocusedCell();var n=t?t.fromIndex:null;if(!this.gridOptionsWrapper.isForPrint()){var o=this.rowModel.getRowCombinedHeight();this.eBodyContainer.style.height=o+"px",this.ePinnedLeftColsContainer.style.height=o+"px",this.ePinnedRightColsContainer.style.height=o+"px"}this.refreshAllVirtualRows(n),this.refreshAllFloatingRows(),this.restoreFocusedCell(e)},t.prototype.restoreFocusedCell=function(t){t&&this.focusedCellController.setFocusedCell(t.rowIndex,t.column,t.floating,!0)},t.prototype.softRefreshView=function(){var t=this.focusedCellController.getFocusCellIfBrowserFocused();this.forEachRenderedCell((function(t){t.isVolatile()&&t.refreshCell()})),this.restoreFocusedCell(t)},t.prototype.stopEditing=function(t){void 0===t&&(t=!1),this.forEachRenderedCell((function(e){e.stopEditing(t)}))},t.prototype.forEachRenderedCell=function(t){a.Utils.iterateObject(this.renderedRows,(function(e,n){n.forEachRenderedCell(t)}))},t.prototype.addRenderedRowListener=function(t,e,n){this.renderedRows[e].addEventListener(t,n)},t.prototype.refreshRows=function(t){if(t&&0!=t.length){var e=this.focusedCellController.getFocusCellIfBrowserFocused(),n=[];a.Utils.iterateObject(this.renderedRows,(function(e,o){var i=o.getRowNode();t.indexOf(i)>=0&&n.push(e)})),this.removeVirtualRow(n),this.drawVirtualRows(),this.restoreFocusedCell(e)}},t.prototype.refreshCells=function(t,e,n){void 0===n&&(n=!1),t&&0!=t.length&&a.Utils.iterateObject(this.renderedRows,(function(o,i){var r=i.getRowNode();t.indexOf(r)>=0&&i.refreshCells(e,n)}))},t.prototype.rowDataChanged=function(t){var e=[],n=this.renderedRows;Object.keys(n).forEach((function(o){n[o].isDataInList(t)&&e.push(o)})),this.removeVirtualRow(e),this.drawVirtualRows()},t.prototype.destroy=function(){var t=Object.keys(this.renderedRows);this.removeVirtualRow(t)},t.prototype.refreshAllVirtualRows=function(t){var e=Object.keys(this.renderedRows);this.removeVirtualRow(e,t),this.drawVirtualRows()},t.prototype.refreshGroupRows=function(){var t=[],e=this;Object.keys(this.renderedRows).forEach((function(n){e.renderedRows[n].isGroup()&&t.push(n)})),this.removeVirtualRow(t),this.ensureRowsRendered()},t.prototype.removeVirtualRow=function(t,e){var n=this,o="number"==typeof e?e:-1;t.forEach((function(t){t>=o&&n.unbindVirtualRow(t)}))},t.prototype.unbindVirtualRow=function(t){var e=this.renderedRows[t];e.destroy();var n={node:e.getRowNode(),rowIndex:t};this.eventService.dispatchEvent(m.Events.EVENT_VIRTUAL_ROW_REMOVED,n),delete this.renderedRows[t]},t.prototype.drawVirtualRows=function(){this.workOutFirstAndLastRowsToRender(),this.ensureRowsRendered()},t.prototype.workOutFirstAndLastRowsToRender=function(){var t,e;if(this.rowModel.isRowsToRender()){var n=this.rowModel.getRowCount();if(this.gridOptionsWrapper.isForPrint())t=0,e=n;else{var o=this.eBodyViewport.scrollTop,i=o+this.eBodyViewport.offsetHeight,r=this.rowModel.getRowIndexAtPixel(o),a=this.rowModel.getRowIndexAtPixel(i),s=this.gridOptionsWrapper.getRowBuffer();(r-=s)<0&&(r=0),(a+=s)>n-1&&(a=n-1),t=r,e=a}}else t=0,e=-1;var l=t!==this.firstRenderedRow,u=e!==this.lastRenderedRow;if(l||u){this.firstRenderedRow=t,this.lastRenderedRow=e;var c={firstRow:t,lastRow:e};this.eventService.dispatchEvent(m.Events.EVENT_VIEWPORT_CHANGED,c)}},t.prototype.getFirstVirtualRenderedRow=function(){return this.firstRenderedRow},t.prototype.getLastVirtualRenderedRow=function(){return this.lastRenderedRow},t.prototype.ensureRowsRendered=function(){for(var t=this,e=Object.keys(this.renderedRows),n=this.firstRenderedRow;n<=this.lastRenderedRow;n++)if(e.indexOf(n.toString())>=0)e.splice(e.indexOf(n.toString()),1);else{var o=this.rowModel.getRow(n);o&&this.insertRow(o,n)}this.removeVirtualRow(e),this.gridOptionsWrapper.isAngularCompileRows()&&setTimeout((function(){t.$scope.$apply()}),0)},t.prototype.onMouseEvent=function(t,e,n,o){var i;switch(o.floating){case v.Constants.FLOATING_TOP:i=this.renderedTopFloatingRows[o.rowIndex];break;case v.Constants.FLOATING_BOTTOM:i=this.renderedBottomFloatingRows[o.rowIndex];break;default:i=this.renderedRows[o.rowIndex]}i&&i.onMouseEvent(t,e,n,o)},t.prototype.insertRow=function(t,e){var n=this.columnController.getAllDisplayedColumns();if(n&&0!=n.length){var o=new g.RenderedRow(this.$scope,this,this.eBodyContainer,this.ePinnedLeftColsContainer,this.ePinnedRightColsContainer,t,e);this.context.wireBean(o),this.renderedRows[e]=o}},t.prototype.getRenderedNodes=function(){var t=this.renderedRows;return Object.keys(t).map((function(e){return t[e].getRowNode()}))},t.prototype.navigateToNextCell=function(t,e,n,o){for(var i=new x.GridCell(e,o,n);(i=this.cellNavigationService.getNextCellToFocus(t,i),!a.Utils.missing(i))&&this.gridOptionsWrapper.isGroupUseEntireRow()&&this.rowModel.getRow(i.rowIndex).group;);i&&(a.Utils.missing(i.floating)&&this.gridPanel.ensureIndexVisible(i.rowIndex),i.column.isPinned()||this.gridPanel.ensureColumnVisible(i.column),this.gridPanel.horizontallyScrollHeaderCenterAndFloatingCenter(),this.focusedCellController.setFocusedCell(i.rowIndex,i.column,i.floating,!0),this.rangeController&&this.rangeController.setRangeToCell(new x.GridCell(i.rowIndex,i.floating,i.column)))},t.prototype.getComponentForCell=function(t){var e;switch(t.floating){case v.Constants.FLOATING_TOP:e=this.renderedTopFloatingRows[t.rowIndex];break;case v.Constants.FLOATING_BOTTOM:e=this.renderedBottomFloatingRows[t.rowIndex];break;default:e=this.renderedRows[t.rowIndex]}return e?e.getRenderedCellForColumn(t.column):null},t.prototype.moveFocusToNextCell=function(t,e,n,o,i){for(var r=new x.GridCell(t,n,e);;){if(!(r=this.cellNavigationService.getNextTabbedCell(r,o)))return!1;var s=this.getComponentForCell(r);if(!i||s.isCellEditable())return a.Utils.missing(r.floating)&&this.gridPanel.ensureIndexVisible(r.rowIndex),this.gridPanel.ensureColumnVisible(r.column),this.gridPanel.horizontallyScrollHeaderCenterAndFloatingCenter(),i?(s.startEditingIfEnabled(),s.focusCell(!1)):s.focusCell(!0),this.rangeController&&this.rangeController.setRangeToCell(new x.GridCell(r.rowIndex,r.floating,r.column)),!0}},o([y.Autowired("columnController"),i("design:type",_.ColumnController)],t.prototype,"columnController",void 0),o([y.Autowired("gridOptionsWrapper"),i("design:type",l.GridOptionsWrapper)],t.prototype,"gridOptionsWrapper",void 0),o([y.Autowired("gridCore"),i("design:type",b.GridCore)],t.prototype,"gridCore",void 0),o([y.Autowired("gridPanel"),i("design:type",u.GridPanel)],t.prototype,"gridPanel",void 0),o([y.Autowired("$compile"),i("design:type",Object)],t.prototype,"$compile",void 0),o([y.Autowired("$scope"),i("design:type",Object)],t.prototype,"$scope",void 0),o([y.Autowired("expressionService"),i("design:type",c.ExpressionService)],t.prototype,"expressionService",void 0),o([y.Autowired("templateService"),i("design:type",d.TemplateService)],t.prototype,"templateService",void 0),o([y.Autowired("valueService"),i("design:type",p.ValueService)],t.prototype,"valueService",void 0),o([y.Autowired("eventService"),i("design:type",h.EventService)],t.prototype,"eventService",void 0),o([y.Autowired("floatingRowModel"),i("design:type",f.FloatingRowModel)],t.prototype,"floatingRowModel",void 0),o([y.Autowired("context"),i("design:type",y.Context)],t.prototype,"context",void 0),o([y.Autowired("loggerFactory"),i("design:type",C.LoggerFactory)],t.prototype,"loggerFactory",void 0),o([y.Autowired("rowModel"),i("design:type",Object)],t.prototype,"rowModel",void 0),o([y.Autowired("focusedCellController"),i("design:type",w.FocusedCellController)],t.prototype,"focusedCellController",void 0),o([y.Optional("rangeController"),i("design:type",Object)],t.prototype,"rangeController",void 0),o([y.Autowired("cellNavigationService"),i("design:type",E.CellNavigationService)],t.prototype,"cellNavigationService",void 0),o([r(0,y.Qualifier("loggerFactory")),i("design:type",Function),i("design:paramtypes",[C.LoggerFactory]),i("design:returntype",void 0)],t.prototype,"agWire",null),o([y.PostConstruct,i("design:type",Function),i("design:paramtypes",[]),i("design:returntype",void 0)],t.prototype,"init",null),o([y.PreDestroy,i("design:type",Function),i("design:paramtypes",[]),i("design:returntype",void 0)],t.prototype,"destroy",null),t=o([y.Bean("rowRenderer"),i("design:paramtypes",[])],t)}();e.RowRenderer=S},function(t,e,n){
/**
	 * ag-grid - Advanced Data Grid / Data Table supporting Javascript / React / AngularJS / Web Components
	 * @version v4.2.6
	 * @link http://www.ag-grid.com/
	 * @license MIT
	 */
var o=this&&this.__decorate||function(t,e,n,o){var i,r=arguments.length,a=r<3?e:null===o?o=Object.getOwnPropertyDescriptor(e,n):o;if("object"===("undefined"==typeof Reflect?"undefined":s(Reflect))&&"function"==typeof Reflect.decorate)a=Reflect.decorate(t,e,n,o);else for(var l=t.length-1;l>=0;l--)(i=t[l])&&(a=(r<3?i(a):r>3?i(e,n,a):i(e,n))||a);return r>3&&a&&Object.defineProperty(e,n,a),a},i=this&&this.__metadata||function(t,e){if("object"===("undefined"==typeof Reflect?"undefined":s(Reflect))&&"function"==typeof Reflect.metadata)return Reflect.metadata(t,e)},r=this&&this.__param||function(t,e){return function(n,o){e(n,o,t)}},a=n(7),l=n(25),u=n(3),c=n(13),d=n(23),p=n(26),h=n(30),f=n(5),g=n(6),m=n(4),v=n(10),y=n(31),b=n(8),_=n(28),C=n(12),w=n(32),E=n(35),x='<div class="ag-overlay-panel"><div class="ag-overlay-wrapper ag-overlay-[OVERLAY_NAME]-wrapper">[OVERLAY_TEMPLATE]</div></div>',S=function(){function t(){this.scrollLagCounter=0,this.lastLeftPosition=-1,this.lastTopPosition=-1,this.animationThreadCount=0}return t.prototype.agWire=function(t){this.forPrint=this.gridOptionsWrapper.isForPrint(),this.scrollWidth=a.Utils.getScrollbarWidth(),this.logger=t.create("GridPanel"),this.findElements()},t.prototype.onRowDataChanged=function(){this.rowModel.isEmpty()&&!this.gridOptionsWrapper.isSuppressNoRowsOverlay()?this.showNoRowsOverlay():this.hideOverlay()},t.prototype.getLayout=function(){return this.layout},t.prototype.init=function(){this.addEventListeners(),this.addDragListeners(),this.layout=new h.BorderLayout({overlays:{loading:a.Utils.loadTemplate(this.createLoadingOverlayTemplate()),noRows:a.Utils.loadTemplate(this.createNoRowsOverlayTemplate())},center:this.eRoot,dontFill:this.forPrint,name:"eGridPanel"}),this.layout.addSizeChangeListener(this.sizeHeaderAndBody.bind(this)),this.addScrollListener(),this.gridOptionsWrapper.isSuppressHorizontalScroll()&&(this.eBodyViewport.style.overflowX="hidden"),this.gridOptionsWrapper.isRowModelDefault()&&!this.gridOptionsWrapper.getRowData()&&this.showLoadingOverlay(),this.setWidthsOfContainers(),this.showPinnedColContainersIfNeeded(),this.sizeHeaderAndBody(),this.disableBrowserDragging(),this.addShortcutKeyListeners(),this.addCellListeners()},t.prototype.disableBrowserDragging=function(){this.eRoot.addEventListener("dragstart",(function(t){if(t.target instanceof HTMLImageElement)return t.preventDefault(),!1}))},t.prototype.addEventListeners=function(){this.eventService.addEventListener(v.Events.EVENT_COLUMN_EVERYTHING_CHANGED,this.onColumnsChanged.bind(this)),this.eventService.addEventListener(v.Events.EVENT_COLUMN_GROUP_OPENED,this.onColumnsChanged.bind(this)),this.eventService.addEventListener(v.Events.EVENT_COLUMN_MOVED,this.onColumnsChanged.bind(this)),this.eventService.addEventListener(v.Events.EVENT_COLUMN_ROW_GROUP_CHANGED,this.onColumnsChanged.bind(this)),this.eventService.addEventListener(v.Events.EVENT_COLUMN_RESIZED,this.onColumnsChanged.bind(this)),this.eventService.addEventListener(v.Events.EVENT_COLUMN_VISIBLE,this.onColumnsChanged.bind(this)),this.eventService.addEventListener(v.Events.EVENT_COLUMN_PINNED,this.onColumnsChanged.bind(this)),this.eventService.addEventListener(v.Events.EVENT_FLOATING_ROW_DATA_CHANGED,this.sizeHeaderAndBody.bind(this)),this.eventService.addEventListener(v.Events.EVENT_HEADER_HEIGHT_CHANGED,this.sizeHeaderAndBody.bind(this)),this.eventService.addEventListener(v.Events.EVENT_PIVOT_VALUE_CHANGED,this.sizeHeaderAndBody.bind(this)),this.eventService.addEventListener(v.Events.EVENT_PIVOT_VALUE_CHANGED,this.onColumnsChanged.bind(this)),this.eventService.addEventListener(v.Events.EVENT_ROW_DATA_CHANGED,this.onRowDataChanged.bind(this))},t.prototype.addDragListeners=function(){var t=this;this.forPrint||!this.gridOptionsWrapper.isEnableRangeSelection()||a.Utils.missing(this.rangeController)||[this.ePinnedLeftColsContainer,this.ePinnedRightColsContainer,this.eBodyContainer,this.eFloatingTop,this.eFloatingBottom].forEach((function(e){t.dragService.addDragSource({dragStartPixels:0,eElement:e,onDragStart:t.rangeController.onDragStart.bind(t.rangeController),onDragStop:t.rangeController.onDragStop.bind(t.rangeController),onDragging:t.rangeController.onDragging.bind(t.rangeController)})}))},t.prototype.addCellListeners=function(){var t=this,e=this;["click","mousedown","dblclick","contextmenu"].forEach((function(n){t.eAllCellContainers.forEach((function(t){return t.addEventListener(n,(function(t){e.processMouseEvent(n,t,this)}))}))}))},t.prototype.processMouseEvent=function(t,e,n){var o=this.mouseEventService.getCellForMouseEvent(e);a.Utils.exists(o)&&this.rowRenderer.onMouseEvent(t,e,n,o),this.gridOptionsWrapper.isSuppressMiddleClickScrolls()&&2===e.which&&e.preventDefault()},t.prototype.addShortcutKeyListeners=function(){var t=this;this.eAllCellContainers.forEach((function(e){e.addEventListener("keydown",(function(e){if(e.ctrlKey||e.metaKey)switch(e.which){case b.Constants.KEY_A:return t.onCtrlAndA(e);case b.Constants.KEY_C:return t.onCtrlAndC(e);case b.Constants.KEY_V:return t.onCtrlAndV(e);case b.Constants.KEY_D:return t.onCtrlAndD(e)}}))}))},t.prototype.onCtrlAndA=function(t){if(this.rangeController&&this.rowModel.isRowsToRender()){var e,n,o;n=this.floatingRowModel.isEmpty(b.Constants.FLOATING_TOP)?null:b.Constants.FLOATING_TOP,this.floatingRowModel.isEmpty(b.Constants.FLOATING_BOTTOM)?(o=null,e=this.rowModel.getRowCount()-1):(o=b.Constants.FLOATING_BOTTOM,e=this.floatingRowModel.getFloatingBottomRowData().length=1);var i=this.columnController.getAllDisplayedColumns();if(a.Utils.missingOrEmpty(i))return;this.rangeController.setRange({rowStart:0,floatingStart:n,rowEnd:e,floatingEnd:o,columnStart:i[0],columnEnd:i[i.length-1]})}return t.preventDefault(),!1},t.prototype.onCtrlAndC=function(t){if(this.clipboardService){var e=this.focusedCellController.getFocusedCell();return this.clipboardService.copyToClipboard(),t.preventDefault(),e&&this.focusedCellController.setFocusedCell(e.rowIndex,e.column,e.floating,!0),!1}},t.prototype.onCtrlAndV=function(t){if(this.rangeController)return this.clipboardService.pasteFromClipboard(),!1},t.prototype.onCtrlAndD=function(t){if(this.clipboardService)return this.clipboardService.copyRangeDown(),t.preventDefault(),!1},t.prototype.getPinnedLeftFloatingTop=function(){return this.ePinnedLeftFloatingTop},t.prototype.getPinnedRightFloatingTop=function(){return this.ePinnedRightFloatingTop},t.prototype.getFloatingTopContainer=function(){return this.eFloatingTopContainer},t.prototype.getPinnedLeftFloatingBottom=function(){return this.ePinnedLeftFloatingBottom},t.prototype.getPinnedRightFloatingBottom=function(){return this.ePinnedRightFloatingBottom},t.prototype.getFloatingBottomContainer=function(){return this.eFloatingBottomContainer},t.prototype.createOverlayTemplate=function(t,e,n){var o=x.replace("[OVERLAY_NAME]",t);return o=n?o.replace("[OVERLAY_TEMPLATE]",n):o.replace("[OVERLAY_TEMPLATE]",e)},t.prototype.createLoadingOverlayTemplate=function(){var t=this.gridOptionsWrapper.getOverlayLoadingTemplate(),e=this.createOverlayTemplate("loading",'<span class="ag-overlay-loading-center">[LOADING...]</span>',t),n=this.gridOptionsWrapper.getLocaleTextFunc();return e.replace("[LOADING...]",n("loadingOoo","Loading..."))},t.prototype.createNoRowsOverlayTemplate=function(){var t=this.gridOptionsWrapper.getOverlayNoRowsTemplate(),e=this.createOverlayTemplate("no-rows",'<span class="ag-overlay-no-rows-center">[NO_ROWS_TO_SHOW]</span>',t),n=this.gridOptionsWrapper.getLocaleTextFunc();return e.replace("[NO_ROWS_TO_SHOW]",n("noRowsToShow","No Rows To Show"))},t.prototype.ensureIndexVisible=function(t){this.logger.log("ensureIndexVisible: "+t);var e=this.rowModel.getRowCount();if("number"!=typeof t||t<0||t>=e)console.warn("invalid row index for ensureIndexVisible: "+t);else{var n=this.rowModel.getRow(t),o=n.rowTop,i=o+n.rowHeight,r=this.eBodyViewport.scrollTop,a=this.eBodyViewport.offsetHeight;this.isHorizontalScrollShowing()&&(a-=this.scrollWidth);var s=r>o,l=r+a<i,u=this.columnController.isPinningRight()?this.ePinnedRightColsViewport:this.eBodyViewport;if(s)u.scrollTop=o;else if(l){var c=i-a;u.scrollTop=c}}},t.prototype.getCenterWidth=function(){return this.eBodyViewport.clientWidth},t.prototype.isHorizontalScrollShowing=function(){return this.eBodyViewport.clientWidth<this.eBodyViewport.scrollWidth},t.prototype.isVerticalScrollShowing=function(){return!this.columnController.isPinningRight()&&this.eBodyViewport.clientHeight<this.eBodyViewport.scrollHeight},t.prototype.periodicallyCheck=function(){if(this.columnController.isPinningRight()){var t=this.eBodyViewport.clientWidth<this.eBodyViewport.scrollWidth;this.ePinnedRightColsContainer.style.marginBottom=t?this.scrollWidth+"px":""}},t.prototype.ensureColumnVisible=function(t){var e=this.columnController.getOriginalColumn(t);if(e.isPinned())console.warn("calling ensureIndexVisible on a "+e.getPinned()+" pinned column doesn't make sense for column "+e.getColId());else if(this.columnController.isColumnDisplayed(e)){var n=e.getLeft(),o=n+e.getActualWidth(),i=this.eBodyViewport.scrollLeft,r=this.eBodyViewport.offsetWidth;this.eBodyViewport.clientHeight<this.eBodyViewport.scrollHeight&&(r-=this.scrollWidth);var a=i+r<o;if(i>n)this.eBodyViewport.scrollLeft=n;else if(a){var s=o-r;this.eBodyViewport.scrollLeft=s}}else console.warn("column is not currently visible")},t.prototype.showLoadingOverlay=function(){this.gridOptionsWrapper.isSuppressLoadingOverlay()||this.layout.showOverlay("loading")},t.prototype.showNoRowsOverlay=function(){this.gridOptionsWrapper.isSuppressNoRowsOverlay()||this.layout.showOverlay("noRows")},t.prototype.hideOverlay=function(){this.layout.hideOverlay()},t.prototype.getWidthForSizeColsToFit=function(){var t=this.eBody.clientWidth;return this.isVerticalScrollShowing()&&(t-=this.scrollWidth),t},t.prototype.sizeColumnsToFit=function(t){var e=this,n=this.getWidthForSizeColsToFit();n>0?this.columnController.sizeColumnsToFit(n):void 0===t?setTimeout((function(){e.sizeColumnsToFit(100)}),0):100===t?setTimeout((function(){e.sizeColumnsToFit(-1)}),100):console.log("ag-Grid: tried to call sizeColumnsToFit() but the grid is coming back with zero width, maybe the grid is not visible yet on the screen?")},t.prototype.getBodyContainer=function(){return this.eBodyContainer},t.prototype.getDropTargetBodyContainers=function(){return this.forPrint?[this.eBodyContainer,this.eFloatingTopContainer,this.eFloatingBottomContainer]:[this.eBodyViewport,this.eFloatingTopViewport,this.eFloatingBottomViewport]},t.prototype.getBodyViewport=function(){return this.eBodyViewport},t.prototype.getPinnedLeftColsContainer=function(){return this.ePinnedLeftColsContainer},t.prototype.getDropTargetLeftContainers=function(){return this.forPrint?[]:[this.ePinnedLeftColsViewport,this.ePinnedLeftFloatingBottom,this.ePinnedLeftFloatingTop]},t.prototype.getPinnedRightColsContainer=function(){return this.ePinnedRightColsContainer},t.prototype.getDropTargetPinnedRightContainers=function(){return this.forPrint?[]:[this.ePinnedRightColsViewport,this.ePinnedRightFloatingBottom,this.ePinnedRightFloatingTop]},t.prototype.getHeaderContainer=function(){return this.eHeaderContainer},t.prototype.getHeaderOverlay=function(){return this.eHeaderOverlay},t.prototype.getRoot=function(){return this.eRoot},t.prototype.getPinnedLeftHeader=function(){return this.ePinnedLeftHeader},t.prototype.getPinnedRightHeader=function(){return this.ePinnedRightHeader},t.prototype.queryHtmlElement=function(t){return this.eRoot.querySelector(t)},t.prototype.findElements=function(){this.forPrint?(this.eRoot=a.Utils.loadTemplate('<div><div class="ag-header-container"></div><div class="ag-floating-top-container"></div><div class="ag-body-container"></div><div class="ag-floating-bottom-container"></div></div>'),a.Utils.addCssClass(this.eRoot,"ag-root"),a.Utils.addCssClass(this.eRoot,"ag-font-style"),a.Utils.addCssClass(this.eRoot,"ag-no-scrolls")):(this.eRoot=a.Utils.loadTemplate('<div><div class="ag-header"><div class="ag-pinned-left-header"></div><div class="ag-pinned-right-header"></div><div class="ag-header-viewport"><div class="ag-header-container"></div></div><div class="ag-header-overlay"></div></div><div class="ag-floating-top"><div class="ag-pinned-left-floating-top"></div><div class="ag-pinned-right-floating-top"></div><div class="ag-floating-top-viewport"><div class="ag-floating-top-container"></div></div></div><div class="ag-floating-bottom"><div class="ag-pinned-left-floating-bottom"></div><div class="ag-pinned-right-floating-bottom"></div><div class="ag-floating-bottom-viewport"><div class="ag-floating-bottom-container"></div></div></div><div class="ag-body"><div class="ag-pinned-left-cols-viewport"><div class="ag-pinned-left-cols-container"></div></div><div class="ag-pinned-right-cols-viewport"><div class="ag-pinned-right-cols-container"></div></div><div class="ag-body-viewport-wrapper"><div class="ag-body-viewport"><div class="ag-body-container"></div></div></div></div></div>'),a.Utils.addCssClass(this.eRoot,"ag-root"),a.Utils.addCssClass(this.eRoot,"ag-font-style"),a.Utils.addCssClass(this.eRoot,"ag-scrolls")),this.forPrint?(this.eHeaderContainer=this.queryHtmlElement(".ag-header-container"),this.eBodyContainer=this.queryHtmlElement(".ag-body-container"),this.eFloatingTopContainer=this.queryHtmlElement(".ag-floating-top-container"),this.eFloatingBottomContainer=this.queryHtmlElement(".ag-floating-bottom-container"),this.eAllCellContainers=[this.eBodyContainer,this.eFloatingTopContainer,this.eFloatingBottomContainer]):(this.eBody=this.queryHtmlElement(".ag-body"),this.eBodyContainer=this.queryHtmlElement(".ag-body-container"),this.eBodyViewport=this.queryHtmlElement(".ag-body-viewport"),this.eBodyViewportWrapper=this.queryHtmlElement(".ag-body-viewport-wrapper"),this.ePinnedLeftColsContainer=this.queryHtmlElement(".ag-pinned-left-cols-container"),this.ePinnedRightColsContainer=this.queryHtmlElement(".ag-pinned-right-cols-container"),this.ePinnedLeftColsViewport=this.queryHtmlElement(".ag-pinned-left-cols-viewport"),this.ePinnedRightColsViewport=this.queryHtmlElement(".ag-pinned-right-cols-viewport"),this.ePinnedLeftHeader=this.queryHtmlElement(".ag-pinned-left-header"),this.ePinnedRightHeader=this.queryHtmlElement(".ag-pinned-right-header"),this.eHeader=this.queryHtmlElement(".ag-header"),this.eHeaderContainer=this.queryHtmlElement(".ag-header-container"),this.eHeaderOverlay=this.queryHtmlElement(".ag-header-overlay"),this.eHeaderViewport=this.queryHtmlElement(".ag-header-viewport"),this.eFloatingTop=this.queryHtmlElement(".ag-floating-top"),this.ePinnedLeftFloatingTop=this.queryHtmlElement(".ag-pinned-left-floating-top"),this.ePinnedRightFloatingTop=this.queryHtmlElement(".ag-pinned-right-floating-top"),this.eFloatingTopContainer=this.queryHtmlElement(".ag-floating-top-container"),this.eFloatingTopViewport=this.queryHtmlElement(".ag-floating-top-viewport"),this.eFloatingBottom=this.queryHtmlElement(".ag-floating-bottom"),this.ePinnedLeftFloatingBottom=this.queryHtmlElement(".ag-pinned-left-floating-bottom"),this.ePinnedRightFloatingBottom=this.queryHtmlElement(".ag-pinned-right-floating-bottom"),this.eFloatingBottomContainer=this.queryHtmlElement(".ag-floating-bottom-container"),this.eFloatingBottomViewport=this.queryHtmlElement(".ag-floating-bottom-viewport"),this.eAllCellContainers=[this.ePinnedLeftColsContainer,this.ePinnedRightColsContainer,this.eBodyContainer,this.eFloatingTop,this.eFloatingBottom],this.ePinnedLeftColsViewport.addEventListener("mousewheel",this.pinnedLeftMouseWheelListener.bind(this)),this.eBodyViewport.addEventListener("mousewheel",this.centerMouseWheelListener.bind(this)),this.ePinnedLeftColsViewport.addEventListener("DOMMouseScroll",this.pinnedLeftMouseWheelListener.bind(this)),this.eBodyViewport.addEventListener("DOMMouseScroll",this.centerMouseWheelListener.bind(this)))},t.prototype.getHeaderViewport=function(){return this.eHeaderViewport},t.prototype.centerMouseWheelListener=function(t){if(this.columnController.isPinningRight())return this.generalMouseWheelListener(t,this.ePinnedRightColsViewport)},t.prototype.pinnedLeftMouseWheelListener=function(t){var e;return e=this.columnController.isPinningRight()?this.ePinnedRightColsViewport:this.eBodyViewport,this.generalMouseWheelListener(t,e)},t.prototype.generalMouseWheelListener=function(t,e){var n=a.Utils.normalizeWheel(t);if(Math.abs(n.pixelX)>Math.abs(n.pixelY)){var o=this.eBodyViewport.scrollLeft+n.pixelX;this.eBodyViewport.scrollLeft=o}else{var i=this.eBodyViewport.scrollTop+n.pixelY;e.scrollTop=i}return this.gridOptionsWrapper.isSuppressPreventDefaultOnMouseWheel()||t.preventDefault(),!1},t.prototype.onColumnsChanged=function(t){t.isContainerWidthImpacted()&&this.setWidthsOfContainers(),t.isPinnedPanelVisibilityImpacted()&&this.showPinnedColContainersIfNeeded(),t.getType()===v.Events.EVENT_COLUMN_EVERYTHING_CHANGED&&this.sizeHeaderAndBody()},t.prototype.setWidthsOfContainers=function(){this.logger.log("setWidthsOfContainers()"),this.showPinnedColContainersIfNeeded();var t=this.columnController.getBodyContainerWidth()+"px";if(this.eBodyContainer.style.width=t,!this.forPrint){this.eFloatingBottomContainer.style.width=t,this.eFloatingTopContainer.style.width=t;var e=this.columnController.getPinnedLeftContainerWidth()+"px";this.ePinnedLeftColsContainer.style.width=e,this.ePinnedLeftFloatingBottom.style.width=e,this.ePinnedLeftFloatingTop.style.width=e,this.eBodyViewportWrapper.style.marginLeft=e;var n=this.columnController.getPinnedRightContainerWidth()+"px";this.ePinnedRightColsContainer.style.width=n,this.ePinnedRightFloatingBottom.style.width=n,this.ePinnedRightFloatingTop.style.width=n,this.eBodyViewportWrapper.style.marginRight=n}},t.prototype.showPinnedColContainersIfNeeded=function(){this.forPrint||(this.columnController.isPinningLeft()?(this.ePinnedLeftHeader.style.display="inline-block",this.ePinnedLeftColsViewport.style.display="inline"):(this.ePinnedLeftHeader.style.display="none",this.ePinnedLeftColsViewport.style.display="none"),this.columnController.isPinningRight()?(this.ePinnedRightHeader.style.display="inline-block",this.ePinnedRightColsViewport.style.display="inline",this.eBodyViewport.style.overflowY="hidden"):(this.ePinnedRightHeader.style.display="none",this.ePinnedRightColsViewport.style.display="none",this.eBodyViewport.style.overflowY="auto"))},t.prototype.sizeHeaderAndBody=function(){if(!this.forPrint){var t=this.layout.getCentreHeight();if(t){var e=this.gridOptionsWrapper.getHeaderHeight()*this.columnController.getHeaderRowCount();this.eHeader.style.height=e+"px";var n=this.floatingRowModel.getFloatingTopTotalHeight(),o=e+n,i=this.floatingRowModel.getFloatingBottomTotalHeight(),r=t-i,a=t-e-i-n;this.eBody.style.paddingTop=o+"px",this.eBody.style.paddingBottom=i+"px",this.eFloatingTop.style.top=e+"px",this.eFloatingTop.style.height=n+"px",this.eFloatingBottom.style.height=i+"px",this.eFloatingBottom.style.top=r+"px",this.ePinnedLeftColsViewport.style.height=a+"px",this.ePinnedRightColsViewport.style.height=a+"px"}}},t.prototype.setHorizontalScrollPosition=function(t){this.eBodyViewport.scrollLeft=t},t.prototype.scrollHorizontally=function(t){var e=this.eBodyViewport.scrollLeft;return this.setHorizontalScrollPosition(e+t),this.eBodyViewport.scrollLeft-e},t.prototype.getHorizontalScrollPosition=function(){return this.forPrint?0:this.eBodyViewport.scrollLeft},t.prototype.turnOnAnimationForABit=function(){var t=this;if(!this.gridOptionsWrapper.isSuppressColumnMoveAnimation()){this.animationThreadCount++;var e=this.animationThreadCount;a.Utils.addCssClass(this.eRoot,"ag-column-moving"),setTimeout((function(){t.animationThreadCount===e&&a.Utils.removeCssClass(t.eRoot,"ag-column-moving")}),300)}},t.prototype.addScrollListener=function(){var t=this;this.forPrint||(this.eBodyViewport.addEventListener("scroll",(function(){var e=t.eBodyViewport.scrollLeft;if(e!==t.lastLeftPosition&&(t.lastLeftPosition=e,t.horizontallyScrollHeaderCenterAndFloatingCenter(),t.masterSlaveService.fireHorizontalScrollEvent(e)),!t.columnController.isPinningRight()){var n=t.eBodyViewport.scrollTop;n!==t.lastTopPosition&&(t.lastTopPosition=n,t.verticallyScrollLeftPinned(n),t.requestDrawVirtualRows())}})),this.ePinnedRightColsViewport.addEventListener("scroll",(function(){var e=t.ePinnedRightColsViewport.scrollTop;e!==t.lastTopPosition&&(t.lastTopPosition=e,t.verticallyScrollLeftPinned(e),t.verticallyScrollBody(e),t.requestDrawVirtualRows())})),this.ePinnedLeftColsViewport.addEventListener("scroll",(function(){t.ePinnedLeftColsViewport.scrollTop=0})))},t.prototype.requestDrawVirtualRows=function(){var t=this;if(!this.gridOptionsWrapper.isSuppressScrollLag()&&(this.gridOptionsWrapper.getIsScrollLag()?this.gridOptionsWrapper.getIsScrollLag()():a.Utils.isBrowserIE()||a.Utils.isBrowserSafari())){this.scrollLagCounter++;var e=this.scrollLagCounter;setTimeout((function(){t.scrollLagCounter===e&&t.rowRenderer.drawVirtualRows()}),50)}else this.rowRenderer.drawVirtualRows()},t.prototype.horizontallyScrollHeaderCenterAndFloatingCenter=function(){var t=this.eBodyViewport.scrollLeft;this.eHeaderContainer.style.left=-t+"px",this.eFloatingBottomContainer.style.left=-t+"px",this.eFloatingTopContainer.style.left=-t+"px"},t.prototype.verticallyScrollLeftPinned=function(t){this.ePinnedLeftColsContainer.style.top=-t+"px"},t.prototype.verticallyScrollBody=function(t){this.eBodyViewport.scrollTop=t},t.prototype.getVerticalScrollPosition=function(){return this.forPrint?0:this.eBodyViewport.scrollTop},t.prototype.getBodyViewportClientRect=function(){return this.forPrint?this.eBodyContainer.getBoundingClientRect():this.eBodyViewport.getBoundingClientRect()},t.prototype.getFloatingTopClientRect=function(){return this.forPrint?this.eFloatingTopContainer.getBoundingClientRect():this.eFloatingTop.getBoundingClientRect()},t.prototype.getFloatingBottomClientRect=function(){return this.forPrint?this.eFloatingBottomContainer.getBoundingClientRect():this.eFloatingBottom.getBoundingClientRect()},t.prototype.getPinnedLeftColsViewportClientRect=function(){return this.ePinnedLeftColsViewport.getBoundingClientRect()},t.prototype.getPinnedRightColsViewportClientRect=function(){return this.ePinnedRightColsViewport.getBoundingClientRect()},t.prototype.addScrollEventListener=function(t){this.eBodyViewport.addEventListener("scroll",t)},t.prototype.removeScrollEventListener=function(t){this.eBodyViewport.removeEventListener("scroll",t)},o([g.Autowired("masterSlaveService"),i("design:type",l.MasterSlaveService)],t.prototype,"masterSlaveService",void 0),o([g.Autowired("gridOptionsWrapper"),i("design:type",u.GridOptionsWrapper)],t.prototype,"gridOptionsWrapper",void 0),o([g.Autowired("columnController"),i("design:type",c.ColumnController)],t.prototype,"columnController",void 0),o([g.Autowired("rowRenderer"),i("design:type",d.RowRenderer)],t.prototype,"rowRenderer",void 0),o([g.Autowired("floatingRowModel"),i("design:type",p.FloatingRowModel)],t.prototype,"floatingRowModel",void 0),o([g.Autowired("eventService"),i("design:type",m.EventService)],t.prototype,"eventService",void 0),o([g.Autowired("rowModel"),i("design:type",Object)],t.prototype,"rowModel",void 0),o([g.Optional("rangeController"),i("design:type",Object)],t.prototype,"rangeController",void 0),o([g.Autowired("dragService"),i("design:type",y.DragService)],t.prototype,"dragService",void 0),o([g.Autowired("selectionController"),i("design:type",_.SelectionController)],t.prototype,"selectionController",void 0),o([g.Optional("clipboardService"),i("design:type",Object)],t.prototype,"clipboardService",void 0),o([g.Autowired("csvCreator"),i("design:type",C.CsvCreator)],t.prototype,"csvCreator",void 0),o([g.Autowired("mouseEventService"),i("design:type",w.MouseEventService)],t.prototype,"mouseEventService",void 0),o([g.Autowired("focusedCellController"),i("design:type",E.FocusedCellController)],t.prototype,"focusedCellController",void 0),o([r(0,g.Qualifier("loggerFactory")),i("design:type",Function),i("design:paramtypes",[f.LoggerFactory]),i("design:returntype",void 0)],t.prototype,"agWire",null),o([g.PostConstruct,i("design:type",Function),i("design:paramtypes",[]),i("design:returntype",void 0)],t.prototype,"init",null),t=o([g.Bean("gridPanel"),i("design:paramtypes",[])],t)}();e.GridPanel=S},function(t,e,n){
/**
	 * ag-grid - Advanced Data Grid / Data Table supporting Javascript / React / AngularJS / Web Components
	 * @version v4.2.6
	 * @link http://www.ag-grid.com/
	 * @license MIT
	 */
var o=this&&this.__decorate||function(t,e,n,o){var i,r=arguments.length,a=r<3?e:null===o?o=Object.getOwnPropertyDescriptor(e,n):o;if("object"===("undefined"==typeof Reflect?"undefined":s(Reflect))&&"function"==typeof Reflect.decorate)a=Reflect.decorate(t,e,n,o);else for(var l=t.length-1;l>=0;l--)(i=t[l])&&(a=(r<3?i(a):r>3?i(e,n,a):i(e,n))||a);return r>3&&a&&Object.defineProperty(e,n,a),a},i=this&&this.__metadata||function(t,e){if("object"===("undefined"==typeof Reflect?"undefined":s(Reflect))&&"function"==typeof Reflect.metadata)return Reflect.metadata(t,e)},r=this&&this.__param||function(t,e){return function(n,o){e(n,o,t)}},a=n(3),l=n(13),u=n(24),c=n(4),d=n(5),p=n(10),h=n(6),f=n(6),g=n(6),m=n(6),v=function(){function t(){this.consuming=!1}return t.prototype.setBeans=function(t){this.logger=t.create("MasterSlaveService")},t.prototype.init=function(){this.eventService.addEventListener(p.Events.EVENT_COLUMN_MOVED,this.fireColumnEvent.bind(this)),this.eventService.addEventListener(p.Events.EVENT_COLUMN_VISIBLE,this.fireColumnEvent.bind(this)),this.eventService.addEventListener(p.Events.EVENT_COLUMN_PINNED,this.fireColumnEvent.bind(this)),this.eventService.addEventListener(p.Events.EVENT_COLUMN_GROUP_OPENED,this.fireColumnEvent.bind(this)),this.eventService.addEventListener(p.Events.EVENT_COLUMN_RESIZED,this.fireColumnEvent.bind(this))},t.prototype.fireEvent=function(t){if(!this.consuming){var e=this.gridOptionsWrapper.getSlaveGrids();e&&e.forEach((function(e){if(e.api){var n=e.api.__getMasterSlaveService();t(n)}}))}},t.prototype.onEvent=function(t){this.consuming=!0,t(),this.consuming=!1},t.prototype.fireColumnEvent=function(t){this.fireEvent((function(e){e.onColumnEvent(t)}))},t.prototype.fireHorizontalScrollEvent=function(t){this.fireEvent((function(e){e.onScrollEvent(t)}))},t.prototype.onScrollEvent=function(t){var e=this;this.onEvent((function(){e.gridPanel.setHorizontalScrollPosition(t)}))},t.prototype.getMasterColumns=function(t){var e=[];return t.getColumn()&&e.push(t.getColumn()),t.getColumns()&&t.getColumns().forEach((function(t){e.push(t)})),e},t.prototype.getColumnIds=function(t){var e=[];return t.getColumn()?e.push(t.getColumn().getColId()):t.getColumns()&&t.getColumns().forEach((function(t){e.push(t.getColId())})),e},t.prototype.onColumnEvent=function(t){var e=this;this.onEvent((function(){var n,o=t.getColumn();if(o&&(n=e.columnController.getOriginalColumn(o.getColId())),!o||n){var i,r=t.getColumnGroup();if(r){var a=r.getGroupId(),s=r.getInstanceId();i=e.columnController.getColumnGroup(a,s)}if(!r||i){var l=e.getColumnIds(t),u=e.getMasterColumns(t);switch(t.getType()){case p.Events.EVENT_COLUMN_PIVOT_CHANGED:console.warn("ag-Grid: pivoting is not supported with Master / Slave grids. You can only use one of these features at a time in a grid.");break;case p.Events.EVENT_COLUMN_MOVED:e.logger.log("onColumnEvent-> processing "+t+" toIndex = "+t.getToIndex()),e.columnController.moveColumns(l,t.getToIndex());break;case p.Events.EVENT_COLUMN_VISIBLE:e.logger.log("onColumnEvent-> processing "+t+" visible = "+t.isVisible()),e.columnController.setColumnsVisible(l,t.isVisible());break;case p.Events.EVENT_COLUMN_PINNED:e.logger.log("onColumnEvent-> processing "+t+" pinned = "+t.getPinned()),e.columnController.setColumnsPinned(l,t.getPinned());break;case p.Events.EVENT_COLUMN_GROUP_OPENED:e.logger.log("onColumnEvent-> processing "+t+" expanded = "+r.isExpanded()),e.columnController.setColumnGroupOpened(i,r.isExpanded());break;case p.Events.EVENT_COLUMN_RESIZED:u.forEach((function(n){e.logger.log("onColumnEvent-> processing "+t+" actualWidth = "+n.getActualWidth()),e.columnController.setColumnWidth(n.getColId(),n.getActualWidth(),t.isFinished())}))}}}}))},o([g.Autowired("gridOptionsWrapper"),i("design:type",a.GridOptionsWrapper)],t.prototype,"gridOptionsWrapper",void 0),o([g.Autowired("columnController"),i("design:type",l.ColumnController)],t.prototype,"columnController",void 0),o([g.Autowired("gridPanel"),i("design:type",u.GridPanel)],t.prototype,"gridPanel",void 0),o([g.Autowired("eventService"),i("design:type",c.EventService)],t.prototype,"eventService",void 0),o([r(0,f.Qualifier("loggerFactory")),i("design:type",Function),i("design:paramtypes",[d.LoggerFactory]),i("design:returntype",void 0)],t.prototype,"setBeans",null),o([m.PostConstruct,i("design:type",Function),i("design:paramtypes",[]),i("design:returntype",void 0)],t.prototype,"init",null),t=o([h.Bean("masterSlaveService"),i("design:paramtypes",[])],t)}();e.MasterSlaveService=v},function(t,e,n){
/**
	 * ag-grid - Advanced Data Grid / Data Table supporting Javascript / React / AngularJS / Web Components
	 * @version v4.2.6
	 * @link http://www.ag-grid.com/
	 * @license MIT
	 */
var o=this&&this.__decorate||function(t,e,n,o){var i,r=arguments.length,a=r<3?e:null===o?o=Object.getOwnPropertyDescriptor(e,n):o;if("object"===("undefined"==typeof Reflect?"undefined":s(Reflect))&&"function"==typeof Reflect.decorate)a=Reflect.decorate(t,e,n,o);else for(var l=t.length-1;l>=0;l--)(i=t[l])&&(a=(r<3?i(a):r>3?i(e,n,a):i(e,n))||a);return r>3&&a&&Object.defineProperty(e,n,a),a},i=this&&this.__metadata||function(t,e){if("object"===("undefined"==typeof Reflect?"undefined":s(Reflect))&&"function"==typeof Reflect.metadata)return Reflect.metadata(t,e)},r=n(3),a=n(27),l=n(6),u=n(4),c=n(6),d=n(10),p=n(6),h=n(8),f=n(7),g=function(){function t(){}return t.prototype.init=function(){this.setFloatingTopRowData(this.gridOptionsWrapper.getFloatingTopRowData()),this.setFloatingBottomRowData(this.gridOptionsWrapper.getFloatingBottomRowData())},t.prototype.isEmpty=function(t){var e=t===h.Constants.FLOATING_TOP?this.floatingTopRows:this.floatingBottomRows;return f.Utils.missingOrEmpty(e)},t.prototype.isRowsToRender=function(t){return!this.isEmpty(t)},t.prototype.getRowAtPixel=function(t,e){var n=e===h.Constants.FLOATING_TOP?this.floatingTopRows:this.floatingBottomRows;if(f.Utils.missingOrEmpty(n))return 0;for(var o=0;o<n.length;o++){var i=n[o];if(i.rowTop+i.rowHeight-1>=t)return o}return n.length-1},t.prototype.setFloatingTopRowData=function(t){this.floatingTopRows=this.createNodesFromData(t,!0),this.eventService.dispatchEvent(d.Events.EVENT_FLOATING_ROW_DATA_CHANGED)},t.prototype.setFloatingBottomRowData=function(t){this.floatingBottomRows=this.createNodesFromData(t,!1),this.eventService.dispatchEvent(d.Events.EVENT_FLOATING_ROW_DATA_CHANGED)},t.prototype.createNodesFromData=function(t,e){var n=this,o=[];if(t){var i=0;t.forEach((function(t){var r=new a.RowNode;n.context.wireBean(r),r.data=t,r.floating=e?h.Constants.FLOATING_TOP:h.Constants.FLOATING_BOTTOM,r.rowTop=i,r.rowHeight=n.gridOptionsWrapper.getRowHeightForNode(r),i+=r.rowHeight,o.push(r)}))}return o},t.prototype.getFloatingTopRowData=function(){return this.floatingTopRows},t.prototype.getFloatingBottomRowData=function(){return this.floatingBottomRows},t.prototype.getFloatingTopTotalHeight=function(){return this.getTotalHeight(this.floatingTopRows)},t.prototype.getFloatingBottomTotalHeight=function(){return this.getTotalHeight(this.floatingBottomRows)},t.prototype.getTotalHeight=function(t){if(t&&0!==t.length){var e=t[t.length-1];return e.rowTop+e.rowHeight}return 0},o([c.Autowired("gridOptionsWrapper"),i("design:type",r.GridOptionsWrapper)],t.prototype,"gridOptionsWrapper",void 0),o([c.Autowired("eventService"),i("design:type",u.EventService)],t.prototype,"eventService",void 0),o([c.Autowired("context"),i("design:type",l.Context)],t.prototype,"context",void 0),o([p.PostConstruct,i("design:type",Function),i("design:paramtypes",[]),i("design:returntype",void 0)],t.prototype,"init",null),t=o([l.Bean("floatingRowModel"),i("design:paramtypes",[])],t)}();e.FloatingRowModel=g},function(t,e,n){
/**
	 * ag-grid - Advanced Data Grid / Data Table supporting Javascript / React / AngularJS / Web Components
	 * @version v4.2.6
	 * @link http://www.ag-grid.com/
	 * @license MIT
	 */
var o=this&&this.__decorate||function(t,e,n,o){var i,r=arguments.length,a=r<3?e:null===o?o=Object.getOwnPropertyDescriptor(e,n):o;if("object"===("undefined"==typeof Reflect?"undefined":s(Reflect))&&"function"==typeof Reflect.decorate)a=Reflect.decorate(t,e,n,o);else for(var l=t.length-1;l>=0;l--)(i=t[l])&&(a=(r<3?i(a):r>3?i(e,n,a):i(e,n))||a);return r>3&&a&&Object.defineProperty(e,n,a),a},i=this&&this.__metadata||function(t,e){if("object"===("undefined"==typeof Reflect?"undefined":s(Reflect))&&"function"==typeof Reflect.metadata)return Reflect.metadata(t,e)},r=n(4),a=n(10),l=n(3),u=n(28),c=n(29),d=n(13),p=n(6),h=n(8),f=function(){function t(){this.childrenMapped={},this.selected=!1}return t.prototype.setData=function(e){var n=this.data;this.data=e;var o={oldData:n,newData:e};this.dispatchLocalEvent(t.EVENT_DATA_CHANGED,o)},t.prototype.dispatchLocalEvent=function(t,e){this.eventService&&this.eventService.dispatchEvent(t,e)},t.prototype.setDataValue=function(e,n){var o=this.columnController.getOriginalColumn(e);this.valueService.setValue(this,o,n);var i={column:o,newValue:n};this.dispatchLocalEvent(t.EVENT_CELL_CHANGED,i)},t.prototype.resetQuickFilterAggregateText=function(){this.quickFilterAggregateText=null},t.prototype.isSelected=function(){return this.footer?this.sibling.isSelected():this.selected},t.prototype.deptFirstSearch=function(t){this.childrenAfterGroup&&this.childrenAfterGroup.forEach((function(e){return e.deptFirstSearch(t)})),t(this)},t.prototype.calculateSelectedFromChildren=function(){var t,e=!1,n=!1,o=!1;if(this.childrenAfterGroup)for(var i=0;i<this.childrenAfterGroup.length;i++)switch(this.childrenAfterGroup[i].isSelected()){case!0:e=!0;break;case!1:n=!0;break;default:o=!0}t=o?void 0:!(!e||n)||!(!e&&n)&&void 0,this.selectThisNode(t)},t.prototype.calculateSelectedFromChildrenBubbleUp=function(){this.calculateSelectedFromChildren(),this.parent&&this.parent.calculateSelectedFromChildren()},t.prototype.setSelectedInitialValue=function(t){this.selected=t},t.prototype.setSelected=function(t,e,n){void 0===e&&(e=!1),void 0===n&&(n=!1),this.setSelectedParams({newValue:t,clearSelection:e,tailingNodeInSequence:n,rangeSelect:!1})},t.prototype.setSelectedParams=function(t){var e=!0===t.newValue,n=!0===t.clearSelection,o=!0===t.tailingNodeInSequence,i=!0===t.rangeSelect;if(this.floating)console.log("ag-Grid: cannot select floating rows");else if(this.footer)this.sibling.setSelectedParams(t);else{if(i){var r=this.rowModel.getType()===h.Constants.ROW_MODEL_TYPE_NORMAL,s=this.selectionController.getLastSelectedNode()!==this,l=this.gridOptionsWrapper.isRowSelectionMulti();if(r&&s&&l)return void this.doRowRangeSelection()}this.selectThisNode(e);var u=this.gridOptionsWrapper.isGroupSelectsChildren();u&&this.group&&this.selectChildNodes(e),!o&&(!e||!n&&this.gridOptionsWrapper.isRowSelectionMulti()||this.selectionController.clearOtherNodes(this),u&&this.parent&&this.parent.calculateSelectedFromChildrenBubbleUp(),this.mainEventService.dispatchEvent(a.Events.EVENT_SELECTION_CHANGED),e&&this.selectionController.setLastSelectedNode(this))}},t.prototype.doRowRangeSelection=function(){var t,e=this,n=this.selectionController.getLastSelectedNode(),o=!n,i=!1,r=this.gridOptionsWrapper.isGroupSelectsChildren();this.rowModel.forEachNodeAfterFilterAndSort((function(a){var s=o&&!i;if(o||a!==n&&a!==e||(o=!0),!a.group||!r){var l=o&&!i,u=a.isParentOfNode(t);a.selectThisNode(l||u)}s&&(a!==n&&a!==e||(i=!0,t=a===n?n:e))})),r&&this.calculatedSelectedForAllGroupNodes()},t.prototype.isParentOfNode=function(t){for(var e=this.parent;e;){if(e===t)return!0;e=e.parent}return!1},t.prototype.calculatedSelectedForAllGroupNodes=function(){this.rowModel.getTopLevelNodes().forEach((function(t){t.group&&(t.deptFirstSearch((function(t){t.group&&t.calculateSelectedFromChildren()})),t.calculateSelectedFromChildren())}))},t.prototype.selectThisNode=function(e){if(this.selected!==e){this.selected=e,this.eventService&&this.dispatchLocalEvent(t.EVENT_ROW_SELECTED);var n={node:this};this.mainEventService.dispatchEvent(a.Events.EVENT_ROW_SELECTED,n)}},t.prototype.selectChildNodes=function(t){for(var e=0;e<this.childrenAfterGroup.length;e++)this.childrenAfterGroup[e].setSelectedParams({newValue:t,clearSelection:!1,tailingNodeInSequence:!0})},t.prototype.addEventListener=function(t,e){this.eventService||(this.eventService=new r.EventService),this.eventService.addEventListener(t,e)},t.prototype.removeEventListener=function(t,e){this.eventService.removeEventListener(t,e)},t.prototype.onMouseEnter=function(){this.dispatchLocalEvent(t.EVENT_MOUSE_ENTER)},t.prototype.onMouseLeave=function(){this.dispatchLocalEvent(t.EVENT_MOUSE_LEAVE)},t.EVENT_ROW_SELECTED="rowSelected",t.EVENT_DATA_CHANGED="dataChanged",t.EVENT_CELL_CHANGED="cellChanged",t.EVENT_MOUSE_ENTER="mouseEnter",t.EVENT_MOUSE_LEAVE="mouseLeave",o([p.Autowired("eventService"),i("design:type",r.EventService)],t.prototype,"mainEventService",void 0),o([p.Autowired("gridOptionsWrapper"),i("design:type",l.GridOptionsWrapper)],t.prototype,"gridOptionsWrapper",void 0),o([p.Autowired("selectionController"),i("design:type",u.SelectionController)],t.prototype,"selectionController",void 0),o([p.Autowired("columnController"),i("design:type",d.ColumnController)],t.prototype,"columnController",void 0),o([p.Autowired("valueService"),i("design:type",c.ValueService)],t.prototype,"valueService",void 0),o([p.Autowired("rowModel"),i("design:type",Object)],t.prototype,"rowModel",void 0),t}();e.RowNode=f},function(t,e,n){
/**
	 * ag-grid - Advanced Data Grid / Data Table supporting Javascript / React / AngularJS / Web Components
	 * @version v4.2.6
	 * @link http://www.ag-grid.com/
	 * @license MIT
	 */
var o=this&&this.__decorate||function(t,e,n,o){var i,r=arguments.length,a=r<3?e:null===o?o=Object.getOwnPropertyDescriptor(e,n):o;if("object"===("undefined"==typeof Reflect?"undefined":s(Reflect))&&"function"==typeof Reflect.decorate)a=Reflect.decorate(t,e,n,o);else for(var l=t.length-1;l>=0;l--)(i=t[l])&&(a=(r<3?i(a):r>3?i(e,n,a):i(e,n))||a);return r>3&&a&&Object.defineProperty(e,n,a),a},i=this&&this.__metadata||function(t,e){if("object"===("undefined"==typeof Reflect?"undefined":s(Reflect))&&"function"==typeof Reflect.metadata)return Reflect.metadata(t,e)},r=this&&this.__param||function(t,e){return function(n,o){e(n,o,t)}},a=n(7),l=n(6),u=n(6),c=n(5),d=n(4),p=n(10),h=n(6),f=n(3),g=n(6),m=n(8),v=function(){function t(){}return t.prototype.setBeans=function(t){this.logger=t.create("SelectionController"),this.reset(),this.gridOptionsWrapper.isRowModelDefault()?this.eventService.addEventListener(p.Events.EVENT_ROW_DATA_CHANGED,this.reset.bind(this)):this.logger.log("dont know what to do here")},t.prototype.init=function(){this.eventService.addEventListener(p.Events.EVENT_ROW_SELECTED,this.onRowSelected.bind(this))},t.prototype.setLastSelectedNode=function(t){this.lastSelectedNode=t},t.prototype.getLastSelectedNode=function(){return this.lastSelectedNode},t.prototype.getSelectedNodes=function(){var t=[];return a.Utils.iterateObject(this.selectedNodes,(function(e,n){n&&t.push(n)})),t},t.prototype.getSelectedRows=function(){var t=[];return a.Utils.iterateObject(this.selectedNodes,(function(e,n){n&&t.push(n.data)})),t},t.prototype.removeGroupsFromSelection=function(){var t=this;a.Utils.iterateObject(this.selectedNodes,(function(e,n){n&&n.group&&(t.selectedNodes[n.id]=void 0)}))},t.prototype.updateGroupsFromChildrenSelections=function(){this.rowModel.getType()!==m.Constants.ROW_MODEL_TYPE_NORMAL&&console.warn("updateGroupsFromChildrenSelections not available when rowModel is not normal"),this.rowModel.getTopLevelNodes().forEach((function(t){t.deptFirstSearch((function(t){t.group&&t.calculateSelectedFromChildren()}))}))},t.prototype.getNodeForIdIfSelected=function(t){return this.selectedNodes[t]},t.prototype.clearOtherNodes=function(t){var e=this;a.Utils.iterateObject(this.selectedNodes,(function(n,o){o&&o.id!==t.id&&e.selectedNodes[o.id].setSelectedParams({newValue:!1,clearSelection:!1,tailingNodeInSequence:!0})}))},t.prototype.onRowSelected=function(t){var e=t.node;e.isSelected()?this.selectedNodes[e.id]=e:this.selectedNodes[e.id]=void 0},t.prototype.syncInRowNode=function(t){void 0!==this.selectedNodes[t.id]&&(t.setSelectedInitialValue(!0),this.selectedNodes[t.id]=t)},t.prototype.reset=function(){this.logger.log("reset"),this.selectedNodes={},this.lastSelectedNode=null},t.prototype.getBestCostNodeSelection=function(){this.rowModel.getType()!==m.Constants.ROW_MODEL_TYPE_NORMAL&&console.warn("getBestCostNodeSelection is only avilable when using normal row model");var t=this.rowModel.getTopLevelNodes();if(null!==t){var e=[];return function t(n){for(var o=0,i=n.length;o<i;o++){var r=n[o];r.isSelected()?e.push(r):r.group&&r.children&&t(r.children)}}(t),e}console.warn("selectAll not available doing rowModel=virtual")},t.prototype.setRowModel=function(t){this.rowModel=t},t.prototype.isEmpty=function(){var t=0;return a.Utils.iterateObject(this.selectedNodes,(function(e,n){n&&t++})),0===t},t.prototype.deselectAllRowNodes=function(){a.Utils.iterateObject(this.selectedNodes,(function(t,e){e&&e.selectThisNode(!1)})),this.selectedNodes={},this.eventService.dispatchEvent(p.Events.EVENT_SELECTION_CHANGED)},t.prototype.selectAllRowNodes=function(){if(this.rowModel.getType()!==m.Constants.ROW_MODEL_TYPE_NORMAL)throw"selectAll only available with norma row model, ie not virtual pagination";this.rowModel.forEachNode((function(t){t.setSelectedParams({newValue:!0,clearSelection:!1,tailingNodeInSequence:!0})})),this.eventService.dispatchEvent(p.Events.EVENT_SELECTION_CHANGED)},t.prototype.selectNode=function(t,e){t.setSelectedParams({newValue:!0,clearSelection:!e})},t.prototype.deselectIndex=function(t){var e=this.rowModel.getRow(t);this.deselectNode(e)},t.prototype.deselectNode=function(t){t.setSelectedParams({newValue:!1,clearSelection:!1})},t.prototype.selectIndex=function(t,e){var n=this.rowModel.getRow(t);this.selectNode(n,e)},o([h.Autowired("eventService"),i("design:type",d.EventService)],t.prototype,"eventService",void 0),o([h.Autowired("rowModel"),i("design:type",Object)],t.prototype,"rowModel",void 0),o([h.Autowired("gridOptionsWrapper"),i("design:type",f.GridOptionsWrapper)],t.prototype,"gridOptionsWrapper",void 0),o([r(0,u.Qualifier("loggerFactory")),i("design:type",Function),i("design:paramtypes",[c.LoggerFactory]),i("design:returntype",void 0)],t.prototype,"setBeans",null),o([g.PostConstruct,i("design:type",Function),i("design:paramtypes",[]),i("design:returntype",void 0)],t.prototype,"init",null),t=o([l.Bean("selectionController"),i("design:paramtypes",[])],t)}();e.SelectionController=v},function(t,e,n){
/**
	 * ag-grid - Advanced Data Grid / Data Table supporting Javascript / React / AngularJS / Web Components
	 * @version v4.2.6
	 * @link http://www.ag-grid.com/
	 * @license MIT
	 */
var o=this&&this.__decorate||function(t,e,n,o){var i,r=arguments.length,a=r<3?e:null===o?o=Object.getOwnPropertyDescriptor(e,n):o;if("object"===("undefined"==typeof Reflect?"undefined":s(Reflect))&&"function"==typeof Reflect.decorate)a=Reflect.decorate(t,e,n,o);else for(var l=t.length-1;l>=0;l--)(i=t[l])&&(a=(r<3?i(a):r>3?i(e,n,a):i(e,n))||a);return r>3&&a&&Object.defineProperty(e,n,a),a},i=this&&this.__metadata||function(t,e){if("object"===("undefined"==typeof Reflect?"undefined":s(Reflect))&&"function"==typeof Reflect.metadata)return Reflect.metadata(t,e)},r=n(3),a=n(18),l=n(13),u=n(6),c=n(6),d=n(6),p=n(7),h=n(10),f=n(4),g=function(){function t(){this.initialised=!1}return t.prototype.init=function(){this.suppressDotNotation=this.gridOptionsWrapper.isSuppressFieldDotNotation(),this.cellExpressions=this.gridOptionsWrapper.isEnableCellExpressions(),this.userProvidedTheGroups=p.Utils.exists(this.gridOptionsWrapper.getNodeChildDetailsFunc()),this.initialised=!0},t.prototype.getValue=function(t,e){return this.getValueUsingSpecificData(t,e.data,e)},t.prototype.getValueUsingSpecificData=function(t,e,n){this.initialised||this.init();var o,i=t.getColDef(),r=i.field;if(o=e&&n.group&&!this.userProvidedTheGroups?n.data?n.data[t.getId()]:void 0:i.valueGetter?this.executeValueGetter(i.valueGetter,e,t,n):r&&e?this.getValueUsingField(e,r,t.isFieldContainsDots()):void 0,this.cellExpressions&&"string"==typeof o&&0===o.indexOf("=")){var a=o.substring(1);o=this.executeValueGetter(a,e,t,n)}return o},t.prototype.getValueUsingField=function(t,e,n){if(e&&t){if(n){for(var o=e.split("."),i=t,r=0;r<o.length;r++)if(i=i[o[r]],p.Utils.missing(i))return null;return i}return t[e]}},t.prototype.setValue=function(t,e,n){var o=this.columnController.getOriginalColumn(e);if(t&&o){var i=t.data;if(!p.Utils.missing(i)){var r=o.getColDef().field,a=o.getColDef().newValueHandler;if(!p.Utils.missing(r)||!p.Utils.missing(a)){var s={node:t,data:t.data,oldValue:this.getValue(o,t),newValue:n,colDef:o.getColDef(),api:this.gridOptionsWrapper.getApi(),context:this.gridOptionsWrapper.getContext()};a?a(s):this.setValueUsingField(i,r,n,o.isFieldContainsDots()),t.resetQuickFilterAggregateText(),s.newValue=this.getValue(o,t),"function"==typeof o.getColDef().onCellValueChanged&&o.getColDef().onCellValueChanged(s),this.eventService.dispatchEvent(h.Events.EVENT_CELL_VALUE_CHANGED,s)}}}},t.prototype.setValueUsingField=function(t,e,n,o){if(o)for(var i=e.split("."),r=t;i.length>0&&r;){var a=i.shift();0===i.length?r[a]=n:r=r[a]}else t[e]=n},t.prototype.executeValueGetter=function(t,e,n,o){var i=this.gridOptionsWrapper.getContext(),r=this.gridOptionsWrapper.getApi(),a={data:e,node:o,colDef:n.getColDef(),api:r,context:i,getValue:this.getValueCallback.bind(this,e,o)};return"function"==typeof t?t(a):"string"==typeof t?this.expressionService.evaluate(t,a):void 0},t.prototype.getValueCallback=function(t,e,n){var o=this.columnController.getOriginalColumn(n);return o?this.getValueUsingSpecificData(o,t,e):null},o([c.Autowired("gridOptionsWrapper"),i("design:type",r.GridOptionsWrapper)],t.prototype,"gridOptionsWrapper",void 0),o([c.Autowired("expressionService"),i("design:type",a.ExpressionService)],t.prototype,"expressionService",void 0),o([c.Autowired("columnController"),i("design:type",l.ColumnController)],t.prototype,"columnController",void 0),o([c.Autowired("eventService"),i("design:type",f.EventService)],t.prototype,"eventService",void 0),o([d.PostConstruct,i("design:type",Function),i("design:paramtypes",[]),i("design:returntype",void 0)],t.prototype,"init",null),t=o([u.Bean("valueService"),i("design:paramtypes",[])],t)}();e.ValueService=g},function(t,e,n){
/**
	 * ag-grid - Advanced Data Grid / Data Table supporting Javascript / React / AngularJS / Web Components
	 * @version v4.2.6
	 * @link http://www.ag-grid.com/
	 * @license MIT
	 */
var o=n(7),i=function(){function t(t){var e;this.sizeChangeListeners=[],this.isLayoutPanel=!0,this.fullHeight=!t.north&&!t.south,t.dontFill?(e='<div style="position: relative;"><div id="north"></div><div id="centerRow"><div id="west"></div><div id="east"></div><div id="center"></div></div><div id="south"></div><div id="overlay" style="pointer-events: none; position: absolute; height: 100%; width: 100%; top: 0px; left: 0px;"></div></div>',this.layoutActive=!1):(e=this.fullHeight?'<div style="height: 100%; overflow: auto; position: relative;"><div id="west" style="height: 100%; float: left;"></div><div id="east" style="height: 100%; float: right;"></div><div id="center" style="height: 100%;"></div><div id="overlay" style="pointer-events: none; position: absolute; height: 100%; width: 100%; top: 0px; left: 0px;"></div></div>':'<div style="height: 100%; position: relative;"><div id="north"></div><div id="centerRow" style="height: 100%; overflow: hidden;"><div id="west" style="height: 100%; float: left;"></div><div id="east" style="height: 100%; float: right;"></div><div id="center" style="height: 100%;"></div></div><div id="south"></div><div id="overlay" style="pointer-events: none; position: absolute; height: 100%; width: 100%; top: 0px; left: 0px;"></div></div>',this.layoutActive=!0),this.eGui=o.Utils.loadTemplate(e),this.id="borderLayout",t.name&&(this.id+="_"+t.name),this.eGui.setAttribute("id",this.id),this.childPanels=[],t&&this.setupPanels(t),this.overlays=t.overlays,this.setupOverlays()}return t.prototype.addSizeChangeListener=function(t){this.sizeChangeListeners.push(t)},t.prototype.fireSizeChanged=function(){this.sizeChangeListeners.forEach((function(t){t()}))},t.prototype.setupPanels=function(t){this.eNorthWrapper=this.eGui.querySelector("#north"),this.eSouthWrapper=this.eGui.querySelector("#south"),this.eEastWrapper=this.eGui.querySelector("#east"),this.eWestWrapper=this.eGui.querySelector("#west"),this.eCenterWrapper=this.eGui.querySelector("#center"),this.eOverlayWrapper=this.eGui.querySelector("#overlay"),this.eCenterRow=this.eGui.querySelector("#centerRow"),this.eNorthChildLayout=this.setupPanel(t.north,this.eNorthWrapper),this.eSouthChildLayout=this.setupPanel(t.south,this.eSouthWrapper),this.eEastChildLayout=this.setupPanel(t.east,this.eEastWrapper),this.eWestChildLayout=this.setupPanel(t.west,this.eWestWrapper),this.eCenterChildLayout=this.setupPanel(t.center,this.eCenterWrapper)},t.prototype.setupPanel=function(t,e){if(e)return t?t.isLayoutPanel?(this.childPanels.push(t),e.appendChild(t.getGui()),t):(e.appendChild(t),null):(e.parentNode.removeChild(e),null)},t.prototype.getGui=function(){return this.eGui},t.prototype.doLayout=function(){if(!o.Utils.isVisible(this.eGui))return!1;var t=!1,e=[this.eNorthChildLayout,this.eSouthChildLayout,this.eEastChildLayout,this.eWestChildLayout],n=this;if(o.Utils.forEach(e,(function(e){n.layoutChild(e)&&(t=!0)})),this.layoutActive){var i=this.layoutHeight(),r=this.layoutWidth();(i||r)&&(t=!0)}return this.layoutChild(this.eCenterChildLayout)&&(t=!0),t&&this.fireSizeChanged(),t},t.prototype.layoutChild=function(t){return!!t&&t.doLayout()},t.prototype.layoutHeight=function(){return this.fullHeight?this.layoutHeightFullHeight():this.layoutHeightNormal()},t.prototype.layoutHeightFullHeight=function(){var t=o.Utils.offsetHeight(this.eGui);return t<0&&(t=0),this.centerHeightLastTime!==t&&(this.centerHeightLastTime=t,!0)},t.prototype.layoutHeightNormal=function(){var t=o.Utils.offsetHeight(this.eGui)-o.Utils.offsetHeight(this.eNorthWrapper)-o.Utils.offsetHeight(this.eSouthWrapper);return t<0&&(t=0),this.centerHeightLastTime!==t&&(this.eCenterRow.style.height=t+"px",this.centerHeightLastTime=t,!0)},t.prototype.getCentreHeight=function(){return this.centerHeightLastTime},t.prototype.layoutWidth=function(){var t=o.Utils.offsetWidth(this.eGui)-o.Utils.offsetWidth(this.eEastWrapper)-o.Utils.offsetWidth(this.eWestWrapper);return t<0&&(t=0),this.centerWidthLastTime!==t&&(this.centerWidthLastTime=t,this.eCenterWrapper.style.width=t+"px",!0)},t.prototype.setEastVisible=function(t){this.eEastWrapper&&(this.eEastWrapper.style.display=t?"":"none"),this.doLayout()},t.prototype.setNorthVisible=function(t){this.eNorthWrapper&&(this.eNorthWrapper.style.display=t?"":"none"),this.doLayout()},t.prototype.setupOverlays=function(){this.overlays?this.hideOverlay():this.eOverlayWrapper.parentNode.removeChild(this.eOverlayWrapper)},t.prototype.hideOverlay=function(){o.Utils.removeAllChildren(this.eOverlayWrapper),this.eOverlayWrapper.style.display="none"},t.prototype.showOverlay=function(t){var e=this.overlays?this.overlays[t]:null;e?(o.Utils.removeAllChildren(this.eOverlayWrapper),this.eOverlayWrapper.style.display="",this.eOverlayWrapper.appendChild(e)):(console.log("ag-Grid: unknown overlay"),this.hideOverlay())},t.prototype.setSouthVisible=function(t){this.eSouthWrapper&&(this.eSouthWrapper.style.display=t?"":"none"),this.doLayout()},t}();e.BorderLayout=i},function(t,e,n){
/**
	 * ag-grid - Advanced Data Grid / Data Table supporting Javascript / React / AngularJS / Web Components
	 * @version v4.2.6
	 * @link http://www.ag-grid.com/
	 * @license MIT
	 */
var o=this&&this.__decorate||function(t,e,n,o){var i,r=arguments.length,a=r<3?e:null===o?o=Object.getOwnPropertyDescriptor(e,n):o;if("object"===("undefined"==typeof Reflect?"undefined":s(Reflect))&&"function"==typeof Reflect.decorate)a=Reflect.decorate(t,e,n,o);else for(var l=t.length-1;l>=0;l--)(i=t[l])&&(a=(r<3?i(a):r>3?i(e,n,a):i(e,n))||a);return r>3&&a&&Object.defineProperty(e,n,a),a},i=this&&this.__metadata||function(t,e){if("object"===("undefined"==typeof Reflect?"undefined":s(Reflect))&&"function"==typeof Reflect.metadata)return Reflect.metadata(t,e)},r=n(6),a=n(6),l=n(5),u=n(6),c=n(7),d=function(){function t(){this.onMouseUpListener=this.onMouseUp.bind(this),this.onMouseMoveListener=this.onMouseMove.bind(this),this.destroyFunctions=[]}return t.prototype.init=function(){this.logger=this.loggerFactory.create("DragService")},t.prototype.destroy=function(){this.destroyFunctions.forEach((function(t){return t()}))},t.prototype.addDragSource=function(t){var e=this.onMouseDown.bind(this,t);t.eElement.addEventListener("mousedown",e),this.destroyFunctions.push((function(){return t.eElement.removeEventListener("mousedown",e)}))},t.prototype.onMouseDown=function(t,e){0===e.button&&(this.currentDragParams=t,this.dragging=!1,this.eventLastTime=e,this.dragStartEvent=e,document.addEventListener("mousemove",this.onMouseMoveListener),document.addEventListener("mouseup",this.onMouseUpListener),0===t.dragStartPixels&&this.onMouseMove(e))},t.prototype.isEventNearStartEvent=function(t){var e=c.Utils.exists(this.currentDragParams.dragStartPixels)?this.currentDragParams.dragStartPixels:4;if(0===e)return!1;var n=Math.abs(t.clientX-this.dragStartEvent.clientX),o=Math.abs(t.clientY-this.dragStartEvent.clientY);return Math.max(n,o)<=e},t.prototype.onMouseMove=function(t){if(!this.dragging){if(!this.dragging&&this.isEventNearStartEvent(t))return;this.dragging=!0,this.currentDragParams.onDragStart(this.dragStartEvent)}this.currentDragParams.onDragging(t)},t.prototype.onMouseUp=function(t){document.removeEventListener("mouseup",this.onMouseUpListener),document.removeEventListener("mousemove",this.onMouseMoveListener),this.dragging&&this.currentDragParams.onDragStop(t),this.dragStartEvent=null,this.eventLastTime=null,this.dragging=!1},o([a.Autowired("loggerFactory"),i("design:type",l.LoggerFactory)],t.prototype,"loggerFactory",void 0),o([u.PostConstruct,i("design:type",Function),i("design:paramtypes",[]),i("design:returntype",void 0)],t.prototype,"init",null),o([r.PreDestroy,i("design:type",Function),i("design:paramtypes",[]),i("design:returntype",void 0)],t.prototype,"destroy",null),t=o([r.Bean("dragService"),i("design:paramtypes",[])],t)}();e.DragService=d},function(t,e,n){
/**
	 * ag-grid - Advanced Data Grid / Data Table supporting Javascript / React / AngularJS / Web Components
	 * @version v4.2.6
	 * @link http://www.ag-grid.com/
	 * @license MIT
	 */
var o=this&&this.__decorate||function(t,e,n,o){var i,r=arguments.length,a=r<3?e:null===o?o=Object.getOwnPropertyDescriptor(e,n):o;if("object"===("undefined"==typeof Reflect?"undefined":s(Reflect))&&"function"==typeof Reflect.decorate)a=Reflect.decorate(t,e,n,o);else for(var l=t.length-1;l>=0;l--)(i=t[l])&&(a=(r<3?i(a):r>3?i(e,n,a):i(e,n))||a);return r>3&&a&&Object.defineProperty(e,n,a),a},i=this&&this.__metadata||function(t,e){if("object"===("undefined"==typeof Reflect?"undefined":s(Reflect))&&"function"==typeof Reflect.metadata)return Reflect.metadata(t,e)},r=n(6),a=n(6),l=n(24),u=n(13),c=n(15),d=n(8),p=n(26),h=n(7),f=n(33),g=n(3),m=function(){function t(){}return t.prototype.getCellForMouseEvent=function(t){var e=this.getFloating(t),n=this.getRowIndex(t,e),o=this.getColumn(t);return n>=0&&h.Utils.exists(o)?new f.GridCell(n,e,o):null},t.prototype.getFloating=function(t){var e=this.gridPanel.getFloatingTopClientRect(),n=this.gridPanel.getFloatingBottomClientRect(),o=!this.floatingRowModel.isEmpty(d.Constants.FLOATING_TOP),i=!this.floatingRowModel.isEmpty(d.Constants.FLOATING_BOTTOM);return o&&e.bottom>=t.clientY?d.Constants.FLOATING_TOP:i&&n.top<=t.clientY?d.Constants.FLOATING_BOTTOM:null},t.prototype.getFloatingRowIndex=function(t,e){var n;switch(e){case d.Constants.FLOATING_TOP:n=this.gridPanel.getFloatingTopClientRect();break;case d.Constants.FLOATING_BOTTOM:n=this.gridPanel.getFloatingBottomClientRect()}var o=t.clientY-n.top;return this.floatingRowModel.getRowAtPixel(o,e)},t.prototype.getRowIndex=function(t,e){switch(e){case d.Constants.FLOATING_TOP:case d.Constants.FLOATING_BOTTOM:return this.getFloatingRowIndex(t,e);default:return this.getBodyRowIndex(t)}},t.prototype.getBodyRowIndex=function(t){var e=this.gridPanel.getBodyViewportClientRect(),n=this.gridPanel.getVerticalScrollPosition(),o=t.clientY-e.top+n;return this.rowModel.getRowIndexAtPixel(o)},t.prototype.getContainer=function(t){var e=this.gridPanel.getBodyViewportClientRect(),n=t.clientX;return n<e.left&&this.columnController.isPinningLeft()?c.Column.PINNED_LEFT:n>e.right&&this.columnController.isPinningRight()?c.Column.PINNED_RIGHT:null},t.prototype.getColumn=function(t){if(this.columnController.isEmpty())return null;var e,n=this.getContainer(t),o=this.getColumnsForContainer(n),i=this.getXForContainer(n,t);return i<0&&(e=o[0]),o.forEach((function(t){var n=i>=t.getLeft(),o=i<=t.getRight();n&&o&&(e=t)})),e||(e=o[o.length-1]),e},t.prototype.getColumnsForContainer=function(t){switch(t){case c.Column.PINNED_LEFT:return this.columnController.getDisplayedLeftColumns();case c.Column.PINNED_RIGHT:return this.columnController.getDisplayedRightColumns();default:return this.columnController.getDisplayedCenterColumns()}},t.prototype.getXForContainer=function(t,e){var n;switch(t){case c.Column.PINNED_LEFT:n=this.gridPanel.getPinnedLeftColsViewportClientRect().left;break;case c.Column.PINNED_RIGHT:n=this.gridPanel.getPinnedRightColsViewportClientRect().left;break;default:var o=this.gridPanel.getBodyViewportClientRect(),i=this.gridPanel.getHorizontalScrollPosition();n=o.left-i}return e.clientX-n},o([a.Autowired("gridPanel"),i("design:type",l.GridPanel)],t.prototype,"gridPanel",void 0),o([a.Autowired("columnController"),i("design:type",u.ColumnController)],t.prototype,"columnController",void 0),o([a.Autowired("rowModel"),i("design:type",Object)],t.prototype,"rowModel",void 0),o([a.Autowired("floatingRowModel"),i("design:type",p.FloatingRowModel)],t.prototype,"floatingRowModel",void 0),o([a.Autowired("gridOptionsWrapper"),i("design:type",g.GridOptionsWrapper)],t.prototype,"gridOptionsWrapper",void 0),t=o([r.Bean("mouseEventService"),i("design:paramtypes",[])],t)}();e.MouseEventService=m},function(t,e,n){
/**
	 * ag-grid - Advanced Data Grid / Data Table supporting Javascript / React / AngularJS / Web Components
	 * @version v4.2.6
	 * @link http://www.ag-grid.com/
	 * @license MIT
	 */
var o=n(7),i=n(34),r=function(){function t(t,e,n){this.rowIndex=t,this.column=n,this.floating=o.Utils.makeNull(e)}return t.prototype.getGridRow=function(){return new i.GridRow(this.rowIndex,this.floating)},t.prototype.toString=function(){return"rowIndex = "+this.rowIndex+", floating = "+this.floating+", column = "+(this.column?this.column.getId():null)},t.prototype.createId=function(){return this.rowIndex+"."+this.floating+"."+this.column.getId()},t}();e.GridCell=r},function(t,e,n){
/**
	 * ag-grid - Advanced Data Grid / Data Table supporting Javascript / React / AngularJS / Web Components
	 * @version v4.2.6
	 * @link http://www.ag-grid.com/
	 * @license MIT
	 */
var o=n(8),i=n(7),r=n(33),a=function(){function t(t,e){this.rowIndex=t,this.floating=i.Utils.makeNull(e)}return t.prototype.isFloatingTop=function(){return this.floating===o.Constants.FLOATING_TOP},t.prototype.isFloatingBottom=function(){return this.floating===o.Constants.FLOATING_BOTTOM},t.prototype.isNotFloating=function(){return!this.isFloatingBottom()&&!this.isFloatingTop()},t.prototype.equals=function(t){return this.rowIndex===t.rowIndex&&this.floating===t.floating},t.prototype.toString=function(){return"rowIndex = "+this.rowIndex+", floating = "+this.floating},t.prototype.getGridCell=function(t){return new r.GridCell(this.rowIndex,this.floating,t)},t.prototype.before=function(t){var e=t.floating;switch(this.floating){case o.Constants.FLOATING_TOP:if(e!==o.Constants.FLOATING_TOP)return!0;break;case o.Constants.FLOATING_BOTTOM:if(e!==o.Constants.FLOATING_BOTTOM)return!1;break;default:if(i.Utils.exists(e))return e!==o.Constants.FLOATING_TOP}return this.rowIndex<=t.rowIndex},t}();e.GridRow=a},function(t,e,n){
/**
	 * ag-grid - Advanced Data Grid / Data Table supporting Javascript / React / AngularJS / Web Components
	 * @version v4.2.6
	 * @link http://www.ag-grid.com/
	 * @license MIT
	 */
var o=this&&this.__decorate||function(t,e,n,o){var i,r=arguments.length,a=r<3?e:null===o?o=Object.getOwnPropertyDescriptor(e,n):o;if("object"===("undefined"==typeof Reflect?"undefined":s(Reflect))&&"function"==typeof Reflect.decorate)a=Reflect.decorate(t,e,n,o);else for(var l=t.length-1;l>=0;l--)(i=t[l])&&(a=(r<3?i(a):r>3?i(e,n,a):i(e,n))||a);return r>3&&a&&Object.defineProperty(e,n,a),a},i=this&&this.__metadata||function(t,e){if("object"===("undefined"==typeof Reflect?"undefined":s(Reflect))&&"function"==typeof Reflect.metadata)return Reflect.metadata(t,e)},r=n(6),a=n(4),l=n(10),u=n(3),c=n(13),d=n(7),p=n(33),h=n(8),f=function(){function t(){}return t.prototype.init=function(){this.eventService.addEventListener(l.Events.EVENT_COLUMN_EVERYTHING_CHANGED,this.clearFocusedCell.bind(this)),this.eventService.addEventListener(l.Events.EVENT_COLUMN_GROUP_OPENED,this.clearFocusedCell.bind(this)),this.eventService.addEventListener(l.Events.EVENT_COLUMN_MOVED,this.clearFocusedCell.bind(this)),this.eventService.addEventListener(l.Events.EVENT_COLUMN_PINNED,this.clearFocusedCell.bind(this)),this.eventService.addEventListener(l.Events.EVENT_COLUMN_ROW_GROUP_CHANGED,this.clearFocusedCell.bind(this)),this.eventService.addEventListener(l.Events.EVENT_COLUMN_VISIBLE,this.clearFocusedCell.bind(this))},t.prototype.clearFocusedCell=function(){this.focusedCell=null,this.onCellFocused(!1)},t.prototype.getFocusedCell=function(){return this.focusedCell},t.prototype.getFocusCellIfBrowserFocused=function(){if(!this.focusedCell)return null;var t=this.getGridCellForDomElement(document.activeElement);return t&&this.focusedCell.createId()===t.createId()?this.focusedCell:null},t.prototype.getGridCellForDomElement=function(t){if(!t)return null;for(var e=null,n=null,o=null,i=this;t;)r=t,a=void 0,a=d.Utils.getElementAttribute(r,"row"),d.Utils.exists(a)&&d.Utils.containsClass(r,"ag-row")&&(0===a.indexOf("ft")?(o=h.Constants.FLOATING_TOP,a=a.substr(3)):0===a.indexOf("fb")?(o=h.Constants.FLOATING_BOTTOM,a=a.substr(3)):o=null,n=parseInt(a)),s(t),t=t.parentNode;var r,a;return d.Utils.exists(e)&&d.Utils.exists(n)?new p.GridCell(n,o,e):null;function s(t){var n=d.Utils.getElementAttribute(t,"colid");if(d.Utils.exists(n)&&d.Utils.containsClass(t,"ag-cell")){var o=i.columnController.getOriginalColumn(n);o&&(e=o)}}},t.prototype.setFocusedCell=function(t,e,n,o){if(void 0===o&&(o=!1),!this.gridOptionsWrapper.isSuppressCellSelection()){var i=d.Utils.makeNull(this.columnController.getOriginalColumn(e));this.focusedCell=new p.GridCell(t,d.Utils.makeNull(n),i),this.onCellFocused(o)}},t.prototype.isCellFocused=function(t){return!d.Utils.missing(this.focusedCell)&&this.focusedCell.column===t.column&&this.isRowFocused(t.rowIndex,t.floating)},t.prototype.isRowFocused=function(t,e){if(d.Utils.missing(this.focusedCell))return!1;var n=d.Utils.makeNull(e);return this.focusedCell.rowIndex===t&&this.focusedCell.floating===n},t.prototype.onCellFocused=function(t){var e={rowIndex:null,column:null,floating:null,forceBrowserFocus:t};this.focusedCell&&(e.rowIndex=this.focusedCell.rowIndex,e.column=this.focusedCell.column,e.floating=this.focusedCell.floating),this.eventService.dispatchEvent(l.Events.EVENT_CELL_FOCUSED,e)},o([r.Autowired("eventService"),i("design:type",a.EventService)],t.prototype,"eventService",void 0),o([r.Autowired("gridOptionsWrapper"),i("design:type",u.GridOptionsWrapper)],t.prototype,"gridOptionsWrapper",void 0),o([r.Autowired("columnController"),i("design:type",c.ColumnController)],t.prototype,"columnController",void 0),o([r.PostConstruct,i("design:type",Function),i("design:paramtypes",[]),i("design:returntype",void 0)],t.prototype,"init",null),t=o([r.Bean("focusedCellController"),i("design:paramtypes",[])],t)}();e.FocusedCellController=f},function(t,e,n){
/**
	 * ag-grid - Advanced Data Grid / Data Table supporting Javascript / React / AngularJS / Web Components
	 * @version v4.2.6
	 * @link http://www.ag-grid.com/
	 * @license MIT
	 */
var o=this&&this.__decorate||function(t,e,n,o){var i,r=arguments.length,a=r<3?e:null===o?o=Object.getOwnPropertyDescriptor(e,n):o;if("object"===("undefined"==typeof Reflect?"undefined":s(Reflect))&&"function"==typeof Reflect.decorate)a=Reflect.decorate(t,e,n,o);else for(var l=t.length-1;l>=0;l--)(i=t[l])&&(a=(r<3?i(a):r>3?i(e,n,a):i(e,n))||a);return r>3&&a&&Object.defineProperty(e,n,a),a},i=this&&this.__metadata||function(t,e){if("object"===("undefined"==typeof Reflect?"undefined":s(Reflect))&&"function"==typeof Reflect.metadata)return Reflect.metadata(t,e)},r=n(6),a=n(6),l=function(){function t(){this.templateCache={},this.waitingCallbacks={}}return t.prototype.getTemplate=function(t,e){var n=this.templateCache[t];if(n)return n;var o=this.waitingCallbacks[t],i=this;if(!o){o=[],this.waitingCallbacks[t]=o;var r=new XMLHttpRequest;r.onload=function(){i.handleHttpResult(this,t)},r.open("GET",t),r.send()}return e&&o.push(e),null},t.prototype.handleHttpResult=function(t,e){if(200===t.status&&null!==t.response){this.templateCache[e]=t.response||t.responseText;for(var n=this.waitingCallbacks[e],o=0;o<n.length;o++)(0,n[o])();if(this.$scope){var i=this;setTimeout((function(){i.$scope.$apply()}),0)}}else console.warn("Unable to get template error "+t.status+" - "+e)},o([a.Autowired("$scope"),i("design:type",Object)],t.prototype,"$scope",void 0),t=o([r.Bean("templateService"),i("design:paramtypes",[])],t)}();e.TemplateService=l},function(t,e,n){
/**
	 * ag-grid - Advanced Data Grid / Data Table supporting Javascript / React / AngularJS / Web Components
	 * @version v4.2.6
	 * @link http://www.ag-grid.com/
	 * @license MIT
	 */
var o=this&&this.__decorate||function(t,e,n,o){var i,r=arguments.length,a=r<3?e:null===o?o=Object.getOwnPropertyDescriptor(e,n):o;if("object"===("undefined"==typeof Reflect?"undefined":s(Reflect))&&"function"==typeof Reflect.decorate)a=Reflect.decorate(t,e,n,o);else for(var l=t.length-1;l>=0;l--)(i=t[l])&&(a=(r<3?i(a):r>3?i(e,n,a):i(e,n))||a);return r>3&&a&&Object.defineProperty(e,n,a),a},i=this&&this.__metadata||function(t,e){if("object"===("undefined"==typeof Reflect?"undefined":s(Reflect))&&"function"==typeof Reflect.metadata)return Reflect.metadata(t,e)},r=n(7),a=n(38),l=n(27),u=n(3),c=n(13),d=n(15),p=n(10),h=n(4),f=n(6),g=n(35),m=n(8),v=n(60),y=n(55),b=function(){function t(t,e,n,o,i,r,a){this.renderedCells={},this.destroyFunctions=[],this.parentScope=t,this.rowRenderer=e,this.eBodyContainer=n,this.ePinnedLeftContainer=o,this.ePinnedRightContainer=i,this.rowIndex=a,this.rowNode=r}return t.prototype.init=function(){var t=this;this.createContainers();var e=this.gridOptionsWrapper.isGroupUseEntireRow();this.rowIsHeaderThatSpans=this.rowNode.group&&e,this.scope=this.createChildScopeOrNull(this.rowNode.data),this.rowIsHeaderThatSpans?this.refreshGroupRow():this.refreshCellsIntoRow(),this.addDynamicStyles(),this.addDynamicClasses(),this.addRowIds(),this.setTopAndHeightCss(),this.addRowSelectedListener(),this.addCellFocusedListener(),this.addNodeDataChangedListener(),this.addColumnListener(),this.addHoverFunctionality(),this.attachContainers(),this.gridOptionsWrapper.executeProcessRowPostCreateFunc({eRow:this.eBodyRow,ePinnedLeftRow:this.ePinnedLeftRow,ePinnedRightRow:this.ePinnedRightRow,node:this.rowNode,api:this.gridOptionsWrapper.getApi(),rowIndex:this.rowIndex,addRenderedRowListener:this.addEventListener.bind(this),columnApi:this.gridOptionsWrapper.getColumnApi(),context:this.gridOptionsWrapper.getContext()}),this.scope&&this.eLeftCenterAndRightRows.forEach((function(e){return t.$compile(e)(t.scope)}))},t.prototype.addColumnListener=function(){var t=this,e=this.onColumnChanged.bind(this);this.mainEventService.addEventListener(p.Events.EVENT_COLUMN_GROUP_OPENED,e),this.mainEventService.addEventListener(p.Events.EVENT_COLUMN_VISIBLE,e),this.mainEventService.addEventListener(p.Events.EVENT_COLUMN_PINNED,e),this.destroyFunctions.push((function(){t.mainEventService.removeEventListener(p.Events.EVENT_COLUMN_GROUP_OPENED,e),t.mainEventService.removeEventListener(p.Events.EVENT_COLUMN_VISIBLE,e),t.mainEventService.removeEventListener(p.Events.EVENT_COLUMN_PINNED,e)}))},t.prototype.onColumnChanged=function(t){this.rowIsHeaderThatSpans?t.getType()===p.Events.EVENT_COLUMN_PINNED&&this.refreshGroupRow():this.refreshCellsIntoRow()},t.prototype.refreshCellsIntoRow=function(){var t=this,e=this.columnController.getAllDisplayedColumns(),n=Object.keys(this.renderedCells);e.forEach((function(e){var o=t.getOrCreateCell(e);t.ensureCellInCorrectRow(o),r.Utils.removeFromArray(n,e.getColId())})),n.forEach((function(e){var n=t.renderedCells[e];n&&(n.getParentRow()&&(n.getParentRow().removeChild(n.getGui()),n.setParentRow(null)),n.destroy(),t.renderedCells[e]=null)}))},t.prototype.ensureCellInCorrectRow=function(t){var e,n=t.getGui();switch(t.getColumn().getPinned()){case d.Column.PINNED_LEFT:e=this.ePinnedLeftRow;break;case d.Column.PINNED_RIGHT:e=this.ePinnedRightRow;break;default:e=this.eBodyRow}var o=t.getParentRow();o!==e&&(o&&o.removeChild(n),e.appendChild(n),t.setParentRow(e))},t.prototype.getOrCreateCell=function(t){var e=t.getColId();if(this.renderedCells[e])return this.renderedCells[e];var n=new a.RenderedCell(t,this.rowNode,this.rowIndex,this.scope,this);return this.context.wireBean(n),this.renderedCells[e]=n,n},t.prototype.addRowSelectedListener=function(){var t=this,e=function(){var e=t.rowNode.isSelected();t.eLeftCenterAndRightRows.forEach((function(t){return r.Utils.addOrRemoveCssClass(t,"ag-row-selected",e)}))};this.rowNode.addEventListener(l.RowNode.EVENT_ROW_SELECTED,e),this.destroyFunctions.push((function(){t.rowNode.removeEventListener(l.RowNode.EVENT_ROW_SELECTED,e)}))},t.prototype.addHoverFunctionality=function(){var t=this,e=this.rowNode.onMouseEnter.bind(this.rowNode),n=this.rowNode.onMouseLeave.bind(this.rowNode);this.eLeftCenterAndRightRows.forEach((function(t){t.addEventListener("mouseenter",e),t.addEventListener("mouseleave",n)}));var o=this.addHoverClass.bind(this,!0),i=this.addHoverClass.bind(this,!1);this.rowNode.addEventListener(l.RowNode.EVENT_MOUSE_ENTER,o),this.rowNode.addEventListener(l.RowNode.EVENT_MOUSE_LEAVE,i),this.destroyFunctions.push((function(){t.eLeftCenterAndRightRows.forEach((function(t){t.removeEventListener("mouseenter",e),t.removeEventListener("mouseleave",n)})),t.rowNode.removeEventListener(l.RowNode.EVENT_MOUSE_ENTER,o),t.rowNode.removeEventListener(l.RowNode.EVENT_MOUSE_LEAVE,i)}))},t.prototype.addHoverClass=function(t){this.eLeftCenterAndRightRows.forEach((function(e){return r.Utils.addOrRemoveCssClass(e,"ag-row-hover",t)}))},t.prototype.addCellFocusedListener=function(){var t=this,e=null,n=function(){var n=t.focusedCellController.isRowFocused(t.rowIndex,t.rowNode.floating);n!==e&&(t.eLeftCenterAndRightRows.forEach((function(t){return r.Utils.addOrRemoveCssClass(t,"ag-row-focus",n)})),t.eLeftCenterAndRightRows.forEach((function(t){return r.Utils.addOrRemoveCssClass(t,"ag-row-no-focus",!n)})),e=n)};this.mainEventService.addEventListener(p.Events.EVENT_CELL_FOCUSED,n),this.destroyFunctions.push((function(){t.mainEventService.removeEventListener(p.Events.EVENT_CELL_FOCUSED,n)})),n()},t.prototype.forEachRenderedCell=function(t){r.Utils.iterateObject(this.renderedCells,(function(e,n){n&&t(n)}))},t.prototype.addNodeDataChangedListener=function(){var t=this,e=function(){t.forEachRenderedCell((function(t){return t.refreshCell(!1,!0)}))};this.rowNode.addEventListener(l.RowNode.EVENT_DATA_CHANGED,e),this.destroyFunctions.push((function(){t.rowNode.removeEventListener(l.RowNode.EVENT_DATA_CHANGED,e)}))},t.prototype.createContainers=function(){this.eBodyRow=this.createRowContainer(),this.eLeftCenterAndRightRows=[this.eBodyRow],this.gridOptionsWrapper.isForPrint()||(this.ePinnedLeftRow=this.createRowContainer(),this.ePinnedRightRow=this.createRowContainer(),this.eLeftCenterAndRightRows.push(this.ePinnedLeftRow),this.eLeftCenterAndRightRows.push(this.ePinnedRightRow))},t.prototype.attachContainers=function(){this.eBodyContainer.appendChild(this.eBodyRow),this.gridOptionsWrapper.isForPrint()||(this.ePinnedLeftContainer.appendChild(this.ePinnedLeftRow),this.ePinnedRightContainer.appendChild(this.ePinnedRightRow))},t.prototype.onMouseEvent=function(t,e,n,o){var i=this.renderedCells[o.column.getId()];i&&i.onMouseEvent(t,e,n)},t.prototype.setTopAndHeightCss=function(){if(!this.gridOptionsWrapper.isForPrint()){var t=this.rowNode.rowTop+"px";this.eLeftCenterAndRightRows.forEach((function(e){return e.style.top=t}))}var e=this.rowNode.rowHeight+"px";this.eLeftCenterAndRightRows.forEach((function(t){return t.style.height=e}))},t.prototype.addRowIds=function(){var t=this.rowIndex.toString();if(this.rowNode.floating===m.Constants.FLOATING_BOTTOM?t="fb-"+t:this.rowNode.floating===m.Constants.FLOATING_TOP&&(t="ft-"+t),this.eLeftCenterAndRightRows.forEach((function(e){return e.setAttribute("row",t)})),"function"==typeof this.gridOptionsWrapper.getBusinessKeyForNodeFunc()){var e=this.gridOptionsWrapper.getBusinessKeyForNodeFunc()(this.rowNode);"string"!=typeof e&&"number"!=typeof e||this.eLeftCenterAndRightRows.forEach((function(t){return t.setAttribute("row-id",e)}))}},t.prototype.addEventListener=function(t,e){this.renderedRowEventService||(this.renderedRowEventService=new h.EventService),this.renderedRowEventService.addEventListener(t,e)},t.prototype.removeEventListener=function(t,e){this.renderedRowEventService.removeEventListener(t,e)},t.prototype.getRenderedCellForColumn=function(t){return this.renderedCells[t.getColId()]},t.prototype.getCellForCol=function(t){var e=this.renderedCells[t.getColId()];return e?e.getGui():null},t.prototype.destroy=function(){this.destroyFunctions.forEach((function(t){return t()})),this.destroyScope(),this.eBodyContainer.removeChild(this.eBodyRow),this.gridOptionsWrapper.isForPrint()||(this.ePinnedLeftContainer.removeChild(this.ePinnedLeftRow),this.ePinnedRightContainer.removeChild(this.ePinnedRightRow)),this.forEachRenderedCell((function(t){return t.destroy()})),this.renderedRowEventService&&this.renderedRowEventService.dispatchEvent(t.EVENT_RENDERED_ROW_REMOVED,{node:this.rowNode})},t.prototype.destroyScope=function(){this.scope&&(this.scope.$destroy(),this.scope=null)},t.prototype.isDataInList=function(t){return t.indexOf(this.rowNode.data)>=0},t.prototype.isGroup=function(){return!0===this.rowNode.group},t.prototype.refreshGroupRow=function(){r.Utils.removeAllChildren(this.ePinnedLeftRow),r.Utils.removeAllChildren(this.ePinnedRightRow),r.Utils.removeAllChildren(this.eBodyRow),this.eGroupRow||(this.eGroupRow=this.createGroupSpanningEntireRowCell(!1));var t=this.columnController.isPinningLeft(),e=this.columnController.isPinningRight();t?(this.ePinnedLeftRow.appendChild(this.eGroupRow),this.eGroupRowPaddingCentre||(this.eGroupRowPaddingCentre=this.createGroupSpanningEntireRowCell(!0)),this.eBodyRow.appendChild(this.eGroupRowPaddingCentre)):this.eBodyRow.appendChild(this.eGroupRow),e&&(this.eGroupRowPaddingRight||(this.eGroupRowPaddingRight=this.createGroupSpanningEntireRowCell(!0)),this.ePinnedRightRow.appendChild(this.eGroupRowPaddingRight))},t.prototype.createGroupSpanningEntireRowCell=function(t){var e=document.createElement("span");if(!t){var n=this.gridOptionsWrapper.getGroupRowRenderer(),o=this.gridOptionsWrapper.getGroupRowRendererParams();n||(n=y.CellRendererFactory.GROUP,o={innerRenderer:this.gridOptionsWrapper.getGroupRowInnerRenderer()});var i={data:this.rowNode.data,node:this.rowNode,$scope:this.scope,rowIndex:this.rowIndex,api:this.gridOptionsWrapper.getApi(),columnApi:this.gridOptionsWrapper.getColumnApi(),context:this.gridOptionsWrapper.getContext(),eGridCell:e,eParentOfValue:e,addRenderedRowListener:this.addEventListener.bind(this),colDef:{cellRenderer:n,cellRendererParams:o}};o&&r.Utils.assign(i,o);var a=this.cellRendererService.useCellRenderer(n,e,i);a&&a.destroy&&this.destroyFunctions.push((function(){return a.destroy()}))}return this.rowNode.footer?r.Utils.addCssClass(e,"ag-footer-cell-entire-row"):r.Utils.addCssClass(e,"ag-group-cell-entire-row"),e},t.prototype.createChildScopeOrNull=function(t){if(this.gridOptionsWrapper.isAngularCompileRows()){var e=this.parentScope.$new();return e.data=t,e.context=this.gridOptionsWrapper.getContext(),e}return null},t.prototype.addDynamicStyles=function(){var t=this.gridOptionsWrapper.getRowStyle();t&&("function"==typeof t?console.log("ag-Grid: rowStyle should be an object of key/value styles, not be a function, use getRowStyle() instead"):this.eLeftCenterAndRightRows.forEach((function(e){return r.Utils.addStylesToElement(e,t)})));var e=this.gridOptionsWrapper.getRowStyleFunc();if(e){var n=e({data:this.rowNode.data,node:this.rowNode,api:this.gridOptionsWrapper.getApi(),context:this.gridOptionsWrapper.getContext(),$scope:this.scope});this.eLeftCenterAndRightRows.forEach((function(t){return r.Utils.addStylesToElement(t,n)}))}},t.prototype.createParams=function(){return{node:this.rowNode,data:this.rowNode.data,rowIndex:this.rowIndex,$scope:this.scope,context:this.gridOptionsWrapper.getContext(),api:this.gridOptionsWrapper.getApi()}},t.prototype.createEvent=function(t,e){var n=this.createParams();return n.event=t,n.eventSource=e,n},t.prototype.createRowContainer=function(){var t=this,e=document.createElement("div");return e.addEventListener("click",this.onRowClicked.bind(this)),e.addEventListener("dblclick",(function(e){var n=t.createEvent(e,t);t.mainEventService.dispatchEvent(p.Events.EVENT_ROW_DOUBLE_CLICKED,n)})),e},t.prototype.onRowClicked=function(t){var e=this.createEvent(t,this);this.mainEventService.dispatchEvent(p.Events.EVENT_ROW_CLICKED,e);var n=t.ctrlKey||t.metaKey,o=t.shiftKey;if(!this.rowNode.group&&!this.rowNode.floating){var i=this.gridOptionsWrapper;i.isRowSelection()&&(i.isSuppressRowClickSelection()||(this.rowNode.isSelected()?n?i.isRowDeselection()&&this.rowNode.setSelectedParams({newValue:!1}):this.rowNode.setSelectedParams({newValue:!0,clearSelection:!0}):this.rowNode.setSelectedParams({newValue:!0,clearSelection:!n,rangeSelect:o})))}},t.prototype.getRowNode=function(){return this.rowNode},t.prototype.getRowIndex=function(){return this.rowIndex},t.prototype.refreshCells=function(t,e){if(t){var n=this.columnController.getGridColumns(t);this.forEachRenderedCell((function(t){var o=t.getColumn();n.indexOf(o)>=0&&t.refreshCell(e)}))}},t.prototype.addDynamicClasses=function(){var t=this,e=[];e.push("ag-row"),e.push("ag-row-no-focus"),e.push(this.rowIndex%2==0?"ag-row-even":"ag-row-odd"),this.rowNode.isSelected()&&e.push("ag-row-selected"),this.rowNode.group?(e.push("ag-row-group"),e.push("ag-row-level-"+this.rowNode.level),!this.rowNode.footer&&this.rowNode.expanded&&e.push("ag-row-group-expanded"),this.rowNode.footer||this.rowNode.expanded||e.push("ag-row-group-contracted"),this.rowNode.footer&&e.push("ag-row-footer")):this.rowNode.parent?e.push("ag-row-level-"+(this.rowNode.parent.level+1)):e.push("ag-row-level-0");var n=this.gridOptionsWrapper.getRowClass();n&&("function"==typeof n?console.warn("ag-Grid: rowClass should not be a function, please use getRowClass instead"):"string"==typeof n?e.push(n):Array.isArray(n)&&n.forEach((function(t){e.push(t)})));var o=this.gridOptionsWrapper.getRowClassFunc();if(o){var i=o({node:this.rowNode,data:this.rowNode.data,rowIndex:this.rowIndex,context:this.gridOptionsWrapper.getContext(),api:this.gridOptionsWrapper.getApi()});i&&("string"==typeof i?e.push(i):Array.isArray(i)&&i.forEach((function(t){e.push(t)})))}e.forEach((function(e){t.eLeftCenterAndRightRows.forEach((function(t){return r.Utils.addCssClass(t,e)}))}))},t.EVENT_RENDERED_ROW_REMOVED="renderedRowRemoved",o([f.Autowired("gridOptionsWrapper"),i("design:type",u.GridOptionsWrapper)],t.prototype,"gridOptionsWrapper",void 0),o([f.Autowired("columnController"),i("design:type",c.ColumnController)],t.prototype,"columnController",void 0),o([f.Autowired("$compile"),i("design:type",Object)],t.prototype,"$compile",void 0),o([f.Autowired("eventService"),i("design:type",h.EventService)],t.prototype,"mainEventService",void 0),o([f.Autowired("context"),i("design:type",f.Context)],t.prototype,"context",void 0),o([f.Autowired("focusedCellController"),i("design:type",g.FocusedCellController)],t.prototype,"focusedCellController",void 0),o([f.Autowired("cellRendererService"),i("design:type",v.CellRendererService)],t.prototype,"cellRendererService",void 0),o([f.PostConstruct,i("design:type",Function),i("design:paramtypes",[]),i("design:returntype",void 0)],t.prototype,"init",null),t}();e.RenderedRow=b},function(t,e,n){
/**
	 * ag-grid - Advanced Data Grid / Data Table supporting Javascript / React / AngularJS / Web Components
	 * @version v4.2.6
	 * @link http://www.ag-grid.com/
	 * @license MIT
	 */
var o=this&&this.__extends||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n]);function o(){this.constructor=t}t.prototype=null===e?Object.create(e):(o.prototype=e.prototype,new o)},i=this&&this.__decorate||function(t,e,n,o){var i,r=arguments.length,a=r<3?e:null===o?o=Object.getOwnPropertyDescriptor(e,n):o;if("object"===("undefined"==typeof Reflect?"undefined":s(Reflect))&&"function"==typeof Reflect.decorate)a=Reflect.decorate(t,e,n,o);else for(var l=t.length-1;l>=0;l--)(i=t[l])&&(a=(r<3?i(a):r>3?i(e,n,a):i(e,n))||a);return r>3&&a&&Object.defineProperty(e,n,a),a},r=this&&this.__metadata||function(t,e){if("object"===("undefined"==typeof Reflect?"undefined":s(Reflect))&&"function"==typeof Reflect.metadata)return Reflect.metadata(t,e)},a=n(7),l=n(15),u=n(27),c=n(3),d=n(18),p=n(23),h=n(36),f=n(13),g=n(29),m=n(4),v=n(8),y=n(10),b=n(6),_=n(11),C=n(35),w=n(33),E=n(39),x=n(48),S=n(47),A=n(44),O=n(55),R=n(60),T=n(61),L=n(62),P=function(t){function e(e,n,o,i,r){t.call(this,"<div/>"),this.firstRightPinned=!1,this.lastLeftPinned=!1,this.eGridCell=this.getGui(),this.column=e,this.node=n,this.rowIndex=o,this.scope=i,this.renderedRow=r,this.gridCell=new w.GridCell(o,n.floating,e)}return o(e,t),e.prototype.destroy=function(){t.prototype.destroy.call(this),this.cellEditor&&this.cellEditor.destroy&&this.cellEditor.destroy(),this.cellRenderer&&this.cellRenderer.destroy&&this.cellRenderer.destroy()},e.prototype.setPinnedClasses=function(){var t=this,e=function(){t.firstRightPinned!==t.column.isFirstRightPinned()&&(t.firstRightPinned=t.column.isFirstRightPinned(),a.Utils.addOrRemoveCssClass(t.eGridCell,"ag-cell-first-right-pinned",t.firstRightPinned)),t.lastLeftPinned!==t.column.isLastLeftPinned()&&(t.lastLeftPinned=t.column.isLastLeftPinned(),a.Utils.addOrRemoveCssClass(t.eGridCell,"ag-cell-last-left-pinned",t.lastLeftPinned))};this.column.addEventListener(l.Column.EVENT_FIRST_RIGHT_PINNED_CHANGED,e),this.column.addEventListener(l.Column.EVENT_LAST_LEFT_PINNED_CHANGED,e),this.addDestroyFunc((function(){t.column.removeEventListener(l.Column.EVENT_FIRST_RIGHT_PINNED_CHANGED,e),t.column.removeEventListener(l.Column.EVENT_LAST_LEFT_PINNED_CHANGED,e)})),e()},e.prototype.getParentRow=function(){return this.eParentRow},e.prototype.setParentRow=function(t){this.eParentRow=t},e.prototype.calculateCheckboxSelection=function(){if(this.node.floating)return!1;var t,e=this.column.getColDef();return"boolean"==typeof e.checkboxSelection?e.checkboxSelection:("function"==typeof e.checkboxSelection&&(t=e.checkboxSelection),!t&&this.gridOptionsWrapper.getCheckboxSelection()&&(t=this.gridOptionsWrapper.getCheckboxSelection()),!!t&&t(this.createParams()))},e.prototype.getColumn=function(){return this.column},e.prototype.getValue=function(){var t=this.getDataForRow();return this.valueService.getValueUsingSpecificData(this.column,t,this.node)},e.prototype.getDataForRow=function(){if(this.node.footer)return this.node.data;if(this.node.group){var t=this.gridOptionsWrapper.isGroupIncludeFooter(),e=this.gridOptionsWrapper.isGroupSuppressBlankHeader();return this.node.expanded&&t&&!e?void 0:this.node.data}return this.node.data},e.prototype.setLeftOnCell=function(){var t=this,e=function(){var e=t.column.getLeft();a.Utils.exists(e)?t.eGridCell.style.left=t.column.getLeft()+"px":t.eGridCell.style.left=""};this.column.addEventListener(l.Column.EVENT_LEFT_CHANGED,e),this.addDestroyFunc((function(){t.column.removeEventListener(l.Column.EVENT_LEFT_CHANGED,e)})),e()},e.prototype.addRangeSelectedListener=function(){var t=this;if(this.rangeController){var e=0,n=function(){var n=t.rangeController.getCellRangeCount(t.gridCell);e!==n&&(a.Utils.addOrRemoveCssClass(t.eGridCell,"ag-cell-range-selected",0!==n),a.Utils.addOrRemoveCssClass(t.eGridCell,"ag-cell-range-selected-1",1===n),a.Utils.addOrRemoveCssClass(t.eGridCell,"ag-cell-range-selected-2",2===n),a.Utils.addOrRemoveCssClass(t.eGridCell,"ag-cell-range-selected-3",3===n),a.Utils.addOrRemoveCssClass(t.eGridCell,"ag-cell-range-selected-4",n>=4),e=n)};this.eventService.addEventListener(y.Events.EVENT_RANGE_SELECTION_CHANGED,n),this.addDestroyFunc((function(){t.eventService.removeEventListener(y.Events.EVENT_RANGE_SELECTION_CHANGED,n)})),n()}},e.prototype.addHighlightListener=function(){var t=this;if(this.rangeController){var e=function(e){var n=t.gridCell.createId();e.cells[n]&&t.animateCellWithHighlight()};this.eventService.addEventListener(y.Events.EVENT_FLASH_CELLS,e),this.addDestroyFunc((function(){t.eventService.removeEventListener(y.Events.EVENT_FLASH_CELLS,e)}))}},e.prototype.addChangeListener=function(){var t=this;this.addDestroyableEventListener(this.node,u.RowNode.EVENT_CELL_CHANGED,(function(e){e.column===t.column&&(t.refreshCell(),t.animateCellWithDataChanged())}))},e.prototype.animateCellWithDataChanged=function(){(this.gridOptionsWrapper.isEnableCellChangeFlash()||this.column.getColDef().enableCellChangeFlash)&&this.animateCell("data-changed")},e.prototype.animateCellWithHighlight=function(){this.animateCell("highlight")},e.prototype.animateCell=function(t){var e=this,n="ag-cell-"+t,o="ag-cell-"+t+"-animation";a.Utils.addCssClass(this.eGridCell,n),a.Utils.removeCssClass(this.eGridCell,o),setTimeout((function(){a.Utils.removeCssClass(e.eGridCell,n),a.Utils.addCssClass(e.eGridCell,o),setTimeout((function(){a.Utils.removeCssClass(e.eGridCell,o)}),1e3)}),500)},e.prototype.addCellFocusedListener=function(){var t=this,e=null,n=function(n){var o=t.focusedCellController.isCellFocused(t.gridCell);o!==e&&(a.Utils.addOrRemoveCssClass(t.eGridCell,"ag-cell-focus",o),a.Utils.addOrRemoveCssClass(t.eGridCell,"ag-cell-no-focus",!o),e=o),o&&n&&n.forceBrowserFocus&&t.eGridCell.focus(),t.editingCell&&!o&&t.stopEditing()};this.eventService.addEventListener(y.Events.EVENT_CELL_FOCUSED,n),this.addDestroyFunc((function(){t.eventService.removeEventListener(y.Events.EVENT_CELL_FOCUSED,n)})),n()},e.prototype.setWidthOnCell=function(){var t=this,e=function(){t.eGridCell.style.width=t.column.getActualWidth()+"px"};this.column.addEventListener(l.Column.EVENT_WIDTH_CHANGED,e),this.addDestroyFunc((function(){t.column.removeEventListener(l.Column.EVENT_WIDTH_CHANGED,e)})),e()},e.prototype.init=function(){this.value=this.getValue(),this.checkboxSelection=this.calculateCheckboxSelection(),this.setLeftOnCell(),this.setWidthOnCell(),this.setPinnedClasses(),this.addRangeSelectedListener(),this.addHighlightListener(),this.addChangeListener(),this.addCellFocusedListener(),this.addKeyDownListener(),this.addKeyPressListener(),this.gridOptionsWrapper.isSuppressCellSelection()||this.eGridCell.setAttribute("tabindex","-1"),this.addClasses(),this.setInlineEditingClass(),this.createParentOfValue(),this.populateCell()},e.prototype.onEnterKeyDown=function(){this.editingCell?(this.stopEditing(),this.focusCell(!0)):this.startEditingIfEnabled(v.Constants.KEY_ENTER)},e.prototype.onF2KeyDown=function(){this.editingCell||this.startEditingIfEnabled(v.Constants.KEY_F2)},e.prototype.onEscapeKeyDown=function(){this.editingCell&&(this.stopEditing(!0),this.focusCell(!0))},e.prototype.onPopupEditorClosed=function(){this.editingCell&&(this.stopEditing(!0),this.focusedCellController.isCellFocused(this.gridCell)&&this.focusCell(!0))},e.prototype.onTabKeyDown=function(t){var e;this.editingCell?(this.stopEditing(),e=!0):e=!1,this.rowRenderer.moveFocusToNextCell(this.rowIndex,this.column,this.node.floating,t.shiftKey,e)&&t.preventDefault()},e.prototype.onBackspaceOrDeleteKeyPressed=function(t){this.editingCell||this.startEditingIfEnabled(t)},e.prototype.onSpaceKeyPressed=function(){if(!this.editingCell&&this.gridOptionsWrapper.isRowSelection()){var t=this.node.isSelected();this.node.setSelected(!t)}event.preventDefault()},e.prototype.onNavigationKeyPressed=function(t,e){this.editingCell&&this.stopEditing(),this.rowRenderer.navigateToNextCell(e,this.rowIndex,this.column,this.node.floating),t.preventDefault()},e.prototype.addKeyPressListener=function(){var t=this,n=this,o=function(t){if(n.isCellEditable()){var o=String.fromCharCode(t.charCode);" "===o?n.onSpaceKeyPressed():e.PRINTABLE_CHARACTERS.indexOf(o)>=0&&(n.startEditingIfEnabled(null,o),t.preventDefault())}};this.eGridCell.addEventListener("keypress",o),this.addDestroyFunc((function(){t.eGridCell.removeEventListener("keypress",o)}))},e.prototype.onKeyDown=function(t){var e=t.which||t.keyCode;switch(e){case v.Constants.KEY_ENTER:this.onEnterKeyDown();break;case v.Constants.KEY_F2:this.onF2KeyDown();break;case v.Constants.KEY_ESCAPE:this.onEscapeKeyDown();break;case v.Constants.KEY_TAB:this.onTabKeyDown(t);break;case v.Constants.KEY_BACKSPACE:case v.Constants.KEY_DELETE:this.onBackspaceOrDeleteKeyPressed(e);break;case v.Constants.KEY_DOWN:case v.Constants.KEY_UP:case v.Constants.KEY_RIGHT:case v.Constants.KEY_LEFT:this.onNavigationKeyPressed(t,e)}},e.prototype.addKeyDownListener=function(){var t=this,e=this.onKeyDown.bind(this);this.eGridCell.addEventListener("keydown",e),this.addDestroyFunc((function(){t.eGridCell.removeEventListener("keydown",e)}))},e.prototype.createCellEditor=function(t,e){var n=this.column.getColDef(),o=this.cellEditorFactory.createCellEditor(n.cellEditor);if(o.init){var i={value:this.getValue(),keyPress:t,charPress:e,column:this.column,node:this.node,api:this.gridOptionsWrapper.getApi(),columnApi:this.gridOptionsWrapper.getColumnApi(),context:this.gridOptionsWrapper.getContext(),onKeyDown:this.onKeyDown.bind(this),stopEditing:this.stopEditingAndFocus.bind(this)};n.cellEditorParams&&a.Utils.assign(i,n.cellEditorParams),o.init&&o.init(i)}return o},e.prototype.stopEditingAndFocus=function(){this.stopEditing(),this.focusCell(!0)},e.prototype.startEditingIfEnabled=function(t,e){if(this.isCellEditable()){var n=this.createCellEditor(t,e);n.isCancelBeforeStart&&n.isCancelBeforeStart()?n.destroy&&n.destroy():n.getGui?(this.cellEditor=n,this.editingCell=!0,this.cellEditorInPopup=this.cellEditor.isPopup&&this.cellEditor.isPopup(),this.setInlineEditingClass(),this.cellEditorInPopup?this.addPopupCellEditor():this.addInCellEditor(),n.afterGuiAttached&&n.afterGuiAttached()):console.warn("ag-Grid: cellEditor for column "+this.column.getId()+" is missing getGui() method")}},e.prototype.addInCellEditor=function(){a.Utils.removeAllChildren(this.eGridCell),this.eGridCell.appendChild(this.cellEditor.getGui()),this.gridOptionsWrapper.isAngularCompileRows()&&this.$compile(this.eGridCell)(this.scope)},e.prototype.addPopupCellEditor=function(){var t=this,e=this.cellEditor.getGui();this.hideEditorPopup=this.popupService.addAsModalPopup(e,!0,(function(){t.editingCell&&t.onPopupEditorClosed()})),this.popupService.positionPopupOverComponent({eventSource:this.eGridCell,ePopup:e,keepWithinBounds:!0}),this.gridOptionsWrapper.isAngularCompileRows()&&this.$compile(e)(this.scope)},e.prototype.focusCell=function(t){this.focusedCellController.setFocusedCell(this.rowIndex,this.column,this.node.floating,t)},e.prototype.stopEditing=function(t){if(void 0===t&&(t=!1),this.editingCell){this.editingCell=!1;var e=this.cellEditor.isCancelAfterEnd&&this.cellEditor.isCancelAfterEnd();if(!t&&!e){var n=this.cellEditor.getValue();this.valueService.setValue(this.node,this.column,n),this.value=this.getValue()}this.cellEditor.destroy&&this.cellEditor.destroy(),this.cellEditorInPopup?(this.hideEditorPopup(),this.hideEditorPopup=null):(a.Utils.removeAllChildren(this.eGridCell),this.checkboxSelection?this.eGridCell.appendChild(this.eCellWrapper):this.cellRenderer&&this.eGridCell.appendChild(this.cellRenderer.getGui())),this.setInlineEditingClass(),this.refreshCell()}},e.prototype.createParams=function(){return{node:this.node,data:this.node.data,value:this.value,rowIndex:this.rowIndex,colDef:this.column.getColDef(),$scope:this.scope,context:this.gridOptionsWrapper.getContext(),api:this.gridApi,columnApi:this.columnApi}},e.prototype.createEvent=function(t,e){var n=this.createParams();return n.event=t,n},e.prototype.isCellEditable=function(){return!this.editingCell&&!this.node.group&&this.column.isCellEditable(this.node)},e.prototype.onMouseEvent=function(t,e,n){switch(t){case"click":this.onCellClicked(e);break;case"mousedown":this.onMouseDown();break;case"dblclick":this.onCellDoubleClicked(e,n);break;case"contextmenu":this.onContextMenu(e)}},e.prototype.onContextMenu=function(t){if(!t.ctrlKey&&!t.metaKey){var e=this.column.getColDef(),n=this.createEvent(t);this.eventService.dispatchEvent(y.Events.EVENT_CELL_CONTEXT_MENU,n),e.onCellContextMenu&&e.onCellContextMenu(n),this.contextMenuFactory&&!this.gridOptionsWrapper.isSuppressContextMenu()&&(this.contextMenuFactory.showMenu(this.node,this.column,this.value,t),t.preventDefault())}},e.prototype.onCellDoubleClicked=function(t,e){var n=this.column.getColDef(),o=this.createEvent(t,e);this.eventService.dispatchEvent(y.Events.EVENT_CELL_DOUBLE_CLICKED,o),"function"==typeof n.onCellDoubleClicked&&n.onCellDoubleClicked(o),this.gridOptionsWrapper.isSingleClickEdit()||this.startEditingIfEnabled()},e.prototype.onMouseDown=function(){if(this.focusCell(!1),this.rangeController){var t=this.gridCell;this.rangeController.isCellInAnyRange(t)||this.rangeController.setRangeToCell(t)}},e.prototype.onCellClicked=function(t){var e=this.createEvent(t,this);this.eventService.dispatchEvent(y.Events.EVENT_CELL_CLICKED,e);var n=this.column.getColDef();n.onCellClicked&&n.onCellClicked(e),this.gridOptionsWrapper.isSingleClickEdit()&&this.startEditingIfEnabled()},e.prototype.setInlineEditingClass=function(){var t=this.editingCell&&!this.cellEditorInPopup;a.Utils.addOrRemoveCssClass(this.eGridCell,"ag-cell-inline-editing",t),a.Utils.addOrRemoveCssClass(this.eGridCell,"ag-cell-not-inline-editing",!t)},e.prototype.populateCell=function(){this.putDataIntoCell(),this.addStylesFromColDef(),this.addClassesFromColDef(),this.addClassesFromRules()},e.prototype.addStylesFromColDef=function(){var t=this.column.getColDef();if(t.cellStyle){var e;if("function"==typeof t.cellStyle){var n={value:this.value,data:this.node.data,node:this.node,colDef:t,column:this.column,$scope:this.scope,context:this.gridOptionsWrapper.getContext(),api:this.gridOptionsWrapper.getApi()};e=(0,t.cellStyle)(n)}else e=t.cellStyle;e&&a.Utils.addStylesToElement(this.eGridCell,e)}},e.prototype.addClassesFromColDef=function(){var t=this,e=this.column.getColDef();if(e.cellClass){var n;if("function"==typeof e.cellClass){var o={value:this.value,data:this.node.data,node:this.node,colDef:e,$scope:this.scope,context:this.gridOptionsWrapper.getContext(),api:this.gridOptionsWrapper.getApi()};n=(0,e.cellClass)(o)}else n=e.cellClass;"string"==typeof n?a.Utils.addCssClass(this.eGridCell,n):Array.isArray(n)&&n.forEach((function(e){a.Utils.addCssClass(t.eGridCell,e)}))}},e.prototype.addClassesFromRules=function(){var t=this.column.getColDef(),e=t.cellClassRules;if("object"===s(e)&&null!==e)for(var n={value:this.value,data:this.node.data,node:this.node,colDef:t,rowIndex:this.rowIndex,api:this.gridOptionsWrapper.getApi(),context:this.gridOptionsWrapper.getContext()},o=Object.keys(e),i=0;i<o.length;i++){var r,l=o[i],u=e[l];"string"==typeof u?r=this.expressionService.evaluate(u,n):"function"==typeof u&&(r=u(n)),r?a.Utils.addCssClass(this.eGridCell,l):a.Utils.removeCssClass(this.eGridCell,l)}},e.prototype.createParentOfValue=function(){if(this.checkboxSelection){this.eCellWrapper=document.createElement("span"),a.Utils.addCssClass(this.eCellWrapper,"ag-cell-wrapper"),this.eGridCell.appendChild(this.eCellWrapper);var t=new L.CheckboxSelectionComponent;this.context.wireBean(t),t.init({rowNode:this.node}),this.eCellWrapper.appendChild(t.getGui()),this.addDestroyFunc((function(){return t.destroy()})),this.eSpanWithValue=document.createElement("span"),a.Utils.addCssClass(this.eSpanWithValue,"ag-cell-value"),this.eCellWrapper.appendChild(this.eSpanWithValue),this.eParentOfValue=this.eSpanWithValue}else a.Utils.addCssClass(this.eGridCell,"ag-cell-value"),this.eParentOfValue=this.eGridCell},e.prototype.isVolatile=function(){return this.column.getColDef().volatile},e.prototype.refreshCell=function(t,e){if(void 0===t&&(t=!1),void 0===e&&(e=!1),this.value=this.getValue(),!e&&this.cellRenderer&&this.cellRenderer.refresh){var n=this.formatValue(this.value),o=this.column.getColDef().cellRendererParams,i=this.createRendererAndRefreshParams(n,o);this.cellRenderer.refresh(i),this.addClassesFromRules()}else a.Utils.removeAllChildren(this.eParentOfValue),this.cellRenderer&&this.cellRenderer.destroy&&this.cellRenderer.destroy(),this.cellRenderer=null,this.populateCell(),this.gridOptionsWrapper.isAngularCompileRows()&&this.$compile(this.eGridCell)(this.scope);t&&this.animateCellWithDataChanged()},e.prototype.putDataIntoCell=function(){var t=this.column.getColDef(),e=this.valueFormatterService.formatValue(this.column,this.node,this.scope,this.rowIndex,this.value);if(t.template)this.eParentOfValue.innerHTML=t.template;else if(t.templateUrl){var n=this.templateService.getTemplate(t.templateUrl,this.refreshCell.bind(this,!0));n&&(this.eParentOfValue.innerHTML=n)}else if(t.floatingCellRenderer&&this.node.floating)this.useCellRenderer(t.floatingCellRenderer,t.floatingCellRendererParams,e);else if(t.cellRenderer)this.useCellRenderer(t.cellRenderer,t.cellRendererParams,e);else{var o=a.Utils.exists(e)?e:this.value;a.Utils.exists(o)&&""!==o&&(this.eParentOfValue.innerHTML=o.toString())}if(t.tooltipField){var i=this.getDataForRow()[t.tooltipField];this.eParentOfValue.setAttribute("title",i)}},e.prototype.formatValue=function(t){return this.valueFormatterService.formatValue(this.column,this.node,this.scope,this.rowIndex,t)},e.prototype.createRendererAndRefreshParams=function(t,e){var n={value:this.value,valueFormatted:t,valueGetter:this.getValue,formatValue:this.formatValue.bind(this),data:this.node.data,node:this.node,colDef:this.column.getColDef(),column:this.column,$scope:this.scope,rowIndex:this.rowIndex,api:this.gridOptionsWrapper.getApi(),columnApi:this.gridOptionsWrapper.getColumnApi(),context:this.gridOptionsWrapper.getContext(),refreshCell:this.refreshCell.bind(this),eGridCell:this.eGridCell,eParentOfValue:this.eParentOfValue,addRenderedRowListener:this.renderedRow.addEventListener.bind(this.renderedRow)};return e&&a.Utils.assign(n,e),n},e.prototype.useCellRenderer=function(t,e,n){var o=this.createRendererAndRefreshParams(n,e);this.cellRenderer=this.cellRendererService.useCellRenderer(t,this.eParentOfValue,o)},e.prototype.addClasses=function(){a.Utils.addCssClass(this.eGridCell,"ag-cell"),this.eGridCell.setAttribute("colId",this.column.getColId()),this.node.group&&this.node.footer&&a.Utils.addCssClass(this.eGridCell,"ag-footer-cell"),this.node.group&&!this.node.footer&&a.Utils.addCssClass(this.eGridCell,"ag-group-cell")},e.PRINTABLE_CHARACTERS="qwertyuiopasdfghjklzxcvbnmQWERTYUIOPASDFGHJKLZXCVBNM1234567890!\"¬£$%^&*()_+-=[];'#,./|<>?:@~{}",i([b.Autowired("context"),r("design:type",b.Context)],e.prototype,"context",void 0),i([b.Autowired("columnApi"),r("design:type",f.ColumnApi)],e.prototype,"columnApi",void 0),i([b.Autowired("gridApi"),r("design:type",_.GridApi)],e.prototype,"gridApi",void 0),i([b.Autowired("gridOptionsWrapper"),r("design:type",c.GridOptionsWrapper)],e.prototype,"gridOptionsWrapper",void 0),i([b.Autowired("expressionService"),r("design:type",d.ExpressionService)],e.prototype,"expressionService",void 0),i([b.Autowired("rowRenderer"),r("design:type",p.RowRenderer)],e.prototype,"rowRenderer",void 0),i([b.Autowired("$compile"),r("design:type",Object)],e.prototype,"$compile",void 0),i([b.Autowired("templateService"),r("design:type",h.TemplateService)],e.prototype,"templateService",void 0),i([b.Autowired("valueService"),r("design:type",g.ValueService)],e.prototype,"valueService",void 0),i([b.Autowired("eventService"),r("design:type",m.EventService)],e.prototype,"eventService",void 0),i([b.Autowired("columnController"),r("design:type",f.ColumnController)],e.prototype,"columnController",void 0),i([b.Optional("rangeController"),r("design:type",Object)],e.prototype,"rangeController",void 0),i([b.Autowired("focusedCellController"),r("design:type",C.FocusedCellController)],e.prototype,"focusedCellController",void 0),i([b.Optional("contextMenuFactory"),r("design:type",Object)],e.prototype,"contextMenuFactory",void 0),i([b.Autowired("focusService"),r("design:type",E.FocusService)],e.prototype,"focusService",void 0),i([b.Autowired("cellEditorFactory"),r("design:type",x.CellEditorFactory)],e.prototype,"cellEditorFactory",void 0),i([b.Autowired("cellRendererFactory"),r("design:type",O.CellRendererFactory)],e.prototype,"cellRendererFactory",void 0),i([b.Autowired("popupService"),r("design:type",A.PopupService)],e.prototype,"popupService",void 0),i([b.Autowired("cellRendererService"),r("design:type",R.CellRendererService)],e.prototype,"cellRendererService",void 0),i([b.Autowired("valueFormatterService"),r("design:type",T.ValueFormatterService)],e.prototype,"valueFormatterService",void 0),i([b.PostConstruct,r("design:type",Function),r("design:paramtypes",[]),r("design:returntype",void 0)],e.prototype,"init",null),e}(S.Component);e.RenderedCell=P},function(t,e,n){
/**
	 * ag-grid - Advanced Data Grid / Data Table supporting Javascript / React / AngularJS / Web Components
	 * @version v4.2.6
	 * @link http://www.ag-grid.com/
	 * @license MIT
	 */
var o=this&&this.__decorate||function(t,e,n,o){var i,r=arguments.length,a=r<3?e:null===o?o=Object.getOwnPropertyDescriptor(e,n):o;if("object"===("undefined"==typeof Reflect?"undefined":s(Reflect))&&"function"==typeof Reflect.decorate)a=Reflect.decorate(t,e,n,o);else for(var l=t.length-1;l>=0;l--)(i=t[l])&&(a=(r<3?i(a):r>3?i(e,n,a):i(e,n))||a);return r>3&&a&&Object.defineProperty(e,n,a),a},i=this&&this.__metadata||function(t,e){if("object"===("undefined"==typeof Reflect?"undefined":s(Reflect))&&"function"==typeof Reflect.metadata)return Reflect.metadata(t,e)},r=n(6),a=n(7),l=n(40),u=n(13),c=n(8),d=n(33),p=function(){function t(){this.destroyMethods=[],this.listeners=[]}return t.prototype.addListener=function(t){this.listeners.push(t)},t.prototype.removeListener=function(t){a.Utils.removeFromArray(this.listeners,t)},t.prototype.init=function(){var t=this,e=function(e){var n=t.getCellForFocus(e);n&&t.informListeners({gridCell:n})},n=this.gridCore.getRootGui();n.addEventListener("focus",e,!0),this.destroyMethods.push((function(){n.removeEventListener("focus",e)}))},t.prototype.getCellForFocus=function(t){for(var e=null,n=null,o=null,i=this,r=t.target;r;)s(r),l(r),r=r.parentNode;return a.Utils.exists(e)&&a.Utils.exists(n)?new d.GridCell(n,o,e):null;function s(t){var e=a.Utils.getElementAttribute(t,"row");a.Utils.exists(e)&&a.Utils.containsClass(t,"ag-row")&&(0===e.indexOf("ft")?(o=c.Constants.FLOATING_TOP,e=e.substr(3)):0===e.indexOf("fb")?(o=c.Constants.FLOATING_BOTTOM,e=e.substr(3)):o=null,n=parseInt(e))}function l(t){var n=a.Utils.getElementAttribute(t,"colid");if(a.Utils.exists(n)&&a.Utils.containsClass(t,"ag-cell")){var o=i.columnController.getOriginalColumn(n);o&&(e=o)}}},t.prototype.informListeners=function(t){this.listeners.forEach((function(e){return e(t)}))},t.prototype.destroy=function(){this.destroyMethods.forEach((function(t){return t()}))},o([r.Autowired("gridCore"),i("design:type",l.GridCore)],t.prototype,"gridCore",void 0),o([r.Autowired("columnController"),i("design:type",u.ColumnController)],t.prototype,"columnController",void 0),o([r.PostConstruct,i("design:type",Function),i("design:paramtypes",[]),i("design:returntype",void 0)],t.prototype,"init",null),o([r.PreDestroy,i("design:type",Function),i("design:paramtypes",[]),i("design:returntype",void 0)],t.prototype,"destroy",null),t=o([r.Bean("focusService"),i("design:paramtypes",[])],t)}();e.FocusService=p},function(t,e,n){
/**
	 * ag-grid - Advanced Data Grid / Data Table supporting Javascript / React / AngularJS / Web Components
	 * @version v4.2.6
	 * @link http://www.ag-grid.com/
	 * @license MIT
	 */
var o=this&&this.__decorate||function(t,e,n,o){var i,r=arguments.length,a=r<3?e:null===o?o=Object.getOwnPropertyDescriptor(e,n):o;if("object"===("undefined"==typeof Reflect?"undefined":s(Reflect))&&"function"==typeof Reflect.decorate)a=Reflect.decorate(t,e,n,o);else for(var l=t.length-1;l>=0;l--)(i=t[l])&&(a=(r<3?i(a):r>3?i(e,n,a):i(e,n))||a);return r>3&&a&&Object.defineProperty(e,n,a),a},i=this&&this.__metadata||function(t,e){if("object"===("undefined"==typeof Reflect?"undefined":s(Reflect))&&"function"==typeof Reflect.metadata)return Reflect.metadata(t,e)},r=this&&this.__param||function(t,e){return function(n,o){e(n,o,t)}},a=n(3),l=n(41),u=n(13),c=n(23),d=n(43),p=n(4),h=n(24),f=n(5),g=n(8),m=n(44),v=n(10),y=n(30),b=n(6),_=n(35),C=n(47),w=function(){function t(t){this.logger=t.create("GridCore")}return t.prototype.init=function(){var t,e,n=this,o=this.createSouthPanel();this.toolPanel&&!this.gridOptionsWrapper.isForPrint()&&(t=this.toolPanel.getGui()),this.rowGroupCompFactory&&(this.rowGroupComp=this.rowGroupCompFactory.create(),e=this.rowGroupComp.getGui()),this.eRootPanel=new y.BorderLayout({center:this.gridPanel.getLayout(),east:t,north:e,south:o,dontFill:this.gridOptionsWrapper.isForPrint(),name:"eRootPanel"}),this.showToolPanel(this.gridOptionsWrapper.isShowToolPanel()),this.eGridDiv.appendChild(this.eRootPanel.getGui()),this.$scope&&this.$scope.$watch(this.quickFilterOnScope,(function(t){return n.filterManager.setQuickFilter(t)})),this.gridOptionsWrapper.isForPrint()||this.addWindowResizeListener(),this.doLayout(),this.finished=!1,this.periodicallyDoLayout(),this.eventService.addEventListener(v.Events.EVENT_COLUMN_ROW_GROUP_CHANGED,this.onRowGroupChanged.bind(this)),this.eventService.addEventListener(v.Events.EVENT_COLUMN_EVERYTHING_CHANGED,this.onRowGroupChanged.bind(this)),this.onRowGroupChanged(),this.logger.log("ready")},t.prototype.getRootGui=function(){return this.eRootPanel.getGui()},t.prototype.createSouthPanel=function(){!this.statusBar&&this.gridOptionsWrapper.isEnableStatusBar()&&console.warn("ag-Grid: status bar is only available in ag-Grid-Enterprise");var t=this.statusBar&&this.gridOptionsWrapper.isEnableStatusBar(),e=this.gridOptionsWrapper.isRowModelPagination()&&!this.gridOptionsWrapper.isForPrint();if(!t&&!e)return null;var n=document.createElement("div");return t&&n.appendChild(this.statusBar.getGui()),e&&n.appendChild(this.paginationController.getGui()),n},t.prototype.onRowGroupChanged=function(){if(this.rowGroupComp){var t=this.gridOptionsWrapper.getRowGroupPanelShow();if(t===g.Constants.ALWAYS)this.eRootPanel.setNorthVisible(!0);else if(t===g.Constants.ONLY_WHEN_GROUPING){var e=!this.columnController.isRowGroupEmpty();this.eRootPanel.setNorthVisible(e)}else this.eRootPanel.setNorthVisible(!1)}},t.prototype.addWindowResizeListener=function(){var t=this;this.windowResizeListener=function(){t.doLayout()},window.addEventListener("resize",this.windowResizeListener)},t.prototype.periodicallyDoLayout=function(){if(!this.finished){var t=this;setTimeout((function(){t.doLayout(),t.gridPanel.periodicallyCheck(),t.periodicallyDoLayout()}),500)}},t.prototype.showToolPanel=function(t){if(t&&!this.toolPanel)return console.warn("ag-Grid: toolPanel is only available in ag-Grid Enterprise"),void(this.toolPanelShowing=!1);this.toolPanelShowing=t,this.eRootPanel.setEastVisible(t)},t.prototype.isToolPanelShowing=function(){return this.toolPanelShowing},t.prototype.destroy=function(){this.windowResizeListener&&(window.removeEventListener("resize",this.windowResizeListener),this.logger.log("Removing windowResizeListener")),this.finished=!0,this.eGridDiv.removeChild(this.eRootPanel.getGui()),this.logger.log("Grid DOM removed")},t.prototype.ensureNodeVisible=function(t){if(this.doingVirtualPaging)throw"Cannot use ensureNodeVisible when doing virtual paging, as we cannot check rows that are not in memory";for(var e=this.rowModel.getRowCount(),n="function"==typeof t,o=-1,i=0;i<e;i++){var r=this.rowModel.getRow(i);if(n){if(t(r)){o=i;break}}else if(t===r||t===r.data){o=i;break}}o>=0&&this.gridPanel.ensureIndexVisible(o)},t.prototype.doLayout=function(){if(this.eRootPanel.doLayout()){this.rowRenderer.drawVirtualRows();var t={clientWidth:this.eRootPanel.getGui().clientWidth,clientHeight:this.eRootPanel.getGui().clientHeight};this.eventService.dispatchEvent(v.Events.EVENT_GRID_SIZE_CHANGED,t)}},o([b.Autowired("gridOptions"),i("design:type",Object)],t.prototype,"gridOptions",void 0),o([b.Autowired("gridOptionsWrapper"),i("design:type",a.GridOptionsWrapper)],t.prototype,"gridOptionsWrapper",void 0),o([b.Autowired("paginationController"),i("design:type",l.PaginationController)],t.prototype,"paginationController",void 0),o([b.Autowired("rowModel"),i("design:type",Object)],t.prototype,"rowModel",void 0),o([b.Autowired("columnController"),i("design:type",u.ColumnController)],t.prototype,"columnController",void 0),o([b.Autowired("rowRenderer"),i("design:type",c.RowRenderer)],t.prototype,"rowRenderer",void 0),o([b.Autowired("filterManager"),i("design:type",d.FilterManager)],t.prototype,"filterManager",void 0),o([b.Autowired("eventService"),i("design:type",p.EventService)],t.prototype,"eventService",void 0),o([b.Autowired("gridPanel"),i("design:type",h.GridPanel)],t.prototype,"gridPanel",void 0),o([b.Autowired("eGridDiv"),i("design:type",HTMLElement)],t.prototype,"eGridDiv",void 0),o([b.Autowired("$scope"),i("design:type",Object)],t.prototype,"$scope",void 0),o([b.Autowired("quickFilterOnScope"),i("design:type",String)],t.prototype,"quickFilterOnScope",void 0),o([b.Autowired("popupService"),i("design:type",m.PopupService)],t.prototype,"popupService",void 0),o([b.Autowired("focusedCellController"),i("design:type",_.FocusedCellController)],t.prototype,"focusedCellController",void 0),o([b.Optional("rowGroupCompFactory"),i("design:type",Object)],t.prototype,"rowGroupCompFactory",void 0),o([b.Optional("toolPanel"),i("design:type",C.Component)],t.prototype,"toolPanel",void 0),o([b.Optional("statusBar"),i("design:type",C.Component)],t.prototype,"statusBar",void 0),o([b.PostConstruct,i("design:type",Function),i("design:paramtypes",[]),i("design:returntype",void 0)],t.prototype,"init",null),o([b.PreDestroy,i("design:type",Function),i("design:paramtypes",[]),i("design:returntype",void 0)],t.prototype,"destroy",null),t=o([b.Bean("gridCore"),r(0,b.Qualifier("loggerFactory")),i("design:paramtypes",[f.LoggerFactory])],t)}();e.GridCore=w},function(t,e,n){
/**
	 * ag-grid - Advanced Data Grid / Data Table supporting Javascript / React / AngularJS / Web Components
	 * @version v4.2.6
	 * @link http://www.ag-grid.com/
	 * @license MIT
	 */
var o=this&&this.__decorate||function(t,e,n,o){var i,r=arguments.length,a=r<3?e:null===o?o=Object.getOwnPropertyDescriptor(e,n):o;if("object"===("undefined"==typeof Reflect?"undefined":s(Reflect))&&"function"==typeof Reflect.decorate)a=Reflect.decorate(t,e,n,o);else for(var l=t.length-1;l>=0;l--)(i=t[l])&&(a=(r<3?i(a):r>3?i(e,n,a):i(e,n))||a);return r>3&&a&&Object.defineProperty(e,n,a),a},i=this&&this.__metadata||function(t,e){if("object"===("undefined"==typeof Reflect?"undefined":s(Reflect))&&"function"==typeof Reflect.metadata)return Reflect.metadata(t,e)},r=n(7),a=n(3),l=n(6),u=n(24),c=n(28),d=n(6),p=n(42),h=n(6),f=n(4),g=n(10),m=n(43),v=n(8),y='<div class="ag-paging-panel ag-font-style"><span id="pageRowSummaryPanel" class="ag-paging-row-summary-panel"><span id="firstRowOnPage"></span> [TO] <span id="lastRowOnPage"></span> [OF] <span id="recordCount"></span></span><span class="ag-paging-page-summary-panel"><button type="button" class="ag-paging-button" id="btFirst">[FIRST]</button><button type="button" class="ag-paging-button" id="btPrevious">[PREVIOUS]</button>[PAGE] <span id="current"></span> [OF] <span id="total"></span><button type="button" class="ag-paging-button" id="btNext">[NEXT]</button><button type="button" class="ag-paging-button" id="btLast">[LAST]</button></span></div>',b=function(){function t(){}return t.prototype.init=function(){var t=this;this.rowModel.getType()===v.Constants.ROW_MODEL_TYPE_NORMAL&&(this.inMemoryRowModel=this.rowModel),this.setupComponents(),this.callVersion=0;var e=this.gridOptionsWrapper.isRowModelPagination();this.eventService.addEventListener(g.Events.EVENT_FILTER_CHANGED,(function(){e&&t.gridOptionsWrapper.isEnableServerSideFilter()&&t.reset()})),this.eventService.addEventListener(g.Events.EVENT_SORT_CHANGED,(function(){e&&t.gridOptionsWrapper.isEnableServerSideSorting()&&t.reset()})),e&&this.gridOptionsWrapper.getDatasource()&&this.setDatasource(this.gridOptionsWrapper.getDatasource())},t.prototype.setDatasource=function(t){this.datasource=t,t&&this.reset()},t.prototype.reset=function(){r.Utils.missing(this.datasource)||(this.selectionController.reset(),this.datasource.pageSize&&"number"!=typeof this.datasource.pageSize&&console.warn("datasource.pageSize should be a number"),this.pageSize=this.datasource.pageSize,"number"==typeof this.datasource.rowCount&&this.datasource.rowCount>=0?(this.rowCount=this.datasource.rowCount,this.foundMaxRow=!0,this.calculateTotalPages()):(this.rowCount=0,this.foundMaxRow=!1,this.totalPages=null),this.currentPage=0,this.ePageRowSummaryPanel.style.visibility="hidden",this.setTotalLabels(),this.loadPage())},t.prototype.myToLocaleString=function(t){return"number"!=typeof t?"":t.toString().replace(/(\d)(?=(\d{3})+(?!\d))/g,"$1,")},t.prototype.setTotalLabels=function(){if(this.foundMaxRow)this.lbTotal.innerHTML=this.myToLocaleString(this.totalPages),this.lbRecordCount.innerHTML=this.myToLocaleString(this.rowCount);else{var t=this.gridOptionsWrapper.getLocaleTextFunc()("more","more");this.lbTotal.innerHTML=t,this.lbRecordCount.innerHTML=t}},t.prototype.calculateTotalPages=function(){this.totalPages=Math.floor((this.rowCount-1)/this.pageSize)+1},t.prototype.pageLoaded=function(t,e){var n=this.currentPage*this.pageSize;this.inMemoryRowModel.setRowData(t,!0,n),!this.foundMaxRow&&"number"==typeof e&&e>=0&&(this.foundMaxRow=!0,this.rowCount=e,this.calculateTotalPages(),this.setTotalLabels(),this.currentPage>this.totalPages&&(this.currentPage=this.totalPages-1,this.loadPage())),this.enableOrDisableButtons(),this.updateRowLabels()},t.prototype.updateRowLabels=function(){var t,e;this.isZeroPagesToDisplay()?(t=0,e=0):(e=(t=this.pageSize*this.currentPage+1)+this.pageSize-1,this.foundMaxRow&&e>this.rowCount&&(e=this.rowCount)),this.lbFirstRowOnPage.innerHTML=this.myToLocaleString(t),this.lbLastRowOnPage.innerHTML=this.myToLocaleString(e),this.ePageRowSummaryPanel.style.visibility=""},t.prototype.loadPage=function(){this.enableOrDisableButtons();var t=this.currentPage*this.datasource.pageSize,e=(this.currentPage+1)*this.datasource.pageSize;this.lbCurrent.innerHTML=this.myToLocaleString(this.currentPage+1),this.callVersion++;var n,o,i=this.callVersion,a=this;this.gridPanel.showLoadingOverlay(),this.gridOptionsWrapper.isEnableServerSideSorting()&&(n=this.sortController.getSortModel()),this.gridOptionsWrapper.isEnableServerSideFilter()&&(o=this.filterManager.getFilterModel());var s={startRow:t,endRow:e,successCallback:function(t,e){a.isCallDaemon(i)||a.pageLoaded(t,e)},failCallback:function(){a.isCallDaemon(i)||a.inMemoryRowModel.setRowData([],!0)},sortModel:n,filterModel:o,context:this.gridOptionsWrapper.getContext()};r.Utils.getFunctionParameters(this.datasource.getRows).length>1&&(console.warn("ag-grid: It looks like your paging datasource is of the old type, taking more than one parameter."),console.warn("ag-grid: From ag-grid 1.9.0, now the getRows takes one parameter. See the documentation for details.")),this.datasource.getRows(s)},t.prototype.isCallDaemon=function(t){return t!==this.callVersion},t.prototype.onBtNext=function(){this.currentPage++,this.loadPage()},t.prototype.onBtPrevious=function(){this.currentPage--,this.loadPage()},t.prototype.onBtFirst=function(){this.currentPage=0,this.loadPage()},t.prototype.onBtLast=function(){this.currentPage=this.totalPages-1,this.loadPage()},t.prototype.isZeroPagesToDisplay=function(){return this.foundMaxRow&&0===this.totalPages},t.prototype.enableOrDisableButtons=function(){var t=0===this.currentPage;this.btPrevious.disabled=t,this.btFirst.disabled=t;var e=this.isZeroPagesToDisplay(),n=this.foundMaxRow&&this.currentPage===this.totalPages-1||e;this.btNext.disabled=n;var o=!this.foundMaxRow||e||this.currentPage===this.totalPages-1;this.btLast.disabled=o},t.prototype.createTemplate=function(){var t=this.gridOptionsWrapper.getLocaleTextFunc();return y.replace("[PAGE]",t("page","Page")).replace("[TO]",t("to","to")).replace("[OF]",t("of","of")).replace("[OF]",t("of","of")).replace("[FIRST]",t("first","First")).replace("[PREVIOUS]",t("previous","Previous")).replace("[NEXT]",t("next","Next")).replace("[LAST]",t("last","Last"))},t.prototype.getGui=function(){return this.eGui},t.prototype.setupComponents=function(){this.eGui=r.Utils.loadTemplate(this.createTemplate()),this.btNext=this.eGui.querySelector("#btNext"),this.btPrevious=this.eGui.querySelector("#btPrevious"),this.btFirst=this.eGui.querySelector("#btFirst"),this.btLast=this.eGui.querySelector("#btLast"),this.lbCurrent=this.eGui.querySelector("#current"),this.lbTotal=this.eGui.querySelector("#total"),this.lbRecordCount=this.eGui.querySelector("#recordCount"),this.lbFirstRowOnPage=this.eGui.querySelector("#firstRowOnPage"),this.lbLastRowOnPage=this.eGui.querySelector("#lastRowOnPage"),this.ePageRowSummaryPanel=this.eGui.querySelector("#pageRowSummaryPanel");var t=this;this.btNext.addEventListener("click",(function(){t.onBtNext()})),this.btPrevious.addEventListener("click",(function(){t.onBtPrevious()})),this.btFirst.addEventListener("click",(function(){t.onBtFirst()})),this.btLast.addEventListener("click",(function(){t.onBtLast()}))},o([d.Autowired("filterManager"),i("design:type",m.FilterManager)],t.prototype,"filterManager",void 0),o([d.Autowired("gridPanel"),i("design:type",u.GridPanel)],t.prototype,"gridPanel",void 0),o([d.Autowired("gridOptionsWrapper"),i("design:type",a.GridOptionsWrapper)],t.prototype,"gridOptionsWrapper",void 0),o([d.Autowired("selectionController"),i("design:type",c.SelectionController)],t.prototype,"selectionController",void 0),o([d.Autowired("sortController"),i("design:type",p.SortController)],t.prototype,"sortController",void 0),o([d.Autowired("eventService"),i("design:type",f.EventService)],t.prototype,"eventService",void 0),o([d.Autowired("rowModel"),i("design:type",Object)],t.prototype,"rowModel",void 0),o([h.PostConstruct,i("design:type",Function),i("design:paramtypes",[]),i("design:returntype",void 0)],t.prototype,"init",null),t=o([l.Bean("paginationController"),i("design:paramtypes",[])],t)}();e.PaginationController=b},function(t,e,n){
/**
	 * ag-grid - Advanced Data Grid / Data Table supporting Javascript / React / AngularJS / Web Components
	 * @version v4.2.6
	 * @link http://www.ag-grid.com/
	 * @license MIT
	 */
var o=this&&this.__decorate||function(t,e,n,o){var i,r=arguments.length,a=r<3?e:null===o?o=Object.getOwnPropertyDescriptor(e,n):o;if("object"===("undefined"==typeof Reflect?"undefined":s(Reflect))&&"function"==typeof Reflect.decorate)a=Reflect.decorate(t,e,n,o);else for(var l=t.length-1;l>=0;l--)(i=t[l])&&(a=(r<3?i(a):r>3?i(e,n,a):i(e,n))||a);return r>3&&a&&Object.defineProperty(e,n,a),a},i=this&&this.__metadata||function(t,e){if("object"===("undefined"==typeof Reflect?"undefined":s(Reflect))&&"function"==typeof Reflect.metadata)return Reflect.metadata(t,e)},r=n(15),a=n(6),l=n(3),u=n(13),c=n(4),d=n(10),p=n(6),h=n(7),f=function(){function t(){}return t.prototype.progressSort=function(t,e){t.setSort(this.getNextSortDirection(t)),t.getSort()?t.setSortedAt((new Date).valueOf()):t.setSortedAt(null),e&&!this.gridOptionsWrapper.isSuppressMultiSort()||this.clearSortBarThisColumn(t),this.dispatchSortChangedEvents()},t.prototype.dispatchSortChangedEvents=function(){this.eventService.dispatchEvent(d.Events.EVENT_BEFORE_SORT_CHANGED),this.eventService.dispatchEvent(d.Events.EVENT_SORT_CHANGED),this.eventService.dispatchEvent(d.Events.EVENT_AFTER_SORT_CHANGED)},t.prototype.clearSortBarThisColumn=function(t){this.columnController.getAllColumnsIncludingAuto().forEach((function(e){e!==t&&e.setSort(null)}))},t.prototype.getNextSortDirection=function(e){var n;if(n=e.getColDef().sortingOrder?e.getColDef().sortingOrder:this.gridOptionsWrapper.getSortingOrder()?this.gridOptionsWrapper.getSortingOrder():t.DEFAULT_SORTING_ORDER,Array.isArray(n)&&!(n.length<=0)){var o,i=n.indexOf(e.getSort()),r=i<0,a=i==n.length-1;return o=r||a?n[0]:n[i+1],t.DEFAULT_SORTING_ORDER.indexOf(o)<0?(console.warn("ag-grid: invalid sort type "+o),null):o}console.warn("ag-grid: sortingOrder must be an array with at least one element, currently it's "+n)},t.prototype.getSortModel=function(){var t=this.getColumnsWithSortingOrdered();return h.Utils.map(t,(function(t){return{colId:t.getColId(),sort:t.getSort()}}))},t.prototype.setSortModel=function(t){if(this.gridOptionsWrapper.isEnableSorting()){var e=t&&t.length>0;this.columnController.getAllColumnsIncludingAuto().forEach((function(n){var o=null,i=-1;if(e&&!n.getColDef().suppressSorting)for(var r=0;r<t.length;r++){var a=t[r];"string"==typeof a.colId&&"string"==typeof n.getColId()&&a.colId===n.getColId()&&(o=a.sort,i=r)}o?(n.setSort(o),n.setSortedAt(i)):(n.setSort(null),n.setSortedAt(null))})),this.dispatchSortChangedEvents()}else console.warn("ag-grid: You are setting the sort model on a grid that does not have sorting enabled")},t.prototype.getColumnsWithSortingOrdered=function(){var t=this.columnController.getAllColumnsIncludingAuto(),e=h.Utils.filter(t,(function(t){return!!t.getSort()}));return e.sort((function(t,e){return t.sortedAt-e.sortedAt})),e},t.prototype.getSortForRowController=function(){var t=this.getColumnsWithSortingOrdered();return h.Utils.map(t,(function(t){return{inverter:t.getSort()===r.Column.SORT_ASC?1:-1,column:t}}))},t.DEFAULT_SORTING_ORDER=[r.Column.SORT_ASC,r.Column.SORT_DESC,null],o([a.Autowired("gridOptionsWrapper"),i("design:type",l.GridOptionsWrapper)],t.prototype,"gridOptionsWrapper",void 0),o([a.Autowired("columnController"),i("design:type",u.ColumnController)],t.prototype,"columnController",void 0),o([a.Autowired("eventService"),i("design:type",c.EventService)],t.prototype,"eventService",void 0),t=o([p.Bean("sortController"),i("design:paramtypes",[])],t)}();e.SortController=f},function(t,e,n){
/**
	 * ag-grid - Advanced Data Grid / Data Table supporting Javascript / React / AngularJS / Web Components
	 * @version v4.2.6
	 * @link http://www.ag-grid.com/
	 * @license MIT
	 */
var o=this&&this.__decorate||function(t,e,n,o){var i,r=arguments.length,a=r<3?e:null===o?o=Object.getOwnPropertyDescriptor(e,n):o;if("object"===("undefined"==typeof Reflect?"undefined":s(Reflect))&&"function"==typeof Reflect.decorate)a=Reflect.decorate(t,e,n,o);else for(var l=t.length-1;l>=0;l--)(i=t[l])&&(a=(r<3?i(a):r>3?i(e,n,a):i(e,n))||a);return r>3&&a&&Object.defineProperty(e,n,a),a},i=this&&this.__metadata||function(t,e){if("object"===("undefined"==typeof Reflect?"undefined":s(Reflect))&&"function"==typeof Reflect.metadata)return Reflect.metadata(t,e)},r=n(7),a=n(3),l=n(44),u=n(29),c=n(13),d=n(45),p=n(46),h=n(6),f=n(4),g=n(10),m=function(){function t(){this.allFilters={},this.quickFilter=null,this.availableFilters={text:d.TextFilter,number:p.NumberFilter}}return t.prototype.init=function(){this.eventService.addEventListener(g.Events.EVENT_ROW_DATA_CHANGED,this.onNewRowsLoaded.bind(this)),this.eventService.addEventListener(g.Events.EVENT_NEW_COLUMNS_LOADED,this.onNewColumnsLoaded.bind(this)),this.quickFilter=this.parseQuickFilter(this.gridOptionsWrapper.getQuickFilterText())},t.prototype.registerFilter=function(t,e){this.availableFilters[t]=e},t.prototype.setFilterModel=function(t){var e=this;if(t){var n=Object.keys(t);r.Utils.iterateObject(this.allFilters,(function(o,i){r.Utils.removeFromArray(n,o);var a=t[o];e.setModelOnFilterWrapper(i.filter,a)})),r.Utils.iterateArray(n,(function(n){var o=e.columnController.getOriginalColumn(n);if(o){var i=e.getOrCreateFilterWrapper(o);e.setModelOnFilterWrapper(i.filter,t[n])}else console.warn("Warning ag-grid setFilterModel - no column found for colId "+n)}))}else r.Utils.iterateObject(this.allFilters,(function(t,n){e.setModelOnFilterWrapper(n.filter,null)}));this.onFilterChanged()},t.prototype.setModelOnFilterWrapper=function(t,e){if("function"==typeof t.getApi){var n=t.getApi();"function"==typeof n.setModel?n.setModel(e):console.warn("Warning ag-grid - filter API missing setModel method, which is needed for setFilterModel")}else console.warn("Warning ag-grid - filter missing getApi method, which is needed for getFilterModel")},t.prototype.getFilterModel=function(){var t={};return r.Utils.iterateObject(this.allFilters,(function(e,n){if("function"==typeof n.filter.getApi){var o=n.filter.getApi();if("function"==typeof o.getModel){var i=o.getModel();r.Utils.exists(i)&&(t[e]=i)}else console.warn("Warning ag-grid - filter API missing getModel method, which is needed for getFilterModel")}else console.warn("Warning ag-grid - filter missing getApi method, which is needed for getFilterModel")})),t},t.prototype.isAdvancedFilterPresent=function(){var t=!1;return r.Utils.iterateObject(this.allFilters,(function(e,n){n.filter.isFilterActive||console.error("Filter is missing method isFilterActive"),n.filter.isFilterActive()?(t=!0,n.column.setFilterActive(!0)):n.column.setFilterActive(!1)})),t},t.prototype.isAnyFilterPresent=function(){return this.isQuickFilterPresent()||this.advancedFilterPresent||this.externalFilterPresent},t.prototype.doesFilterPass=function(t,e){for(var n=t.data,o=Object.keys(this.allFilters),i=0,r=o.length;i<r;i++){var a=o[i],s=this.allFilters[a];if(void 0!==s&&s.filter!==e&&s.filter.isFilterActive()){s.filter.doesFilterPass||console.error("Filter is missing method doesFilterPass");var l={node:t,data:n};if(!s.filter.doesFilterPass(l))return!1}}return!0},t.prototype.parseQuickFilter=function(t){return r.Utils.missing(t)||""===t?null:this.gridOptionsWrapper.isRowModelVirtual()?(console.warn("ag-grid: cannot do quick filtering when doing virtual paging"),null):t.toUpperCase()},t.prototype.setQuickFilter=function(t){var e=this.parseQuickFilter(t);this.quickFilter!==e&&(this.quickFilter=e,this.onFilterChanged())},t.prototype.onFilterChanged=function(){this.eventService.dispatchEvent(g.Events.EVENT_BEFORE_FILTER_CHANGED),this.advancedFilterPresent=this.isAdvancedFilterPresent(),this.externalFilterPresent=this.gridOptionsWrapper.isExternalFilterPresent(),r.Utils.iterateObject(this.allFilters,(function(t,e){e.filter.onAnyFilterChanged&&e.filter.onAnyFilterChanged()})),this.eventService.dispatchEvent(g.Events.EVENT_FILTER_CHANGED),this.eventService.dispatchEvent(g.Events.EVENT_AFTER_FILTER_CHANGED)},t.prototype.isQuickFilterPresent=function(){return null!==this.quickFilter},t.prototype.doesRowPassOtherFilters=function(t,e){return this.doesRowPassFilter(e,t)},t.prototype.doesRowPassFilter=function(t,e){return!(this.isQuickFilterPresent()&&(t.quickFilterAggregateText||this.aggregateRowForQuickFilter(t),t.quickFilterAggregateText.indexOf(this.quickFilter)<0)||this.externalFilterPresent&&!this.gridOptionsWrapper.doesExternalFilterPass(t)||this.advancedFilterPresent&&!this.doesFilterPass(t,e))},t.prototype.aggregateRowForQuickFilter=function(t){var e="",n=this;this.columnController.getAllOriginalColumns().forEach((function(o){var i=n.valueService.getValue(o,t);i&&""!==i&&(e=e+i.toString().toUpperCase()+"_")})),t.quickFilterAggregateText=e},t.prototype.onNewRowsLoaded=function(){var t=this;Object.keys(this.allFilters).forEach((function(e){var n=t.allFilters[e].filter;n.onNewRowsLoaded&&n.onNewRowsLoaded()}))},t.prototype.createValueGetter=function(t){var e=this;return function(n){return e.valueService.getValue(t,n)}},t.prototype.getFilterApi=function(t){var e=this.getOrCreateFilterWrapper(t);if(e&&"function"==typeof e.filter.getApi)return e.filter.getApi()},t.prototype.getOrCreateFilterWrapper=function(t){var e=this.allFilters[t.getColId()];return e||(e=this.createFilterWrapper(t),this.allFilters[t.getColId()]=e),e},t.prototype.destroyFilter=function(t){var e=this.allFilters[t.getColId()];e&&(e.destroy&&e.destroy(),delete this.allFilters[t.getColId()],this.onFilterChanged(),e.column.setFilterActive(!1))},t.prototype.createFilterWrapper=function(t){var e=this,n=t.getColDef(),o={column:t,filter:null,scope:null,gui:null};if("function"==typeof n.filter)this.gridOptionsWrapper.isAngularCompileFilters()&&(o.scope=this.$scope.$new(),o.scope.context=this.gridOptionsWrapper.getContext()),this.assertMethodHasNoParameters(n.filter),o.filter=new n.filter;else if(r.Utils.missing(n.filter)||"string"==typeof n.filter){var i=this.getFilterFromCache(n.filter);o.filter=new i}else console.error("ag-Grid: colDef.filter should be function or a string");this.context.wireBean(o.filter);var a=this.onFilterChanged.bind(this),s=this.doesRowPassOtherFilters.bind(this,o.filter),l=n.filterParams,u={column:t,colDef:n,rowModel:this.rowModel,filterChangedCallback:a,filterModifiedCallback:function(){return e.eventService.dispatchEvent(g.Events.EVENT_FILTER_MODIFIED)},filterParams:l,localeTextFunc:this.gridOptionsWrapper.getLocaleTextFunc(),valueGetter:this.createValueGetter(t),doesRowPassOtherFilter:s,context:this.gridOptionsWrapper.getContext(),$scope:o.scope};if(!o.filter.init)throw"Filter is missing method init";if(o.filter.init(u),!o.filter.getGui)throw"Filter is missing method getGui";var c=document.createElement("div");c.className="ag-filter";var d=o.filter.getGui();if(r.Utils.isNodeOrElement(d))c.appendChild(d);else{var p=document.createElement("span");p.innerHTML=d,c.appendChild(p)}return o.scope?o.gui=this.$compile(c)(o.scope)[0]:o.gui=c,o},t.prototype.getFilterFromCache=function(t){var e=this.enterprise?"set":"text",n=this.availableFilters[e];return r.Utils.missing(t)?n:(this.enterprise||"set"!==t||(console.warn("ag-Grid: Set filter is only available in Enterprise ag-Grid"),t="text"),this.availableFilters[t]?this.availableFilters[t]:(console.error("ag-Grid: Could not find filter type "+t),this.availableFilters[n]))},t.prototype.onNewColumnsLoaded=function(){this.destroy()},t.prototype.destroy=function(){r.Utils.iterateObject(this.allFilters,(function(t,e){e.filter.destroy&&(e.filter.destroy(),e.column.setFilterActive(!1))})),this.allFilters={}},t.prototype.assertMethodHasNoParameters=function(t){r.Utils.getFunctionParameters(t).length>0&&(console.warn("ag-grid: It looks like your filter is of the old type and expecting parameters in the constructor."),console.warn("ag-grid: From ag-grid 1.14, the constructor should take no parameters and init() used instead."))},o([h.Autowired("$compile"),i("design:type",Object)],t.prototype,"$compile",void 0),o([h.Autowired("$scope"),i("design:type",Object)],t.prototype,"$scope",void 0),o([h.Autowired("gridOptionsWrapper"),i("design:type",a.GridOptionsWrapper)],t.prototype,"gridOptionsWrapper",void 0),o([h.Autowired("gridCore"),i("design:type",Object)],t.prototype,"gridCore",void 0),o([h.Autowired("popupService"),i("design:type",l.PopupService)],t.prototype,"popupService",void 0),o([h.Autowired("valueService"),i("design:type",u.ValueService)],t.prototype,"valueService",void 0),o([h.Autowired("columnController"),i("design:type",c.ColumnController)],t.prototype,"columnController",void 0),o([h.Autowired("rowModel"),i("design:type",Object)],t.prototype,"rowModel",void 0),o([h.Autowired("eventService"),i("design:type",f.EventService)],t.prototype,"eventService",void 0),o([h.Autowired("enterprise"),i("design:type",Boolean)],t.prototype,"enterprise",void 0),o([h.Autowired("context"),i("design:type",h.Context)],t.prototype,"context",void 0),o([h.PostConstruct,i("design:type",Function),i("design:paramtypes",[]),i("design:returntype",void 0)],t.prototype,"init",null),o([h.PreDestroy,i("design:type",Function),i("design:paramtypes",[]),i("design:returntype",void 0)],t.prototype,"destroy",null),t=o([h.Bean("filterManager"),i("design:paramtypes",[])],t)}();e.FilterManager=m},function(t,e,n){
/**
	 * ag-grid - Advanced Data Grid / Data Table supporting Javascript / React / AngularJS / Web Components
	 * @version v4.2.6
	 * @link http://www.ag-grid.com/
	 * @license MIT
	 */
var o=this&&this.__decorate||function(t,e,n,o){var i,r=arguments.length,a=r<3?e:null===o?o=Object.getOwnPropertyDescriptor(e,n):o;if("object"===("undefined"==typeof Reflect?"undefined":s(Reflect))&&"function"==typeof Reflect.decorate)a=Reflect.decorate(t,e,n,o);else for(var l=t.length-1;l>=0;l--)(i=t[l])&&(a=(r<3?i(a):r>3?i(e,n,a):i(e,n))||a);return r>3&&a&&Object.defineProperty(e,n,a),a},i=this&&this.__metadata||function(t,e){if("object"===("undefined"==typeof Reflect?"undefined":s(Reflect))&&"function"==typeof Reflect.metadata)return Reflect.metadata(t,e)},r=n(7),a=n(8),l=n(6),u=n(40),c=function(){function t(){}return t.prototype.getPopupParent=function(){return this.gridCore.getRootGui()},t.prototype.positionPopupForMenu=function(t){var e,n=t.eventSource.getBoundingClientRect(),o=this.getPopupParent().getBoundingClientRect(),i=n.right-o.left-2,r=n.top-o.top;e=t.ePopup.clientWidth>0?t.ePopup.clientWidth:200,i>o.right-o.left-e&&(i=n.left-e),i<0&&(i=0),t.ePopup.style.left=i+"px",t.ePopup.style.top=r+"px"},t.prototype.positionPopupUnderMouseEvent=function(t){var e=this.getPopupParent().getBoundingClientRect();this.positionPopup({ePopup:t.ePopup,x:t.mouseEvent.clientX-e.left,y:t.mouseEvent.clientY-e.top,keepWithinBounds:!0})},t.prototype.positionPopupUnderComponent=function(t){var e=t.eventSource.getBoundingClientRect(),n=this.getPopupParent().getBoundingClientRect();this.positionPopup({ePopup:t.ePopup,minWidth:t.minWidth,nudgeX:t.nudgeX,nudgeY:t.nudgeY,x:e.left-n.left,y:e.top-n.top+e.height,keepWithinBounds:t.keepWithinBounds})},t.prototype.positionPopupOverComponent=function(t){var e=t.eventSource.getBoundingClientRect(),n=this.getPopupParent().getBoundingClientRect();this.positionPopup({ePopup:t.ePopup,minWidth:t.minWidth,nudgeX:t.nudgeX,nudgeY:t.nudgeY,x:e.left-n.left,y:e.top-n.top,keepWithinBounds:t.keepWithinBounds})},t.prototype.positionPopup=function(t){var e=this.getPopupParent().getBoundingClientRect(),n=t.x,o=t.y;if(t.nudgeX&&(n+=t.nudgeX),t.nudgeY&&(o+=t.nudgeY),t.keepWithinBounds){var i;i=t.minWidth>0?t.minWidth:t.ePopup.clientWidth>0?t.ePopup.clientWidth:200;var r=e.right-e.left-i;n>r&&(n=r),n<0&&(n=0)}t.ePopup.style.left=n+"px",t.ePopup.style.top=o+"px"},t.prototype.addAsModalPopup=function(t,e,n){var o=document.body;if(o){if(!r.Utils.isVisible(t)){this.getPopupParent().appendChild(t);var i=this,s=!1;setTimeout((function(){e&&o.addEventListener("keydown",u),o.addEventListener("click",c),o.addEventListener("contextmenu",c),t.addEventListener("click",d)}),0);var l=null;return c}}else console.warn("ag-grid: could not find the body of the document, document.body is empty");function u(t){(t.which||t.keyCode)===a.Constants.KEY_ESCAPE&&c(null)}function c(e){e&&e===l||s||(s=!0,i.getPopupParent().removeChild(t),o.removeEventListener("keydown",u),o.removeEventListener("click",c),o.removeEventListener("contextmenu",c),t.removeEventListener("click",d),n&&n())}function d(t){l=t}},o([l.Autowired("gridCore"),i("design:type",u.GridCore)],t.prototype,"gridCore",void 0),t=o([l.Bean("popupService"),i("design:paramtypes",[])],t)}();e.PopupService=c},function(t,e,n){
/**
	 * ag-grid - Advanced Data Grid / Data Table supporting Javascript / React / AngularJS / Web Components
	 * @version v4.2.6
	 * @link http://www.ag-grid.com/
	 * @license MIT
	 */
var o=n(7),i='<div><div><select class="ag-filter-select" id="filterType"><option value="1">[CONTAINS]</option><option value="2">[EQUALS]</option><option value="3">[NOT EQUALS]</option><option value="4">[STARTS WITH]</option><option value="5">[ENDS WITH]</option></select></div><div><input class="ag-filter-filter" id="filterText" type="text" placeholder="[FILTER...]"/></div><div class="ag-filter-apply-panel" id="applyPanel"><button type="button" id="applyButton">[APPLY FILTER]</button></div></div>',r=function(){function t(){}return t.prototype.init=function(t){this.filterParams=t.filterParams,this.applyActive=this.filterParams&&!0===this.filterParams.apply,this.filterChangedCallback=t.filterChangedCallback,this.filterModifiedCallback=t.filterModifiedCallback,this.localeTextFunc=t.localeTextFunc,this.valueGetter=t.valueGetter,this.createGui(),this.filterText=null,this.filterType=1,this.createApi()},t.prototype.onNewRowsLoaded=function(){this.filterParams&&"keep"===this.filterParams.newRowsAction||(this.api.setType(1),this.api.setFilter(null))},t.prototype.afterGuiAttached=function(){this.eFilterTextField.focus()},t.prototype.doesFilterPass=function(t){if(!this.filterText)return!0;var e=this.valueGetter(t);if(!e)return!1;var n=e.toString().toLowerCase();switch(this.filterType){case 1:return n.indexOf(this.filterText)>=0;case 2:return n===this.filterText;case 3:return n!=this.filterText;case 4:return 0===n.indexOf(this.filterText);case 5:var o=n.lastIndexOf(this.filterText);return o>=0&&o===n.length-this.filterText.length;default:return console.warn("invalid filter type "+this.filterType),!1}},t.prototype.getGui=function(){return this.eGui},t.prototype.isFilterActive=function(){return null!==this.filterText},t.prototype.createTemplate=function(){return i.replace("[FILTER...]",this.localeTextFunc("filterOoo","Filter...")).replace("[EQUALS]",this.localeTextFunc("equals","Equals")).replace("[NOT EQUALS]",this.localeTextFunc("notEquals","Not equals")).replace("[CONTAINS]",this.localeTextFunc("contains","Contains")).replace("[STARTS WITH]",this.localeTextFunc("startsWith","Starts with")).replace("[ENDS WITH]",this.localeTextFunc("endsWith","Ends with")).replace("[APPLY FILTER]",this.localeTextFunc("applyFilter","Apply Filter"))},t.prototype.createGui=function(){this.eGui=o.Utils.loadTemplate(this.createTemplate()),this.eFilterTextField=this.eGui.querySelector("#filterText"),this.eTypeSelect=this.eGui.querySelector("#filterType"),o.Utils.addChangeListener(this.eFilterTextField,this.onFilterChanged.bind(this)),this.eTypeSelect.addEventListener("change",this.onTypeChanged.bind(this)),this.setupApply()},t.prototype.setupApply=function(){var t=this;this.applyActive?(this.eApplyButton=this.eGui.querySelector("#applyButton"),this.eApplyButton.addEventListener("click",(function(){t.filterChangedCallback()}))):o.Utils.removeElement(this.eGui,"#applyPanel")},t.prototype.onTypeChanged=function(){this.filterType=parseInt(this.eTypeSelect.value),this.filterChanged()},t.prototype.onFilterChanged=function(){var t,e=o.Utils.makeNull(this.eFilterTextField.value);e&&""===e.trim()&&(e=null),t=null!=e?e.toLowerCase():null,this.filterText!==t&&(this.filterText=t,this.filterChanged())},t.prototype.filterChanged=function(){this.filterModifiedCallback(),this.applyActive||this.filterChangedCallback()},t.prototype.createApi=function(){var t=this;this.api={EQUALS:2,NOT_EQUALS:3,CONTAINS:1,STARTS_WITH:4,ENDS_WITH:5,setType:function(e){t.filterType=e,t.eTypeSelect.value=e},setFilter:function(e){(e=o.Utils.makeNull(e))?(t.filterText=e.toLowerCase(),t.eFilterTextField.value=e):(t.filterText=null,t.eFilterTextField.value=null)},getType:function(){return t.filterType},getFilter:function(){return t.filterText},getModel:function(){return t.isFilterActive()?{type:t.filterType,filter:t.filterText}:null},setModel:function(t){t?(this.setType(t.type),this.setFilter(t.filter)):this.setFilter(null)}}},t.prototype.getApi=function(){return this.api},t}();e.TextFilter=r},function(t,e,n){
/**
	 * ag-grid - Advanced Data Grid / Data Table supporting Javascript / React / AngularJS / Web Components
	 * @version v4.2.6
	 * @link http://www.ag-grid.com/
	 * @license MIT
	 */
var o=n(7),i='<div><div><select class="ag-filter-select" id="filterType"><option value="1">[EQUALS]</option><option value="2">[NOT EQUAL]</option><option value="3">[LESS THAN]</option><option value="4">[LESS THAN OR EQUAL]</option><option value="5">[GREATER THAN]</option><option value="6">[GREATER THAN OR EQUAL]</option></select></div><div><input class="ag-filter-filter" id="filterText" type="text" placeholder="[FILTER...]"/></div><div class="ag-filter-apply-panel" id="applyPanel"><button type="button" id="applyButton">[APPLY FILTER]</button></div></div>',r=function(){function t(){}return t.prototype.init=function(t){this.filterParams=t.filterParams,this.applyActive=this.filterParams&&!0===this.filterParams.apply,this.filterChangedCallback=t.filterChangedCallback,this.filterModifiedCallback=t.filterModifiedCallback,this.localeTextFunc=t.localeTextFunc,this.valueGetter=t.valueGetter,this.createGui(),this.filterNumber=null,this.filterType=1,this.createApi()},t.prototype.onNewRowsLoaded=function(){this.filterParams&&"keep"===this.filterParams.newRowsAction||(this.api.setType(1),this.api.setFilter(null))},t.prototype.afterGuiAttached=function(){this.eFilterTextField.focus()},t.prototype.doesFilterPass=function(t){if(null===this.filterNumber)return!0;var e,n=this.valueGetter(t);if(!n&&0!==n)return!1;switch(e="number"==typeof n?n:parseFloat(n),this.filterType){case 1:return e===this.filterNumber;case 3:return e<this.filterNumber;case 5:return e>this.filterNumber;case 4:return e<=this.filterNumber;case 6:return e>=this.filterNumber;case 2:return e!=this.filterNumber;default:return console.warn("invalid filter type "+this.filterType),!1}},t.prototype.getGui=function(){return this.eGui},t.prototype.isFilterActive=function(){return null!==this.filterNumber},t.prototype.createTemplate=function(){return i.replace("[FILTER...]",this.localeTextFunc("filterOoo","Filter...")).replace("[EQUALS]",this.localeTextFunc("equals","Equals")).replace("[LESS THAN]",this.localeTextFunc("lessThan","Less than")).replace("[GREATER THAN]",this.localeTextFunc("greaterThan","Greater than")).replace("[LESS THAN OR EQUAL]",this.localeTextFunc("lessThanOrEqual","Less than or equal")).replace("[GREATER THAN OR EQUAL]",this.localeTextFunc("greaterThanOrEqual","Greater than or equal")).replace("[NOT EQUAL]",this.localeTextFunc("notEqual","Not equal")).replace("[APPLY FILTER]",this.localeTextFunc("applyFilter","Apply Filter"))},t.prototype.createGui=function(){this.eGui=o.Utils.loadTemplate(this.createTemplate()),this.eFilterTextField=this.eGui.querySelector("#filterText"),this.eTypeSelect=this.eGui.querySelector("#filterType"),o.Utils.addChangeListener(this.eFilterTextField,this.onFilterChanged.bind(this)),this.eTypeSelect.addEventListener("change",this.onTypeChanged.bind(this)),this.setupApply()},t.prototype.setupApply=function(){var t=this;this.applyActive?(this.eApplyButton=this.eGui.querySelector("#applyButton"),this.eApplyButton.addEventListener("click",(function(){t.filterChangedCallback()}))):o.Utils.removeElement(this.eGui,"#applyPanel")},t.prototype.onTypeChanged=function(){this.filterType=parseInt(this.eTypeSelect.value),this.filterChanged()},t.prototype.filterChanged=function(){this.filterModifiedCallback(),this.applyActive||this.filterChangedCallback()},t.prototype.onFilterChanged=function(){var t,e=o.Utils.makeNull(this.eFilterTextField.value);e&&""===e.trim()&&(e=null),t=null!=e?parseFloat(e):null,this.filterNumber!==t&&(this.filterNumber=t,this.filterChanged())},t.prototype.createApi=function(){var t=this;this.api={EQUALS:1,NOT_EQUAL:2,LESS_THAN:3,GREATER_THAN:5,LESS_THAN_OR_EQUAL:4,GREATER_THAN_OR_EQUAL:6,setType:function(e){t.filterType=e,t.eTypeSelect.value=e},setFilter:function(e){null!==(e=o.Utils.makeNull(e))&&"number"!=typeof e&&(e=parseFloat(e)),t.filterNumber=e,t.eFilterTextField.value=e},getType:function(){return t.filterType},getFilter:function(){return t.filterNumber},getModel:function(){return t.isFilterActive()?{type:t.filterType,filter:t.filterNumber}:null},setModel:function(t){t?(this.setType(t.type),this.setFilter(t.filter)):this.setFilter(null)}}},t.prototype.getApi=function(){return this.api},t}();e.NumberFilter=r},function(t,e,n){
/**
	 * ag-grid - Advanced Data Grid / Data Table supporting Javascript / React / AngularJS / Web Components
	 * @version v4.2.6
	 * @link http://www.ag-grid.com/
	 * @license MIT
	 */
var o=n(7),i=n(4),r=function(){function t(t){this.destroyFunctions=[],this.childComponents=[],t&&(this.eGui=o.Utils.loadTemplate(t))}return t.prototype.setTemplate=function(t){this.eGui=o.Utils.loadTemplate(t)},t.prototype.addEventListener=function(t,e){this.localEventService||(this.localEventService=new i.EventService),this.localEventService.addEventListener(t,e)},t.prototype.removeEventListener=function(t,e){this.localEventService&&this.localEventService.removeEventListener(t,e)},t.prototype.dispatchEvent=function(t,e){this.localEventService&&this.localEventService.dispatchEvent(t,e)},t.prototype.getGui=function(){return this.eGui},t.prototype.queryForHtmlElement=function(t){return this.eGui.querySelector(t)},t.prototype.queryForHtmlInputElement=function(t){return this.eGui.querySelector(t)},t.prototype.appendChild=function(t){if(o.Utils.isNodeOrElement(t))this.eGui.appendChild(t);else{var e=t;this.eGui.appendChild(e.getGui()),this.childComponents.push(e)}},t.prototype.setVisible=function(t){o.Utils.addOrRemoveCssClass(this.eGui,"ag-hidden",!t)},t.prototype.destroy=function(){this.childComponents.forEach((function(t){return t.destroy()})),this.destroyFunctions.forEach((function(t){return t()}))},t.prototype.addGuiEventListener=function(t,e){var n=this;this.getGui().addEventListener(t,e),this.destroyFunctions.push((function(){return n.getGui().removeEventListener(t,e)}))},t.prototype.addDestroyableEventListener=function(t,e,n){HTMLElement,t.addEventListener(e,n),this.destroyFunctions.push((function(){HTMLElement,t.removeEventListener(e,n)}))},t.prototype.addDestroyFunc=function(t){this.destroyFunctions.push(t)},t}();e.Component=r},function(t,e,n){
/**
	 * ag-grid - Advanced Data Grid / Data Table supporting Javascript / React / AngularJS / Web Components
	 * @version v4.2.6
	 * @link http://www.ag-grid.com/
	 * @license MIT
	 */
var o=this&&this.__decorate||function(t,e,n,o){var i,r=arguments.length,a=r<3?e:null===o?o=Object.getOwnPropertyDescriptor(e,n):o;if("object"===("undefined"==typeof Reflect?"undefined":s(Reflect))&&"function"==typeof Reflect.decorate)a=Reflect.decorate(t,e,n,o);else for(var l=t.length-1;l>=0;l--)(i=t[l])&&(a=(r<3?i(a):r>3?i(e,n,a):i(e,n))||a);return r>3&&a&&Object.defineProperty(e,n,a),a},i=this&&this.__metadata||function(t,e){if("object"===("undefined"==typeof Reflect?"undefined":s(Reflect))&&"function"==typeof Reflect.metadata)return Reflect.metadata(t,e)},r=n(6),a=n(7),l=n(49),u=n(50),c=n(51),d=n(52),p=n(53),h=n(54),f=n(3),g=function(){function t(){this.cellEditorMap={}}return t.prototype.init=function(){this.cellEditorMap[t.TEXT]=l.TextCellEditor,this.cellEditorMap[t.SELECT]=u.SelectCellEditor,this.cellEditorMap[t.POPUP_TEXT]=d.PopupTextCellEditor,this.cellEditorMap[t.POPUP_SELECT]=p.PopupSelectCellEditor,this.cellEditorMap[t.DATE]=h.DateCellEditor},t.prototype.addCellEditor=function(t,e){this.cellEditorMap[t]=e},t.prototype.createCellEditor=function(e){var n;a.Utils.missing(e)?n=this.cellEditorMap[t.TEXT]:"string"==typeof e?(n=this.cellEditorMap[e],a.Utils.missing(n)&&(console.warn("ag-Grid: unable to find cellEditor for key "+e),n=this.cellEditorMap[t.TEXT])):n=e;var o=new n;return this.context.wireBean(o),o.isPopup&&o.isPopup()&&(o=new c.PopupEditorWrapper(o)),o},t.TEXT="text",t.SELECT="select",t.DATE="date",t.POPUP_TEXT="popupText",t.POPUP_SELECT="popupSelect",o([r.Autowired("context"),i("design:type",r.Context)],t.prototype,"context",void 0),o([r.Autowired("gridOptionsWrapper"),i("design:type",f.GridOptionsWrapper)],t.prototype,"gridOptionsWrapper",void 0),o([r.PostConstruct,i("design:type",Function),i("design:paramtypes",[]),i("design:returntype",void 0)],t.prototype,"init",null),t=o([r.Bean("cellEditorFactory"),i("design:paramtypes",[])],t)}();e.CellEditorFactory=g},function(t,e,n){
/**
	 * ag-grid - Advanced Data Grid / Data Table supporting Javascript / React / AngularJS / Web Components
	 * @version v4.2.6
	 * @link http://www.ag-grid.com/
	 * @license MIT
	 */
var o=this&&this.__extends||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n]);function o(){this.constructor=t}t.prototype=null===e?Object.create(e):(o.prototype=e.prototype,new o)},i=n(8),r=n(47),a=n(7),s=function(t){function e(){t.call(this,e.TEMPLATE)}return o(e,t),e.prototype.init=function(t){var e,n=this.getGui();t.keyPress===i.Constants.KEY_BACKSPACE||t.keyPress===i.Constants.KEY_DELETE?e="":t.charPress?e=t.charPress:(e=t.value,t.keyPress===i.Constants.KEY_F2?this.putCursorAtEndOnFocus=!0:this.highlightAllOnFocus=!0),a.Utils.exists(e)&&(n.value=e),this.addDestroyableEventListener(n,"keydown",(function(t){(t.keyCode===i.Constants.KEY_LEFT||t.keyCode===i.Constants.KEY_RIGHT)&&t.stopPropagation()}))},e.prototype.afterGuiAttached=function(){var t=this.getGui();if(t.focus(),this.highlightAllOnFocus)t.select();else{var e=t.value?t.value.length:0;e>0&&t.setSelectionRange(e,e)}},e.prototype.getValue=function(){return this.getGui().value},e.TEMPLATE='<input class="ag-cell-edit-input" type="text"/>',e}(r.Component);e.TextCellEditor=s},function(t,e,n){
/**
	 * ag-grid - Advanced Data Grid / Data Table supporting Javascript / React / AngularJS / Web Components
	 * @version v4.2.6
	 * @link http://www.ag-grid.com/
	 * @license MIT
	 */
var o=this&&this.__extends||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n]);function o(){this.constructor=t}t.prototype=null===e?Object.create(e):(o.prototype=e.prototype,new o)},i=n(47),r=n(7),a=function(t){function e(){t.call(this,'<div class="ag-cell-edit-input"><select class="ag-cell-edit-input"/></div>')}return o(e,t),e.prototype.init=function(t){var e=this.getGui().querySelector("select");r.Utils.missing(t.values)?console.log("ag-Grid: no values found for select cellEditor"):(t.values.forEach((function(n){var o=document.createElement("option");o.value=n,o.text=n,t.value===n&&(o.selected=!0),e.appendChild(o)})),this.addDestroyableEventListener(e,"change",(function(){return t.stopEditing()})))},e.prototype.afterGuiAttached=function(){this.getGui().querySelector("select").focus()},e.prototype.getValue=function(){return this.getGui().querySelector("select").value},e}(i.Component);e.SelectCellEditor=a},function(t,e,n){
/**
	 * ag-grid - Advanced Data Grid / Data Table supporting Javascript / React / AngularJS / Web Components
	 * @version v4.2.6
	 * @link http://www.ag-grid.com/
	 * @license MIT
	 */
var o=this&&this.__extends||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n]);function o(){this.constructor=t}t.prototype=null===e?Object.create(e):(o.prototype=e.prototype,new o)},i=function(t){function e(e){t.call(this,'<div class="ag-popup-editor"/>'),this.getGuiCalledOnChild=!1,this.cellEditor=e,this.addDestroyFunc((function(){return e.destroy()})),this.addDestroyableEventListener(t.prototype.getGui.call(this),"keydown",this.onKeyDown.bind(this))}return o(e,t),e.prototype.onKeyDown=function(t){this.params.onKeyDown(t)},e.prototype.getGui=function(){return this.getGuiCalledOnChild||(this.appendChild(this.cellEditor.getGui()),this.getGuiCalledOnChild=!0),t.prototype.getGui.call(this)},e.prototype.init=function(t){this.params=t,this.cellEditor.init&&this.cellEditor.init(t)},e.prototype.afterGuiAttached=function(){this.cellEditor.afterGuiAttached&&this.cellEditor.afterGuiAttached()},e.prototype.getValue=function(){return this.cellEditor.getValue()},e.prototype.isPopup=function(){return!0},e}(n(47).Component);e.PopupEditorWrapper=i},function(t,e,n){
/**
	 * ag-grid - Advanced Data Grid / Data Table supporting Javascript / React / AngularJS / Web Components
	 * @version v4.2.6
	 * @link http://www.ag-grid.com/
	 * @license MIT
	 */
var o=this&&this.__extends||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n]);function o(){this.constructor=t}t.prototype=null===e?Object.create(e):(o.prototype=e.prototype,new o)},i=function(t){function e(){t.apply(this,arguments)}return o(e,t),e.prototype.isPopup=function(){return!0},e}(n(49).TextCellEditor);e.PopupTextCellEditor=i},function(t,e,n){
/**
	 * ag-grid - Advanced Data Grid / Data Table supporting Javascript / React / AngularJS / Web Components
	 * @version v4.2.6
	 * @link http://www.ag-grid.com/
	 * @license MIT
	 */
var o=this&&this.__extends||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n]);function o(){this.constructor=t}t.prototype=null===e?Object.create(e):(o.prototype=e.prototype,new o)},i=function(t){function e(){t.apply(this,arguments)}return o(e,t),e.prototype.isPopup=function(){return!0},e}(n(50).SelectCellEditor);e.PopupSelectCellEditor=i},function(t,e,n){
/**
	 * ag-grid - Advanced Data Grid / Data Table supporting Javascript / React / AngularJS / Web Components
	 * @version v4.2.6
	 * @link http://www.ag-grid.com/
	 * @license MIT
	 */
var o=this&&this.__extends||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n]);function o(){this.constructor=t}t.prototype=null===e?Object.create(e):(o.prototype=e.prototype,new o)},i=this&&this.__decorate||function(t,e,n,o){var i,r=arguments.length,a=r<3?e:null===o?o=Object.getOwnPropertyDescriptor(e,n):o;if("object"===("undefined"==typeof Reflect?"undefined":s(Reflect))&&"function"==typeof Reflect.decorate)a=Reflect.decorate(t,e,n,o);else for(var l=t.length-1;l>=0;l--)(i=t[l])&&(a=(r<3?i(a):r>3?i(e,n,a):i(e,n))||a);return r>3&&a&&Object.defineProperty(e,n,a),a},r=this&&this.__metadata||function(t,e){if("object"===("undefined"==typeof Reflect?"undefined":s(Reflect))&&"function"==typeof Reflect.metadata)return Reflect.metadata(t,e)},a=n(47),l=n(6),u=n(44),c=n(7),d=function(t){function e(){t.call(this,e.TEMPLATE),this.eText=this.queryForHtmlInputElement("input"),this.eButton=this.queryForHtmlElement("button"),this.eButton.addEventListener("click",this.onBtPush.bind(this))}return o(e,t),e.prototype.getValue=function(){return this.eText.value},e.prototype.onBtPush=function(){var t=c.Utils.loadTemplate('<div style="position: absolute; border: 1px solid darkgreen; background: lightcyan"><div>This is the popup</div><div><input/></div><div>Under the input</div></div>');this.popupService.addAsModalPopup(t,!0,(function(){console.log("popup was closed")})),this.popupService.positionPopupUnderComponent({eventSource:this.getGui(),ePopup:t}),t.querySelector("input").focus()},e.prototype.afterGuiAttached=function(){this.eText.focus()},e.TEMPLATE='<span><input type="text" style="width: 80%"/><button style="width: 20%">+</button></span>',i([l.Autowired("popupService"),r("design:type",u.PopupService)],e.prototype,"popupService",void 0),e}(a.Component);e.DateCellEditor=d},function(t,e,n){
/**
	 * ag-grid - Advanced Data Grid / Data Table supporting Javascript / React / AngularJS / Web Components
	 * @version v4.2.6
	 * @link http://www.ag-grid.com/
	 * @license MIT
	 */
var o=this&&this.__decorate||function(t,e,n,o){var i,r=arguments.length,a=r<3?e:null===o?o=Object.getOwnPropertyDescriptor(e,n):o;if("object"===("undefined"==typeof Reflect?"undefined":s(Reflect))&&"function"==typeof Reflect.decorate)a=Reflect.decorate(t,e,n,o);else for(var l=t.length-1;l>=0;l--)(i=t[l])&&(a=(r<3?i(a):r>3?i(e,n,a):i(e,n))||a);return r>3&&a&&Object.defineProperty(e,n,a),a},i=this&&this.__metadata||function(t,e){if("object"===("undefined"==typeof Reflect?"undefined":s(Reflect))&&"function"==typeof Reflect.metadata)return Reflect.metadata(t,e)},r=n(6),a=n(7),l=n(3),u=n(4),c=n(18),d=n(56),p=n(57),h=n(58),f=function(){function t(){this.cellRendererMap={}}return t.prototype.init=function(){this.cellRendererMap[t.ANIMATE_SLIDE]=d.AnimateSlideCellRenderer,this.cellRendererMap[t.ANIMATE_SHOW_CHANGE]=p.AnimateShowChangeCellRenderer,this.cellRendererMap[t.GROUP]=h.GroupCellRenderer},t.prototype.addCellRenderer=function(t,e){this.cellRendererMap[t]=e},t.prototype.getCellRenderer=function(t){var e=this.cellRendererMap[t];return a.Utils.missing(e)?(console.warn("ag-Grid: unable to find cellRenderer for key "+t),null):e},t.ANIMATE_SLIDE="animateSlide",t.ANIMATE_SHOW_CHANGE="animateShowChange",t.GROUP="group",o([r.Autowired("gridOptionsWrapper"),i("design:type",l.GridOptionsWrapper)],t.prototype,"gridOptionsWrapper",void 0),o([r.Autowired("expressionService"),i("design:type",c.ExpressionService)],t.prototype,"expressionService",void 0),o([r.Autowired("eventService"),i("design:type",u.EventService)],t.prototype,"eventService",void 0),o([r.PostConstruct,i("design:type",Function),i("design:paramtypes",[]),i("design:returntype",void 0)],t.prototype,"init",null),t=o([r.Bean("cellRendererFactory"),i("design:paramtypes",[])],t)}();e.CellRendererFactory=f},function(t,e,n){
/**
	 * ag-grid - Advanced Data Grid / Data Table supporting Javascript / React / AngularJS / Web Components
	 * @version v4.2.6
	 * @link http://www.ag-grid.com/
	 * @license MIT
	 */
var o=this&&this.__extends||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n]);function o(){this.constructor=t}t.prototype=null===e?Object.create(e):(o.prototype=e.prototype,new o)},i=n(7),r=function(t){function e(){t.call(this,e.TEMPLATE),this.refreshCount=0,this.eCurrent=this.queryForHtmlElement(".ag-value-slide-current")}return o(e,t),e.prototype.init=function(t){this.params=t,this.refresh(t)},e.prototype.addSlideAnimation=function(){var t=this;this.refreshCount++;var e=this.refreshCount;this.ePrevious&&this.getGui().removeChild(this.ePrevious),this.ePrevious=i.Utils.loadTemplate('<span class="ag-value-slide-previous ag-fade-out"></span>'),this.ePrevious.innerHTML=this.eCurrent.innerHTML,this.getGui().insertBefore(this.ePrevious,this.eCurrent),setTimeout((function(){e===t.refreshCount&&i.Utils.addCssClass(t.ePrevious,"ag-fade-out-end")}),50),setTimeout((function(){e===t.refreshCount&&(t.getGui().removeChild(t.ePrevious),t.ePrevious=null)}),3e3)},e.prototype.refresh=function(t){var e=t.value;i.Utils.missing(e)&&(e=""),e!==this.lastValue&&(this.addSlideAnimation(),this.lastValue=e,i.Utils.exists(t.valueFormatted)?this.eCurrent.innerHTML=t.valueFormatted:i.Utils.exists(t.value)?this.eCurrent.innerHTML=e:this.eCurrent.innerHTML="")},e.TEMPLATE='<span><span class="ag-value-slide-current"></span></span>',e}(n(47).Component);e.AnimateSlideCellRenderer=r},function(t,e,n){
/**
	 * ag-grid - Advanced Data Grid / Data Table supporting Javascript / React / AngularJS / Web Components
	 * @version v4.2.6
	 * @link http://www.ag-grid.com/
	 * @license MIT
	 */
var o=this&&this.__extends||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n]);function o(){this.constructor=t}t.prototype=null===e?Object.create(e):(o.prototype=e.prototype,new o)},i=n(7),r=n(47),a=function(t){function e(){t.call(this,e.TEMPLATE),this.refreshCount=0}return o(e,t),e.prototype.init=function(t){this.params=t,this.eValue=this.queryForHtmlElement(".ag-value-change-value"),this.eDelta=this.queryForHtmlElement(".ag-value-change-delta"),this.refresh(t)},e.prototype.showDelta=function(t,e){var n=Math.abs(e),o=t.formatValue(n),r=i.Utils.exists(o)?o:n,a=e>=0;this.eDelta.innerHTML=a?"&#65514;"+r:"&#65516;"+r,i.Utils.addOrRemoveCssClass(this.eDelta,"ag-value-change-delta-up",a),i.Utils.addOrRemoveCssClass(this.eDelta,"ag-value-change-delta-down",!a)},e.prototype.setTimerToRemoveDelta=function(){var t=this;this.refreshCount++;var e=this.refreshCount;setTimeout((function(){e===t.refreshCount&&t.hideDeltaValue()}),2e3)},e.prototype.hideDeltaValue=function(){i.Utils.removeCssClass(this.eValue,"ag-value-change-value-highlight"),this.eDelta.innerHTML=""},e.prototype.refresh=function(t){var e=t.value;if(e!==this.lastValue){if(i.Utils.exists(t.valueFormatted)?this.eValue.innerHTML=t.valueFormatted:i.Utils.exists(t.value)?this.eValue.innerHTML=e:this.eValue.innerHTML="","number"==typeof e&&"number"==typeof this.lastValue){var n=e-this.lastValue;this.showDelta(t,n)}this.lastValue&&i.Utils.addCssClass(this.eValue,"ag-value-change-value-highlight"),this.setTimerToRemoveDelta(),this.lastValue=e}},e.TEMPLATE='<span><span class="ag-value-change-delta"></span><span class="ag-value-change-value"></span></span>',e}(r.Component);e.AnimateShowChangeCellRenderer=a},function(t,e,n){
/**
	 * ag-grid - Advanced Data Grid / Data Table supporting Javascript / React / AngularJS / Web Components
	 * @version v4.2.6
	 * @link http://www.ag-grid.com/
	 * @license MIT
	 */
var o=this&&this.__extends||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n]);function o(){this.constructor=t}t.prototype=null===e?Object.create(e):(o.prototype=e.prototype,new o)},i=this&&this.__decorate||function(t,e,n,o){var i,r=arguments.length,a=r<3?e:null===o?o=Object.getOwnPropertyDescriptor(e,n):o;if("object"===("undefined"==typeof Reflect?"undefined":s(Reflect))&&"function"==typeof Reflect.decorate)a=Reflect.decorate(t,e,n,o);else for(var l=t.length-1;l>=0;l--)(i=t[l])&&(a=(r<3?i(a):r>3?i(e,n,a):i(e,n))||a);return r>3&&a&&Object.defineProperty(e,n,a),a},r=this&&this.__metadata||function(t,e){if("object"===("undefined"==typeof Reflect?"undefined":s(Reflect))&&"function"==typeof Reflect.metadata)return Reflect.metadata(t,e)},a=n(59),l=n(3),u=n(18),c=n(4),d=n(8),p=n(7),h=n(10),f=n(6),g=n(47),m=n(60),v=n(61),y=n(62),b=n(13),_=a.SvgFactory.getInstance(),C=function(t){function e(){t.call(this,e.TEMPLATE),this.eExpanded=this.queryForHtmlElement(".ag-group-expanded"),this.eContracted=this.queryForHtmlElement(".ag-group-contracted"),this.eCheckbox=this.queryForHtmlElement(".ag-group-checkbox"),this.eValue=this.queryForHtmlElement(".ag-group-value"),this.eChildCount=this.queryForHtmlElement(".ag-group-child-count")}return o(e,t),e.prototype.init=function(t){this.rowNode=t.node,this.rowIndex=t.rowIndex,this.gridApi=t.api,this.addExpandAndContract(t.eGridCell),this.addCheckboxIfNeeded(t),this.addValueElement(t),this.addPadding(t)},e.prototype.addPadding=function(t){var e=this.rowNode;if(!t.suppressPadding&&(e.footer||e.level>0)){var n;n=t.colDef&&t.padding>=0?t.padding:10;var o=e.level*n,i=this.columnController.isReduce()&&this.rowNode.leafGroup;e.footer?o+=15:e.group&&!i||(o+=10),this.getGui().style.paddingLeft=o+"px"}},e.prototype.addValueElement=function(t){t.innerRenderer?this.createFromInnerRenderer(t):this.rowNode.footer?this.createFooterCell(t):this.rowNode.group?(this.createGroupCell(t),this.addChildCount(t)):this.createLeafCell(t)},e.prototype.createFromInnerRenderer=function(t){this.cellRendererService.useCellRenderer(t.innerRenderer,this.eValue,t)},e.prototype.createFooterCell=function(t){var e,n=this.getGroupName(t);if(t.footerValueGetter){var o=t.footerValueGetter,i=p.Utils.cloneObject(t);i.value=n,"function"==typeof o?e=o(i):"string"==typeof o?e=this.expressionService.evaluate(o,i):console.warn("ag-Grid: footerValueGetter should be either a function or a string (expression)")}else e="Total "+n;this.eValue.innerHTML=e},e.prototype.createGroupCell=function(t){var e=t.columnApi.getRowGroupColumns()[t.node.level];p.Utils.missing(e)&&(e=t.column);var n=e.getColDef(),o=this.getGroupName(t),i=this.valueFormatterService.formatValue(e,t.node,t.scope,this.rowIndex,o);if(n&&"function"==typeof n.cellRenderer)t.value=o,t.valueFormatted=i,n.cellRendererParams&&p.Utils.assign(t,n.cellRendererParams),this.cellRendererService.useCellRenderer(n.cellRenderer,this.eValue,t);else{var r=p.Utils.exists(i)?i:o;p.Utils.exists(r)&&""!==r&&this.eValue.appendChild(document.createTextNode(r))}},e.prototype.addChildCount=function(t){!t.suppressCount&&t.node.allChildrenCount>=0&&(this.eChildCount.innerHTML="("+t.node.allChildrenCount+")")},e.prototype.getGroupName=function(t){if(t.keyMap&&"object"===s(t.keyMap)){var e=t.keyMap[t.node.key];return e||t.node.key}return t.node.key},e.prototype.createLeafCell=function(t){p.Utils.exists(t.value)&&(this.eValue.innerHTML=t.value)},e.prototype.addCheckboxIfNeeded=function(t){if(t.checkbox&&!this.rowNode.footer&&!this.rowNode.floating){var e=new y.CheckboxSelectionComponent;this.context.wireBean(e),e.init({rowNode:this.rowNode}),this.eCheckbox.appendChild(e.getGui()),this.addDestroyFunc((function(){return e.destroy()}))}},e.prototype.addExpandAndContract=function(t){var e=p.Utils.createIconNoSpan("groupExpanded",this.gridOptionsWrapper,null,_.createGroupContractedIcon),n=p.Utils.createIconNoSpan("groupContracted",this.gridOptionsWrapper,null,_.createGroupExpandedIcon);this.eExpanded.appendChild(e),this.eContracted.appendChild(n),this.addDestroyableEventListener(this.eExpanded,"click",this.onExpandOrContract.bind(this)),this.addDestroyableEventListener(this.eContracted,"click",this.onExpandOrContract.bind(this)),this.addDestroyableEventListener(t,"dblclick",this.onExpandOrContract.bind(this)),this.addDestroyableEventListener(t,"keydown",this.onKeyDown.bind(this)),this.showExpandAndContractIcons()},e.prototype.onKeyDown=function(t){p.Utils.isKeyPressed(t,d.Constants.KEY_ENTER)&&(this.onExpandOrContract(),t.preventDefault())},e.prototype.onExpandOrContract=function(){this.rowNode.expanded=!this.rowNode.expanded;var t=this.getRefreshFromIndex();this.gridApi.onGroupExpandedOrCollapsed(t),this.showExpandAndContractIcons();var e={node:this.rowNode};this.eventService.dispatchEvent(h.Events.EVENT_ROW_GROUP_OPENED,e)},e.prototype.showExpandAndContractIcons=function(){var t=this.columnController.isReduce()&&this.rowNode.leafGroup;!this.rowNode.group||this.rowNode.footer||t?(p.Utils.setVisible(this.eExpanded,!1),p.Utils.setVisible(this.eContracted,!1)):(p.Utils.setVisible(this.eExpanded,this.rowNode.expanded),p.Utils.setVisible(this.eContracted,!this.rowNode.expanded))},e.prototype.getRefreshFromIndex=function(){return this.gridOptionsWrapper.isGroupIncludeFooter()?this.rowIndex:this.rowIndex+1},e.TEMPLATE='<span><span class="ag-group-expanded"></span><span class="ag-group-contracted"></span><span class="ag-group-checkbox"></span><span class="ag-group-value"></span><span class="ag-group-child-count"></span></span>',i([f.Autowired("gridOptionsWrapper"),r("design:type",l.GridOptionsWrapper)],e.prototype,"gridOptionsWrapper",void 0),i([f.Autowired("expressionService"),r("design:type",u.ExpressionService)],e.prototype,"expressionService",void 0),i([f.Autowired("eventService"),r("design:type",c.EventService)],e.prototype,"eventService",void 0),i([f.Autowired("cellRendererService"),r("design:type",m.CellRendererService)],e.prototype,"cellRendererService",void 0),i([f.Autowired("valueFormatterService"),r("design:type",v.ValueFormatterService)],e.prototype,"valueFormatterService",void 0),i([f.Autowired("context"),r("design:type",f.Context)],e.prototype,"context",void 0),i([f.Autowired("columnController"),r("design:type",b.ColumnController)],e.prototype,"columnController",void 0),e}(g.Component);e.GroupCellRenderer=C},function(t,e){
/**
	 * ag-grid - Advanced Data Grid / Data Table supporting Javascript / React / AngularJS / Web Components
	 * @version v4.2.6
	 * @link http://www.ag-grid.com/
	 * @license MIT
	 */
var n="http://www.w3.org/2000/svg",o=function(){function t(){}return t.getInstance=function(){return this.theInstance||(this.theInstance=new t),this.theInstance},t.prototype.createFilterSvg=function(){var t=r(),e=document.createElementNS(n,"polygon");return e.setAttribute("points","0,0 4,4 4,10 6,10 6,4 10,0"),e.setAttribute("class","ag-header-icon"),t.appendChild(e),t},t.prototype.createFilterSvg12=function(){var t=r(12),e=document.createElementNS(n,"polygon");return e.setAttribute("points","0,0 5,5 5,12 7,12 7,5 12,0"),e.setAttribute("class","ag-header-icon"),t.appendChild(e),t},t.prototype.createMenuSvg=function(){var t=document.createElementNS(n,"svg");return t.setAttribute("width","12"),t.setAttribute("height","12"),["0","5","10"].forEach((function(e){var o=document.createElementNS(n,"rect");o.setAttribute("y",e),o.setAttribute("width","12"),o.setAttribute("height","2"),o.setAttribute("class","ag-header-icon"),t.appendChild(o)})),t},t.prototype.createColumnsSvg12=function(){var t=r(12);return[0,4,8].forEach((function(e){[0,7].forEach((function(o){var i=document.createElementNS(n,"rect");i.setAttribute("y",e.toString()),i.setAttribute("x",o.toString()),i.setAttribute("width","5"),i.setAttribute("height","3"),i.setAttribute("class","ag-header-icon"),t.appendChild(i)}))})),t},t.prototype.createArrowUpSvg=function(){return i("0,10 5,0 10,10")},t.prototype.createArrowLeftSvg=function(){return i("10,0 0,5 10,10")},t.prototype.createArrowDownSvg=function(){return i("0,0 5,10 10,0")},t.prototype.createArrowRightSvg=function(){return i("0,0 10,5 0,10")},t.prototype.createSmallArrowRightSvg=function(){return i("0,0 6,3 0,6",6)},t.prototype.createSmallArrowDownSvg=function(){return i("0,0 3,6 6,0",6)},t.prototype.createArrowUpDownSvg=function(){var t=r(),e=document.createElementNS(n,"polygon");e.setAttribute("points","0,4 5,0 10,4"),t.appendChild(e);var o=document.createElementNS(n,"polygon");return o.setAttribute("points","0,6 5,10 10,6"),t.appendChild(o),t},t.prototype.createFolderOpen=function(){var t=document.createElement("img");return t.src="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABAAAAAQCAYAAAAf8/9hAAAAGXRFWHRTb2Z0d2FyZQBBZG9iZSBJbWFnZVJlYWR5ccllPAAAAZpJREFUeNqkU0tLQkEUPjN3ShAzF66CaNGiaNEviFpLgbSpXf2ACIqgFkELaVFhtAratQ8qokU/oFVbMQtJvWpWGvYwtet9TWfu1QorvOGBb84M5/WdOTOEcw7tCKHBlT8sMIhr4BfLGXC4BrALM8QUoveHG9oPQ/NhwVCQbOjp0C5F6zDiwE7Aed/p5tKWruufTlY8bkqliqVN8wvH6wvhydWd5UYdkYCqqgaKotQTCEewnJuDBSqVmshOrWhKgCJVqeHcKtiGKdqTgGIOQmwGum7AxVUKinXKzX1/1y5Xp6g8gpe8iBxuGZhcKjyXQZIkmBkfczS62YnRQCKX75/b3t8QDNhD8QX83V5Ipe7Bybug2Pt5NJ7A4nEqGOQKT+Bzu0HTDNB1syUYYxCJy0kwzIRogb0rKjAiQVXXHLVQrqqvsZtsFu8hbyXwe73WeMQtO5GonJGxuiyeC+Oa4fF5PEirw9nbx9FdxtN5eMwkzcgRnoeCa9DVM/CvH/R2l+axkz3clQguOFjw1f+FUzEQCqJG2v3OHwIMAOW1JPnAAAJxAAAAAElFTkSuQmCC",t},t.prototype.createFolderClosed=function(){var t=document.createElement("img");return t.src="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABAAAAAQCAYAAAAf8/9hAAAAGXRFWHRTb2Z0d2FyZQBBZG9iZSBJbWFnZVJlYWR5ccllPAAAARlJREFUeNqsUz1PwzAUPDtOUASpYKkQVWcQA/+DhbLA32CoKAMSTAwgFsQfQWLoX4GRDFXGIiqiyk4e7wUWmg8phJPOtvzunc6WrYgIXaD06KKhij0eD2uqUxBeDC9OmcNKCYd7ujm7ryodXz5ong6UPpqcP9+O76y1vwS+7yOOY1jr0OttlQyiaB0n148TAyK9XFqkaboiSTEYDNnkDUkyKxkkiSQkzQbwsiyHcBXz+Tv6/W1m+QiSEDT1igTO5RBWYbH4rNwPw/AnQU5ek0EdCj33SgLjHEHYzoAkgfmHBDmZuktsQqHPvxN0MyCbbWjtIQjWWhlIj/QqtT+6QrSz+6ef9DF7VTwFzE2madnu5K2prt/5S4ABADcIlSf6Ag8YAAAAAElFTkSuQmCC",t},t.prototype.createColumnIcon=function(){var t=document.createElement("img");return t.src="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAYAAAAOCAYAAAAMn20lAAAAGXRFWHRTb2Z0d2FyZQBBZG9iZSBJbWFnZVJlYWR5ccllPAAAAyJpVFh0WE1MOmNvbS5hZG9iZS54bXAAAAAAADw/eHBhY2tldCBiZWdpbj0i77u/IiBpZD0iVzVNME1wQ2VoaUh6cmVTek5UY3prYzlkIj8+IDx4OnhtcG1ldGEgeG1sbnM6eD0iYWRvYmU6bnM6bWV0YS8iIHg6eG1wdGs9IkFkb2JlIFhNUCBDb3JlIDUuMy1jMDExIDY2LjE0NTY2MSwgMjAxMi8wMi8wNi0xNDo1NjoyNyAgICAgICAgIj4gPHJkZjpSREYgeG1sbnM6cmRmPSJodHRwOi8vd3d3LnczLm9yZy8xOTk5LzAyLzIyLXJkZi1zeW50YXgtbnMjIj4gPHJkZjpEZXNjcmlwdGlvbiByZGY6YWJvdXQ9IiIgeG1sbnM6eG1wPSJodHRwOi8vbnMuYWRvYmUuY29tL3hhcC8xLjAvIiB4bWxuczp4bXBNTT0iaHR0cDovL25zLmFkb2JlLmNvbS94YXAvMS4wL21tLyIgeG1sbnM6c3RSZWY9Imh0dHA6Ly9ucy5hZG9iZS5jb20veGFwLzEuMC9zVHlwZS9SZXNvdXJjZVJlZiMiIHhtcDpDcmVhdG9yVG9vbD0iQWRvYmUgUGhvdG9zaG9wIENTNiAoV2luZG93cykiIHhtcE1NOkluc3RhbmNlSUQ9InhtcC5paWQ6RTcwQ0JFMzlENjZEMTFFNUFEQ0U5RDRCNjFFRENGMUMiIHhtcE1NOkRvY3VtZW50SUQ9InhtcC5kaWQ6RTcwQ0JFM0FENjZEMTFFNUFEQ0U5RDRCNjFFRENGMUMiPiA8eG1wTU06RGVyaXZlZEZyb20gc3RSZWY6aW5zdGFuY2VJRD0ieG1wLmlpZDpFNzBDQkUzN0Q2NkQxMUU1QURDRTlENEI2MUVEQ0YxQyIgc3RSZWY6ZG9jdW1lbnRJRD0ieG1wLmRpZDpFNzBDQkUzOEQ2NkQxMUU1QURDRTlENEI2MUVEQ0YxQyIvPiA8L3JkZjpEZXNjcmlwdGlvbj4gPC9yZGY6UkRGPiA8L3g6eG1wbWV0YT4gPD94cGFja2V0IGVuZD0iciI/PqDOrJYAAABxSURBVHjalJBBDsAgCAQXxXvj2/o/X9Cvmd4lUpV4MXroJMTAuihQSklVMSCysxSBW4uWKzjG6zZLDxrlWis5EVEThoWmi3N+nxAYs2WnXQY34L3HisMWPQlHB+2FPtNW6D/8+ziBRcroOXc0B/wEGABY6TPS1FU0bwAAAABJRU5ErkJggg==",t},t.prototype.createColumnsIcon=function(){var t=document.createElement("img");return t.src="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABAAAAAQCAYAAAAf8/9hAAAAGXRFWHRTb2Z0d2FyZQBBZG9iZSBJbWFnZVJlYWR5ccllPAAAAyJpVFh0WE1MOmNvbS5hZG9iZS54bXAAAAAAADw/eHBhY2tldCBiZWdpbj0i77u/IiBpZD0iVzVNME1wQ2VoaUh6cmVTek5UY3prYzlkIj8+IDx4OnhtcG1ldGEgeG1sbnM6eD0iYWRvYmU6bnM6bWV0YS8iIHg6eG1wdGs9IkFkb2JlIFhNUCBDb3JlIDUuMy1jMDExIDY2LjE0NTY2MSwgMjAxMi8wMi8wNi0xNDo1NjoyNyAgICAgICAgIj4gPHJkZjpSREYgeG1sbnM6cmRmPSJodHRwOi8vd3d3LnczLm9yZy8xOTk5LzAyLzIyLXJkZi1zeW50YXgtbnMjIj4gPHJkZjpEZXNjcmlwdGlvbiByZGY6YWJvdXQ9IiIgeG1sbnM6eG1wPSJodHRwOi8vbnMuYWRvYmUuY29tL3hhcC8xLjAvIiB4bWxuczp4bXBNTT0iaHR0cDovL25zLmFkb2JlLmNvbS94YXAvMS4wL21tLyIgeG1sbnM6c3RSZWY9Imh0dHA6Ly9ucy5hZG9iZS5jb20veGFwLzEuMC9zVHlwZS9SZXNvdXJjZVJlZiMiIHhtcDpDcmVhdG9yVG9vbD0iQWRvYmUgUGhvdG9zaG9wIENTNiAoV2luZG93cykiIHhtcE1NOkluc3RhbmNlSUQ9InhtcC5paWQ6OENFQkI4NDhENzJDMTFFNUJDNEVFRjgwRDI3MkU1Q0EiIHhtcE1NOkRvY3VtZW50SUQ9InhtcC5kaWQ6OENFQkI4NDlENzJDMTFFNUJDNEVFRjgwRDI3MkU1Q0EiPiA8eG1wTU06RGVyaXZlZEZyb20gc3RSZWY6aW5zdGFuY2VJRD0ieG1wLmlpZDo4Q0VCQjg0NkQ3MkMxMUU1QkM0RUVGODBEMjcyRTVDQSIgc3RSZWY6ZG9jdW1lbnRJRD0ieG1wLmRpZDo4Q0VCQjg0N0Q3MkMxMUU1QkM0RUVGODBEMjcyRTVDQSIvPiA8L3JkZjpEZXNjcmlwdGlvbj4gPC9yZGY6UkRGPiA8L3g6eG1wbWV0YT4gPD94cGFja2V0IGVuZD0iciI/Pj6ozGQAAAAuSURBVHjaYmRgYPjPgBswQml8anBK/idGDQsxNpCghnTAOBoGo2EwGgZgABBgAHbrH/l4grETAAAAAElFTkSuQmCC",t},t.prototype.createPinIcon=function(){var t=document.createElement("img");return t.src="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABAAAAAQCAYAAAAf8/9hAAAAGXRFWHRTb2Z0d2FyZQBBZG9iZSBJbWFnZVJlYWR5ccllPAAAAedJREFUeNqkUktLG1EYPTN31CIN0oWbIAWhKJR0FXcG6gOqkKGKVvEXCKULC91YSBcK7jXgQoIbFxn3ErFgFlIfCxUsQsCoIJYEm9LWNsGmJjPTM+Oo44Aa6IUzd+bec77H+UYyTRP/s5SsLFfCCxEjOhD9CXw64ccXJj7nLleYaMSvaa/+Au9Y73P3RUUBDIuXyaAxGu35A7xnkM57A7icCZXIO8/nkVleRn1/f9cv0xzjfVclFdi9N8ZivfnDQxQKBTwoFvFicLCVQSesJIpHMEY8dSqQWa54Eov1fF9ZQVHXsZNMblhnNE/wPmJPIX1zjOG2+fkgslnozHR2eopLcSIe3yoD48y45FbIxoVJNjimyMehoW3T58PvdBq53V18zeWwFo+vUfyBlCVvj0Li4/M1DnaAUtXCQkNDR4f/294eaoTAwdHRCROMWlzJZfC+1cKcJF07b5o+btWvV1eDyVBouyUcDj5UFDg924tVYtERpz0mCkmSulOp1GQgEIj0yvKPYiKBlwMDQXfPU47walEEmb8z0a5p2qaiKMPEoz6ezQLdM8DWNDDzltym24YthHimquoshSoDicvzZkK9S+h48pjCN4ZhrBPHTptlD0qevezwdCtAHVHrMti4A7rr3eb+E2AAoGnGkgkzpg8AAAAASUVORK5CYII=",t},t.prototype.createPlusIcon=function(){var t=document.createElement("img");return t.src="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABAAAAAQCAYAAAAf8/9hAAAAGXRFWHRTb2Z0d2FyZQBBZG9iZSBJbWFnZVJlYWR5ccllPAAAAatJREFUeNqkU71KA0EQ/vaiib+lWCiordidpSg+QHwDBSt7n8DGhwhYCPoEgqCCINomARuLVIqgYKFG5f6z68xOzrvzYuXA3P7MzLffN7unjDH4jw3xx91bQXuxU4woNDjUX7VgsFOIH3/BnHgC0J65AzwFjDpZgoG7vb7lMsPDq6MiuK+B+kjGwFpCUjwK1DIQ3/dl0ssVh5TTM0UJP8aBgBKGleSGIWyP0oKYRm3KPSgYJ0Q0EpEgCASA2WmWZQY3kazBmjP9UhBFEbTWAgA0f9W2yHeG+vrd+tqGy5r5xNTT9erSqpvfdxwHN7fXOQZ0QhzH1oWArLsfXXieJ/KTGEZLcbVaTVn9ALTOLk9L+mYX5lxd0Xh6eGyVgspK6APwI8n3x9hmNpORJOuBo5ah8GcTc7dAHmkhNpYQlpHr47Hq2NspA1yEwHkoO/MVYLMmWJNarjEUQBzQw7rPvardFC8tZuOEwwB4p9PHqXgCdm738sUDJPB8mnwKj7qCTtJ527+XyAs6tOf2Bb6SP0OeGxRTVMp2h9nweWMoKS20l3+QT/vwqfZbgAEAUCrnlLQ+w4QAAAAASUVORK5CYII=",t},t.prototype.createMinusIcon=function(){var t=document.createElement("img");return t.src="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABAAAAAQCAYAAAAf8/9hAAAAGXRFWHRTb2Z0d2FyZQBBZG9iZSBJbWFnZVJlYWR5ccllPAAAAKVJREFUeNpi/P//PwMlgImBQjBqAAMDy3JGRgZGBoaZQGxMikZg3J0F4nSWHxC+cUBamvHXr18Zfv36Bca/f/8G43///oExKLphmImJieHagQMQF7QDiSwg/vnzJ8P3799RDPj79y+KRhhmBLr6I1DPNJABtxkYZM4xMFx7uXAhSX5/CtQD0gv0OgMfyCAgZgViZiL1/wXi30D8h3E0KVNuAECAAQDr51qtGxzf1wAAAABJRU5ErkJggg==",t},t.prototype.createMoveIcon=function(){var t=document.createElement("img");return t.src="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABAAAAAQCAYAAAAf8/9hAAAAGXRFWHRTb2Z0d2FyZQBBZG9iZSBJbWFnZVJlYWR5ccllPAAAAoZJREFUeNpsU81rE0EUf7uzu2lNVJL6Eb0IBWusepqcKm3wEFkvxqDgQbwUtYeeg5cccwj4F7QKChEPipRcdMGDiaAoJAexLYViwYsfbU1JYkx3Zz98b8220Wbg7ez7vXm/mffmN9Kh1G2QGQOmMDiRyYEkSaCoKjDGdAAooOUdxzFsIcDzPPhSvgeO7YDrOLBRmQdlJHULVE0DNRSCvqFjUuHqhWP8+etvhR5m0CeengVhmiAsywdl2Dt03K1wZSrO220XaCaf8AFrQel32s0mrDcaWfovrq3Vc9OTvHj/Tb0Xzh6JxQwNyxtIgPXpqqJk94fDM+1Oh6CaEF4QTiIOGJ/DdQtBObsEmGxbll/rkCyDPDwMzW4XhHD88EH0NcRxDUeX4/qdnsi0s8Aas+kEp8Zg82pMkmpDigKbjSbQTD7hFL94/jin9ZRHBNLo3Wrt+uUkbzQsiEZVMPGKfv76DaawodnahkhY86+PNnXxs77ZgVOjMahWVuufi1NJRZhWvvT0beHGtQn++Nm7en+DzqXO8vfVxX+wsYnT/JWxWEe95P0eILsvkkdPKn4PUEBJmunILab5992PLVU++skoNmOniT7JX2Fkt5GM1EjqbMohXzQmqo7KwCQ6zYKiabu30PpQAnZ0HKSRMcMRwnBddw4ZOO4GLRYKFFdDhrrteTMMdWB9/QTdH8sIp0EKmNT4GWDjGZAPJ3TcrbBv+ibfwtwDqBvzYck/truxYjjLZRDflwLt7JUmEoAymdPV7INa5IXn0Uw+4f8PIqATMLQIWpQ0E/RFTmQ4nLx0B1Zfzrsr5eAmbLQW2hYpHwkcqfegNBJhzwY9sGC4aCZaF81CAvePAAMAcwtApJX/Wo0AAAAASUVORK5CYII=",t},t.prototype.createLeftIcon=function(){var t=document.createElement("img");return t.src="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABAAAAAQCAYAAAAf8/9hAAAAGXRFWHRTb2Z0d2FyZQBBZG9iZSBJbWFnZVJlYWR5ccllPAAAAe9JREFUeNqkUz1oE2EYfu7uuyRKLCFt6g+4VNQWWod+mQRRR1En0UFOHKoNCMKNju4SEQsOzsFNcRGl4CS42AzaKhKcsqhk0Etj7u+773y/6+USbOLSF5574b33eX+e906L4xh7MaYeC/c/IFcowMznEzDTBGPMoldnqEFtkPy708mIqvHHe0s7BcaYJYSwRwPu9vbYRH1XJI4tEYb2jYtHOHko9LvdxE9cYZQcBoF9+9oJ7jgRQt+HFAJSyv9rkO6UkGvXF3mr9QelkpkUINsYR6T8Jrkay8i+b9+5yfnmppMmSFw6e4yrIynBBsdS3jQ1PH/zeTiBIt+9dZpvbTlZh1+Oh/Z3F33XRUj7R1GUxA3DwMx0EYHnDUUMPe9Rfe1tc26uiL6M8aXno+UH6O7PIShPIapMQx6sQMxW4JbL+MkKCKhwNgGN2FD7Pnz82j63coF/aoc4ekDHtxfrzUniaZrW/FfEBomI9Scv7fnVq7zdBwIqajBWpeTd99d3vgBNCaQSzMOLyJ+6ApSPWxSzD61a/MfThupSjVuvxk2A3sazYYGBGbML0OcvW9rMyeRLFO8eVGXnKyacMiug5ikSplLs05dXzqNQWpbv6/URjpK+m6JH3GhQQI2QI+RTmBO0EwQ/RUBcqe31d/4rwAB0lPTXqN6HzgAAAABJRU5ErkJggg==",t},t.prototype.createRightIcon=function(){var t=document.createElement("img");return t.src="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABAAAAAQCAYAAAAf8/9hAAAAGXRFWHRTb2Z0d2FyZQBBZG9iZSBJbWFnZVJlYWR5ccllPAAAAfBJREFUeNqkUz1s00AU/hwSh1SEhiFCYuhCVSExgHRiYKjEVCEyMMGAsjCxZunesWM7dIgEA8JISPyoUhFDFoZOSE2GgtrSIAYWSEPb1HUS23c+8+7iuE5/JKQ+6fOdz/e+970fG2EY4jyWVo9b819hGEZ8WCgW4z2dV2lZFUJYgnNwz9PwXRebc3cGBMfN6XSQy+eHryyCMuv43dRpBCpSz7b1qlB+cI3RWkEYlv+LQFkgBLxuV8s9OAhQLk0w7vsnSHQKVMhqQuYRSRBouK5AqyXwpHSdvfywUYkKb8UEFIU9fXybOY6A+jbszGAP7O/7RBKg2eR4dH+KvV5ej0k0gaqobXO0214c3acUDnt99Pp9cKqDUqLsx68LuHd3gtU+b1eOCOiSaaZQKJjgMsSOy7EnJcSYCZnLwKbojic1weTVMXz81KhTexeSKdSXqrUzh2X84Qxr9SQmx1P48q6mnTPZrJUs4jMp5QlHlSd1Y203fRGFK8DPV28HzqZpjXShW3+D00bamCrpNU9DuvvcGsjea1rO+nvw39+AxRCGckyO8ciQFG8gPT27ptX8/b4gt1asYGdzRGE6MVCXCJcj5NShbG9B/NnYhttpyMYL5XmTYEdw1KgMFSgJJiEbIXNGPQXBi+CTrzTO+zv/E2AA3Y8Nbp4Kn1sAAAAASUVORK5CYII=",t},t.prototype.createColumnVisibleIcon=function(){var t=document.createElement("img");return t.src="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABAAAAAQCAYAAAAf8/9hAAAAGXRFWHRTb2Z0d2FyZQBBZG9iZSBJbWFnZVJlYWR5ccllPAAAAdhJREFUeNrUk01LAlEUhu845QdRUxZBhIIWtFBso2AwRAVNLqKltHCb63b9A/9AixZCELhyYdAmEyYCBcOlNa1CSQoxog/DMY3x9p5B27Zw1YGH8XrO+55759wROOdsmLCwIWNoAwFh/ugfZQKsAQV4gbNf9woqIAeuQHOgGxgIMNix2Wx7iqIsxmKxWU3TxgqFgpWSsix3fT5fK5VKPedyuftOp5OE7oz60hHsYD8UCh3k83k5k8ksGYYx5XK5rK2WzgiIrPQf5aiGakljakVRjKDrZaPR6Oi6zglVVTlFMnnMZXmdK8o2x674IE+1pCHtCFx2w+GwE9u3drtd81yJRAKdDXZ4eGSuFxb87PHxjg3yVEsaNNolg5NSqTTVbDaX7Agq8Hg8TFWLbGVl0xTY7TY2Our5NfhCQPNAWtFisdSr1WqvWCwawWBwRpKkcZyXadoN83qXmSQ50V1jGxurpnGlUqnH4/FzvItTmoo5ApjQNMIOh2MrEon4o9Gov1arzZXL5XHKBwKBT7fbXU+n07fZbPa23W5f4BVd93o9TgYimATTMHHCbB5PN9ZSf0LmrsEHRDWInvB8w/oFvAv920iFDkBzF/64fHTjvoFOxsL//5h+BBgAwjbgRLl5ImwAAAAASUVORK5CYII=",t},t.prototype.createColumnHiddenIcon=function(){var t=document.createElement("img");return t.src="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABAAAAAQCAYAAAAf8/9hAAAAGXRFWHRTb2Z0d2FyZQBBZG9iZSBJbWFnZVJlYWR5ccllPAAAAyJpVFh0WE1MOmNvbS5hZG9iZS54bXAAAAAAADw/eHBhY2tldCBiZWdpbj0i77u/IiBpZD0iVzVNME1wQ2VoaUh6cmVTek5UY3prYzlkIj8+IDx4OnhtcG1ldGEgeG1sbnM6eD0iYWRvYmU6bnM6bWV0YS8iIHg6eG1wdGs9IkFkb2JlIFhNUCBDb3JlIDUuMy1jMDExIDY2LjE0NTY2MSwgMjAxMi8wMi8wNi0xNDo1NjoyNyAgICAgICAgIj4gPHJkZjpSREYgeG1sbnM6cmRmPSJodHRwOi8vd3d3LnczLm9yZy8xOTk5LzAyLzIyLXJkZi1zeW50YXgtbnMjIj4gPHJkZjpEZXNjcmlwdGlvbiByZGY6YWJvdXQ9IiIgeG1sbnM6eG1wPSJodHRwOi8vbnMuYWRvYmUuY29tL3hhcC8xLjAvIiB4bWxuczp4bXBNTT0iaHR0cDovL25zLmFkb2JlLmNvbS94YXAvMS4wL21tLyIgeG1sbnM6c3RSZWY9Imh0dHA6Ly9ucy5hZG9iZS5jb20veGFwLzEuMC9zVHlwZS9SZXNvdXJjZVJlZiMiIHhtcDpDcmVhdG9yVG9vbD0iQWRvYmUgUGhvdG9zaG9wIENTNiAoV2luZG93cykiIHhtcE1NOkluc3RhbmNlSUQ9InhtcC5paWQ6N0ZGNDRBMkJENkU3MTFFNUIwOTBGRTc0MTA3OTI2OEYiIHhtcE1NOkRvY3VtZW50SUQ9InhtcC5kaWQ6N0ZGNDRBMkNENkU3MTFFNUIwOTBGRTc0MTA3OTI2OEYiPiA8eG1wTU06RGVyaXZlZEZyb20gc3RSZWY6aW5zdGFuY2VJRD0ieG1wLmlpZDo3RkY0NEEyOUQ2RTcxMUU1QjA5MEZFNzQxMDc5MjY4RiIgc3RSZWY6ZG9jdW1lbnRJRD0ieG1wLmRpZDo3RkY0NEEyQUQ2RTcxMUU1QjA5MEZFNzQxMDc5MjY4RiIvPiA8L3JkZjpEZXNjcmlwdGlvbj4gPC9yZGY6UkRGPiA8L3g6eG1wbWV0YT4gPD94cGFja2V0IGVuZD0iciI/PjQ0mkwAAACISURBVHjaYvz//z8DJYCJgUIwDAxgKSwspMwAIOYDYlcgtgNiJSBWBGJhIGaHyoHAJyD+CcRvgfg+EN8D4kNAvBtkwGEg1iNgkSCUlgBibSg7D4gvgwywRXKBChArALEIELMCsQBU8Qcg/g3Eb4D4ARDfBeKDMBeAnLcWikkGjKMpcRAYABBgACqXGpPEq63VAAAAAElFTkSuQmCC",t},t.prototype.createColumnIndeterminateIcon=function(){var t=document.createElement("img");return t.src="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABAAAAAQCAYAAAAf8/9hAAAAGXRFWHRTb2Z0d2FyZQBBZG9iZSBJbWFnZVJlYWR5ccllPAAAAyJpVFh0WE1MOmNvbS5hZG9iZS54bXAAAAAAADw/eHBhY2tldCBiZWdpbj0i77u/IiBpZD0iVzVNME1wQ2VoaUh6cmVTek5UY3prYzlkIj8+IDx4OnhtcG1ldGEgeG1sbnM6eD0iYWRvYmU6bnM6bWV0YS8iIHg6eG1wdGs9IkFkb2JlIFhNUCBDb3JlIDUuMy1jMDExIDY2LjE0NTY2MSwgMjAxMi8wMi8wNi0xNDo1NjoyNyAgICAgICAgIj4gPHJkZjpSREYgeG1sbnM6cmRmPSJodHRwOi8vd3d3LnczLm9yZy8xOTk5LzAyLzIyLXJkZi1zeW50YXgtbnMjIj4gPHJkZjpEZXNjcmlwdGlvbiByZGY6YWJvdXQ9IiIgeG1sbnM6eG1wPSJodHRwOi8vbnMuYWRvYmUuY29tL3hhcC8xLjAvIiB4bWxuczp4bXBNTT0iaHR0cDovL25zLmFkb2JlLmNvbS94YXAvMS4wL21tLyIgeG1sbnM6c3RSZWY9Imh0dHA6Ly9ucy5hZG9iZS5jb20veGFwLzEuMC9zVHlwZS9SZXNvdXJjZVJlZiMiIHhtcDpDcmVhdG9yVG9vbD0iQWRvYmUgUGhvdG9zaG9wIENTNiAoV2luZG93cykiIHhtcE1NOkluc3RhbmNlSUQ9InhtcC5paWQ6OUY1QTkyNDUxRTkzMTFFNkFEQzVDNjE1NDE4RDlEQUMiIHhtcE1NOkRvY3VtZW50SUQ9InhtcC5kaWQ6OUY1QTkyNDYxRTkzMTFFNkFEQzVDNjE1NDE4RDlEQUMiPiA8eG1wTU06RGVyaXZlZEZyb20gc3RSZWY6aW5zdGFuY2VJRD0ieG1wLmlpZDo5RjVBOTI0MzFFOTMxMUU2QURDNUM2MTU0MThEOURBQyIgc3RSZWY6ZG9jdW1lbnRJRD0ieG1wLmRpZDo5RjVBOTI0NDFFOTMxMUU2QURDNUM2MTU0MThEOURBQyIvPiA8L3JkZjpEZXNjcmlwdGlvbj4gPC9yZGY6UkRGPiA8L3g6eG1wbWV0YT4gPD94cGFja2V0IGVuZD0iciI/Por9Q7gAAAGzSURBVHja1JOxSwJRHMffqXcqSoVBQ0FDNN7iIBxO5WA3NYoEjm0u/T2Bkw2ONZlgNEk4Bw6GiGiippmRnp76+n4PbWhpcOoHH57P+36/7/e8n4qUUmxSLrFhbRygoJwPq6tsgRMQB0cgtNINQA0UwCMYrX3rAAUB516v9zIejx+nUqm90WgUDIfDaq1WE9PpdK6q6mc2m+0WCoUX7K/hu+O5TPCBq0gkUiqXy0PbtqVlWXK5XDqwuE4mEzmfzyU11NJDr3C73SZOfeh0OtPxeCyR7oixlzhdVqtV2ev1nCB+Tw219NDrQRtJwzBCaF+bzWbsSGQyGVEsFoWmacLj8YjBYCBisZhIp9MC3Qhq6YEmyQ5OTdO8bTQak263K8m69d+FIOc5tfTQywAvTrmIRqM3pVLptd1uy3q9/nN3slgsZLPZlHxGDbX00Ou8ApfLxbdh+P3+MyTriURC7/f7+7hCsFKpCF3XvwKBQCuXyz3n8/ln/Bb3yH9iOAPcYAfsIiSEsAOsh9hvA99qDizwAVMDphbWd+zfwFBZTSOFfqBxJv4YPk6cDcYMVv7/n+lbgAEAtdcjOjP715MAAAAASUVORK5CYII=",t},t.prototype.createGroupIcon=function(){var t=document.createElement("img");return t.src="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABAAAAAQCAYAAAAf8/9hAAAAGXRFWHRTb2Z0d2FyZQBBZG9iZSBJbWFnZVJlYWR5ccllPAAAAyJpVFh0WE1MOmNvbS5hZG9iZS54bXAAAAAAADw/eHBhY2tldCBiZWdpbj0i77u/IiBpZD0iVzVNME1wQ2VoaUh6cmVTek5UY3prYzlkIj8+IDx4OnhtcG1ldGEgeG1sbnM6eD0iYWRvYmU6bnM6bWV0YS8iIHg6eG1wdGs9IkFkb2JlIFhNUCBDb3JlIDUuMy1jMDExIDY2LjE0NTY2MSwgMjAxMi8wMi8wNi0xNDo1NjoyNyAgICAgICAgIj4gPHJkZjpSREYgeG1sbnM6cmRmPSJodHRwOi8vd3d3LnczLm9yZy8xOTk5LzAyLzIyLXJkZi1zeW50YXgtbnMjIj4gPHJkZjpEZXNjcmlwdGlvbiByZGY6YWJvdXQ9IiIgeG1sbnM6eG1wPSJodHRwOi8vbnMuYWRvYmUuY29tL3hhcC8xLjAvIiB4bWxuczp4bXBNTT0iaHR0cDovL25zLmFkb2JlLmNvbS94YXAvMS4wL21tLyIgeG1sbnM6c3RSZWY9Imh0dHA6Ly9ucy5hZG9iZS5jb20veGFwLzEuMC9zVHlwZS9SZXNvdXJjZVJlZiMiIHhtcDpDcmVhdG9yVG9vbD0iQWRvYmUgUGhvdG9zaG9wIENTNiAoV2luZG93cykiIHhtcE1NOkluc3RhbmNlSUQ9InhtcC5paWQ6NUVCNUI1OUNENkYwMTFFNThGNjJDNUE3ODIwMEZERDciIHhtcE1NOkRvY3VtZW50SUQ9InhtcC5kaWQ6NUVCNUI1OURENkYwMTFFNThGNjJDNUE3ODIwMEZERDciPiA8eG1wTU06RGVyaXZlZEZyb20gc3RSZWY6aW5zdGFuY2VJRD0ieG1wLmlpZDo1RUI1QjU5QUQ2RjAxMUU1OEY2MkM1QTc4MjAwRkRENyIgc3RSZWY6ZG9jdW1lbnRJRD0ieG1wLmRpZDo1RUI1QjU5QkQ2RjAxMUU1OEY2MkM1QTc4MjAwRkRENyIvPiA8L3JkZjpEZXNjcmlwdGlvbj4gPC9yZGY6UkRGPiA8L3g6eG1wbWV0YT4gPD94cGFja2V0IGVuZD0iciI/PlkCTGoAAACDSURBVHjaYmRgYPjPgBswQun/+BT8X3x5DoZErG4KCj/3/DcMNZMNuRiYGPADRiRX4HYBJV5AB0QrhAGW//8hehgZES6FiaGLYzUAq7sxNf0nxQCsinHFAguegCPKBYxoYfAfWQxNnPgwINJVYMDEQCEYfLHASGoKRQlxPN7BqQggwAAN+SopPnDCwgAAAABJRU5ErkJggg==",t},t.prototype.createPivotIcon=function(){var t=document.createElement("img");return t.src="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABAAAAAQCAYAAAAf8/9hAAAAGXRFWHRTb2Z0d2FyZQBBZG9iZSBJbWFnZVJlYWR5ccllPAAAAitJREFUeNqcU01rE1EUPfPVJjFqdYw2pJQkNS2hYhQUiwj+AaugKFYUBWutG3HjokgNrroRKYKbglBBFF0o1IW404qClGIDxpYKTQgULZJmmpiYkPnwvmtNspPmweOcmXnnvPPufSOdjsf7AfjR3PiOU6OjV50mh9CqtmVJDlkNjWU3tPXEiA6hlS3Lkm3HQbFYxO5hnTF0pQ3Bwa3MAxc98F9wMd95TsOOswpzoRFa1TJNyaKHtTUD07cNdv9wx6jtNDNW53N369xyOiC0qmmanMAwcjh+/yimrr/D28kjf8WLizjY3c38YzKJw729zKcTCU4gtLUE+Xwejy+94gWfl5agKQr8uo4Eccu2USr48SWVQq5QWE/gcAJZuIgF5XIF5yf7GfcGg9Cos4O3UoiFw2jFLrx+/wtRet+3nkJoOAEbkJtty5g484I+yUivrODekxb4tmuInZhCuFPHyHAXZubnUTXNWgKhlc1qlY+gaZsw9PwkY4fPhxsDXvxcrWL25TE8G+8DFAOxSAQHotG6AWlrRXS52vD08ifGr5kM1+BBPIBkOo3flQpaNA2zCwug+8MGdkMCPoLbvQ0DDw8xRgIBBNvbsUoF6yK+h+pQJpN91JH9PT2NCWS1Ui4rNhtswZubPxi/LS9TTWxemKTK/9t1jtramEBo1Vw226pRvEfj3oaL6v3vVRYaoZXcodA12ePpbOZXtEuljEToprmZprpBvehn4Y8AAwDB0mLL0M405wAAAABJRU5ErkJggg==",t},t.prototype.createAggregationIcon=function(){var t=document.createElement("img");return t.src="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABAAAAAQCAYAAAAf8/9hAAAAGXRFWHRTb2Z0d2FyZQBBZG9iZSBJbWFnZVJlYWR5ccllPAAAAMZJREFUeNpi/P//PwMlgImBQjDwBrCgmMYENq8RiLVxqL8KxPX//v1DiIACEYYZGRlBmBOIe4B4PRDrQMUYoGyQGIoebAbADJkAxFuAWA9JXJdYA0CYC4inAPFOINZHlkPWgxKIcFMhQA0aFveB+DbOUERxDhQAbTEC4qNAPBfqEmRx3F6AAhOgojNAvBikGckumDiKHhY0B3ECcTVQQhRIg/B1NNeeB1IgQ7/BXYvmdE6oAnYcPv4NxF+BerAbMDTzAkCAAQChYIl8b86M1gAAAABJRU5ErkJggg==",t},t.prototype.createGroupIcon12=function(){var t=document.createElement("img");return t.src="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAwAAAAMCAYAAABWdVznAAAAGXRFWHRTb2Z0d2FyZQBBZG9iZSBJbWFnZVJlYWR5ccllPAAAAyJpVFh0WE1MOmNvbS5hZG9iZS54bXAAAAAAADw/eHBhY2tldCBiZWdpbj0i77u/IiBpZD0iVzVNME1wQ2VoaUh6cmVTek5UY3prYzlkIj8+IDx4OnhtcG1ldGEgeG1sbnM6eD0iYWRvYmU6bnM6bWV0YS8iIHg6eG1wdGs9IkFkb2JlIFhNUCBDb3JlIDUuMy1jMDExIDY2LjE0NTY2MSwgMjAxMi8wMi8wNi0xNDo1NjoyNyAgICAgICAgIj4gPHJkZjpSREYgeG1sbnM6cmRmPSJodHRwOi8vd3d3LnczLm9yZy8xOTk5LzAyLzIyLXJkZi1zeW50YXgtbnMjIj4gPHJkZjpEZXNjcmlwdGlvbiByZGY6YWJvdXQ9IiIgeG1sbnM6eG1wPSJodHRwOi8vbnMuYWRvYmUuY29tL3hhcC8xLjAvIiB4bWxuczp4bXBNTT0iaHR0cDovL25zLmFkb2JlLmNvbS94YXAvMS4wL21tLyIgeG1sbnM6c3RSZWY9Imh0dHA6Ly9ucy5hZG9iZS5jb20veGFwLzEuMC9zVHlwZS9SZXNvdXJjZVJlZiMiIHhtcDpDcmVhdG9yVG9vbD0iQWRvYmUgUGhvdG9zaG9wIENTNiAoV2luZG93cykiIHhtcE1NOkluc3RhbmNlSUQ9InhtcC5paWQ6MTNFQzE0NTdEOTk1MTFFNUI4MjJGMjBFRDk4MkMxNjAiIHhtcE1NOkRvY3VtZW50SUQ9InhtcC5kaWQ6MTNFQzE0NThEOTk1MTFFNUI4MjJGMjBFRDk4MkMxNjAiPiA8eG1wTU06RGVyaXZlZEZyb20gc3RSZWY6aW5zdGFuY2VJRD0ieG1wLmlpZDoxM0VDMTQ1NUQ5OTUxMUU1QjgyMkYyMEVEOTgyQzE2MCIgc3RSZWY6ZG9jdW1lbnRJRD0ieG1wLmRpZDoxM0VDMTQ1NkQ5OTUxMUU1QjgyMkYyMEVEOTgyQzE2MCIvPiA8L3JkZjpEZXNjcmlwdGlvbj4gPC9yZGY6UkRGPiA8L3g6eG1wbWV0YT4gPD94cGFja2V0IGVuZD0iciI/PiInRbAAAAEjSURBVHjaYuTi5XqkpKvI9/fXHwZWDlaGZ/eeM7x59raDAQj4pOQrBBUVGP78+MfAzMbE8PLKhU8Mhnb6/6//P/f/8N/d/x8AWUn1cf+BaleCsFPt5P/T/v//3/zj//8JQFrB1vM/I5IN3EAbfgBt+Au0QRBqw3sMG0DiQMwPxFuB2BzKZmLAAViA+BOU/QOI7wPxRyhfCIhT0NT/ZETi7AZiZiD+DOXL6EdlGdkWFzF8evaDgUuIg2F9eiTYBrhuIJ4NxHegfDsgnobuJGQbNgBxMRDfhfLFgDgB3UnInPVALMxAACDbcBGItwDxAyhfCRismejBiuyHiUBsDMQmUL6cSXIJf0hTDsNboEN42RkYJth58TPisV0eaMNFdBsAAgwANVJzd8zQrUcAAAAASUVORK5CYII=",t},t.prototype.createCutIcon=function(){var t=document.createElement("img");return t.src="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABAAAAAQCAYAAAAf8/9hAAAAGXRFWHRTb2Z0d2FyZQBBZG9iZSBJbWFnZVJlYWR5ccllPAAAAlRJREFUeNqkU09okmEcfj6ThNRhjUEJDhxDZ1t4sI3lDrKDhESHpC6x6yBoh52GfcdBJDvtElEUdKhOSq1JjF0SabSton9OmIeRxVKIrUgdU5xvv8e+hXXYpRcefv+e5/mh7/tpSin8z9Gi0Sg0TTsv+edarfa+Wq2iUqmgXC6DudVqhd1uh81ma+UWi8Uv3G5ZPJ9MJmGq1+twOBynBOek6T9oG+fkkU8djymVSiGTyWBiYuL6QSb7YvLIp679+D0ej57NZpX8JD0QCPj7+vrgcrnAyJp9zskj3zD928Tr9er5fF5FIhFdiH4aMLJmn/N98R+Dq5qGSUFQwKFs1AuFggqFQrrT6bzIyJp9zoMGn7qWQU6ST4JNQeK3kd/n8+nFYlGFw+HFdDqtWLOfMHjk5wwDjckRwGYGeJVnBMdXgaNrbveJKysr/etu91pHtVo8BnyXWUnwsgHM7wAVX7MJ0cEmjWvW4eGzjpGRXnNnZ8cFeRi9pRI+dnXtjMbj/cLp57rG1tbPH0tLwd3l5QHp3RBU8E7Txr4MDb1V8bh60tOzfhN4vTc9rRYkCm4tGDX7nJNHPnWt/+CFpt1rF9emptScxKfA2DNZwThn9NtNWjoxMH1Tqru+va02NzbK47FY4PHMzJtdYPYD8OChGDCyZp9z8sinrnWXt4E7q4ODRbrelw0x2Xjyn1fImn3OySOfutYt+IDRSeCycAZeAYm7wKLkshR87A1+cILDAss4EDkNXJI8Ows8yin1nENn+5MXNA3hnpHzHBKYjWhqe4lffwkwAMRcPMqRQZ4vAAAAAElFTkSuQmCC",t},t.prototype.createCopyIcon=function(){var t=document.createElement("img");return t.src="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABAAAAAQCAYAAAAf8/9hAAAAGXRFWHRTb2Z0d2FyZQBBZG9iZSBJbWFnZVJlYWR5ccllPAAAAgBJREFUeNqMk79rFEEcxd/M7V2QAzVFEOMFGwNiIGCjEdIEhYODmEawsFf8G4QQSCPYyqUWCdhY2qSQECSpInvFJYT8Ki6dZO8Sb2P29pfvu+4sm+UKv/AYZna/b95ndla9WFyEUmoewG0Mr+9hGB5EYYhypZIseO0fCHa3sP/LhxVFkazd+by0tOIFAQac+3w5imPYto1Pa2tv+VxR+8bRuv8EevIRxn5uQoszpWI2RjSIBgMMLi/hui76/T6+Li+v8Pkz9k0Wo409pFHAJooUCiWqYlk46nTQ2ttD+/gY75pNPKjVmmfd7gf2vKbu5U0sMWBpzWatNcAkv7n789lZ1GdmMqQ3cbxApIUikg58H5S0JgkSE/L/L1JmoNJmMZEDzCNdK5cxwtFxHHxcXcXTqalm27Zf7rRaRKBBhkAhxcgjiYlUo16HfKlqtYpv29u95Az81EClCFLyaQ0SCib/dtNJ6qsGfDmJnRqoXIKiyVUDz8sSSGy5VnI3ikh5k1KplBnog/V19BxnRCZmV15dGCSdO1wziphcS3rrT7d71zk5Ob8+Pf3eMN4aH3/8qtGYM0hp7iyJbO0bBOrMPTz8kl6OpGoTEzEncwapaCLrRNfu6Wli0Etl6mbfdb0MiYrlXsjZyAUTE0qwOxsbo9aQ3/dGEWlYRRcX5xxG/wowAC8cIjzfyA4lAAAAAElFTkSuQmCC",t},t.prototype.createPasteIcon=function(){var t=document.createElement("img");return t.src="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABAAAAAQCAYAAAAf8/9hAAAAGXRFWHRTb2Z0d2FyZQBBZG9iZSBJbWFnZVJlYWR5ccllPAAAAadJREFUeNpinGLPAAaMjAxwcJ9Tk+0Bt7YPkCkKFXqt8PXqFsXv13/B1Pz/D6FZENoYZgKxMYgh9OI6i567q5hFUp4kiH9i3qTnT3auqWPgZ/gDVXsWiNPBFk+2hxtwxi0syfjy5csM0vFzGTg42Bj4+XnAEh8/fmH48eMXw9OFyQy6uroMu1bNAxlgAnbB338IJ6hlzWU4uXgJw6FDO4Ga+Rl4eXkZWFlZGb58/crw6eNHBjG7Iga1yAiG7SvmwfWw/P2LMADkraiYaIb79+4xYAOKSkpgNch6UFzwFxgy//79Y5BTUMBqwF+g3H8mJgZkPSgu+Ac04M+/fwz4AAswulBc8Ocfqg1/kGWxAEagAch6WP78RfUCIQOYmJkZ/qC44A+qAb8JeIEZZMkfXC4gwgsQNUgG/CbRC2BXIhvw8AsDgzQnkgEEvACxBMJ++h0YJmufMTA8ABry8xckGkFOxIdBakBqQXpAekGZiXPTSwbeUAEgB5hsObm58acDoJp3nxkYNn1gEANyP4MNAGKxh18ZbsXxsjMQA97/Z7gF0gPEfwACDAB/y9xB1I3/FQAAAABJRU5ErkJggg==",t},t.prototype.createMenuIcon=function(){var t=document.createElement("img");return t.src="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABAAAAAQCAYAAAAf8/9hAAAAGXRFWHRTb2Z0d2FyZQBBZG9iZSBJbWFnZVJlYWR5ccllPAAAAyJpVFh0WE1MOmNvbS5hZG9iZS54bXAAAAAAADw/eHBhY2tldCBiZWdpbj0i77u/IiBpZD0iVzVNME1wQ2VoaUh6cmVTek5UY3prYzlkIj8+IDx4OnhtcG1ldGEgeG1sbnM6eD0iYWRvYmU6bnM6bWV0YS8iIHg6eG1wdGs9IkFkb2JlIFhNUCBDb3JlIDUuMy1jMDExIDY2LjE0NTY2MSwgMjAxMi8wMi8wNi0xNDo1NjoyNyAgICAgICAgIj4gPHJkZjpSREYgeG1sbnM6cmRmPSJodHRwOi8vd3d3LnczLm9yZy8xOTk5LzAyLzIyLXJkZi1zeW50YXgtbnMjIj4gPHJkZjpEZXNjcmlwdGlvbiByZGY6YWJvdXQ9IiIgeG1sbnM6eG1wPSJodHRwOi8vbnMuYWRvYmUuY29tL3hhcC8xLjAvIiB4bWxuczp4bXBNTT0iaHR0cDovL25zLmFkb2JlLmNvbS94YXAvMS4wL21tLyIgeG1sbnM6c3RSZWY9Imh0dHA6Ly9ucy5hZG9iZS5jb20veGFwLzEuMC9zVHlwZS9SZXNvdXJjZVJlZiMiIHhtcDpDcmVhdG9yVG9vbD0iQWRvYmUgUGhvdG9zaG9wIENTNiAoV2luZG93cykiIHhtcE1NOkluc3RhbmNlSUQ9InhtcC5paWQ6QjM3MUVBMzlERkJEMTFFNUEwMjFFNDJDMDlCMUY3OTciIHhtcE1NOkRvY3VtZW50SUQ9InhtcC5kaWQ6QjM3MUVBM0FERkJEMTFFNUEwMjFFNDJDMDlCMUY3OTciPiA8eG1wTU06RGVyaXZlZEZyb20gc3RSZWY6aW5zdGFuY2VJRD0ieG1wLmlpZDpCMzcxRUEzN0RGQkQxMUU1QTAyMUU0MkMwOUIxRjc5NyIgc3RSZWY6ZG9jdW1lbnRJRD0ieG1wLmRpZDpCMzcxRUEzOERGQkQxMUU1QTAyMUU0MkMwOUIxRjc5NyIvPiA8L3JkZjpEZXNjcmlwdGlvbj4gPC9yZGY6UkRGPiA8L3g6eG1wbWV0YT4gPD94cGFja2V0IGVuZD0iciI/Pux7nZcAAAGtSURBVHjalFM9a8JQFL0veYkfYJUQEYuIIF07uToVpGuHOgid3dJN+i+K4C6CXQqFjplcCoKbXZ0EqRUFP/CTxCS9NzTdNOmBx32P3Nx3zj33sXq9/tRqtbRYLCaLomhBANi2La5WK7NSqTRYNpt1LMsCLACO47iLMXY2CoIAm80GZFkGoVQqfWy3WzBNE6gQVveNhmHAbreDYrHYZaPRKKTr+i0ykTDBPnUzgfYEvFkYDAZWoVDQWb/fB9QD6XQajscjBCkQDodhOBzCcrkEVq1WXfoEL9EPlEdSZrMZ8Pl8frVYLO7QgRB+sPx+/GUk4qUGNvOdYSO+JpPJJdHyc8ADnUluIpH45vv9XiFbiFIQC71IjuBe5ZlM5gYlPHLOL7C4AcEgofXbXC7X4PF4vKuqahf+AWJxOBwgEokA6/V67kFRFFcGLU/SqShJkusATSNbr9fQ6XSuU6mUQP3BBIaJZyM6BuPx2Mnn85+sVqu9ttvt+2QyGXgOqInT6RTK5fIbwwl0iFI0Gv2btCA9QPdcOVzTtOdms/mAnnKkaAexES0UcG/hc375EWAA94tOP0vEOEcAAAAASUVORK5CYII=",t},t.prototype.createCheckboxCheckedIcon=function(){var t=document.createElement("img");return t.src="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAA4AAAAOCAYAAAAfSC3RAAAAGXRFWHRTb2Z0d2FyZQBBZG9iZSBJbWFnZVJlYWR5ccllPAAAA2ZpVFh0WE1MOmNvbS5hZG9iZS54bXAAAAAAADw/eHBhY2tldCBiZWdpbj0i77u/IiBpZD0iVzVNME1wQ2VoaUh6cmVTek5UY3prYzlkIj8+IDx4OnhtcG1ldGEgeG1sbnM6eD0iYWRvYmU6bnM6bWV0YS8iIHg6eG1wdGs9IkFkb2JlIFhNUCBDb3JlIDUuMy1jMDExIDY2LjE0NTY2MSwgMjAxMi8wMi8wNi0xNDo1NjoyNyAgICAgICAgIj4gPHJkZjpSREYgeG1sbnM6cmRmPSJodHRwOi8vd3d3LnczLm9yZy8xOTk5LzAyLzIyLXJkZi1zeW50YXgtbnMjIj4gPHJkZjpEZXNjcmlwdGlvbiByZGY6YWJvdXQ9IiIgeG1sbnM6eG1wTU09Imh0dHA6Ly9ucy5hZG9iZS5jb20veGFwLzEuMC9tbS8iIHhtbG5zOnN0UmVmPSJodHRwOi8vbnMuYWRvYmUuY29tL3hhcC8xLjAvc1R5cGUvUmVzb3VyY2VSZWYjIiB4bWxuczp4bXA9Imh0dHA6Ly9ucy5hZG9iZS5jb20veGFwLzEuMC8iIHhtcE1NOk9yaWdpbmFsRG9jdW1lbnRJRD0ieG1wLmRpZDpFQ0VGQkU3ODM4MTFFNjExQjlCQzhERUVDNkNGMzFDMyIgeG1wTU06RG9jdW1lbnRJRD0ieG1wLmRpZDpBRkJCRDU1MTEyM0ExMUU2ODE4MUUyOTNBNTRGQkIxNyIgeG1wTU06SW5zdGFuY2VJRD0ieG1wLmlpZDpBRkJCRDU1MDEyM0ExMUU2ODE4MUUyOTNBNTRGQkIxNyIgeG1wOkNyZWF0b3JUb29sPSJBZG9iZSBQaG90b3Nob3AgQ1M2IChXaW5kb3dzKSI+IDx4bXBNTTpEZXJpdmVkRnJvbSBzdFJlZjppbnN0YW5jZUlEPSJ4bXAuaWlkOjIzMkM4M0M1M0MxMUU2MTFCOUJDOERFRUM2Q0YzMUMzIiBzdFJlZjpkb2N1bWVudElEPSJ4bXAuZGlkOkVDRUZCRTc4MzgxMUU2MTFCOUJDOERFRUM2Q0YzMUMzIi8+IDwvcmRmOkRlc2NyaXB0aW9uPiA8L3JkZjpSREY+IDwveDp4bXBtZXRhPiA8P3hwYWNrZXQgZW5kPSJyIj8+riMaEQAAAL5JREFUeNqUks0JhDAQhSd7tgtLMDUIyTXF2IdNWIE3c0ruYg9LtgcPzvpEF8SfHR8MGR75hpcwRERmrjQXCyutDKUQAkuFu2AUpsyiJ1JK0UtycRgGMsbsPBFYVRVZaw/+7Zu895znOY/j+PPWT7oGp2lirTU3TbPz/4IAAGLALeic47Ztlx7RELHrusPAAwgoy7LlrOuay7I8TXIadYOLouC+7+XgBiP2lTbw0crFGAF9ANq1kS75G8xXgAEAiqu9OeWZ/voAAAAASUVORK5CYII=",t},t.prototype.createCheckboxUncheckedIcon=function(){var t=document.createElement("img");return t.src="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAA4AAAAOCAYAAAAfSC3RAAAAGXRFWHRTb2Z0d2FyZQBBZG9iZSBJbWFnZVJlYWR5ccllPAAAA2ZpVFh0WE1MOmNvbS5hZG9iZS54bXAAAAAAADw/eHBhY2tldCBiZWdpbj0i77u/IiBpZD0iVzVNME1wQ2VoaUh6cmVTek5UY3prYzlkIj8+IDx4OnhtcG1ldGEgeG1sbnM6eD0iYWRvYmU6bnM6bWV0YS8iIHg6eG1wdGs9IkFkb2JlIFhNUCBDb3JlIDUuMy1jMDExIDY2LjE0NTY2MSwgMjAxMi8wMi8wNi0xNDo1NjoyNyAgICAgICAgIj4gPHJkZjpSREYgeG1sbnM6cmRmPSJodHRwOi8vd3d3LnczLm9yZy8xOTk5LzAyLzIyLXJkZi1zeW50YXgtbnMjIj4gPHJkZjpEZXNjcmlwdGlvbiByZGY6YWJvdXQ9IiIgeG1sbnM6eG1wTU09Imh0dHA6Ly9ucy5hZG9iZS5jb20veGFwLzEuMC9tbS8iIHhtbG5zOnN0UmVmPSJodHRwOi8vbnMuYWRvYmUuY29tL3hhcC8xLjAvc1R5cGUvUmVzb3VyY2VSZWYjIiB4bWxuczp4bXA9Imh0dHA6Ly9ucy5hZG9iZS5jb20veGFwLzEuMC8iIHhtcE1NOk9yaWdpbmFsRG9jdW1lbnRJRD0ieG1wLmRpZDpFQ0VGQkU3ODM4MTFFNjExQjlCQzhERUVDNkNGMzFDMyIgeG1wTU06RG9jdW1lbnRJRD0ieG1wLmRpZDo2MkU1Rjk1NDExNDExMUU2ODhEQkMyRTJGOUNGODYyQyIgeG1wTU06SW5zdGFuY2VJRD0ieG1wLmlpZDo2MkU1Rjk1MzExNDExMUU2ODhEQkMyRTJGOUNGODYyQyIgeG1wOkNyZWF0b3JUb29sPSJBZG9iZSBQaG90b3Nob3AgQ1M2IChXaW5kb3dzKSI+IDx4bXBNTTpEZXJpdmVkRnJvbSBzdFJlZjppbnN0YW5jZUlEPSJ4bXAuaWlkOjI1MkM4M0M1M0MxMUU2MTFCOUJDOERFRUM2Q0YzMUMzIiBzdFJlZjpkb2N1bWVudElEPSJ4bXAuZGlkOkVDRUZCRTc4MzgxMUU2MTFCOUJDOERFRUM2Q0YzMUMzIi8+IDwvcmRmOkRlc2NyaXB0aW9uPiA8L3JkZjpSREY+IDwveDp4bXBtZXRhPiA8P3hwYWNrZXQgZW5kPSJyIj8+t+CXswAAAFBJREFUeNrsksENwDAIA023a9YGNqlItkixlAFIn1VOMv5wvACAOxOZWUwsB6Gqswp36QivJNhBRHDhI0f8j9jNrCy4O2twNMobT/7QeQUYAFaKU1yE2OfhAAAAAElFTkSuQmCC",t},t.prototype.createCheckboxIndeterminateIcon=function(){var t=document.createElement("img");return t.src="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAA4AAAAOCAYAAAAfSC3RAAAAGXRFWHRTb2Z0d2FyZQBBZG9iZSBJbWFnZVJlYWR5ccllPAAAA2ZpVFh0WE1MOmNvbS5hZG9iZS54bXAAAAAAADw/eHBhY2tldCBiZWdpbj0i77u/IiBpZD0iVzVNME1wQ2VoaUh6cmVTek5UY3prYzlkIj8+IDx4OnhtcG1ldGEgeG1sbnM6eD0iYWRvYmU6bnM6bWV0YS8iIHg6eG1wdGs9IkFkb2JlIFhNUCBDb3JlIDUuMy1jMDExIDY2LjE0NTY2MSwgMjAxMi8wMi8wNi0xNDo1NjoyNyAgICAgICAgIj4gPHJkZjpSREYgeG1sbnM6cmRmPSJodHRwOi8vd3d3LnczLm9yZy8xOTk5LzAyLzIyLXJkZi1zeW50YXgtbnMjIj4gPHJkZjpEZXNjcmlwdGlvbiByZGY6YWJvdXQ9IiIgeG1sbnM6eG1wTU09Imh0dHA6Ly9ucy5hZG9iZS5jb20veGFwLzEuMC9tbS8iIHhtbG5zOnN0UmVmPSJodHRwOi8vbnMuYWRvYmUuY29tL3hhcC8xLjAvc1R5cGUvUmVzb3VyY2VSZWYjIiB4bWxuczp4bXA9Imh0dHA6Ly9ucy5hZG9iZS5jb20veGFwLzEuMC8iIHhtcE1NOk9yaWdpbmFsRG9jdW1lbnRJRD0ieG1wLmRpZDpFQ0VGQkU3ODM4MTFFNjExQjlCQzhERUVDNkNGMzFDMyIgeG1wTU06RG9jdW1lbnRJRD0ieG1wLmRpZDpGMjU4MzhGQjEyM0ExMUU2QjAxM0Q2QjZFQ0IzNzM4NiIgeG1wTU06SW5zdGFuY2VJRD0ieG1wLmlpZDpGMjU4MzhGQTEyM0ExMUU2QjAxM0Q2QjZFQ0IzNzM4NiIgeG1wOkNyZWF0b3JUb29sPSJBZG9iZSBQaG90b3Nob3AgQ1M2IChXaW5kb3dzKSI+IDx4bXBNTTpEZXJpdmVkRnJvbSBzdFJlZjppbnN0YW5jZUlEPSJ4bXAuaWlkOjIzMkM4M0M1M0MxMUU2MTFCOUJDOERFRUM2Q0YzMUMzIiBzdFJlZjpkb2N1bWVudElEPSJ4bXAuZGlkOkVDRUZCRTc4MzgxMUU2MTFCOUJDOERFRUM2Q0YzMUMzIi8+IDwvcmRmOkRlc2NyaXB0aW9uPiA8L3JkZjpSREY+IDwveDp4bXBtZXRhPiA8P3hwYWNrZXQgZW5kPSJyIj8+2Xml2QAAAGBJREFUeNpiYGBg8ATiZ0D8n0j8DKqH4dnhw4f/EwtAakF6GEGmAAEDKYCRkZGBiYFMQH+NLNjcjw2ghwMLIQWDx48Do/H5kSNHiNZw9OhREPUCRHiBNJOQyJ+A9AAEGACqkFldNkPUwwAAAABJRU5ErkJggg==",t},t.prototype.createGroupExpandedIcon=function(){var t=document.createElement("img");return t.src="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAsAAAALCAYAAACprHcmAAAAGXRFWHRTb2Z0d2FyZQBBZG9iZSBJbWFnZVJlYWR5ccllPAAAAyJpVFh0WE1MOmNvbS5hZG9iZS54bXAAAAAAADw/eHBhY2tldCBiZWdpbj0i77u/IiBpZD0iVzVNME1wQ2VoaUh6cmVTek5UY3prYzlkIj8+IDx4OnhtcG1ldGEgeG1sbnM6eD0iYWRvYmU6bnM6bWV0YS8iIHg6eG1wdGs9IkFkb2JlIFhNUCBDb3JlIDUuMy1jMDExIDY2LjE0NTY2MSwgMjAxMi8wMi8wNi0xNDo1NjoyNyAgICAgICAgIj4gPHJkZjpSREYgeG1sbnM6cmRmPSJodHRwOi8vd3d3LnczLm9yZy8xOTk5LzAyLzIyLXJkZi1zeW50YXgtbnMjIj4gPHJkZjpEZXNjcmlwdGlvbiByZGY6YWJvdXQ9IiIgeG1sbnM6eG1wPSJodHRwOi8vbnMuYWRvYmUuY29tL3hhcC8xLjAvIiB4bWxuczp4bXBNTT0iaHR0cDovL25zLmFkb2JlLmNvbS94YXAvMS4wL21tLyIgeG1sbnM6c3RSZWY9Imh0dHA6Ly9ucy5hZG9iZS5jb20veGFwLzEuMC9zVHlwZS9SZXNvdXJjZVJlZiMiIHhtcDpDcmVhdG9yVG9vbD0iQWRvYmUgUGhvdG9zaG9wIENTNiAoV2luZG93cykiIHhtcE1NOkluc3RhbmNlSUQ9InhtcC5paWQ6NzBBODQ4M0ExMjM4MTFFNkFDNEJDMjUzQUJBQ0I2QjkiIHhtcE1NOkRvY3VtZW50SUQ9InhtcC5kaWQ6NzBBODQ4M0IxMjM4MTFFNkFDNEJDMjUzQUJBQ0I2QjkiPiA8eG1wTU06RGVyaXZlZEZyb20gc3RSZWY6aW5zdGFuY2VJRD0ieG1wLmlpZDo3MEE4NDgzODEyMzgxMUU2QUM0QkMyNTNBQkFDQjZCOSIgc3RSZWY6ZG9jdW1lbnRJRD0ieG1wLmRpZDo3MEE4NDgzOTEyMzgxMUU2QUM0QkMyNTNBQkFDQjZCOSIvPiA8L3JkZjpEZXNjcmlwdGlvbj4gPC9yZGY6UkRGPiA8L3g6eG1wbWV0YT4gPD94cGFja2V0IGVuZD0iciI/PhKAo60AAADVSURBVHjajFC9DkRgEJzzFhqiligURKcjR+UFJK7wGN7jOq+glXgCvSgUCnyVn47GHsVdcURsss3s7OzOPEzTdB3HeTPGeMMw0DQNOI4Dz/PI8xyWZSGO4y4MwxeSJGnruqarGseRNE1r4fv+YSgIwgErioJwpgrggHmeR7Bt+xZ5GAbCNE2/0zvpv78v6bpOUFX1lvK6roQz92dkWZYJiqLcSmOeZ9qDb6uqusx5WRaSJIlBFEUnTdNuC536vifXdaksSwqCgLIsoyiKdnNs23l+BBgAK/54I/P5bhMAAAAASUVORK5CYII=",t},t.prototype.createGroupContractedIcon=function(){var t=document.createElement("img");return t.src="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAsAAAALCAYAAACprHcmAAAAGXRFWHRTb2Z0d2FyZQBBZG9iZSBJbWFnZVJlYWR5ccllPAAAAyJpVFh0WE1MOmNvbS5hZG9iZS54bXAAAAAAADw/eHBhY2tldCBiZWdpbj0i77u/IiBpZD0iVzVNME1wQ2VoaUh6cmVTek5UY3prYzlkIj8+IDx4OnhtcG1ldGEgeG1sbnM6eD0iYWRvYmU6bnM6bWV0YS8iIHg6eG1wdGs9IkFkb2JlIFhNUCBDb3JlIDUuMy1jMDExIDY2LjE0NTY2MSwgMjAxMi8wMi8wNi0xNDo1NjoyNyAgICAgICAgIj4gPHJkZjpSREYgeG1sbnM6cmRmPSJodHRwOi8vd3d3LnczLm9yZy8xOTk5LzAyLzIyLXJkZi1zeW50YXgtbnMjIj4gPHJkZjpEZXNjcmlwdGlvbiByZGY6YWJvdXQ9IiIgeG1sbnM6eG1wPSJodHRwOi8vbnMuYWRvYmUuY29tL3hhcC8xLjAvIiB4bWxuczp4bXBNTT0iaHR0cDovL25zLmFkb2JlLmNvbS94YXAvMS4wL21tLyIgeG1sbnM6c3RSZWY9Imh0dHA6Ly9ucy5hZG9iZS5jb20veGFwLzEuMC9zVHlwZS9SZXNvdXJjZVJlZiMiIHhtcDpDcmVhdG9yVG9vbD0iQWRvYmUgUGhvdG9zaG9wIENTNiAoV2luZG93cykiIHhtcE1NOkluc3RhbmNlSUQ9InhtcC5paWQ6N0U2QUVBRDYxMjM4MTFFNjk3NjVBRUM0MUJDRjFCODgiIHhtcE1NOkRvY3VtZW50SUQ9InhtcC5kaWQ6N0U2QUVBRDcxMjM4MTFFNjk3NjVBRUM0MUJDRjFCODgiPiA8eG1wTU06RGVyaXZlZEZyb20gc3RSZWY6aW5zdGFuY2VJRD0ieG1wLmlpZDo3RTZBRUFENDEyMzgxMUU2OTc2NUFFQzQxQkNGMUI4OCIgc3RSZWY6ZG9jdW1lbnRJRD0ieG1wLmRpZDo3RTZBRUFENTEyMzgxMUU2OTc2NUFFQzQxQkNGMUI4OCIvPiA8L3JkZjpEZXNjcmlwdGlvbj4gPC9yZGY6UkRGPiA8L3g6eG1wbWV0YT4gPD94cGFja2V0IGVuZD0iciI/PhjzsKsAAADSSURBVHjajJAvioVgFMXPuAuLYhYMBsVmU54mNyA4wWW4j2luwSq4ArsYDAZ9X/JP0+KZ58CkgTffD264l3MPnPPh+34cRdGXEEL1PA/TNEFRFKiqirZtEQQByrJ85nn+iaqq5nEc+Y5t2+g4zow0TSlD13XEf66/JElChGEoJV7Xldj3/WfRNI0A/sx9v3Fdl7BtW8r5ui6CkpimSViWJSU+joN38fMwDG+F53nSMAwBXdejuq6fr9K5LAvjOGbf98yyjE3TsCiKO5x4/Ty+BRgA3R6JXc/jqsQAAAAASUVORK5CYII=",t},t}();function i(t,e){var o=r(e),i=document.createElementNS(n,"polygon");return i.setAttribute("points",t),o.appendChild(i),o}function r(t){var e=document.createElementNS(n,"svg");return t>0?(e.setAttribute("width",t),e.setAttribute("height",t)):(e.setAttribute("width","10"),e.setAttribute("height","10")),e}e.SvgFactory=o},function(t,e,n){
/**
	 * ag-grid - Advanced Data Grid / Data Table supporting Javascript / React / AngularJS / Web Components
	 * @version v4.2.6
	 * @link http://www.ag-grid.com/
	 * @license MIT
	 */
var o=this&&this.__decorate||function(t,e,n,o){var i,r=arguments.length,a=r<3?e:null===o?o=Object.getOwnPropertyDescriptor(e,n):o;if("object"===("undefined"==typeof Reflect?"undefined":s(Reflect))&&"function"==typeof Reflect.decorate)a=Reflect.decorate(t,e,n,o);else for(var l=t.length-1;l>=0;l--)(i=t[l])&&(a=(r<3?i(a):r>3?i(e,n,a):i(e,n))||a);return r>3&&a&&Object.defineProperty(e,n,a),a},i=this&&this.__metadata||function(t,e){if("object"===("undefined"==typeof Reflect?"undefined":s(Reflect))&&"function"==typeof Reflect.metadata)return Reflect.metadata(t,e)},r=n(7),a=n(6),l=n(55),u=function(){function t(){}return t.prototype.useCellRenderer=function(t,e,n){var o=this.lookUpCellRenderer(t);if(!r.Utils.missing(o)){var i,a=null;if(this.checkForDeprecatedItems(o),this.doesImplementICellRenderer(o)?(a=new o,this.context.wireBean(a),a.init&&a.init(n),i=a.getGui()):i=o(n),null!==i&&""!==i)return r.Utils.isNodeOrElement(i)?e.appendChild(i):e.innerHTML=i,a}},t.prototype.checkForDeprecatedItems=function(t){t&&t.renderer&&console.warn("ag-grid: colDef.cellRenderer should not be an object, it should be a string, function or class. this changed in v4.1.x, please check the documentation on Cell Rendering, or if you are doing grouping, look at the grouping examples.")},t.prototype.doesImplementICellRenderer=function(t){return t.prototype&&"getGui"in t.prototype},t.prototype.lookUpCellRenderer=function(t){return"string"==typeof t?this.cellRendererFactory.getCellRenderer(t):t},o([a.Autowired("cellRendererFactory"),i("design:type",l.CellRendererFactory)],t.prototype,"cellRendererFactory",void 0),o([a.Autowired("context"),i("design:type",a.Context)],t.prototype,"context",void 0),t=o([a.Bean("cellRendererService"),i("design:paramtypes",[])],t)}();e.CellRendererService=u},function(t,e,n){
/**
	 * ag-grid - Advanced Data Grid / Data Table supporting Javascript / React / AngularJS / Web Components
	 * @version v4.2.6
	 * @link http://www.ag-grid.com/
	 * @license MIT
	 */
var o=this&&this.__decorate||function(t,e,n,o){var i,r=arguments.length,a=r<3?e:null===o?o=Object.getOwnPropertyDescriptor(e,n):o;if("object"===("undefined"==typeof Reflect?"undefined":s(Reflect))&&"function"==typeof Reflect.decorate)a=Reflect.decorate(t,e,n,o);else for(var l=t.length-1;l>=0;l--)(i=t[l])&&(a=(r<3?i(a):r>3?i(e,n,a):i(e,n))||a);return r>3&&a&&Object.defineProperty(e,n,a),a},i=this&&this.__metadata||function(t,e){if("object"===("undefined"==typeof Reflect?"undefined":s(Reflect))&&"function"==typeof Reflect.metadata)return Reflect.metadata(t,e)},r=n(6),a=n(3),l=function(){function t(){}return t.prototype.formatValue=function(t,e,n,o,i){var r,a=t.getColDef(),s=null;return(r=e.floating&&a.floatingCellFormatter?a.floatingCellFormatter:a.cellFormatter)&&(s=r({value:i,node:e,column:t,$scope:n,rowIndex:o,api:this.gridOptionsWrapper.getApi(),context:this.gridOptionsWrapper.getContext()})),s},o([r.Autowired("gridOptionsWrapper"),i("design:type",a.GridOptionsWrapper)],t.prototype,"gridOptionsWrapper",void 0),t=o([r.Bean("valueFormatterService"),i("design:paramtypes",[])],t)}();e.ValueFormatterService=l},function(t,e,n){
/**
	 * ag-grid - Advanced Data Grid / Data Table supporting Javascript / React / AngularJS / Web Components
	 * @version v4.2.6
	 * @link http://www.ag-grid.com/
	 * @license MIT
	 */
var o=this&&this.__extends||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n]);function o(){this.constructor=t}t.prototype=null===e?Object.create(e):(o.prototype=e.prototype,new o)},i=this&&this.__decorate||function(t,e,n,o){var i,r=arguments.length,a=r<3?e:null===o?o=Object.getOwnPropertyDescriptor(e,n):o;if("object"===("undefined"==typeof Reflect?"undefined":s(Reflect))&&"function"==typeof Reflect.decorate)a=Reflect.decorate(t,e,n,o);else for(var l=t.length-1;l>=0;l--)(i=t[l])&&(a=(r<3?i(a):r>3?i(e,n,a):i(e,n))||a);return r>3&&a&&Object.defineProperty(e,n,a),a},r=this&&this.__metadata||function(t,e){if("object"===("undefined"==typeof Reflect?"undefined":s(Reflect))&&"function"==typeof Reflect.metadata)return Reflect.metadata(t,e)},a=n(47),l=n(27),u=n(7),c=n(6),d=n(3),p=n(59).SvgFactory.getInstance(),h=function(t){function e(){t.call(this,'<span class="ag-selection-checkbox"/>')}return o(e,t),e.prototype.createAndAddIcons=function(){this.eCheckedIcon=u.Utils.createIconNoSpan("checkboxChecked",this.gridOptionsWrapper,null,p.createCheckboxCheckedIcon),this.eUncheckedIcon=u.Utils.createIconNoSpan("checkboxUnchecked",this.gridOptionsWrapper,null,p.createCheckboxUncheckedIcon),this.eIndeterminateIcon=u.Utils.createIconNoSpan("checkboxIndeterminate",this.gridOptionsWrapper,null,p.createCheckboxIndeterminateIcon);var t=this.getGui();t.appendChild(this.eCheckedIcon),t.appendChild(this.eUncheckedIcon),t.appendChild(this.eIndeterminateIcon)},e.prototype.onSelectionChanged=function(){var t=this.rowNode.isSelected();u.Utils.setVisible(this.eCheckedIcon,!0===t),u.Utils.setVisible(this.eUncheckedIcon,!1===t),u.Utils.setVisible(this.eIndeterminateIcon,"boolean"!=typeof t)},e.prototype.onCheckedClicked=function(){this.rowNode.setSelected(!1)},e.prototype.onUncheckedClicked=function(t){this.rowNode.setSelectedParams({newValue:!0,rangeSelect:t.shiftKey})},e.prototype.onIndeterminateClicked=function(t){this.rowNode.setSelectedParams({newValue:!0,rangeSelect:t.shiftKey})},e.prototype.init=function(t){this.createAndAddIcons(),this.rowNode=t.rowNode,this.onSelectionChanged(),this.addGuiEventListener("click",(function(t){return t.stopPropagation()})),this.addGuiEventListener("dblclick",(function(t){return t.stopPropagation()})),this.addDestroyableEventListener(this.eCheckedIcon,"click",this.onCheckedClicked.bind(this)),this.addDestroyableEventListener(this.eUncheckedIcon,"click",this.onUncheckedClicked.bind(this)),this.addDestroyableEventListener(this.eIndeterminateIcon,"click",this.onIndeterminateClicked.bind(this)),this.addDestroyableEventListener(this.rowNode,l.RowNode.EVENT_ROW_SELECTED,this.onSelectionChanged.bind(this))},i([c.Autowired("gridOptionsWrapper"),r("design:type",d.GridOptionsWrapper)],e.prototype,"gridOptionsWrapper",void 0),e}(a.Component);e.CheckboxSelectionComponent=h},function(t,e,n){
/**
	 * ag-grid - Advanced Data Grid / Data Table supporting Javascript / React / AngularJS / Web Components
	 * @version v4.2.6
	 * @link http://www.ag-grid.com/
	 * @license MIT
	 */
var o=this&&this.__decorate||function(t,e,n,o){var i,r=arguments.length,a=r<3?e:null===o?o=Object.getOwnPropertyDescriptor(e,n):o;if("object"===("undefined"==typeof Reflect?"undefined":s(Reflect))&&"function"==typeof Reflect.decorate)a=Reflect.decorate(t,e,n,o);else for(var l=t.length-1;l>=0;l--)(i=t[l])&&(a=(r<3?i(a):r>3?i(e,n,a):i(e,n))||a);return r>3&&a&&Object.defineProperty(e,n,a),a},i=this&&this.__metadata||function(t,e){if("object"===("undefined"==typeof Reflect?"undefined":s(Reflect))&&"function"==typeof Reflect.metadata)return Reflect.metadata(t,e)},r=n(6),a=n(8),l=n(13),u=n(26),c=n(7),d=n(34),p=n(33),h=function(){function t(){}return t.prototype.getNextCellToFocus=function(t,e){switch(t){case a.Constants.KEY_UP:return this.getCellAbove(e);case a.Constants.KEY_DOWN:return this.getCellBelow(e);case a.Constants.KEY_RIGHT:return this.getCellToRight(e);case a.Constants.KEY_LEFT:return this.getCellToLeft(e);default:console.log("ag-Grid: unknown key for navigation "+t)}},t.prototype.getCellToLeft=function(t){var e=this.columnController.getDisplayedColBefore(t.column);return e?new p.GridCell(t.rowIndex,t.floating,e):null},t.prototype.getCellToRight=function(t){var e=this.columnController.getDisplayedColAfter(t.column);return e?new p.GridCell(t.rowIndex,t.floating,e):null},t.prototype.getRowBelow=function(t){return this.isLastRowInContainer(t)?t.isFloatingBottom()?null:t.isNotFloating()?this.floatingRowModel.isRowsToRender(a.Constants.FLOATING_BOTTOM)?new d.GridRow(0,a.Constants.FLOATING_BOTTOM):null:this.rowModel.isRowsToRender()?new d.GridRow(0,null):this.floatingRowModel.isRowsToRender(a.Constants.FLOATING_BOTTOM)?new d.GridRow(0,a.Constants.FLOATING_BOTTOM):null:new d.GridRow(t.rowIndex+1,t.floating)},t.prototype.getCellBelow=function(t){var e=this.getRowBelow(t.getGridRow());return e?new p.GridCell(e.rowIndex,e.floating,t.column):null},t.prototype.isLastRowInContainer=function(t){return t.isFloatingTop()?this.floatingRowModel.getFloatingTopRowData().length-1===t.rowIndex:t.isFloatingBottom()?this.floatingRowModel.getFloatingBottomRowData().length-1===t.rowIndex:this.rowModel.getRowCount()-1===t.rowIndex},t.prototype.getRowAbove=function(t){return 0===t.rowIndex?t.isFloatingTop()?null:t.isNotFloating()?this.floatingRowModel.isRowsToRender(a.Constants.FLOATING_TOP)?this.getLastFloatingTopRow():null:this.rowModel.isRowsToRender()?this.getLastBodyCell():this.floatingRowModel.isRowsToRender(a.Constants.FLOATING_TOP)?this.getLastFloatingTopRow():null:new d.GridRow(t.rowIndex-1,t.floating)},t.prototype.getCellAbove=function(t){var e=this.getRowAbove(t.getGridRow());return e?new p.GridCell(e.rowIndex,e.floating,t.column):null},t.prototype.getLastBodyCell=function(){var t=this.rowModel.getRowCount()-1;return new d.GridRow(t,null)},t.prototype.getLastFloatingTopRow=function(){var t=this.floatingRowModel.getFloatingTopRowData().length-1;return new d.GridRow(t,a.Constants.FLOATING_TOP)},t.prototype.getNextTabbedCell=function(t,e){return e?this.getNextTabbedCellBackwards(t):this.getNextTabbedCellForwards(t)},t.prototype.getNextTabbedCellForwards=function(t){var e=this.columnController.getAllDisplayedColumns(),n=t.rowIndex,o=t.floating,i=this.columnController.getDisplayedColAfter(t.column);if(!i){i=e[0];var r=this.getRowBelow(t.getGridRow());if(c.Utils.missing(r))return;n=r.rowIndex,o=r.floating}return new p.GridCell(n,o,i)},t.prototype.getNextTabbedCellBackwards=function(t){var e=this.columnController.getAllDisplayedColumns(),n=t.rowIndex,o=t.floating,i=this.columnController.getDisplayedColBefore(t.column);if(!i){i=e[e.length-1];var r=this.getRowAbove(t.getGridRow());if(c.Utils.missing(r))return;n=r.rowIndex,o=r.floating}return new p.GridCell(n,o,i)},o([r.Autowired("columnController"),i("design:type",l.ColumnController)],t.prototype,"columnController",void 0),o([r.Autowired("rowModel"),i("design:type",Object)],t.prototype,"rowModel",void 0),o([r.Autowired("floatingRowModel"),i("design:type",u.FloatingRowModel)],t.prototype,"floatingRowModel",void 0),t=o([r.Bean("cellNavigationService"),i("design:paramtypes",[])],t)}();e.CellNavigationService=h},function(t,e,n){
/**
	 * ag-grid - Advanced Data Grid / Data Table supporting Javascript / React / AngularJS / Web Components
	 * @version v4.2.6
	 * @link http://www.ag-grid.com/
	 * @license MIT
	 */
var o=n(10),i=function(){function t(t){this.type=t}return t.prototype.toString=function(){var t="ColumnChangeEvent {type: "+this.type;return this.column&&(t+=", column: "+this.column.getColId()),this.columnGroup&&(t+=this.columnGroup.getColGroupDef().headerName),this.toIndex&&(t+=", toIndex: "+this.toIndex),this.visible&&(t+=", visible: "+this.visible),this.pinned&&(t+=", pinned: "+this.pinned),"boolean"==typeof this.finished&&(t+=", finished: "+this.finished),t+="}"},t.prototype.withPinned=function(t){return this.pinned=t,this},t.prototype.withVisible=function(t){return this.visible=t,this},t.prototype.isVisible=function(){return this.visible},t.prototype.getPinned=function(){return this.pinned},t.prototype.withColumn=function(t){return this.column=t,this},t.prototype.withColumns=function(t){return this.columns=t,this},t.prototype.withFinished=function(t){return this.finished=t,this},t.prototype.withColumnGroup=function(t){return this.columnGroup=t,this},t.prototype.withToIndex=function(t){return this.toIndex=t,this},t.prototype.getToIndex=function(){return this.toIndex},t.prototype.getType=function(){return this.type},t.prototype.getColumn=function(){return this.column},t.prototype.getColumns=function(){return this.columns},t.prototype.getColumnGroup=function(){return this.columnGroup},t.prototype.isPinnedPanelVisibilityImpacted=function(){return this.type===o.Events.EVENT_COLUMN_EVERYTHING_CHANGED||this.type===o.Events.EVENT_COLUMN_GROUP_OPENED||this.type===o.Events.EVENT_COLUMN_VISIBLE||this.type===o.Events.EVENT_PIVOT_VALUE_CHANGED||this.type===o.Events.EVENT_COLUMN_PINNED},t.prototype.isContainerWidthImpacted=function(){return this.type===o.Events.EVENT_COLUMN_EVERYTHING_CHANGED||this.type===o.Events.EVENT_COLUMN_GROUP_OPENED||this.type===o.Events.EVENT_COLUMN_VISIBLE||this.type===o.Events.EVENT_COLUMN_RESIZED||this.type===o.Events.EVENT_COLUMN_PINNED||this.type===o.Events.EVENT_PIVOT_VALUE_CHANGED||this.type===o.Events.EVENT_COLUMN_ROW_GROUP_CHANGED},t.prototype.isIndividualColumnResized=function(){return this.type===o.Events.EVENT_COLUMN_RESIZED&&void 0!==this.column&&null!==this.column},t.prototype.isFinished=function(){return this.finished},t}();e.ColumnChangeEvent=i},function(t,e){
/**
	 * ag-grid - Advanced Data Grid / Data Table supporting Javascript / React / AngularJS / Web Components
	 * @version v4.2.6
	 * @link http://www.ag-grid.com/
	 * @license MIT
	 */
var n=function(){function t(){this.existingIds={}}return t.prototype.getInstanceIdForKey=function(t){var e,n=this.existingIds[t];return e="number"!=typeof n?0:n+1,this.existingIds[t]=e,e},t}();e.GroupInstanceIdCreator=n},function(t,e,n){
/**
	 * ag-grid - Advanced Data Grid / Data Table supporting Javascript / React / AngularJS / Web Components
	 * @version v4.2.6
	 * @link http://www.ag-grid.com/
	 * @license MIT
	 */
var o=n(7);e.defaultGroupComparator=function(t,e,n,i){var r=o.Utils.exists(n)&&n.group,a=o.Utils.exists(i)&&i.group,s=!r&&!a;return r&&a?o.Utils.defaultComparator(n.key,i.key):s?o.Utils.defaultComparator(t,e):r?1:-1}},function(t,e,n){
/**
	 * ag-grid - Advanced Data Grid / Data Table supporting Javascript / React / AngularJS / Web Components
	 * @version v4.2.6
	 * @link http://www.ag-grid.com/
	 * @license MIT
	 */
var o=this&&this.__decorate||function(t,e,n,o){var i,r=arguments.length,a=r<3?e:null===o?o=Object.getOwnPropertyDescriptor(e,n):o;if("object"===("undefined"==typeof Reflect?"undefined":s(Reflect))&&"function"==typeof Reflect.decorate)a=Reflect.decorate(t,e,n,o);else for(var l=t.length-1;l>=0;l--)(i=t[l])&&(a=(r<3?i(a):r>3?i(e,n,a):i(e,n))||a);return r>3&&a&&Object.defineProperty(e,n,a),a},i=this&&this.__metadata||function(t,e){if("object"===("undefined"==typeof Reflect?"undefined":s(Reflect))&&"function"==typeof Reflect.metadata)return Reflect.metadata(t,e)},r=n(6),a=n(29),l=n(13),u=n(7),c=n(4),d=function(){function t(){}return t.prototype.mapRowNode=function(t){var e=this.columnController.getPivotColumns();0!==e.length?t.childrenMapped=this.mapChildren(t.childrenAfterFilter,e,0,this.uniqueValues):t.childrenMapped=null},t.prototype.getUniqueValues=function(){return this.uniqueValues},t.prototype.mapChildren=function(t,e,n,o){var i=this,r={},a=e[n];if(t.forEach((function(t){var e=i.valueService.getValue(a,t);u.Utils.missing(e)&&(e=""),o[e]||(o[e]={}),r[e]||(r[e]=[]),r[e].push(t)})),n===e.length-1)return r;var s={};return u.Utils.iterateObject(r,(function(t,r){s[t]=i.mapChildren(r,e,n+1,o[t])})),s},t.prototype.execute=function(t){this.uniqueValues={};var e=this;!function t(n){n.leafGroup?e.mapRowNode(n):n.childrenAfterFilter.forEach((function(e){t(e)}))}(t),this.createPivotColumnDefs(),this.columnController.onPivotValueChanged()},t.prototype.getPivotColumnGroupDefs=function(){return this.pivotColumnGroupDefs},t.prototype.getPivotColumnDefs=function(){return this.pivotColumnDefs},t.prototype.createPivotColumnDefs=function(){this.pivotColumnGroupDefs=[],this.pivotColumnDefs=[];var t=this,e=this.columnController.getPivotColumns().length,n=0;function o(t,e,o){var i={};if(t){var r=t.getColDef();u.Utils.assign(i,r)}return i.valueGetter=null,i.headerName=e,i.colId="pivot_"+n++,i.keys=o,i.valueColumn=t,i}!function n(i,r,a,s){u.Utils.iterateObject(a,(function(a,l){var u=s.slice(0);if(u.push(a),r!==e){var c={children:[],headerName:a};i.push(c),n(c.children,r+1,l,u)}else{var d=t.columnController.getValueColumns();if(1===d.length){var p=o(d[0],a,u);i.push(p),t.pivotColumnDefs.push(p)}else{var h={children:[],headerName:a};i.push(h),d.forEach((function(e){var n=o(e,e.getColDef().headerName,u);h.children.push(n),t.pivotColumnDefs.push(n)}))}}}))}(this.pivotColumnGroupDefs,1,this.uniqueValues,[])},o([r.Autowired("rowModel"),i("design:type",Object)],t.prototype,"rowModel",void 0),o([r.Autowired("valueService"),i("design:type",a.ValueService)],t.prototype,"valueService",void 0),o([r.Autowired("columnController"),i("design:type",l.ColumnController)],t.prototype,"columnController",void 0),o([r.Autowired("eventService"),i("design:type",c.EventService)],t.prototype,"eventService",void 0),t=o([r.Bean("pivotService"),i("design:paramtypes",[])],t)}();e.PivotService=d},function(t,e,n){
/**
	 * ag-grid - Advanced Data Grid / Data Table supporting Javascript / React / AngularJS / Web Components
	 * @version v4.2.6
	 * @link http://www.ag-grid.com/
	 * @license MIT
	 */
var o=this&&this.__decorate||function(t,e,n,o){var i,r=arguments.length,a=r<3?e:null===o?o=Object.getOwnPropertyDescriptor(e,n):o;if("object"===("undefined"==typeof Reflect?"undefined":s(Reflect))&&"function"==typeof Reflect.decorate)a=Reflect.decorate(t,e,n,o);else for(var l=t.length-1;l>=0;l--)(i=t[l])&&(a=(r<3?i(a):r>3?i(e,n,a):i(e,n))||a);return r>3&&a&&Object.defineProperty(e,n,a),a},i=this&&this.__metadata||function(t,e){if("object"===("undefined"==typeof Reflect?"undefined":s(Reflect))&&"function"==typeof Reflect.metadata)return Reflect.metadata(t,e)},r=n(3),a=n(13),l=n(24),u=n(15),c=n(6),d=n(69),p=n(4),h=n(10),f=function(){function t(){}return t.prototype.init=function(){this.eHeaderViewport=this.gridPanel.getHeaderViewport(),this.eRoot=this.gridPanel.getRoot(),this.eHeaderOverlay=this.gridPanel.getHeaderOverlay(),this.pinnedLeftContainer=new d.HeaderContainer(this.gridPanel.getPinnedLeftHeader(),null,this.eRoot,u.Column.PINNED_LEFT),this.pinnedRightContainer=new d.HeaderContainer(this.gridPanel.getPinnedRightHeader(),null,this.eRoot,u.Column.PINNED_RIGHT),this.centerContainer=new d.HeaderContainer(this.gridPanel.getHeaderContainer(),this.gridPanel.getHeaderViewport(),this.eRoot,null),this.context.wireBean(this.pinnedLeftContainer),this.context.wireBean(this.pinnedRightContainer),this.context.wireBean(this.centerContainer),this.eventService.addEventListener(h.Events.EVENT_COLUMN_EVERYTHING_CHANGED,this.refreshHeader.bind(this)),this.eventService.addEventListener(h.Events.EVENT_COLUMN_ROW_GROUP_CHANGED,this.refreshHeader.bind(this)),this.eventService.addEventListener(h.Events.EVENT_COLUMN_MOVED,this.refreshHeader.bind(this)),this.eventService.addEventListener(h.Events.EVENT_COLUMN_VISIBLE,this.refreshHeader.bind(this)),this.eventService.addEventListener(h.Events.EVENT_COLUMN_GROUP_OPENED,this.refreshHeader.bind(this)),this.eventService.addEventListener(h.Events.EVENT_COLUMN_PINNED,this.refreshHeader.bind(this)),this.eventService.addEventListener(h.Events.EVENT_HEADER_HEIGHT_CHANGED,this.refreshHeader.bind(this)),this.eventService.addEventListener(h.Events.EVENT_PIVOT_VALUE_CHANGED,this.refreshHeader.bind(this)),this.eventService.addEventListener(h.Events.EVENT_COLUMN_RESIZED,this.setPinnedColContainerWidth.bind(this)),this.columnController.isReady()&&this.refreshHeader()},t.prototype.refreshHeader=function(){this.pinnedLeftContainer.removeAllChildren(),this.pinnedRightContainer.removeAllChildren(),this.centerContainer.removeAllChildren(),this.pinnedLeftContainer.insertHeaderRowsIntoContainer(),this.pinnedRightContainer.insertHeaderRowsIntoContainer(),this.centerContainer.insertHeaderRowsIntoContainer();var t=this.gridOptionsWrapper.getHeaderHeight(),e=this.columnController.getColumnDept();this.eHeaderOverlay&&(this.eHeaderOverlay.style.height=t+"px",this.eHeaderOverlay.style.top=(e-1)*t+"px"),this.setPinnedColContainerWidth()},t.prototype.setPinnedColContainerWidth=function(){if(!this.gridOptionsWrapper.isForPrint()){var t=this.columnController.getPinnedLeftContainerWidth()+"px";this.eHeaderViewport.style.marginLeft=t;var e=this.columnController.getPinnedRightContainerWidth()+"px";this.eHeaderViewport.style.marginRight=e}},t.prototype.onIndividualColumnResized=function(t){this.pinnedLeftContainer.onIndividualColumnResized(t),this.pinnedRightContainer.onIndividualColumnResized(t),this.centerContainer.onIndividualColumnResized(t)},o([c.Autowired("gridOptionsWrapper"),i("design:type",r.GridOptionsWrapper)],t.prototype,"gridOptionsWrapper",void 0),o([c.Autowired("columnController"),i("design:type",a.ColumnController)],t.prototype,"columnController",void 0),o([c.Autowired("gridPanel"),i("design:type",l.GridPanel)],t.prototype,"gridPanel",void 0),o([c.Autowired("context"),i("design:type",c.Context)],t.prototype,"context",void 0),o([c.Autowired("eventService"),i("design:type",p.EventService)],t.prototype,"eventService",void 0),o([c.PostConstruct,i("design:type",Function),i("design:paramtypes",[]),i("design:returntype",void 0)],t.prototype,"init",null),t=o([c.Bean("headerRenderer"),i("design:paramtypes",[])],t)}();e.HeaderRenderer=f},function(t,e,n){
/**
	 * ag-grid - Advanced Data Grid / Data Table supporting Javascript / React / AngularJS / Web Components
	 * @version v4.2.6
	 * @link http://www.ag-grid.com/
	 * @license MIT
	 */
var o=this&&this.__decorate||function(t,e,n,o){var i,r=arguments.length,a=r<3?e:null===o?o=Object.getOwnPropertyDescriptor(e,n):o;if("object"===("undefined"==typeof Reflect?"undefined":s(Reflect))&&"function"==typeof Reflect.decorate)a=Reflect.decorate(t,e,n,o);else for(var l=t.length-1;l>=0;l--)(i=t[l])&&(a=(r<3?i(a):r>3?i(e,n,a):i(e,n))||a);return r>3&&a&&Object.defineProperty(e,n,a),a},i=this&&this.__metadata||function(t,e){if("object"===("undefined"==typeof Reflect?"undefined":s(Reflect))&&"function"==typeof Reflect.metadata)return Reflect.metadata(t,e)},r=n(7),a=n(14),l=n(3),u=n(6),c=n(15),d=n(6),p=n(70),h=n(74),f=n(73),g=n(76),m=n(13),v=n(24),y=n(6),b=function(){function t(t,e,n,o){this.headerElements=[],this.eContainer=t,this.eRoot=n,this.pinned=o,this.eViewport=e}return t.prototype.init=function(){var t,e=new g.MoveColumnController(this.pinned);switch(this.context.wireBean(e),this.pinned){case c.Column.PINNED_LEFT:t=this.gridPanel.getDropTargetLeftContainers();break;case c.Column.PINNED_RIGHT:t=this.gridPanel.getDropTargetPinnedRightContainers();break;default:t=this.gridPanel.getDropTargetBodyContainers()}var n=this.pinned?f.DragAndDropService.ICON_PINNED:f.DragAndDropService.ICON_MOVE;this.dropTarget={eContainer:this.eViewport?this.eViewport:this.eContainer,iconName:n,eSecondaryContainers:t,onDragging:e.onDragging.bind(e),onDragEnter:e.onDragEnter.bind(e),onDragLeave:e.onDragLeave.bind(e),onDragStop:e.onDragStop.bind(e)},this.dragAndDropService.addDropTarget(this.dropTarget)},t.prototype.removeAllChildren=function(){this.headerElements.forEach((function(t){t.destroy()})),this.headerElements.length=0,r.Utils.removeAllChildren(this.eContainer)},t.prototype.insertHeaderRowsIntoContainer=function(){for(var t=this,e=this.columnController.getDisplayedColumnGroups(this.pinned),n=this.gridOptionsWrapper.getHeaderHeight(),o=0;;o++){var i=[];if(this.addTreeNodesAtDept(e,o,i),0===i.length)break;var r=document.createElement("div");r.className="ag-header-row",r.style.top=o*n+"px",r.style.height=n+"px",i.forEach((function(e){if(!(e instanceof a.ColumnGroup&&0==e.getDisplayedChildren().length)){var n=t.createHeaderElement(e);t.headerElements.push(n);var o=n.getGui();r.appendChild(o)}})),this.eContainer.appendChild(r)}},t.prototype.addTreeNodesAtDept=function(t,e,n){var o=this;t.forEach((function(t){if(0===e)n.push(t);else if(t instanceof a.ColumnGroup){var i=t;o.addTreeNodesAtDept(i.getDisplayedChildren(),e-1,n)}}))},t.prototype.createHeaderElement=function(t){var e;return e=t instanceof a.ColumnGroup?new p.RenderedHeaderGroupCell(t,this.eRoot,this.$scope,this.dropTarget):new h.RenderedHeaderCell(t,this.$scope,this.eRoot,this.dropTarget),this.context.wireBean(e),e},t.prototype.onIndividualColumnResized=function(t){this.headerElements.forEach((function(e){e.onIndividualColumnResized(t)}))},o([u.Autowired("gridOptionsWrapper"),i("design:type",l.GridOptionsWrapper)],t.prototype,"gridOptionsWrapper",void 0),o([u.Autowired("context"),i("design:type",d.Context)],t.prototype,"context",void 0),o([u.Autowired("$scope"),i("design:type",Object)],t.prototype,"$scope",void 0),o([u.Autowired("dragAndDropService"),i("design:type",f.DragAndDropService)],t.prototype,"dragAndDropService",void 0),o([u.Autowired("columnController"),i("design:type",m.ColumnController)],t.prototype,"columnController",void 0),o([u.Autowired("gridPanel"),i("design:type",v.GridPanel)],t.prototype,"gridPanel",void 0),o([y.PostConstruct,i("design:type",Function),i("design:paramtypes",[]),i("design:returntype",void 0)],t.prototype,"init",null),t}();e.HeaderContainer=b},function(t,e,n){
/**
	 * ag-grid - Advanced Data Grid / Data Table supporting Javascript / React / AngularJS / Web Components
	 * @version v4.2.6
	 * @link http://www.ag-grid.com/
	 * @license MIT
	 */
var o=this&&this.__decorate||function(t,e,n,o){var i,r=arguments.length,a=r<3?e:null===o?o=Object.getOwnPropertyDescriptor(e,n):o;if("object"===("undefined"==typeof Reflect?"undefined":s(Reflect))&&"function"==typeof Reflect.decorate)a=Reflect.decorate(t,e,n,o);else for(var l=t.length-1;l>=0;l--)(i=t[l])&&(a=(r<3?i(a):r>3?i(e,n,a):i(e,n))||a);return r>3&&a&&Object.defineProperty(e,n,a),a},i=this&&this.__metadata||function(t,e){if("object"===("undefined"==typeof Reflect?"undefined":s(Reflect))&&"function"==typeof Reflect.metadata)return Reflect.metadata(t,e)},r=n(7),a=n(59),l=n(13),u=n(43),c=n(3),d=n(15),p=n(71),h=n(6),f=n(72),g=n(73),m=a.SvgFactory.getInstance(),v=function(){function t(t,e,n,o){this.destroyFunctions=[],this.columnGroup=t,this.parentScope=n,this.eRoot=e,this.parentScope=n,this.dragSourceDropTarget=o}return t.prototype.getGui=function(){return this.eHeaderGroupCell},t.prototype.onIndividualColumnResized=function(t){this.columnGroup.isChildInThisGroupDeepSearch(t)&&this.setWidth()},t.prototype.init=function(){this.eHeaderGroupCell=document.createElement("div"),f.CssClassApplier.addHeaderClassesFromCollDef(this.columnGroup.getColGroupDef(),this.eHeaderGroupCell,this.gridOptionsWrapper),this.displayName=this.columnGroup.getHeaderName(),this.setupResize(),this.addClasses(),this.setupLabel(),this.setupMove(),this.setWidth()},t.prototype.setupLabel=function(){if(this.displayName&&""!==this.displayName){var t=document.createElement("div");t.className="ag-header-group-cell-label",this.eHeaderGroupCell.appendChild(t),r.Utils.isBrowserSafari()&&(t.style.display="table-cell");var e=document.createElement("span");e.className="ag-header-group-text",e.innerHTML=this.displayName,t.appendChild(e),this.columnGroup.isExpandable()&&this.addGroupExpandIcon(t)}},t.prototype.addClasses=function(){r.Utils.addCssClass(this.eHeaderGroupCell,"ag-header-group-cell"),this.columnGroup.getColGroupDef()?r.Utils.addCssClass(this.eHeaderGroupCell,"ag-header-group-cell-with-group"):r.Utils.addCssClass(this.eHeaderGroupCell,"ag-header-group-cell-no-group")},t.prototype.setupResize=function(){var t=this;this.gridOptionsWrapper.isEnableColResize()&&(this.eHeaderCellResize=document.createElement("div"),this.eHeaderCellResize.className="ag-header-cell-resize",this.eHeaderGroupCell.appendChild(this.eHeaderCellResize),this.dragService.addDragHandling({eDraggableElement:this.eHeaderCellResize,eBody:this.eRoot,cursor:"col-resize",startAfterPixels:0,onDragStart:this.onDragStart.bind(this),onDragging:this.onDragging.bind(this)}),this.gridOptionsWrapper.isSuppressAutoSize()||this.eHeaderCellResize.addEventListener("dblclick",(function(e){var n=[];t.columnGroup.getDisplayedLeafColumns().forEach((function(t){t.getColDef().suppressAutoSize||n.push(t.getColId())})),n.length>0&&t.columnController.autoSizeColumns(n)})))},t.prototype.setupMove=function(){var t=this.eHeaderGroupCell.querySelector(".ag-header-group-cell-label");if(t&&!this.gridOptionsWrapper.isSuppressMovableColumns()){var e=!1;if(this.columnGroup.getLeafColumns().forEach((function(t){t.getColDef().suppressMovable&&(e=!0)})),!e&&!this.gridOptionsWrapper.isForPrint()&&t){var n={eElement:t,dragItemName:this.displayName,dragItem:this.getAllColumnsInThisGroup(),dragSourceDropTarget:this.dragSourceDropTarget};this.dragAndDropService.addDragSource(n)}}},t.prototype.getAllColumnsInThisGroup=function(){var t=this.columnGroup.getOriginalColumnGroup().getLeafColumns(),e=[];return this.columnController.getAllDisplayedColumns().forEach((function(n){t.indexOf(n)>=0&&(e.push(n),r.Utils.removeFromArray(t,n))})),t.forEach((function(t){return e.push(t)})),e},t.prototype.setWidth=function(){var t=this,e=function(){t.eHeaderGroupCell.style.width=t.columnGroup.getActualWidth()+"px"};this.columnGroup.getLeafColumns().forEach((function(n){n.addEventListener(d.Column.EVENT_WIDTH_CHANGED,e),t.destroyFunctions.push((function(){n.removeEventListener(d.Column.EVENT_WIDTH_CHANGED,e)}))})),e()},t.prototype.destroy=function(){this.destroyFunctions.forEach((function(t){t()}))},t.prototype.addGroupExpandIcon=function(t){var e;(e=this.columnGroup.isExpanded()?r.Utils.createIcon("columnGroupOpened",this.gridOptionsWrapper,null,m.createGroupContractedIcon):r.Utils.createIcon("columnGroupClosed",this.gridOptionsWrapper,null,m.createGroupExpandedIcon)).className="ag-header-expand-icon",t.appendChild(e);var n=this;e.onclick=function(){var t=!n.columnGroup.isExpanded();n.columnController.setColumnGroupOpened(n.columnGroup,t)}},t.prototype.onDragStart=function(){var t=this;this.groupWidthStart=this.columnGroup.getActualWidth(),this.childrenWidthStarts=[],this.columnGroup.getDisplayedLeafColumns().forEach((function(e){t.childrenWidthStarts.push(e.getActualWidth())}))},t.prototype.onDragging=function(t,e){var n=this,o=this.groupWidthStart+t,i=this.columnGroup.getMinWidth();o<i&&(o=i);var r=o/this.groupWidthStart,a=o,s=this.columnGroup.getDisplayedLeafColumns();s.forEach((function(t,o){var i;o!==s.length-1?((i=n.childrenWidthStarts[o]*r)<t.getMinWidth()&&(i=t.getMinWidth()),a-=i):i=a,n.columnController.setColumnWidth(t,i,e)}))},o([h.Autowired("filterManager"),i("design:type",u.FilterManager)],t.prototype,"filterManager",void 0),o([h.Autowired("gridOptionsWrapper"),i("design:type",c.GridOptionsWrapper)],t.prototype,"gridOptionsWrapper",void 0),o([h.Autowired("horizontalDragService"),i("design:type",p.HorizontalDragService)],t.prototype,"dragService",void 0),o([h.Autowired("columnController"),i("design:type",l.ColumnController)],t.prototype,"columnController",void 0),o([h.Autowired("dragAndDropService"),i("design:type",g.DragAndDropService)],t.prototype,"dragAndDropService",void 0),o([h.PostConstruct,i("design:type",Function),i("design:paramtypes",[]),i("design:returntype",void 0)],t.prototype,"init",null),t}();e.RenderedHeaderGroupCell=v},function(t,e,n){
/**
	 * ag-grid - Advanced Data Grid / Data Table supporting Javascript / React / AngularJS / Web Components
	 * @version v4.2.6
	 * @link http://www.ag-grid.com/
	 * @license MIT
	 */
var o=this&&this.__decorate||function(t,e,n,o){var i,r=arguments.length,a=r<3?e:null===o?o=Object.getOwnPropertyDescriptor(e,n):o;if("object"===("undefined"==typeof Reflect?"undefined":s(Reflect))&&"function"==typeof Reflect.decorate)a=Reflect.decorate(t,e,n,o);else for(var l=t.length-1;l>=0;l--)(i=t[l])&&(a=(r<3?i(a):r>3?i(e,n,a):i(e,n))||a);return r>3&&a&&Object.defineProperty(e,n,a),a},i=this&&this.__metadata||function(t,e){if("object"===("undefined"==typeof Reflect?"undefined":s(Reflect))&&"function"==typeof Reflect.metadata)return Reflect.metadata(t,e)},r=n(6),a=function(){function t(){}return t.prototype.addDragHandling=function(t){t.eDraggableElement.addEventListener("mousedown",(function(e){new l(t,e)}))},t=o([r.Bean("horizontalDragService"),i("design:paramtypes",[])],t)}();e.HorizontalDragService=a;var l=function(){function t(t,e){this.mouseMove=this.onMouseMove.bind(this),this.mouseUp=this.onMouseUp.bind(this),this.mouseLeave=this.onMouseLeave.bind(this),this.lastDelta=0,this.params=t,this.eDragParent=document.querySelector("body"),this.dragStartX=e.clientX,this.startEvent=e,this.eDragParent.addEventListener("mousemove",this.mouseMove),this.eDragParent.addEventListener("mouseup",this.mouseUp),this.eDragParent.addEventListener("mouseleave",this.mouseLeave),this.draggingStarted=!1,"number"==typeof t.startAfterPixels&&t.startAfterPixels>0||this.startDragging()}return t.prototype.startDragging=function(){this.draggingStarted=!0,this.oldBodyCursor=this.params.eBody.style.cursor,this.oldParentCursor=this.eDragParent.style.cursor,this.oldMsUserSelect=this.eDragParent.style.msUserSelect,this.oldWebkitUserSelect=this.eDragParent.style.webkitUserSelect,this.params.eBody.style.cursor=this.params.cursor,this.eDragParent.style.cursor=this.params.cursor,this.eDragParent.style.msUserSelect="none",this.eDragParent.style.webkitUserSelect="none",this.params.onDragStart(this.startEvent)},t.prototype.onMouseMove=function(t){var e=t.clientX;this.lastDelta=e-this.dragStartX,this.draggingStarted||Math.abs(this.lastDelta)>=this.params.startAfterPixels&&this.startDragging(),this.draggingStarted&&this.params.onDragging(this.lastDelta,!1)},t.prototype.onMouseUp=function(){this.stopDragging()},t.prototype.onMouseLeave=function(){this.stopDragging()},t.prototype.stopDragging=function(){this.draggingStarted&&(this.params.eBody.style.cursor=this.oldBodyCursor,this.eDragParent.style.cursor=this.oldParentCursor,this.eDragParent.style.msUserSelect=this.oldMsUserSelect,this.eDragParent.style.webkitUserSelect=this.oldWebkitUserSelect,this.params.onDragging(this.lastDelta,!0)),this.eDragParent.removeEventListener("mousemove",this.mouseMove),this.eDragParent.removeEventListener("mouseup",this.mouseUp),this.eDragParent.removeEventListener("mouseleave",this.mouseLeave)},t}()},function(t,e,n){
/**
	 * ag-grid - Advanced Data Grid / Data Table supporting Javascript / React / AngularJS / Web Components
	 * @version v4.2.6
	 * @link http://www.ag-grid.com/
	 * @license MIT
	 */
var o=n(7),i=function(){function t(){}return t.addHeaderClassesFromCollDef=function(t,e,n){if(t&&t.headerClass){var i;if("function"==typeof t.headerClass){var r={colDef:t,context:n.getContext(),api:n.getApi()};i=(0,t.headerClass)(r)}else i=t.headerClass;"string"==typeof i?o.Utils.addCssClass(e,i):Array.isArray(i)&&i.forEach((function(t){o.Utils.addCssClass(e,t)}))}},t}();e.CssClassApplier=i},function(t,e,n){
/**
	 * ag-grid - Advanced Data Grid / Data Table supporting Javascript / React / AngularJS / Web Components
	 * @version v4.2.6
	 * @link http://www.ag-grid.com/
	 * @license MIT
	 */
var o=this&&this.__decorate||function(t,e,n,o){var i,r=arguments.length,a=r<3?e:null===o?o=Object.getOwnPropertyDescriptor(e,n):o;if("object"===("undefined"==typeof Reflect?"undefined":s(Reflect))&&"function"==typeof Reflect.decorate)a=Reflect.decorate(t,e,n,o);else for(var l=t.length-1;l>=0;l--)(i=t[l])&&(a=(r<3?i(a):r>3?i(e,n,a):i(e,n))||a);return r>3&&a&&Object.defineProperty(e,n,a),a},i=this&&this.__metadata||function(t,e){if("object"===("undefined"==typeof Reflect?"undefined":s(Reflect))&&"function"==typeof Reflect.metadata)return Reflect.metadata(t,e)},r=this&&this.__param||function(t,e){return function(n,o){e(n,o,t)}},a=n(6),l=n(5),u=n(6),c=n(7),d=n(3),p=n(6),h=n(59),f=n(31),g=n(13),m=h.SvgFactory.getInstance(),v=function(){function t(){this.dropTargets=[]}return t.prototype.init=function(){this.ePinnedIcon=c.Utils.createIcon("columnMovePin",this.gridOptionsWrapper,null,m.createPinIcon),this.ePlusIcon=c.Utils.createIcon("columnMoveAdd",this.gridOptionsWrapper,null,m.createPlusIcon),this.eHiddenIcon=c.Utils.createIcon("columnMoveHide",this.gridOptionsWrapper,null,m.createColumnHiddenIcon),this.eMoveIcon=c.Utils.createIcon("columnMoveMove",this.gridOptionsWrapper,null,m.createMoveIcon),this.eLeftIcon=c.Utils.createIcon("columnMoveLeft",this.gridOptionsWrapper,null,m.createLeftIcon),this.eRightIcon=c.Utils.createIcon("columnMoveRight",this.gridOptionsWrapper,null,m.createRightIcon),this.eGroupIcon=c.Utils.createIcon("columnMoveGroup",this.gridOptionsWrapper,null,m.createGroupIcon)},t.prototype.setBeans=function(t){this.logger=t.create("OldToolPanelDragAndDropService"),this.eBody=document.querySelector("body"),this.eBody||console.warn("ag-Grid: could not find document body, it is needed for dragging columns")},t.prototype.addDragSource=function(t){this.dragService.addDragSource({eElement:t.eElement,onDragStart:this.onDragStart.bind(this,t),onDragStop:this.onDragStop.bind(this),onDragging:this.onDragging.bind(this)})},t.prototype.nudge=function(){this.dragging&&this.onDragging(this.eventLastTime)},t.prototype.onDragStart=function(t,e){this.dragging=!0,this.dragSource=t,this.eventLastTime=e,this.dragSource.dragItem.forEach((function(t){return t.setMoving(!0)})),this.dragItem=this.dragSource.dragItem,this.lastDropTarget=this.dragSource.dragSourceDropTarget,this.createGhost()},t.prototype.onDragStop=function(t){if(this.eventLastTime=null,this.dragging=!1,this.dragItem.forEach((function(t){return t.setMoving(!1)})),this.lastDropTarget&&this.lastDropTarget.onDragStop){var e=this.createDropTargetEvent(this.lastDropTarget,t,null);this.lastDropTarget.onDragStop(e)}this.lastDropTarget=null,this.dragItem=null,this.removeGhost()},t.prototype.onDragging=function(t){var e=this.workOutDirection(t);this.eventLastTime=t,this.positionGhost(t);var n=c.Utils.find(this.dropTargets,this.isMouseOnDropTarget.bind(this,t));if(n!==this.lastDropTarget)this.leaveLastTargetIfExists(t,e),this.enterDragTargetIfExists(n,t,e),this.lastDropTarget=n;else if(n){var o=this.createDropTargetEvent(n,t,e);n.onDragging(o)}},t.prototype.enterDragTargetIfExists=function(t,e,n){if(t){var o=this.createDropTargetEvent(t,e,n);t.onDragEnter(o),this.setGhostIcon(t.iconName)}},t.prototype.leaveLastTargetIfExists=function(t,e){if(this.lastDropTarget){var n=this.createDropTargetEvent(this.lastDropTarget,t,e);this.lastDropTarget.onDragLeave(n),this.setGhostIcon(null)}},t.prototype.isMouseOnDropTarget=function(t,e){var n=[e.eContainer];e.eSecondaryContainers&&(n=n.concat(e.eSecondaryContainers));var o=!1;return n.forEach((function(e){if(e){var n=e.getBoundingClientRect();if(0!==n.width&&0!==n.height){var i=t.clientX>=n.left&&t.clientX<=n.right,r=t.clientY>=n.top&&t.clientY<=n.bottom;i&&r&&(o=!0)}}})),o},t.prototype.addDropTarget=function(t){this.dropTargets.push(t)},t.prototype.workOutDirection=function(e){return this.eventLastTime.clientX>e.clientX?t.DIRECTION_LEFT:this.eventLastTime.clientX<e.clientX?t.DIRECTION_RIGHT:null},t.prototype.createDropTargetEvent=function(t,e,n){var o=t.eContainer.getBoundingClientRect();return{event:e,x:e.clientX-o.left,y:e.clientY-o.top,direction:n,dragSource:this.dragSource}},t.prototype.positionGhost=function(t){var e=this.eGhost.getBoundingClientRect().height,n=c.Utils.getBodyWidth()-2,o=c.Utils.getBodyHeight()-2,i=t.pageY-e/2,r=t.pageX-30;n>0&&r+this.eGhost.clientWidth>n&&(r=n-this.eGhost.clientWidth),r<0&&(r=0),o>0&&i+this.eGhost.clientHeight>o&&(i=o-this.eGhost.clientHeight),i<0&&(i=0),this.eGhost.style.left=r+"px",this.eGhost.style.top=i+"px"},t.prototype.removeGhost=function(){this.eGhost&&this.eBody.removeChild(this.eGhost),this.eGhost=null},t.prototype.createGhost=function(){this.eGhost=c.Utils.loadTemplate(t.GHOST_TEMPLATE),this.eGhostIcon=this.eGhost.querySelector(".ag-dnd-ghost-icon"),this.lastDropTarget&&this.setGhostIcon(this.lastDropTarget.iconName),this.eGhost.querySelector(".ag-dnd-ghost-label").innerHTML=this.dragSource.dragItemName,this.eGhost.style.height=this.gridOptionsWrapper.getHeaderHeight()+"px",this.eGhost.style.top="20px",this.eGhost.style.left="20px",this.eBody.appendChild(this.eGhost)},t.prototype.setGhostIcon=function(e,n){var o;switch(void 0===n&&(n=!1),c.Utils.removeAllChildren(this.eGhostIcon),e){case t.ICON_ADD:o=this.ePlusIcon;break;case t.ICON_PINNED:o=this.ePinnedIcon;break;case t.ICON_MOVE:o=this.eMoveIcon;break;case t.ICON_LEFT:o=this.eLeftIcon;break;case t.ICON_RIGHT:o=this.eRightIcon;break;case t.ICON_GROUP:o=this.eGroupIcon;break;default:o=this.eHiddenIcon}this.eGhostIcon.appendChild(o),c.Utils.addOrRemoveCssClass(this.eGhostIcon,"ag-shake-left-to-right",n)},t.DIRECTION_LEFT="left",t.DIRECTION_RIGHT="right",t.ICON_PINNED="pinned",t.ICON_ADD="add",t.ICON_MOVE="move",t.ICON_LEFT="left",t.ICON_RIGHT="right",t.ICON_GROUP="group",t.GHOST_TEMPLATE='<div class="ag-dnd-ghost">  <span class="ag-dnd-ghost-icon ag-shake-left-to-right"></span>  <div class="ag-dnd-ghost-label">  </div></div>',o([p.Autowired("gridOptionsWrapper"),i("design:type",d.GridOptionsWrapper)],t.prototype,"gridOptionsWrapper",void 0),o([p.Autowired("dragService"),i("design:type",f.DragService)],t.prototype,"dragService",void 0),o([p.Autowired("columnController"),i("design:type",g.ColumnController)],t.prototype,"columnController",void 0),o([a.PostConstruct,i("design:type",Function),i("design:paramtypes",[]),i("design:returntype",void 0)],t.prototype,"init",null),o([r(0,a.Qualifier("loggerFactory")),i("design:type",Function),i("design:paramtypes",[l.LoggerFactory]),i("design:returntype",void 0)],t.prototype,"setBeans",null),t=o([u.Bean("dragAndDropService"),i("design:paramtypes",[])],t)}();e.DragAndDropService=v},function(t,e,n){
/**
	 * ag-grid - Advanced Data Grid / Data Table supporting Javascript / React / AngularJS / Web Components
	 * @version v4.2.6
	 * @link http://www.ag-grid.com/
	 * @license MIT
	 */
var o=this&&this.__decorate||function(t,e,n,o){var i,r=arguments.length,a=r<3?e:null===o?o=Object.getOwnPropertyDescriptor(e,n):o;if("object"===("undefined"==typeof Reflect?"undefined":s(Reflect))&&"function"==typeof Reflect.decorate)a=Reflect.decorate(t,e,n,o);else for(var l=t.length-1;l>=0;l--)(i=t[l])&&(a=(r<3?i(a):r>3?i(e,n,a):i(e,n))||a);return r>3&&a&&Object.defineProperty(e,n,a),a},i=this&&this.__metadata||function(t,e){if("object"===("undefined"==typeof Reflect?"undefined":s(Reflect))&&"function"==typeof Reflect.metadata)return Reflect.metadata(t,e)},r=n(7),a=n(15),l=n(43),u=n(13),c=n(75),d=n(3),p=n(71),h=n(40),f=n(6),g=n(72),m=n(73),v=n(42),y=function(){function t(t,e,n,o){this.destroyFunctions=[],this.column=t,this.parentScope=e,this.eRoot=n,this.dragSourceDropTarget=o}return t.prototype.init=function(){this.eHeaderCell=this.headerTemplateLoader.createHeaderElement(this.column),r.Utils.addCssClass(this.eHeaderCell,"ag-header-cell"),this.createScope(this.parentScope),this.addAttributes(),g.CssClassApplier.addHeaderClassesFromCollDef(this.column.getColDef(),this.eHeaderCell,this.gridOptionsWrapper);var t=this.eHeaderCell.querySelector("#agHeaderCellLabel");this.displayName=this.columnController.getDisplayNameForCol(this.column),this.setupMovingCss(),this.setupTooltip(),this.setupResize(),this.setupMove(t),this.setupMenu(),this.setupSort(t),this.setupFilterIcon(),this.setupText(),this.setupWidth()},t.prototype.setupTooltip=function(){var t=this.column.getColDef();t.headerTooltip&&(this.eHeaderCell.title=t.headerTooltip)},t.prototype.setupText=function(){var t,e=this.column.getColDef();e.headerCellRenderer?t=e.headerCellRenderer:this.gridOptionsWrapper.getHeaderCellRenderer()&&(t=this.gridOptionsWrapper.getHeaderCellRenderer());var n=this.eHeaderCell.querySelector("#agText");n&&(t?this.useRenderer(this.displayName,t,n):(n.className="ag-header-cell-text",n.innerHTML=this.displayName))},t.prototype.setupFilterIcon=function(){var t=this,e=this.eHeaderCell.querySelector("#agFilter");if(e){var n=function(){var n=t.column.isFilterActive();r.Utils.addOrRemoveCssClass(t.eHeaderCell,"ag-header-cell-filtered",n),r.Utils.addOrRemoveCssClass(e,"ag-hidden",!n)};this.column.addEventListener(a.Column.EVENT_FILTER_ACTIVE_CHANGED,n),this.destroyFunctions.push((function(){t.column.removeEventListener(a.Column.EVENT_FILTER_ACTIVE_CHANGED,n)})),n()}},t.prototype.setupWidth=function(){var t=this,e=function(){t.eHeaderCell.style.width=t.column.getActualWidth()+"px"};this.column.addEventListener(a.Column.EVENT_WIDTH_CHANGED,e),this.destroyFunctions.push((function(){t.column.removeEventListener(a.Column.EVENT_WIDTH_CHANGED,e)})),e()},t.prototype.getGui=function(){return this.eHeaderCell},t.prototype.destroy=function(){this.destroyFunctions.forEach((function(t){t()}))},t.prototype.createScope=function(t){var e=this;this.gridOptionsWrapper.isAngularCompileHeaders()&&(this.childScope=t.$new(),this.childScope.colDef=this.column.getColDef(),this.childScope.colDefWrapper=this.column,this.childScope.context=this.gridOptionsWrapper.getContext(),this.destroyFunctions.push((function(){e.childScope.$destroy()})))},t.prototype.addAttributes=function(){this.eHeaderCell.setAttribute("colId",this.column.getColId())},t.prototype.setupMenu=function(){var t=this,e=this.eHeaderCell.querySelector("#agMenu");if(e)if(this.menuFactory.isMenuEnabled(this.column)&&!this.column.getColDef().suppressMenu){e.addEventListener("click",(function(){return t.showMenu(e)})),this.gridOptionsWrapper.isSuppressMenuHide()||(e.style.opacity="0",this.eHeaderCell.addEventListener("mouseover",(function(){e.style.opacity="1"})),this.eHeaderCell.addEventListener("mouseout",(function(){e.style.opacity="0"})));var n=e.style;n.transition="opacity 0.2s, border 0.2s",n["-webkit-transition"]="opacity 0.2s, border 0.2s"}else r.Utils.removeFromParent(e)},t.prototype.showMenu=function(t){this.menuFactory.showMenuAfterButtonClick(this.column,t)},t.prototype.setupMovingCss=function(){var t=this,e=function(){t.column.isMoving()?r.Utils.addCssClass(t.eHeaderCell,"ag-header-cell-moving"):r.Utils.removeCssClass(t.eHeaderCell,"ag-header-cell-moving")};e(),this.column.addEventListener(a.Column.EVENT_MOVING_CHANGED,e),this.destroyFunctions.push((function(){t.column.removeEventListener(a.Column.EVENT_MOVING_CHANGED,e)}))},t.prototype.setupMove=function(t){if(!this.gridOptionsWrapper.isSuppressMovableColumns()&&!this.column.getColDef().suppressMovable&&!this.gridOptionsWrapper.isForPrint()&&t){var e={eElement:t,dragItem:[this.column],dragItemName:this.displayName,dragSourceDropTarget:this.dragSourceDropTarget};this.dragAndDropService.addDragSource(e)}},t.prototype.setupResize=function(){var t=this,e=this.column.getColDef(),n=this.eHeaderCell.querySelector("#agResizeBar");n&&(this.gridOptionsWrapper.isEnableColResize()&&!e.suppressResize?(this.dragService.addDragHandling({eDraggableElement:n,eBody:this.eRoot,cursor:"col-resize",startAfterPixels:0,onDragStart:this.onDragStart.bind(this),onDragging:this.onDragging.bind(this)}),!this.gridOptionsWrapper.isSuppressAutoSize()&&!e.suppressAutoSize&&n.addEventListener("dblclick",(function(){t.columnController.autoSizeColumn(t.column)}))):r.Utils.removeFromParent(n))},t.prototype.useRenderer=function(t,e,n){var o,i=e({colDef:this.column.getColDef(),$scope:this.childScope,context:this.gridOptionsWrapper.getContext(),value:t,api:this.gridOptionsWrapper.getApi(),eHeaderCell:this.eHeaderCell});if(r.Utils.isNodeOrElement(i))o=i;else{var a=document.createElement("span");a.innerHTML=i,o=a}if(this.gridOptionsWrapper.isAngularCompileHeaders()){var s=this.$compile(o)(this.childScope)[0];n.appendChild(s)}else n.appendChild(o)},t.prototype.setupSort=function(t){var e=this;if(!this.gridOptionsWrapper.isEnableSorting()||this.column.getColDef().suppressSorting)return r.Utils.removeFromParent(this.eHeaderCell.querySelector("#agSortAsc")),r.Utils.removeFromParent(this.eHeaderCell.querySelector("#agSortDesc")),void r.Utils.removeFromParent(this.eHeaderCell.querySelector("#agNoSort"));r.Utils.addCssClass(this.eHeaderCell,"ag-header-cell-sortable"),t&&t.addEventListener("click",(function(t){e.sortController.progressSort(e.column,t.shiftKey)}));var n=this.eHeaderCell.querySelector("#agSortAsc"),o=this.eHeaderCell.querySelector("#agSortDesc"),i=this.eHeaderCell.querySelector("#agNoSort"),s=function(){if(r.Utils.addOrRemoveCssClass(e.eHeaderCell,"ag-header-cell-sorted-asc",e.column.isSortAscending()),r.Utils.addOrRemoveCssClass(e.eHeaderCell,"ag-header-cell-sorted-desc",e.column.isSortDescending()),r.Utils.addOrRemoveCssClass(e.eHeaderCell,"ag-header-cell-sorted-none",e.column.isSortNone()),n&&r.Utils.addOrRemoveCssClass(n,"ag-hidden",!e.column.isSortAscending()),o&&r.Utils.addOrRemoveCssClass(o,"ag-hidden",!e.column.isSortDescending()),i){var t=!e.column.getColDef().unSortIcon&&!e.gridOptionsWrapper.isUnSortIcon();r.Utils.addOrRemoveCssClass(i,"ag-hidden",t||!e.column.isSortNone())}};this.column.addEventListener(a.Column.EVENT_SORT_CHANGED,s),this.destroyFunctions.push((function(){e.column.removeEventListener(a.Column.EVENT_SORT_CHANGED,s)})),s()},t.prototype.onDragStart=function(){this.startWidth=this.column.getActualWidth()},t.prototype.onDragging=function(t,e){var n=this.startWidth+t;this.columnController.setColumnWidth(this.column,n,e)},t.prototype.onIndividualColumnResized=function(t){if(this.column===t){var e=t.getActualWidth()+"px";this.eHeaderCell.style.width=e}},o([f.Autowired("context"),i("design:type",f.Context)],t.prototype,"context",void 0),o([f.Autowired("filterManager"),i("design:type",l.FilterManager)],t.prototype,"filterManager",void 0),o([f.Autowired("columnController"),i("design:type",u.ColumnController)],t.prototype,"columnController",void 0),o([f.Autowired("$compile"),i("design:type",Object)],t.prototype,"$compile",void 0),o([f.Autowired("gridCore"),i("design:type",h.GridCore)],t.prototype,"gridCore",void 0),o([f.Autowired("headerTemplateLoader"),i("design:type",c.HeaderTemplateLoader)],t.prototype,"headerTemplateLoader",void 0),o([f.Autowired("horizontalDragService"),i("design:type",p.HorizontalDragService)],t.prototype,"dragService",void 0),o([f.Autowired("menuFactory"),i("design:type",Object)],t.prototype,"menuFactory",void 0),o([f.Autowired("gridOptionsWrapper"),i("design:type",d.GridOptionsWrapper)],t.prototype,"gridOptionsWrapper",void 0),o([f.Autowired("dragAndDropService"),i("design:type",m.DragAndDropService)],t.prototype,"dragAndDropService",void 0),o([f.Autowired("sortController"),i("design:type",v.SortController)],t.prototype,"sortController",void 0),o([f.PostConstruct,i("design:type",Function),i("design:paramtypes",[]),i("design:returntype",void 0)],t.prototype,"init",null),t}();e.RenderedHeaderCell=y},function(t,e,n){
/**
	 * ag-grid - Advanced Data Grid / Data Table supporting Javascript / React / AngularJS / Web Components
	 * @version v4.2.6
	 * @link http://www.ag-grid.com/
	 * @license MIT
	 */
var o=this&&this.__decorate||function(t,e,n,o){var i,r=arguments.length,a=r<3?e:null===o?o=Object.getOwnPropertyDescriptor(e,n):o;if("object"===("undefined"==typeof Reflect?"undefined":s(Reflect))&&"function"==typeof Reflect.decorate)a=Reflect.decorate(t,e,n,o);else for(var l=t.length-1;l>=0;l--)(i=t[l])&&(a=(r<3?i(a):r>3?i(e,n,a):i(e,n))||a);return r>3&&a&&Object.defineProperty(e,n,a),a},i=this&&this.__metadata||function(t,e){if("object"===("undefined"==typeof Reflect?"undefined":s(Reflect))&&"function"==typeof Reflect.metadata)return Reflect.metadata(t,e)},r=n(7),a=n(59),l=n(3),u=n(6),c=a.SvgFactory.getInstance(),d=function(){function t(){}return t.prototype.createHeaderElement=function(t){var e,n={column:t,colDef:t.getColDef,context:this.gridOptionsWrapper.getContext(),api:this.gridOptionsWrapper.getApi()},o=t.getColDef().headerCellTemplate;return"function"==typeof o&&(o=o(n)),!o&&this.gridOptionsWrapper.getHeaderCellTemplate()&&(o=this.gridOptionsWrapper.getHeaderCellTemplate()),!o&&this.gridOptionsWrapper.getHeaderCellTemplateFunc()&&(o=this.gridOptionsWrapper.getHeaderCellTemplateFunc()(n)),o||(o=this.createDefaultHeaderElement(t)),"string"==typeof o?(e=r.Utils.loadTemplate(o),this.addInIcon(e,"sortAscending","#agSortAsc",t,c.createArrowUpSvg),this.addInIcon(e,"sortDescending","#agSortDesc",t,c.createArrowDownSvg),this.addInIcon(e,"sortUnSort","#agNoSort",t,c.createArrowUpDownSvg),this.addInIcon(e,"menu","#agMenu",t,c.createMenuSvg),this.addInIcon(e,"filter","#agFilter",t,c.createFilterSvg)):r.Utils.isNodeOrElement(o)?e=o:console.error("ag-Grid: header template must be a string or an HTML element"),e},t.prototype.createDefaultHeaderElement=function(e){var n=r.Utils.loadTemplate(t.HEADER_CELL_TEMPLATE);return this.addInIcon(n,"sortAscending","#agSortAsc",e,c.createArrowUpSvg),this.addInIcon(n,"sortDescending","#agSortDesc",e,c.createArrowDownSvg),this.addInIcon(n,"sortUnSort","#agNoSort",e,c.createArrowUpDownSvg),this.addInIcon(n,"menu","#agMenu",e,c.createMenuSvg),this.addInIcon(n,"filter","#agFilter",e,c.createFilterSvg),n},t.prototype.addInIcon=function(t,e,n,o,i){var a=r.Utils.createIconNoSpan(e,this.gridOptionsWrapper,o,i);t.querySelector(n).appendChild(a)},t.HEADER_CELL_TEMPLATE='<div class="ag-header-cell">  <div id="agResizeBar" class="ag-header-cell-resize"></div>  <span id="agMenu" class="ag-header-icon ag-header-cell-menu-button"></span>  <div id="agHeaderCellLabel" class="ag-header-cell-label">    <span id="agSortAsc" class="ag-header-icon ag-sort-ascending-icon"></span>    <span id="agSortDesc" class="ag-header-icon ag-sort-descending-icon"></span>    <span id="agNoSort" class="ag-header-icon ag-sort-none-icon"></span>    <span id="agFilter" class="ag-header-icon ag-filter-icon"></span>    <span id="agText" class="ag-header-cell-text"></span>  </div></div>',o([u.Autowired("gridOptionsWrapper"),i("design:type",l.GridOptionsWrapper)],t.prototype,"gridOptionsWrapper",void 0),t=o([u.Bean("headerTemplateLoader"),i("design:paramtypes",[])],t)}();e.HeaderTemplateLoader=d},function(t,e,n){
/**
	 * ag-grid - Advanced Data Grid / Data Table supporting Javascript / React / AngularJS / Web Components
	 * @version v4.2.6
	 * @link http://www.ag-grid.com/
	 * @license MIT
	 */
var o=this&&this.__decorate||function(t,e,n,o){var i,r=arguments.length,a=r<3?e:null===o?o=Object.getOwnPropertyDescriptor(e,n):o;if("object"===("undefined"==typeof Reflect?"undefined":s(Reflect))&&"function"==typeof Reflect.decorate)a=Reflect.decorate(t,e,n,o);else for(var l=t.length-1;l>=0;l--)(i=t[l])&&(a=(r<3?i(a):r>3?i(e,n,a):i(e,n))||a);return r>3&&a&&Object.defineProperty(e,n,a),a},i=this&&this.__metadata||function(t,e){if("object"===("undefined"==typeof Reflect?"undefined":s(Reflect))&&"function"==typeof Reflect.metadata)return Reflect.metadata(t,e)},r=n(6),a=n(5),l=n(13),u=n(15),c=n(7),d=n(73),p=n(24),h=n(3),f=function(){function t(t){this.needToMoveLeft=!1,this.needToMoveRight=!1,this.pinned=t,this.centerContainer=!c.Utils.exists(t)}return t.prototype.init=function(){this.logger=this.loggerFactory.create("MoveColumnController")},t.prototype.onDragEnter=function(t){var e=t.dragSource.dragItem;this.columnController.setColumnsVisible(e,!0),this.columnController.setColumnsPinned(e,this.pinned),this.onDragging(t,!0)},t.prototype.onDragLeave=function(t){if(!this.gridOptionsWrapper.isSuppressDragLeaveHidesColumns()){var e=t.dragSource.dragItem;this.columnController.setColumnsVisible(e,!1)}this.ensureIntervalCleared()},t.prototype.onDragStop=function(){this.ensureIntervalCleared()},t.prototype.adjustXForScroll=function(t){return this.centerContainer?t.x+this.gridPanel.getHorizontalScrollPosition():t.x},t.prototype.workOutNewIndex=function(t,e,n,o,i){return o===d.DragAndDropService.DIRECTION_LEFT?this.getNewIndexForColMovingLeft(t,e,n,i):this.getNewIndexForColMovingRight(t,e,n,i)},t.prototype.checkCenterForScrolling=function(t){if(this.centerContainer){var e=this.gridPanel.getHorizontalScrollPosition(),n=e+this.gridPanel.getCenterWidth();this.needToMoveLeft=t<e+50,this.needToMoveRight=t>n-50,this.needToMoveLeft||this.needToMoveRight?this.ensureIntervalStarted():this.ensureIntervalCleared()}},t.prototype.onDragging=function(t,e){if(void 0===e&&(e=!1),this.lastDraggingEvent=t,t.direction){var n=this.adjustXForScroll(t);e||this.checkCenterForScrolling(n);var o=t.dragSource.dragItem;this.attemptMoveColumns(o,t.direction,n,e)}},t.prototype.attemptMoveColumns=function(t,e,n,o){var i,r=this.columnController.getDisplayedColumns(this.pinned),a=this.columnController.getAllGridColumns(),s=e===d.DragAndDropService.DIRECTION_LEFT,l=e===d.DragAndDropService.DIRECTION_RIGHT,u=c.Utils.filter(t,(function(t){return r.indexOf(t)>=0}));i=s?u[0]:u[u.length-1];var p=this.workOutNewIndex(r,a,i,e,n),h=a.indexOf(i);!o&&s&&p>=h||!o&&l&&p<=h||(l&&(p=p-t.length+1),this.columnController.moveColumns(t,p))},t.prototype.getNewIndexForColMovingLeft=function(t,e,n,o){for(var i,r=0,a=null,s=0;s<t.length;s++){var l=t[s];if(l!==n){if((r+=l.getActualWidth())>o)break;a=l}}return a?(i=e.indexOf(a)+1,e.indexOf(n)<i&&i--):i=0,i},t.prototype.getNewIndexForColMovingRight=function(t,e,n,o){for(var i,r=n,a=r.getActualWidth(),s=null,l=0;l<t.length&&!(a>o);l++){var u=t[l];u!==r&&(a+=u.getActualWidth(),s=u)}return s?(i=e.indexOf(s)+1,e.indexOf(r)<i&&i--):i=0,i},t.prototype.ensureIntervalStarted=function(){this.movingIntervalId||(this.intervalCount=0,this.failedMoveAttempts=0,this.movingIntervalId=setInterval(this.moveInterval.bind(this),100),this.needToMoveLeft?this.dragAndDropService.setGhostIcon(d.DragAndDropService.ICON_LEFT,!0):this.dragAndDropService.setGhostIcon(d.DragAndDropService.ICON_RIGHT,!0))},t.prototype.ensureIntervalCleared=function(){this.moveInterval&&(clearInterval(this.movingIntervalId),this.movingIntervalId=null,this.dragAndDropService.setGhostIcon(d.DragAndDropService.ICON_MOVE))},t.prototype.moveInterval=function(){var t,e;if(this.intervalCount++,(t=10+5*this.intervalCount)>100&&(t=100),this.needToMoveLeft?e=this.gridPanel.scrollHorizontally(-t):this.needToMoveRight&&(e=this.gridPanel.scrollHorizontally(t)),0!==e)this.onDragging(this.lastDraggingEvent),this.failedMoveAttempts=0;else if(this.failedMoveAttempts++,this.dragAndDropService.setGhostIcon(d.DragAndDropService.ICON_PINNED),this.failedMoveAttempts>7){var n=this.lastDraggingEvent.dragSource.dragItem,o=this.needToMoveLeft?u.Column.PINNED_LEFT:u.Column.PINNED_RIGHT;this.columnController.setColumnsPinned(n,o),this.dragAndDropService.nudge()}},o([r.Autowired("loggerFactory"),i("design:type",a.LoggerFactory)],t.prototype,"loggerFactory",void 0),o([r.Autowired("columnController"),i("design:type",l.ColumnController)],t.prototype,"columnController",void 0),o([r.Autowired("gridPanel"),i("design:type",p.GridPanel)],t.prototype,"gridPanel",void 0),o([r.Autowired("dragAndDropService"),i("design:type",d.DragAndDropService)],t.prototype,"dragAndDropService",void 0),o([r.Autowired("gridOptionsWrapper"),i("design:type",h.GridOptionsWrapper)],t.prototype,"gridOptionsWrapper",void 0),o([r.PostConstruct,i("design:type",Function),i("design:paramtypes",[]),i("design:returntype",void 0)],t.prototype,"init",null),t}();e.MoveColumnController=f},function(t,e,n){
/**
	 * ag-grid - Advanced Data Grid / Data Table supporting Javascript / React / AngularJS / Web Components
	 * @version v4.2.6
	 * @link http://www.ag-grid.com/
	 * @license MIT
	 */
var o=this&&this.__decorate||function(t,e,n,o){var i,r=arguments.length,a=r<3?e:null===o?o=Object.getOwnPropertyDescriptor(e,n):o;if("object"===("undefined"==typeof Reflect?"undefined":s(Reflect))&&"function"==typeof Reflect.decorate)a=Reflect.decorate(t,e,n,o);else for(var l=t.length-1;l>=0;l--)(i=t[l])&&(a=(r<3?i(a):r>3?i(e,n,a):i(e,n))||a);return r>3&&a&&Object.defineProperty(e,n,a),a},i=this&&this.__metadata||function(t,e){if("object"===("undefined"==typeof Reflect?"undefined":s(Reflect))&&"function"==typeof Reflect.metadata)return Reflect.metadata(t,e)},r=this&&this.__param||function(t,e){return function(n,o){e(n,o,t)}},a=n(7),l=n(5),u=n(6),c=n(6),d=function(){function t(){this.destroyFunctions=[]}return t.prototype.agWire=function(t){this.logger=t.create("OldToolPanelDragAndDropService");var e=this.stopDragging.bind(this);document.addEventListener("mouseup",e),this.destroyFunctions.push((function(){document.removeEventListener("mouseup",e)}))},t.prototype.destroy=function(){this.destroyFunctions.forEach((function(t){return t()})),document.removeEventListener("mouseup",this.mouseUpEventListener)},t.prototype.stopDragging=function(){this.dragItem&&(this.setDragCssClasses(this.dragItem.eDragSource,!1),this.dragItem=null)},t.prototype.setDragCssClasses=function(t,e){a.Utils.addOrRemoveCssClass(t,"ag-dragging",e),a.Utils.addOrRemoveCssClass(t,"ag-not-dragging",!e)},t.prototype.addDragSource=function(t,e){this.setDragCssClasses(t,!1),t.addEventListener("mousedown",this.onMouseDownDragSource.bind(this,t,e))},t.prototype.onMouseDownDragSource=function(t,e){var n,o;this.dragItem&&this.stopDragging(),e.getData&&(n=e.getData()),e.getContainerId&&(o=e.getContainerId()),this.dragItem={eDragSource:t,data:n,containerId:o},this.setDragCssClasses(this.dragItem.eDragSource,!0)},t.prototype.addDropTarget=function(t,e){var n=this,o=!1,i=!1;t.addEventListener("mouseover",(function(){o||(o=!0,i=!!n.dragItem&&e.acceptDrag(n.dragItem))})),t.addEventListener("mouseout",(function(){i&&e.noDrop(),o=!1,i=!1})),t.addEventListener("mouseup",(function(){i&&n.dragItem&&e.drop(n.dragItem)}))},o([r(0,c.Qualifier("loggerFactory")),i("design:type",Function),i("design:paramtypes",[l.LoggerFactory]),i("design:returntype",void 0)],t.prototype,"agWire",null),o([u.PreDestroy,i("design:type",Function),i("design:paramtypes",[]),i("design:returntype",void 0)],t.prototype,"destroy",null),t=o([u.Bean("oldToolPanelDragAndDropService"),i("design:paramtypes",[])],t)}();e.OldToolPanelDragAndDropService=d},function(t,e,n){
/**
	 * ag-grid - Advanced Data Grid / Data Table supporting Javascript / React / AngularJS / Web Components
	 * @version v4.2.6
	 * @link http://www.ag-grid.com/
	 * @license MIT
	 */
var o=this&&this.__decorate||function(t,e,n,o){var i,r=arguments.length,a=r<3?e:null===o?o=Object.getOwnPropertyDescriptor(e,n):o;if("object"===("undefined"==typeof Reflect?"undefined":s(Reflect))&&"function"==typeof Reflect.decorate)a=Reflect.decorate(t,e,n,o);else for(var l=t.length-1;l>=0;l--)(i=t[l])&&(a=(r<3?i(a):r>3?i(e,n,a):i(e,n))||a);return r>3&&a&&Object.defineProperty(e,n,a),a},i=this&&this.__metadata||function(t,e){if("object"===("undefined"==typeof Reflect?"undefined":s(Reflect))&&"function"==typeof Reflect.metadata)return Reflect.metadata(t,e)},r=n(6),a=n(43),l=n(7),u=n(6),c=n(44),d=n(3),p=function(){function t(){}return t.prototype.showMenuAfterMouseEvent=function(t,e){var n=this;this.showPopup(t,(function(t){n.popupService.positionPopupUnderMouseEvent({mouseEvent:e,ePopup:t})}))},t.prototype.showMenuAfterButtonClick=function(t,e){var n=this;this.showPopup(t,(function(t){n.popupService.positionPopupUnderComponent({eventSource:e,ePopup:t,keepWithinBounds:!0})}))},t.prototype.showPopup=function(t,e){var n=this.filterManager.getOrCreateFilterWrapper(t),o=document.createElement("div");l.Utils.addCssClass(o,"ag-menu"),o.appendChild(n.gui);var i=this.popupService.addAsModalPopup(o,!0);if(e(o),n.filter.afterGuiAttached){var r={hidePopup:i};n.filter.afterGuiAttached(r)}},t.prototype.isMenuEnabled=function(t){return this.gridOptionsWrapper.isEnableFilter()},o([u.Autowired("filterManager"),i("design:type",a.FilterManager)],t.prototype,"filterManager",void 0),o([u.Autowired("popupService"),i("design:type",c.PopupService)],t.prototype,"popupService",void 0),o([u.Autowired("gridOptionsWrapper"),i("design:type",d.GridOptionsWrapper)],t.prototype,"gridOptionsWrapper",void 0),t=o([r.Bean("menuFactory"),i("design:paramtypes",[])],t)}();e.StandardMenuFactory=p},function(t,e,n){
/**
	 * ag-grid - Advanced Data Grid / Data Table supporting Javascript / React / AngularJS / Web Components
	 * @version v4.2.6
	 * @link http://www.ag-grid.com/
	 * @license MIT
	 */
var o=this&&this.__decorate||function(t,e,n,o){var i,r=arguments.length,a=r<3?e:null===o?o=Object.getOwnPropertyDescriptor(e,n):o;if("object"===("undefined"==typeof Reflect?"undefined":s(Reflect))&&"function"==typeof Reflect.decorate)a=Reflect.decorate(t,e,n,o);else for(var l=t.length-1;l>=0;l--)(i=t[l])&&(a=(r<3?i(a):r>3?i(e,n,a):i(e,n))||a);return r>3&&a&&Object.defineProperty(e,n,a),a},i=this&&this.__metadata||function(t,e){if("object"===("undefined"==typeof Reflect?"undefined":s(Reflect))&&"function"==typeof Reflect.metadata)return Reflect.metadata(t,e)},r=n(6),a=n(6),l=n(3),u=n(43),c=function(){function t(){}return t.prototype.execute=function(t){var e;e=!this.gridOptionsWrapper.isEnableServerSideFilter()&&this.filterManager.isAnyFilterPresent(),this.recursivelyFilter(t,e)},t.prototype.recursivelyFilter=function(t,e){var n,o=this;t.childrenAfterGroup.forEach((function(t){t.group&&o.recursivelyFilter(t,e)})),e?(n=[],t.childrenAfterGroup.forEach((function(t){t.group?t.childrenAfterFilter.length>0&&n.push(t):o.filterManager.doesRowPassFilter(t)&&n.push(t)}))):n=t.childrenAfterGroup,t.childrenAfterFilter=n,this.setAllChildrenCount(t)},t.prototype.setAllChildrenCount=function(t){var e=0;t.childrenAfterFilter.forEach((function(t){t.group?e+=t.allChildrenCount:e++})),t.allChildrenCount=e},o([a.Autowired("gridOptionsWrapper"),i("design:type",l.GridOptionsWrapper)],t.prototype,"gridOptionsWrapper",void 0),o([a.Autowired("filterManager"),i("design:type",u.FilterManager)],t.prototype,"filterManager",void 0),t=o([r.Bean("filterStage"),i("design:paramtypes",[])],t)}();e.FilterStage=c},function(t,e,n){
/**
	 * ag-grid - Advanced Data Grid / Data Table supporting Javascript / React / AngularJS / Web Components
	 * @version v4.2.6
	 * @link http://www.ag-grid.com/
	 * @license MIT
	 */
var o=this&&this.__decorate||function(t,e,n,o){var i,r=arguments.length,a=r<3?e:null===o?o=Object.getOwnPropertyDescriptor(e,n):o;if("object"===("undefined"==typeof Reflect?"undefined":s(Reflect))&&"function"==typeof Reflect.decorate)a=Reflect.decorate(t,e,n,o);else for(var l=t.length-1;l>=0;l--)(i=t[l])&&(a=(r<3?i(a):r>3?i(e,n,a):i(e,n))||a);return r>3&&a&&Object.defineProperty(e,n,a),a},i=this&&this.__metadata||function(t,e){if("object"===("undefined"==typeof Reflect?"undefined":s(Reflect))&&"function"==typeof Reflect.metadata)return Reflect.metadata(t,e)},r=n(6),a=n(3),l=n(42),u=n(29),c=n(7),d=function(){function t(){}return t.prototype.execute=function(t){var e;this.gridOptionsWrapper.isEnableServerSideSorting()||(e=this.sortController.getSortForRowController()),this.sortRowNode(t,e)},t.prototype.sortRowNode=function(t,e){var n=this;t.childrenAfterFilter.forEach((function(t){t.group&&n.sortRowNode(t,e)})),t.childrenAfterSort=t.childrenAfterFilter.slice(0),c.Utils.exists(e)&&e.length>0&&t.childrenAfterSort.sort(this.compareRowNodes.bind(this,e)),this.updateChildIndexes(t)},t.prototype.compareRowNodes=function(t,e,n){for(var o=0,i=t.length;o<i;o++){var r,a=t[o],s=-1===a.inverter,l=this.valueService.getValue(a.column,e),u=this.valueService.getValue(a.column,n);if(0!==(r=a.column.getColDef().comparator?a.column.getColDef().comparator(l,u,e,n,s):c.Utils.defaultComparator(l,u)))return r*a.inverter}return 0},t.prototype.updateChildIndexes=function(t){c.Utils.missing(t.childrenAfterSort)||t.childrenAfterSort.forEach((function(e,n){e.firstChild=0===n,e.lastChild=n===t.childrenAfterSort.length-1,e.childIndex=n}))},o([r.Autowired("gridOptionsWrapper"),i("design:type",a.GridOptionsWrapper)],t.prototype,"gridOptionsWrapper",void 0),o([r.Autowired("sortController"),i("design:type",l.SortController)],t.prototype,"sortController",void 0),o([r.Autowired("valueService"),i("design:type",u.ValueService)],t.prototype,"valueService",void 0),t=o([r.Bean("sortStage"),i("design:paramtypes",[])],t)}();e.SortStage=d},function(t,e,n){
/**
	 * ag-grid - Advanced Data Grid / Data Table supporting Javascript / React / AngularJS / Web Components
	 * @version v4.2.6
	 * @link http://www.ag-grid.com/
	 * @license MIT
	 */
var o=this&&this.__decorate||function(t,e,n,o){var i,r=arguments.length,a=r<3?e:null===o?o=Object.getOwnPropertyDescriptor(e,n):o;if("object"===("undefined"==typeof Reflect?"undefined":s(Reflect))&&"function"==typeof Reflect.decorate)a=Reflect.decorate(t,e,n,o);else for(var l=t.length-1;l>=0;l--)(i=t[l])&&(a=(r<3?i(a):r>3?i(e,n,a):i(e,n))||a);return r>3&&a&&Object.defineProperty(e,n,a),a},i=this&&this.__metadata||function(t,e){if("object"===("undefined"==typeof Reflect?"undefined":s(Reflect))&&"function"==typeof Reflect.metadata)return Reflect.metadata(t,e)},r=n(6),a=n(27),l=n(7),u=n(3),c=n(28),d=n(4),p=n(13),h=function(){function t(){}return t.prototype.execute=function(t){var e=[],n=this.columnController.isReduce()&&t.leafGroup?[t]:t.childrenAfterSort;return this.recursivelyAddToRowsToDisplay(n,e,{value:0}),e},t.prototype.recursivelyAddToRowsToDisplay=function(t,e,n){if(!l.Utils.missingOrEmpty(t))for(var o=this.gridOptionsWrapper.isGroupSuppressRow(),i=0;i<t.length;i++){var r=t[i];if(o&&r.group||this.addRowNodeToRowsToDisplay(r,e,n),r.group&&r.expanded&&(this.recursivelyAddToRowsToDisplay(r.childrenAfterSort,e,n),this.gridOptionsWrapper.isGroupIncludeFooter())){var a=this.createFooterNode(r);this.addRowNodeToRowsToDisplay(a,e,n)}}},t.prototype.addRowNodeToRowsToDisplay=function(t,e,n){e.push(t),t.rowHeight=this.gridOptionsWrapper.getRowHeightForNode(t),t.rowTop=n.value,n.value+=t.rowHeight},t.prototype.createFooterNode=function(t){var e=new a.RowNode;return this.context.wireBean(e),Object.keys(t).forEach((function(n){e[n]=t[n]})),e.footer=!0,e.sibling=t,t.sibling=e,e},o([r.Autowired("gridOptionsWrapper"),i("design:type",u.GridOptionsWrapper)],t.prototype,"gridOptionsWrapper",void 0),o([r.Autowired("selectionController"),i("design:type",c.SelectionController)],t.prototype,"selectionController",void 0),o([r.Autowired("eventService"),i("design:type",d.EventService)],t.prototype,"eventService",void 0),o([r.Autowired("context"),i("design:type",r.Context)],t.prototype,"context",void 0),o([r.Autowired("columnController"),i("design:type",p.ColumnController)],t.prototype,"columnController",void 0),t=o([r.Bean("flattenStage"),i("design:paramtypes",[])],t)}();e.FlattenStage=h},function(t,e,n){
/**
	 * ag-grid - Advanced Data Grid / Data Table supporting Javascript / React / AngularJS / Web Components
	 * @version v4.2.6
	 * @link http://www.ag-grid.com/
	 * @license MIT
	 */
var o=this&&this.__decorate||function(t,e,n,o){var i,r=arguments.length,a=r<3?e:null===o?o=Object.getOwnPropertyDescriptor(e,n):o;if("object"===("undefined"==typeof Reflect?"undefined":s(Reflect))&&"function"==typeof Reflect.decorate)a=Reflect.decorate(t,e,n,o);else for(var l=t.length-1;l>=0;l--)(i=t[l])&&(a=(r<3?i(a):r>3?i(e,n,a):i(e,n))||a);return r>3&&a&&Object.defineProperty(e,n,a),a},i=this&&this.__metadata||function(t,e){if("object"===("undefined"==typeof Reflect?"undefined":s(Reflect))&&"function"==typeof Reflect.metadata)return Reflect.metadata(t,e)},r=n(7),a=n(3),l=n(27),u=n(6),c=n(4),d=n(28),p=n(10),h=n(42),f=n(43),g=n(8),m=function(){function t(){this.datasourceVersion=0}return t.prototype.init=function(){var t=this;this.rowHeight=this.gridOptionsWrapper.getRowHeightAsNumber();var e=this.gridOptionsWrapper.isRowModelVirtual();this.eventService.addEventListener(p.Events.EVENT_FILTER_CHANGED,(function(){e&&t.gridOptionsWrapper.isEnableServerSideFilter()&&t.reset()})),this.eventService.addEventListener(p.Events.EVENT_SORT_CHANGED,(function(){e&&t.gridOptionsWrapper.isEnableServerSideSorting()&&t.reset()})),e&&this.gridOptionsWrapper.getDatasource()&&this.setDatasource(this.gridOptionsWrapper.getDatasource())},t.prototype.getType=function(){return g.Constants.ROW_MODEL_TYPE_VIRTUAL},t.prototype.setDatasource=function(t){this.datasource=t,t&&this.reset()},t.prototype.isEmpty=function(){return!this.datasource},t.prototype.isRowsToRender=function(){return r.Utils.exists(this.datasource)},t.prototype.reset=function(){r.Utils.missing(this.datasource)||(this.selectionController.reset(),"number"==typeof this.datasource.rowCount&&this.datasource.rowCount>=0?(this.virtualRowCount=this.datasource.rowCount,this.foundMaxRow=!0):(this.virtualRowCount=0,this.foundMaxRow=!1),this.datasourceVersion++,this.pageCache={},this.pageCacheSize=0,this.pageLoadsInProgress=[],this.pageLoadsQueued=[],this.pageAccessTimes={},this.accessTime=0,"number"==typeof this.datasource.maxConcurrentRequests&&this.datasource.maxConcurrentRequests>0?this.maxConcurrentDatasourceRequests=this.datasource.maxConcurrentRequests:this.maxConcurrentDatasourceRequests=2,"number"==typeof this.datasource.maxPagesInCache&&this.datasource.maxPagesInCache>0?this.maxPagesInCache=this.datasource.maxPagesInCache:this.maxPagesInCache=null,this.pageSize=this.datasource.pageSize,this.overflowSize=this.datasource.overflowSize,this.doLoadOrQueue(0),this.rowRenderer.refreshView())},t.prototype.createNodesFromRows=function(t,e){var n=[];if(e)for(var o=0,i=e.length;o<i;o++){var r=t*this.pageSize+o,a=this.createNode(e[o],r,!0);n.push(a)}return n},t.prototype.createNode=function(t,e,n){var o,i=this.rowHeight,r=i*e;return n?(o=new l.RowNode,this.context.wireBean(o),o.id=e,o.data=t,this.selectionController.syncInRowNode(o)):(o=this.selectionController.getNodeForIdIfSelected(e))||(o=new l.RowNode,this.context.wireBean(o),o.id=e,o.data=t),o.rowTop=r,o.rowHeight=i,o},t.prototype.removeFromLoading=function(t){var e=this.pageLoadsInProgress.indexOf(t);this.pageLoadsInProgress.splice(e,1)},t.prototype.pageLoadFailed=function(t){this.removeFromLoading(t),this.checkQueueForNextLoad()},t.prototype.pageLoaded=function(t,e,n){this.putPageIntoCacheAndPurge(t,e),this.checkMaxRowAndInformRowRenderer(t,n),this.removeFromLoading(t),this.checkQueueForNextLoad()},t.prototype.putPageIntoCacheAndPurge=function(t,e){if(this.pageCache[t]=this.createNodesFromRows(t,e),this.pageCacheSize++,this.maxPagesInCache&&this.maxPagesInCache<this.pageCacheSize){var n=this.findLeastRecentlyAccessedPage(Object.keys(this.pageCache));delete this.pageCache[n],this.pageCacheSize--}},t.prototype.checkMaxRowAndInformRowRenderer=function(t,e){if(this.foundMaxRow)this.rowRenderer.refreshAllVirtualRows();else{if("number"==typeof e&&e>=0)this.virtualRowCount=e,this.foundMaxRow=!0;else{var n=(t+1)*this.pageSize+this.overflowSize;this.virtualRowCount<n&&(this.virtualRowCount=n)}this.rowRenderer.refreshView()}},t.prototype.isPageAlreadyLoading=function(t){return this.pageLoadsInProgress.indexOf(t)>=0||this.pageLoadsQueued.indexOf(t)>=0},t.prototype.doLoadOrQueue=function(t){this.isPageAlreadyLoading(t)||(this.pageLoadsInProgress.length<this.maxConcurrentDatasourceRequests?this.loadPage(t):this.addToQueueAndPurgeQueue(t))},t.prototype.addToQueueAndPurgeQueue=function(t){if(this.pageLoadsQueued.push(t),this.maxPagesInCache&&this.maxPagesInCache<this.pageLoadsQueued.length){var e=this.findLeastRecentlyAccessedPage(this.pageLoadsQueued),n=this.pageLoadsQueued.indexOf(e);this.pageLoadsQueued.splice(n,1)}},t.prototype.findLeastRecentlyAccessedPage=function(t){var e=-1,n=Number.MAX_VALUE,o=this;return t.forEach((function(t){var i=o.pageAccessTimes[t];i<n&&(n=i,e=t)})),e},t.prototype.checkQueueForNextLoad=function(){if(this.pageLoadsQueued.length>0){var t=this.pageLoadsQueued[0];this.pageLoadsQueued.splice(0,1),this.loadPage(t)}},t.prototype.loadPage=function(t){this.pageLoadsInProgress.push(t);var e,n,o=t*this.pageSize,i=(t+1)*this.pageSize,a=this,s=this.datasourceVersion;this.gridOptionsWrapper.isEnableServerSideSorting()&&(e=this.sortController.getSortModel()),this.gridOptionsWrapper.isEnableServerSideFilter()&&(n=this.filterManager.getFilterModel());var l={startRow:o,endRow:i,successCallback:function(e,n){a.requestIsDaemon(s)||a.pageLoaded(t,e,n)},failCallback:function(){a.requestIsDaemon(s)||a.pageLoadFailed(t)},sortModel:e,filterModel:n,context:this.gridOptionsWrapper.getContext()};r.Utils.getFunctionParameters(this.datasource.getRows).length>1&&(console.warn("ag-grid: It looks like your paging datasource is of the old type, taking more than one parameter."),console.warn("ag-grid: From ag-grid 1.9.0, now the getRows takes one parameter. See the documentation for details.")),this.datasource.getRows(l)},t.prototype.expandOrCollapseAll=function(t){console.warn("ag-Grid: can not expand or collapse all when doing virtual pagination")},t.prototype.requestIsDaemon=function(t){return this.datasourceVersion!==t},t.prototype.getRow=function(t){if(t>this.virtualRowCount)return null;var e=Math.floor(t/this.pageSize),n=this.pageCache[e];return this.pageAccessTimes[e]=this.accessTime++,n?n[t%this.pageSize]:(this.doLoadOrQueue(e),this.createNode(null,t,!1))},t.prototype.forEachNode=function(t){for(var e=Object.keys(this.pageCache),n=0;n<e.length;n++)for(var o=e[n],i=this.pageCache[o],r=0;r<i.length;r++)t(i[r])},t.prototype.getRowCombinedHeight=function(){return this.virtualRowCount*this.rowHeight},t.prototype.getRowIndexAtPixel=function(t){return 0!==this.rowHeight?Math.floor(t/this.rowHeight):0},t.prototype.getRowCount=function(){return this.virtualRowCount},t.prototype.setRowData=function(t,e,n){console.warn("setRowData - does not work with virtual pagination")},t.prototype.forEachNodeAfterFilter=function(t){console.warn("forEachNodeAfterFilter - does not work with virtual pagination")},t.prototype.forEachNodeAfterFilterAndSort=function(t){console.warn("forEachNodeAfterFilter - does not work with virtual pagination")},t.prototype.refreshModel=function(){console.warn("forEachNodeAfterFilter - does not work with virtual pagination")},t.prototype.getTopLevelNodes=function(){return console.warn("getTopLevelNodes - does not work with virtual pagination"),null},o([u.Autowired("rowRenderer"),i("design:type",Object)],t.prototype,"rowRenderer",void 0),o([u.Autowired("gridOptionsWrapper"),i("design:type",a.GridOptionsWrapper)],t.prototype,"gridOptionsWrapper",void 0),o([u.Autowired("filterManager"),i("design:type",f.FilterManager)],t.prototype,"filterManager",void 0),o([u.Autowired("sortController"),i("design:type",h.SortController)],t.prototype,"sortController",void 0),o([u.Autowired("selectionController"),i("design:type",d.SelectionController)],t.prototype,"selectionController",void 0),o([u.Autowired("eventService"),i("design:type",c.EventService)],t.prototype,"eventService",void 0),o([u.Autowired("context"),i("design:type",u.Context)],t.prototype,"context",void 0),o([u.PostConstruct,i("design:type",Function),i("design:paramtypes",[]),i("design:returntype",void 0)],t.prototype,"init",null),t=o([u.Bean("rowModel"),i("design:paramtypes",[])],t)}();e.VirtualPageRowModel=m},function(t,e,n){
/**
	 * ag-grid - Advanced Data Grid / Data Table supporting Javascript / React / AngularJS / Web Components
	 * @version v4.2.6
	 * @link http://www.ag-grid.com/
	 * @license MIT
	 */
var o,i=this&&this.__decorate||function(t,e,n,o){var i,r=arguments.length,a=r<3?e:null===o?o=Object.getOwnPropertyDescriptor(e,n):o;if("object"===("undefined"==typeof Reflect?"undefined":s(Reflect))&&"function"==typeof Reflect.decorate)a=Reflect.decorate(t,e,n,o);else for(var l=t.length-1;l>=0;l--)(i=t[l])&&(a=(r<3?i(a):r>3?i(e,n,a):i(e,n))||a);return r>3&&a&&Object.defineProperty(e,n,a),a},r=this&&this.__metadata||function(t,e){if("object"===("undefined"==typeof Reflect?"undefined":s(Reflect))&&"function"==typeof Reflect.metadata)return Reflect.metadata(t,e)},a=n(7),l=n(8),u=n(3),c=n(13),d=n(43),p=n(27),h=n(4),f=n(10),g=n(6),m=n(28),v=n(67);!function(t){t[t.Normal=0]="Normal",t[t.AfterFilter=1]="AfterFilter",t[t.AfterFilterAndSort=2]="AfterFilterAndSort"}(o||(o={}));var y=function(){function t(){}return t.prototype.init=function(){this.eventService.addModalPriorityEventListener(f.Events.EVENT_COLUMN_EVERYTHING_CHANGED,this.refreshModel.bind(this,l.Constants.STEP_EVERYTHING)),this.eventService.addModalPriorityEventListener(f.Events.EVENT_COLUMN_ROW_GROUP_CHANGED,this.refreshModel.bind(this,l.Constants.STEP_EVERYTHING)),this.eventService.addModalPriorityEventListener(f.Events.EVENT_COLUMN_VALUE_CHANGED,this.refreshModel.bind(this,l.Constants.STEP_AGGREGATE)),this.eventService.addModalPriorityEventListener(f.Events.EVENT_COLUMN_PIVOT_CHANGED,this.refreshModel.bind(this,l.Constants.STEP_PIVOT)),this.eventService.addModalPriorityEventListener(f.Events.EVENT_FILTER_CHANGED,this.refreshModel.bind(this,l.Constants.STEP_FILTER)),this.eventService.addModalPriorityEventListener(f.Events.EVENT_SORT_CHANGED,this.refreshModel.bind(this,l.Constants.STEP_SORT)),this.rootNode=new p.RowNode,this.rootNode.group=!0,this.rootNode.allLeafChildren=[],this.context.wireBean(this.rootNode),this.gridOptionsWrapper.isRowModelDefault()&&this.setRowData(this.gridOptionsWrapper.getRowData(),this.columnController.isReady())},t.prototype.getType=function(){return l.Constants.ROW_MODEL_TYPE_NORMAL},t.prototype.refreshModel=function(t,e,n){var o=this;switch(t){case l.Constants.STEP_EVERYTHING:this.doRowGrouping(n);case l.Constants.STEP_FILTER:this.doFilter();case l.Constants.STEP_AGGREGATE:this.doAggregate();case l.Constants.STEP_SORT:this.doSort();case l.Constants.STEP_MAP:this.doRowsToDisplay()}this.eventService.dispatchEvent(f.Events.EVENT_MODEL_UPDATED,{fromIndex:e}),this.$scope&&setTimeout((function(){o.$scope.$apply()}),0)},t.prototype.isEmpty=function(){return a.Utils.missing(this.rootNode)||a.Utils.missing(this.rootNode.allLeafChildren)||0===this.rootNode.allLeafChildren.length||!this.columnController.isReady()},t.prototype.isRowsToRender=function(){return a.Utils.exists(this.rowsToDisplay)&&this.rowsToDisplay.length>0},t.prototype.setDatasource=function(t){console.error("ag-Grid: should never call setDatasource on inMemoryRowController")},t.prototype.getTopLevelNodes=function(){return this.rootNode?this.rootNode.childrenAfterGroup:null},t.prototype.getRow=function(t){return this.rowsToDisplay[t]},t.prototype.getVirtualRowCount=function(){return console.warn("ag-Grid: rowModel.getVirtualRowCount() is not longer a function, use rowModel.getRowCount() instead"),this.getRowCount()},t.prototype.getRowCount=function(){return this.rowsToDisplay?this.rowsToDisplay.length:0},t.prototype.getRowIndexAtPixel=function(t){if(this.isEmpty())return-1;var e=0,n=this.rowsToDisplay.length-1;if(t<=0)return 0;if(this.rowsToDisplay[this.rowsToDisplay.length-1].rowTop<=t)return this.rowsToDisplay.length-1;for(;;){var o=Math.floor((e+n)/2),i=this.rowsToDisplay[o];if(this.isRowInPixel(i,t))return o;i.rowTop<t?e=o+1:i.rowTop>t&&(n=o-1)}},t.prototype.isRowInPixel=function(t,e){var n=t.rowTop,o=t.rowTop+t.rowHeight;return n<=e&&o>e},t.prototype.getRowCombinedHeight=function(){if(this.rowsToDisplay&&this.rowsToDisplay.length>0){var t=this.rowsToDisplay[this.rowsToDisplay.length-1];return t.rowTop+t.rowHeight}return 0},t.prototype.forEachLeafNode=function(t){this.rootNode.allLeafChildren&&this.rootNode.allLeafChildren.forEach((function(e,n){return t(e,n)}))},t.prototype.forEachNode=function(t){this.recursivelyWalkNodesAndCallback(this.rootNode.childrenAfterGroup,t,o.Normal,0)},t.prototype.forEachNodeAfterFilter=function(t){this.recursivelyWalkNodesAndCallback(this.rootNode.childrenAfterFilter,t,o.AfterFilter,0)},t.prototype.forEachNodeAfterFilterAndSort=function(t){this.recursivelyWalkNodesAndCallback(this.rootNode.childrenAfterSort,t,o.AfterFilterAndSort,0)},t.prototype.recursivelyWalkNodesAndCallback=function(t,e,n,i){if(t)for(var r=0;r<t.length;r++){var a=t[r];if(e(a,i++),a.group){var s;switch(n){case o.Normal:s=a.childrenAfterGroup;break;case o.AfterFilter:s=a.childrenAfterFilter;break;case o.AfterFilterAndSort:s=a.childrenAfterSort}s&&(i=this.recursivelyWalkNodesAndCallback(s,e,n,i))}}return i},t.prototype.doAggregate=function(){this.aggregationStage&&this.aggregationStage.execute(this.rootNode)},t.prototype.expandOrCollapseAll=function(t){this.rootNode&&function e(n){n&&n.forEach((function(n){n.group&&(n.expanded=t,e(n.childrenAfterGroup))}))}(this.rootNode.childrenAfterGroup),this.refreshModel(l.Constants.STEP_MAP)},t.prototype.doSort=function(){this.sortStage.execute(this.rootNode)},t.prototype.doRowGrouping=function(t){a.Utils.exists(this.gridOptionsWrapper.getNodeChildDetailsFunc())||(this.groupStage?(this.selectionController.removeGroupsFromSelection(),this.groupStage.execute(this.rootNode),this.restoreGroupState(t),this.gridOptionsWrapper.isGroupSelectsChildren()&&this.selectionController.updateGroupsFromChildrenSelections()):this.rootNode.childrenAfterGroup=this.rootNode.allLeafChildren)},t.prototype.restoreGroupState=function(t){t&&a.Utils.traverseNodesWithKey(this.rootNode.childrenAfterGroup,(function(e,n){"boolean"==typeof t[n]&&(e.expanded=t[n])}))},t.prototype.doFilter=function(){this.filterStage.execute(this.rootNode)},t.prototype.doPivot=function(){this.pivotService.execute(this.rootNode)},t.prototype.setRowData=function(t,e,n){var o=this.getGroupState();this.createRowNodesFromData(t,n),this.eventService.dispatchEvent(f.Events.EVENT_ROW_DATA_CHANGED),e&&this.refreshModel(l.Constants.STEP_EVERYTHING,null,o)},t.prototype.getGroupState=function(){if(!this.rootNode.childrenAfterGroup||!this.gridOptionsWrapper.isRememberGroupStateWhenNewData())return null;var t={};return a.Utils.traverseNodesWithKey(this.rootNode.childrenAfterGroup,(function(e,n){return t[n]=e.expanded})),t},t.prototype.createRowNodesFromData=function(t,e){this.rootNode.childrenAfterFilter=null,this.rootNode.childrenAfterGroup=null,this.rootNode.childrenAfterSort=null,this.rootNode.childrenMapped=null;var n=this.context;if(t){var o=a.Utils.exists(e)?e:0,i=this.gridOptionsWrapper.getNodeChildDetailsFunc(),r=this.gridOptionsWrapper.isSuppressParentsInRowNodes(),s=a.Utils.exists(i),l=function t(e,a,s){var l=[];return e.forEach((function(e){var c=new p.RowNode;n.wireBean(c);var d=i?i(e):null;d&&d.group&&(c.group=!0,c.childrenAfterGroup=t(d.children,c,s+1),c.expanded=!0===d.expanded,c.field=d.field,c.key=d.key,u(c)),a&&!r&&(c.parent=a),c.level=s,c.id=o++,c.data=e,l.push(c)})),l}(t,null,0);s?(this.rootNode.childrenAfterGroup=l,u(this.rootNode)):this.rootNode.allLeafChildren=l}else this.rootNode.allLeafChildren=[];function u(t){t.allLeafChildren=[],t.childrenAfterGroup&&t.childrenAfterGroup.forEach((function(e){e.group?e.allLeafChildren&&e.allLeafChildren.forEach((function(e){return t.allLeafChildren.push(e)})):t.allLeafChildren.push(e)}))}},t.prototype.doRowsToDisplay=function(){this.rowsToDisplay=this.flattenStage.execute(this.rootNode)},i([g.Autowired("gridOptionsWrapper"),r("design:type",u.GridOptionsWrapper)],t.prototype,"gridOptionsWrapper",void 0),i([g.Autowired("columnController"),r("design:type",c.ColumnController)],t.prototype,"columnController",void 0),i([g.Autowired("filterManager"),r("design:type",d.FilterManager)],t.prototype,"filterManager",void 0),i([g.Autowired("$scope"),r("design:type",Object)],t.prototype,"$scope",void 0),i([g.Autowired("selectionController"),r("design:type",m.SelectionController)],t.prototype,"selectionController",void 0),i([g.Autowired("eventService"),r("design:type",h.EventService)],t.prototype,"eventService",void 0),i([g.Autowired("context"),r("design:type",g.Context)],t.prototype,"context",void 0),i([g.Autowired("pivotService"),r("design:type",v.PivotService)],t.prototype,"pivotService",void 0),i([g.Autowired("filterStage"),r("design:type",Object)],t.prototype,"filterStage",void 0),i([g.Autowired("sortStage"),r("design:type",Object)],t.prototype,"sortStage",void 0),i([g.Autowired("flattenStage"),r("design:type",Object)],t.prototype,"flattenStage",void 0),i([g.Optional("groupStage"),r("design:type",Object)],t.prototype,"groupStage",void 0),i([g.Optional("aggregationStage"),r("design:type",Object)],t.prototype,"aggregationStage",void 0),i([g.PostConstruct,r("design:type",Function),r("design:paramtypes",[]),r("design:returntype",void 0)],t.prototype,"init",null),t=i([g.Bean("rowModel"),r("design:paramtypes",[])],t)}();e.InMemoryRowModel=y},function(t,e,n){
/**
	 * ag-grid - Advanced Data Grid / Data Table supporting Javascript / React / AngularJS / Web Components
	 * @version v4.2.6
	 * @link http://www.ag-grid.com/
	 * @license MIT
	 */
var o=n(2);function i(t,e,n,i){var r,a,s=i.agGrid;if(a=s+".quickFilterText",r=e.$eval(s)){var l=t[0],u=new o.Grid(l,r,null,e,n,a);e.$on("$destroy",(function(){u.destroy()}))}else console.warn("WARNING - grid options for ag-Grid not found. Please ensure the attribute ag-grid points to a valid object on the scope")}e.initialiseAgGridWithAngular1=function(t){t.module("agGrid",[]).directive("agGrid",(function(){return{restrict:"A",controller:["$element","$scope","$compile","$attrs",i],scope:!0}}))}},function(t,e,n){
/**
	 * ag-grid - Advanced Data Grid / Data Table supporting Javascript / React / AngularJS / Web Components
	 * @version v4.2.6
	 * @link http://www.ag-grid.com/
	 * @license MIT
	 */
var o=n(9),i=n(2),r=!1;e.initialiseAgGridWithWebComponents=function(){if(!r){r=!0,"undefined"!=typeof document&&document.registerElement||console.error("ag-Grid: unable to find document.registerElement() function, unable to initialise ag-Grid as a Web Component");var t=Object.create(HTMLElement.prototype);o.ComponentUtil.ALL_PROPERTIES.forEach((function(e){Object.defineProperty(t,e,{set:function(t){this.__agGridSetProperty(e,t)},get:function(){return this.__agGridGetProperty(e)}})})),t.__agGridSetProperty=function(t,e){this.__attributes||(this.__attributes={}),this.__attributes[t]=e;var n={};n[t]={currentValue:e},this.onChange(n)},t.onChange=function(t){this._initialised&&o.ComponentUtil.processOnChange(t,this._gridOptions,this.api)},t.__agGridGetProperty=function(t){return this.__attributes||(this.__attributes={}),this.__attributes[t]},t.setGridOptions=function(t){var e=this.globalEventListener.bind(this);this._gridOptions=o.ComponentUtil.copyAttributesToGridOptions(t,this),this._agGrid=new i.Grid(this,this._gridOptions,e),this.api=t.api,this.columnApi=t.columnApi,this._initialised=!0},t.createdCallback=function(){for(var t=0;t<this.attributes.length;t++){var e=this.attributes[t];this.setPropertyFromAttribute(e)}},t.setPropertyFromAttribute=function(t){var e,n="string"==typeof(e=t.nodeName)?e.replace(/-([a-z])/g,(function(t){return t[1].toUpperCase()})):e,i=t.nodeValue;o.ComponentUtil.ALL_PROPERTIES.indexOf(n)>=0&&(this[n]=i)},t.attachedCallback=function(t){},t.detachedCallback=function(t){},t.attributeChangedCallback=function(t){var e=this.attributes[t];this.setPropertyFromAttribute(e)},t.globalEventListener=function(t,e){var n=t.toLowerCase(),o=new Event(n);o.agGridDetails=e,this.dispatchEvent(o);var i="on"+n;"function"==typeof this[i]&&this[i](o)},document.registerElement("ag-grid",{prototype:t})}}},function(t,e,n){
/**
	 * ag-grid - Advanced Data Grid / Data Table supporting Javascript / React / AngularJS / Web Components
	 * @version v4.2.6
	 * @link http://www.ag-grid.com/
	 * @license MIT
	 */
var o=n(7),i=function(){function t(e){var n=this;this.items=[],this.params=e,this.eGui=document.createElement("div"),this.eGui.innerHTML=t.TEMPLATE,this.eHeader=this.eGui.querySelector("#tabHeader"),this.eBody=this.eGui.querySelector("#tabBody"),o.Utils.addCssClass(this.eGui,e.cssClass),e.items&&e.items.forEach((function(t){return n.addItem(t)}))}return t.prototype.setAfterAttachedParams=function(t){this.afterAttachedParams=t},t.prototype.getMinWidth=function(){var t=document.createElement("span");t.style.position="fixed",this.eGui.appendChild(t);var e=0;return this.items.forEach((function(n){o.Utils.removeAllChildren(t);var i=n.tabbedItem.body.cloneNode(!0);t.appendChild(i),e<t.offsetWidth&&(e=t.offsetWidth)})),this.eGui.removeChild(t),e},t.prototype.showFirstItem=function(){this.items.length>0&&this.showItemWrapper(this.items[0])},t.prototype.addItem=function(t){var e=document.createElement("span");e.appendChild(t.title),o.Utils.addCssClass(e,"ag-tab"),this.eHeader.appendChild(e);var n={tabbedItem:t,eHeaderButton:e};this.items.push(n),e.addEventListener("click",this.showItemWrapper.bind(this,n))},t.prototype.showItem=function(t){var e=o.Utils.find(this.items,(function(e){return e.tabbedItem===t}));e&&this.showItemWrapper(e)},t.prototype.showItemWrapper=function(t){this.params.onItemClicked&&this.params.onItemClicked({item:t.tabbedItem}),this.activeItem!==t?(o.Utils.removeAllChildren(this.eBody),this.eBody.appendChild(t.tabbedItem.body),this.activeItem&&o.Utils.removeCssClass(this.activeItem.eHeaderButton,"ag-tab-selected"),o.Utils.addCssClass(t.eHeaderButton,"ag-tab-selected"),this.activeItem=t,t.tabbedItem.afterAttachedCallback&&t.tabbedItem.afterAttachedCallback(this.afterAttachedParams)):o.Utils.callIfPresent(this.params.onActiveItemClicked)},t.prototype.getGui=function(){return this.eGui},t.TEMPLATE='<div><div id="tabHeader" class="ag-tab-header"></div><div id="tabBody" class="ag-tab-body"></div></div>',t}();e.TabbedLayout=i},function(t,e){
/**
	 * ag-grid - Advanced Data Grid / Data Table supporting Javascript / React / AngularJS / Web Components
	 * @version v4.2.6
	 * @link http://www.ag-grid.com/
	 * @license MIT
	 */
var n=function(){function t(){this.isLayoutPanel=!0,this.childPanels=[],this.eGui=document.createElement("div"),this.eGui.style.height="100%"}return t.prototype.addPanel=function(t,e){var n;t.isLayoutPanel?(this.childPanels.push(t),n=t.getGui()):n=t,e&&(n.style.height=e),this.eGui.appendChild(n)},t.prototype.getGui=function(){return this.eGui},t.prototype.doLayout=function(){for(var t=0;t<this.childPanels.length;t++)this.childPanels[t].doLayout()},t}();e.VerticalStack=n},function(t,e,n){
/**
	 * ag-grid - Advanced Data Grid / Data Table supporting Javascript / React / AngularJS / Web Components
	 * @version v4.2.6
	 * @link http://www.ag-grid.com/
	 * @license MIT
	 */
var o=this&&this.__extends||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n]);function o(){this.constructor=t}t.prototype=null===e?Object.create(e):(o.prototype=e.prototype,new o)},i=this&&this.__decorate||function(t,e,n,o){var i,r=arguments.length,a=r<3?e:null===o?o=Object.getOwnPropertyDescriptor(e,n):o;if("object"===("undefined"==typeof Reflect?"undefined":s(Reflect))&&"function"==typeof Reflect.decorate)a=Reflect.decorate(t,e,n,o);else for(var l=t.length-1;l>=0;l--)(i=t[l])&&(a=(r<3?i(a):r>3?i(e,n,a):i(e,n))||a);return r>3&&a&&Object.defineProperty(e,n,a),a},r=this&&this.__metadata||function(t,e){if("object"===("undefined"==typeof Reflect?"undefined":s(Reflect))&&"function"==typeof Reflect.metadata)return Reflect.metadata(t,e)},a=n(47),l=n(6),u=n(7),c=n(44),d=n(89),p=function(t){function e(){t.call(this,e.TEMPLATE),this.timerCount=0}return o(e,t),e.prototype.clearActiveItem=function(){this.removeActiveItem(),this.removeOldChildPopup()},e.prototype.addMenuItems=function(t,e){var n=this;u.Utils.missing(t)||t.forEach((function(t){var o;"separator"===t?n.addSeparator():(o="string"==typeof t?e[t]:t,n.addItem(o))}))},e.prototype.addItem=function(t){var e=this,n=new d.MenuItemComponent(t);this.context.wireBean(n),this.getGui().appendChild(n.getGui()),n.addEventListener(d.MenuItemComponent.EVENT_ITEM_SELECTED,(function(o){t.childMenu?e.showChildMenu(t,n):e.dispatchEvent(d.MenuItemComponent.EVENT_ITEM_SELECTED,o)})),n.addGuiEventListener("mouseenter",this.mouseEnterItem.bind(this,t,n)),n.addGuiEventListener("mouseleave",(function(){return e.timerCount++})),t.childMenu&&this.addDestroyFunc((function(){return t.childMenu.destroy()}))},e.prototype.mouseEnterItem=function(t,e){t.disabled||(this.activeMenuItemParams!==t&&this.removeOldChildPopup(),this.removeActiveItem(),this.activeMenuItemParams=t,this.activeMenuItem=e,u.Utils.addCssClass(this.activeMenuItem.getGui(),"ag-menu-option-active"),t.childMenu&&this.addHoverForChildPopup(t,e))},e.prototype.removeActiveItem=function(){this.activeMenuItem&&(u.Utils.removeCssClass(this.activeMenuItem.getGui(),"ag-menu-option-active"),this.activeMenuItem=null,this.activeMenuItemParams=null)},e.prototype.addHoverForChildPopup=function(t,e){var n=this,o=this.timerCount;setTimeout((function(){var i=o===n.timerCount,r=n.showingChildMenu===t.childMenu;i&&!r&&n.showChildMenu(t,e)}),500)},e.prototype.showChildMenu=function(t,e){this.removeOldChildPopup();var n=u.Utils.loadTemplate('<div class="ag-menu"></div>');n.appendChild(t.childMenu.getGui()),this.childPopupRemoveFunc=this.popupService.addAsModalPopup(n,!0),this.popupService.positionPopupForMenu({eventSource:e.getGui(),ePopup:n}),this.showingChildMenu=t.childMenu},e.prototype.addSeparator=function(){this.getGui().appendChild(u.Utils.loadTemplate(e.SEPARATOR_TEMPLATE))},e.prototype.removeOldChildPopup=function(){this.childPopupRemoveFunc&&(this.showingChildMenu.clearActiveItem(),this.childPopupRemoveFunc(),this.childPopupRemoveFunc=null,this.showingChildMenu=null)},e.prototype.destroy=function(){this.removeOldChildPopup(),t.prototype.destroy.call(this)},e.TEMPLATE='<div class="ag-menu-list"></div>',e.SEPARATOR_TEMPLATE='<div class="ag-menu-separator">  <span class="ag-menu-separator-cell"></span>  <span class="ag-menu-separator-cell"></span>  <span class="ag-menu-separator-cell"></span>  <span class="ag-menu-separator-cell"></span></div>',i([l.Autowired("context"),r("design:type",l.Context)],e.prototype,"context",void 0),i([l.Autowired("popupService"),r("design:type",c.PopupService)],e.prototype,"popupService",void 0),e}(a.Component);e.MenuList=p},function(t,e,n){
/**
	 * ag-grid - Advanced Data Grid / Data Table supporting Javascript / React / AngularJS / Web Components
	 * @version v4.2.6
	 * @link http://www.ag-grid.com/
	 * @license MIT
	 */
var o=this&&this.__extends||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n]);function o(){this.constructor=t}t.prototype=null===e?Object.create(e):(o.prototype=e.prototype,new o)},i=this&&this.__decorate||function(t,e,n,o){var i,r=arguments.length,a=r<3?e:null===o?o=Object.getOwnPropertyDescriptor(e,n):o;if("object"===("undefined"==typeof Reflect?"undefined":s(Reflect))&&"function"==typeof Reflect.decorate)a=Reflect.decorate(t,e,n,o);else for(var l=t.length-1;l>=0;l--)(i=t[l])&&(a=(r<3?i(a):r>3?i(e,n,a):i(e,n))||a);return r>3&&a&&Object.defineProperty(e,n,a),a},r=this&&this.__metadata||function(t,e){if("object"===("undefined"==typeof Reflect?"undefined":s(Reflect))&&"function"==typeof Reflect.metadata)return Reflect.metadata(t,e)},a=n(47),l=n(6),u=n(44),c=n(7),d=n(59).SvgFactory.getInstance(),p=function(t){function e(n){t.call(this,e.TEMPLATE),this.params=n,n.checked?this.queryForHtmlElement("#eIcon").innerHTML="&#10004;":n.icon?c.Utils.isNodeOrElement(n.icon)?this.queryForHtmlElement("#eIcon").appendChild(n.icon):"string"==typeof n.icon?this.queryForHtmlElement("#eIcon").innerHTML=n.icon:console.log("ag-Grid: menu item icon must be DOM node or string"):this.queryForHtmlElement("#eIcon").innerHTML="&nbsp;",n.shortcut&&(this.queryForHtmlElement("#eShortcut").innerHTML=n.shortcut),n.childMenu?this.queryForHtmlElement("#ePopupPointer").appendChild(d.createSmallArrowRightSvg()):this.queryForHtmlElement("#ePopupPointer").innerHTML="&nbsp;",this.queryForHtmlElement("#eName").innerHTML=n.name,n.disabled?c.Utils.addCssClass(this.getGui(),"ag-menu-option-disabled"):this.addGuiEventListener("click",this.onOptionSelected.bind(this))}return o(e,t),e.prototype.onOptionSelected=function(){this.dispatchEvent(e.EVENT_ITEM_SELECTED,this.params),this.params.action&&this.params.action()},e.TEMPLATE='<div class="ag-menu-option">  <span id="eIcon" class="ag-menu-option-icon"></span>  <span id="eName" class="ag-menu-option-text"></span>  <span id="eShortcut" class="ag-menu-option-shortcut"></span>  <span id="ePopupPointer" class="ag-menu-option-popup-pointer"></span></div>',e.EVENT_ITEM_SELECTED="itemSelected",i([l.Autowired("popupService"),r("design:type",u.PopupService)],e.prototype,"popupService",void 0),e}(a.Component);e.MenuItemComponent=p},function(t,e,n){var o=n(91);"string"==typeof o&&(o=[[t.id,o,""]]),n(93)(o,{}),o.locals&&(t.exports=o.locals)},function(t,e,n){(t.exports=n(92)()).push([t.id,'ag-grid-ng2 {\n  display: inline-block;\n}\n.ag-root {\n/* set to relative, so absolute popups appear relative to this */\n  position: relative;\n  -webkit-box-sizing: border-box;\n  -moz-box-sizing: border-box;\n  box-sizing: border-box;\n/* was getting some \'should be there\' scrolls, this sorts it out */\n  overflow: hidden;\n}\n.ag-font-style {\n  cursor: default;\n/* disable user mouse selection */\n  -webkit-user-select: none;\n  -moz-user-select: none;\n  -ms-user-select: none;\n  user-select: none;\n}\n.ag-no-scrolls {\n  white-space: nowrap;\n  display: inline-block;\n}\n.ag-scrolls {\n  height: 100%;\n}\n.ag-popup-backdrop {\n  position: fixed;\n  left: 0px;\n  top: 0px;\n  width: 100%;\n  height: 100%;\n}\n.ag-header {\n  position: absolute;\n  top: 0px;\n  left: 0px;\n  white-space: nowrap;\n  -webkit-box-sizing: border-box;\n  -moz-box-sizing: border-box;\n  box-sizing: border-box;\n  overflow: hidden;\n  width: 100%;\n}\n.ag-pinned-left-header {\n  float: left;\n  -webkit-box-sizing: border-box;\n  -moz-box-sizing: border-box;\n  box-sizing: border-box;\n  display: inline-block;\n  overflow: hidden;\n  height: 100%;\n}\n.ag-pinned-right-header {\n  float: right;\n  -webkit-box-sizing: border-box;\n  -moz-box-sizing: border-box;\n  box-sizing: border-box;\n  display: inline-block;\n  overflow: hidden;\n  height: 100%;\n}\n.ag-header-viewport {\n  -webkit-box-sizing: border-box;\n  -moz-box-sizing: border-box;\n  box-sizing: border-box;\n  overflow: hidden;\n  height: 100%;\n}\n.ag-scrolls .ag-header-container {\n  -webkit-box-sizing: border-box;\n  -moz-box-sizing: border-box;\n  box-sizing: border-box;\n  position: relative;\n  white-space: nowrap;\n  height: 100%;\n}\n.ag-no-scrolls .ag-header-container {\n  white-space: nowrap;\n}\n.ag-header-overlay {\n  display: block;\n  position: absolute;\n}\n.ag-header-cell {\n  -webkit-box-sizing: border-box;\n  -moz-box-sizing: border-box;\n  box-sizing: border-box;\n  vertical-align: bottom;\n  text-align: center;\n  display: inline-block;\n  height: 100%;\n}\n.ag-dnd-ghost {\n  font-size: 14px;\n  font-family: "Helvetica Neue", Helvetica, Arial, sans-serif;\n  position: absolute;\n  background: #e5e5e5;\n  border: 1px solid #000;\n  cursor: move;\n  -webkit-user-select: none;\n  -moz-user-select: none;\n  -ms-user-select: none;\n  user-select: none;\n  -webkit-box-sizing: border-box;\n  -moz-box-sizing: border-box;\n  box-sizing: border-box;\n  overflow: hidden;\n  -o-text-overflow: ellipsis;\n  text-overflow: ellipsis;\n  padding: 3px;\n  line-height: 1.4;\n}\n.ag-dnd-ghost-icon {\n  display: inline-block;\n  float: left;\n  padding-left: 2px;\n  padding-right: 2px;\n}\n.ag-dnd-ghost-label {\n  display: inline-block;\n}\n.ag-header-group-cell {\n  height: 100%;\n  display: inline-block;\n  -webkit-box-sizing: border-box;\n  -moz-box-sizing: border-box;\n  box-sizing: border-box;\n  -o-text-overflow: ellipsis;\n  text-overflow: ellipsis;\n  overflow: hidden;\n}\n.ag-header-group-cell-label {\n  -o-text-overflow: ellipsis;\n  text-overflow: ellipsis;\n  overflow: hidden;\n}\n.ag-header-cell-label {\n  -o-text-overflow: ellipsis;\n  text-overflow: ellipsis;\n  overflow: hidden;\n}\n.ag-header-cell-resize {\n  height: 100%;\n  width: 4px;\n  float: right;\n  cursor: col-resize;\n}\n.ag-header-expand-icon {\n  padding-left: 4px;\n}\n.ag-header-cell-menu-button {\n  float: right;\n}\n.ag-overlay-panel {\n  display: table;\n  width: 100%;\n  height: 100%;\n  pointer-events: none;\n}\n.ag-overlay-wrapper {\n  display: table-cell;\n  vertical-align: middle;\n  text-align: center;\n}\n.ag-body {\n  height: 100%;\n  -webkit-box-sizing: border-box;\n  -moz-box-sizing: border-box;\n  box-sizing: border-box;\n}\n.ag-floating-top {\n  position: absolute;\n  left: 0px;\n  width: 100%;\n  white-space: nowrap;\n  -webkit-box-sizing: border-box;\n  -moz-box-sizing: border-box;\n  box-sizing: border-box;\n  overflow: hidden;\n}\n.ag-pinned-left-floating-top {\n  float: left;\n  -webkit-box-sizing: border-box;\n  -moz-box-sizing: border-box;\n  box-sizing: border-box;\n  display: inline-block;\n  overflow: hidden;\n  height: 100%;\n}\n.ag-pinned-right-floating-top {\n  float: right;\n  -webkit-box-sizing: border-box;\n  -moz-box-sizing: border-box;\n  box-sizing: border-box;\n  display: inline-block;\n  overflow: hidden;\n  height: 100%;\n}\n.ag-floating-top-viewport {\n  -webkit-box-sizing: border-box;\n  -moz-box-sizing: border-box;\n  box-sizing: border-box;\n  overflow: hidden;\n  height: 100%;\n}\n.ag-floating-top-container {\n  -webkit-box-sizing: border-box;\n  -moz-box-sizing: border-box;\n  box-sizing: border-box;\n  position: relative;\n  white-space: nowrap;\n}\n.ag-floating-bottom {\n  position: absolute;\n  left: 0px;\n  width: 100%;\n  white-space: nowrap;\n  -webkit-box-sizing: border-box;\n  -moz-box-sizing: border-box;\n  box-sizing: border-box;\n  overflow: hidden;\n}\n.ag-pinned-left-floating-bottom {\n  float: left;\n  -webkit-box-sizing: border-box;\n  -moz-box-sizing: border-box;\n  box-sizing: border-box;\n  display: inline-block;\n  overflow: hidden;\n  height: 100%;\n}\n.ag-pinned-right-floating-bottom {\n  float: right;\n  -webkit-box-sizing: border-box;\n  -moz-box-sizing: border-box;\n  box-sizing: border-box;\n  display: inline-block;\n  overflow: hidden;\n  height: 100%;\n}\n.ag-floating-bottom-viewport {\n  -webkit-box-sizing: border-box;\n  -moz-box-sizing: border-box;\n  box-sizing: border-box;\n  overflow: hidden;\n  height: 100%;\n}\n.ag-floating-bottom-container {\n  -webkit-box-sizing: border-box;\n  -moz-box-sizing: border-box;\n  box-sizing: border-box;\n  position: relative;\n  white-space: nowrap;\n}\n.ag-pinned-left-cols-viewport {\n  float: left;\n  overflow: hidden;\n}\n.ag-pinned-left-cols-container {\n  display: inline-block;\n  position: relative;\n}\n.ag-pinned-right-cols-viewport {\n  float: right;\n  overflow-x: hidden;\n  overflow-y: auto;\n}\n.ag-pinned-right-cols-container {\n  display: inline-block;\n  position: relative;\n}\n.ag-body-viewport-wrapper {\n  height: 100%;\n}\n.ag-body-viewport {\n  overflow-x: auto;\n  overflow-y: auto;\n  height: 100%;\n}\n.ag-scrolls .ag-body-container {\n  position: relative;\n  display: inline-block;\n}\n.ag-scrolls .ag-row {\n  white-space: nowrap;\n  position: absolute;\n  width: 100%;\n}\n.ag-no-scrolls .ag-row {\n  position: relative;\n}\n.agile-gird-row:hover {\n  background-color: #f0f8ff;\n}\n.ag-column-drop {\n  width: 100%;\n  -webkit-box-sizing: border-box;\n  -moz-box-sizing: border-box;\n  box-sizing: border-box;\n}\n.ag-column-drop-vertical {\n  height: 100%;\n}\n.ag-column-drop-vertical .ag-column-drop-cell {\n  display: block;\n}\n.ag-column-drop-vertical .ag-column-drop-empty-message {\n  display: block;\n}\n.ag-column-drop-vertical .ag-column-drop-cell-button {\n  float: right;\n  line-height: 16px;\n}\n.ag-cell {\n  display: inline-block;\n  white-space: nowrap;\n  height: 100%;\n  -webkit-box-sizing: border-box;\n  -moz-box-sizing: border-box;\n  box-sizing: border-box;\n  -o-text-overflow: ellipsis;\n  text-overflow: ellipsis;\n  overflow: hidden;\n  position: absolute;\n}\n.ag-fade-out {\n  opacity: 1;\n  -ms-filter: none;\n  filter: none;\n  margin-right: 5px;\n  -webkit-transition: opacity 3s, margin-right 3s;\n  -moz-transition: opacity 3s, margin-right 3s;\n  -o-transition: opacity 3s, margin-right 3s;\n  -ms-transition: opacity 3s, margin-right 3s;\n  transition: opacity 3s, margin-right 3s;\n  -webkit-transition-timing-function: linear;\n  -moz-transition-timing-function: linear;\n  -o-transition-timing-function: linear;\n  -ms-transition-timing-function: linear;\n  transition-timing-function: linear;\n}\n.ag-fade-out-end {\n  opacity: 0;\n  -ms-filter: "progid:DXImageTransform.Microsoft.Alpha(Opacity=0)";\n  filter: alpha(opacity=0);\n  margin-right: 10px;\n}\n.ag-cell-edit-input {\n  width: 100%;\n  height: 100%;\n}\n.ag-group-cell-entire-row {\n  width: 100%;\n  display: inline-block;\n  white-space: nowrap;\n  height: 100%;\n  -webkit-box-sizing: border-box;\n  -moz-box-sizing: border-box;\n  box-sizing: border-box;\n  -o-text-overflow: ellipsis;\n  text-overflow: ellipsis;\n  overflow: hidden;\n}\n.ag-footer-cell-entire-row {\n  width: 100%;\n  display: inline-block;\n  white-space: nowrap;\n  height: 100%;\n  -webkit-box-sizing: border-box;\n  -moz-box-sizing: border-box;\n  box-sizing: border-box;\n  -o-text-overflow: ellipsis;\n  text-overflow: ellipsis;\n  overflow: hidden;\n}\n.ag-large .ag-root {\n  font-size: 20px;\n}\n.ag-popup-editor {\n  position: absolute;\n  -webkit-user-select: none;\n  -moz-user-select: none;\n  -ms-user-select: none;\n  user-select: none;\n}\n.ag-menu {\n  position: absolute;\n  -webkit-user-select: none;\n  -moz-user-select: none;\n  -ms-user-select: none;\n  user-select: none;\n}\n.ag-menu-column-select-wrapper {\n  width: 200px;\n  height: 300px;\n}\n.ag-menu-list {\n  display: table;\n  border-collapse: collapse;\n}\n.ag-menu-option {\n  display: table-row;\n}\n.ag-menu-option-text {\n  display: table-cell;\n}\n.ag-menu-option-shortcut {\n  display: table-cell;\n}\n.ag-menu-option-icon {\n  display: table-cell;\n}\n.ag-menu-option-popup-pointer {\n  display: table-cell;\n}\n.ag-menu-separator {\n  display: table-row;\n}\n.ag-menu-separator-cell {\n  display: table-cell;\n}\n.ag-virtual-list-viewport {\n  overflow-x: auto;\n  height: 100%;\n  width: 100%;\n}\n.ag-virtual-list-container {\n  position: relative;\n  overflow: hidden;\n}\n.ag-rich-select {\n  outline: none;\n}\n.ag-rich-select-list {\n  width: 200px;\n  height: 200px;\n}\n.ag-set-filter-list {\n  width: 200px;\n  height: 200px;\n}\n.ag-set-filter-item {\n  -o-text-overflow: ellipsis;\n  text-overflow: ellipsis;\n  overflow: hidden;\n  white-space: nowrap;\n}\n.ag-virtual-list-item {\n  position: absolute;\n  width: 100%;\n}\n.ag-filter-filter {\n  width: 170px;\n  margin: 4px;\n}\n.ag-filter-select {\n  width: 110px;\n  margin: 4px 4px 0px 4px;\n}\n.ag-no-vertical-scroll .ag-scrolls {\n  height: unset;\n}\n.ag-no-vertical-scroll .ag-body {\n  height: unset;\n}\n.ag-no-vertical-scroll .ag-body-viewport-wrapper {\n  height: unset;\n}\n.ag-no-vertical-scroll .ag-body-viewport {\n  height: unset;\n}\n.ag-list-selection {\n  -webkit-user-select: none;\n  -moz-user-select: none;\n  -ms-user-select: none;\n  user-select: none;\n  cursor: default;\n}\n.ag-tool-panel {\n  width: 200px;\n  -webkit-user-select: none;\n  -moz-user-select: none;\n  -ms-user-select: none;\n  user-select: none;\n  cursor: default;\n  height: 100%;\n  -webkit-box-sizing: border-box;\n  -moz-box-sizing: border-box;\n  box-sizing: border-box;\n}\n.ag-column-select-indent {\n  display: inline-block;\n}\n.ag-column-select-column {\n  margin-left: 14px;\n  white-space: nowrap;\n}\n.ag-column-select-column-group {\n  white-space: nowrap;\n}\n.ag-column-select-panel {\n  height: 100%;\n  overflow: auto;\n}\n.ag-hidden {\n  display: none;\n}\n.ag-faded {\n  opacity: 0.3;\n  -ms-filter: "progid:DXImageTransform.Microsoft.Alpha(Opacity=30)";\n  filter: alpha(opacity=30);\n}\n.ag-shake-left-to-right {\n  -webkit-animation-name: ag-shake-left-to-right;\n  -moz-animation-name: ag-shake-left-to-right;\n  -o-animation-name: ag-shake-left-to-right;\n  -ms-animation-name: ag-shake-left-to-right;\n  animation-name: ag-shake-left-to-right;\n  -webkit-animation-duration: 0.2s;\n  -moz-animation-duration: 0.2s;\n  -o-animation-duration: 0.2s;\n  -ms-animation-duration: 0.2s;\n  animation-duration: 0.2s;\n  -webkit-animation-iteration-count: infinite;\n  -moz-animation-iteration-count: infinite;\n  -o-animation-iteration-count: infinite;\n  -ms-animation-iteration-count: infinite;\n  animation-iteration-count: infinite;\n  -webkit-animation-direction: alternate;\n  -moz-animation-direction: alternate;\n  -o-animation-direction: alternate;\n  -ms-animation-direction: alternate;\n  animation-direction: alternate;\n}\n@-moz-keyframes ag-shake-left-to-right {\n  from {\n    padding-left: 6px;\n    padding-right: 2px;\n  }\n  to {\n    padding-left: 2px;\n    padding-right: 6px;\n  }\n}\n@-webkit-keyframes ag-shake-left-to-right {\n  from {\n    padding-left: 6px;\n    padding-right: 2px;\n  }\n  to {\n    padding-left: 2px;\n    padding-right: 6px;\n  }\n}\n@-o-keyframes ag-shake-left-to-right {\n  from {\n    padding-left: 6px;\n    padding-right: 2px;\n  }\n  to {\n    padding-left: 2px;\n    padding-right: 6px;\n  }\n}\n@keyframes ag-shake-left-to-right {\n  from {\n    padding-left: 6px;\n    padding-right: 2px;\n  }\n  to {\n    padding-left: 2px;\n    padding-right: 6px;\n  }\n}\n',""])},function(t,e){t.exports=function(){var t=[];return t.toString=function(){for(var t=[],e=0;e<this.length;e++){var n=this[e];n[2]?t.push("@media "+n[2]+"{"+n[1]+"}"):t.push(n[1])}return t.join("")},t.i=function(e,n){"string"==typeof e&&(e=[[null,e,""]]);for(var o={},i=0;i<this.length;i++){var r=this[i][0];"number"==typeof r&&(o[r]=!0)}for(i=0;i<e.length;i++){var a=e[i];"number"==typeof a[0]&&o[a[0]]||(n&&!a[2]?a[2]=n:n&&(a[2]="("+a[2]+") and ("+n+")"),t.push(a))}},t}},function(t,e,n){var o={},i=function(t){var e;return function(){return void 0===e&&(e=t.apply(this,arguments)),e}},r=i((function(){return/msie [6-9]\b/.test(window.navigator.userAgent.toLowerCase())})),a=i((function(){return document.head||document.getElementsByTagName("head")[0]})),s=null,l=0,u=[];function c(t,e){for(var n=0;n<t.length;n++){var i=t[n],r=o[i.id];if(r){r.refs++;for(var a=0;a<r.parts.length;a++)r.parts[a](i.parts[a]);for(;a<i.parts.length;a++)r.parts.push(g(i.parts[a],e))}else{var s=[];for(a=0;a<i.parts.length;a++)s.push(g(i.parts[a],e));o[i.id]={id:i.id,refs:1,parts:s}}}}function d(t){for(var e=[],n={},o=0;o<t.length;o++){var i=t[o],r=i[0],a={css:i[1],media:i[2],sourceMap:i[3]};n[r]?n[r].parts.push(a):e.push(n[r]={id:r,parts:[a]})}return e}function p(t,e){var n=a(),o=u[u.length-1];if("top"===t.insertAt)o?o.nextSibling?n.insertBefore(e,o.nextSibling):n.appendChild(e):n.insertBefore(e,n.firstChild),u.push(e);else{if("bottom"!==t.insertAt)throw new Error("Invalid value for parameter 'insertAt'. Must be 'top' or 'bottom'.");n.appendChild(e)}}function h(t){t.parentNode.removeChild(t);var e=u.indexOf(t);e>=0&&u.splice(e,1)}function f(t){var e=document.createElement("style");return e.type="text/css",p(t,e),e}function g(t,e){var n,o,i;if(e.singleton){var r=l++;n=s||(s=f(e)),o=y.bind(null,n,r,!1),i=y.bind(null,n,r,!0)}else t.sourceMap&&"function"==typeof URL&&"function"==typeof URL.createObjectURL&&"function"==typeof URL.revokeObjectURL&&"function"==typeof Blob&&"function"==typeof btoa?(n=function(t){var e=document.createElement("link");return e.rel="stylesheet",p(t,e),e}(e),o=_.bind(null,n),i=function(){h(n),n.href&&URL.revokeObjectURL(n.href)}):(n=f(e),o=b.bind(null,n),i=function(){h(n)});return o(t),function(e){if(e){if(e.css===t.css&&e.media===t.media&&e.sourceMap===t.sourceMap)return;o(t=e)}else i()}}t.exports=function(t,e){void 0===(e=e||{}).singleton&&(e.singleton=r()),void 0===e.insertAt&&(e.insertAt="bottom");var n=d(t);return c(n,e),function(t){for(var i=[],r=0;r<n.length;r++){var a=n[r];(s=o[a.id]).refs--,i.push(s)}for(t&&c(d(t),e),r=0;r<i.length;r++){var s;if(0===(s=i[r]).refs){for(var l=0;l<s.parts.length;l++)s.parts[l]();delete o[s.id]}}}};var m,v=(m=[],function(t,e){return m[t]=e,m.filter(Boolean).join("\n")});function y(t,e,n,o){var i=n?"":o.css;if(t.styleSheet)t.styleSheet.cssText=v(e,i);else{var r=document.createTextNode(i),a=t.childNodes;a[e]&&t.removeChild(a[e]),a.length?t.insertBefore(r,a[e]):t.appendChild(r)}}function b(t,e){var n=e.css,o=e.media;if(e.sourceMap,o&&t.setAttribute("media",o),t.styleSheet)t.styleSheet.cssText=n;else{for(;t.firstChild;)t.removeChild(t.firstChild);t.appendChild(document.createTextNode(n))}}function _(t,e){var n=e.css,o=(e.media,e.sourceMap);o&&(n+="\n/*# sourceMappingURL=data:application/json;base64,"+btoa(unescape(encodeURIComponent(JSON.stringify(o))))+" */");var i=new Blob([n],{type:"text/css"}),r=t.href;t.href=URL.createObjectURL(i),r&&URL.revokeObjectURL(r)}},function(t,e,n){var o=n(95);"string"==typeof o&&(o=[[t.id,o,""]]),n(93)(o,{}),o.locals&&(t.exports=o.locals)},function(t,e,n){(t.exports=n(92)()).push([t.id,'.ag-blue {\n  line-height: 1.4;\n  font-family: Calibri, "Segoe UI", Thonburi, Arial, Verdana, sans-serif;\n  font-size: 10pt;\n  color: #222;\n/* this is for the rowGroupPanel, that appears along the top of the grid */\n/* this is for the column drops that appear in the toolPanel */\n}\n.ag-blue img {\n  vertical-align: middle;\n  border: 0;\n}\n.ag-blue .ag-root {\n  border: 1px solid #9bc2e6;\n}\n.ag-blue .ag-cell-not-inline-editing {\n  padding: 2px;\n}\n.ag-blue .ag-cell-range-selected-1:not(.ag-cell-focus) {\n  background-color: rgba(120,120,120,0.4);\n}\n.ag-blue .ag-cell-range-selected-2:not(.ag-cell-focus) {\n  background-color: rgba(80,80,80,0.4);\n}\n.ag-blue .ag-cell-range-selected-3:not(.ag-cell-focus) {\n  background-color: rgba(40,40,40,0.4);\n}\n.ag-blue .ag-cell-range-selected-4:not(.ag-cell-focus) {\n  background-color: rgba(0,0,0,0.4);\n}\n.ag-blue .ag-column-moving .ag-cell {\n  -webkit-transition: left 0.2s;\n  -moz-transition: left 0.2s;\n  -o-transition: left 0.2s;\n  -ms-transition: left 0.2s;\n  transition: left 0.2s;\n}\n.ag-blue .ag-cell-focus {\n  border: 2px solid #217346;\n}\n.ag-blue .ag-cell-no-focus {\n  border-right: 1px dotted #9bc2e6;\n  border-top: 2px solid transparent;\n  border-left: 2px solid transparent;\n  border-bottom: 1px dotted #9bc2e6;\n}\n.ag-blue .ag-cell-first-right-pinned {\n  border-left: 1px solid #9bc2e6;\n}\n.ag-blue .ag-cell-last-left-pinned {\n  border-right: 1px solid #9bc2e6;\n}\n.ag-blue .ag-cell-highlight {\n  border: 1px solid #006400;\n}\n.ag-blue .ag-cell-highlight-animation {\n  -webkit-transition: border 1s;\n  -moz-transition: border 1s;\n  -o-transition: border 1s;\n  -ms-transition: border 1s;\n  transition: border 1s;\n}\n.ag-blue .ag-value-change-delta {\n  padding-right: 2px;\n}\n.ag-blue .ag-value-change-delta-up {\n  color: #006400;\n}\n.ag-blue .ag-value-change-delta-down {\n  color: #8b0000;\n}\n.ag-blue .ag-value-change-value {\n  background-color: transparent;\n  -webkit-border-radius: 1px;\n  border-radius: 1px;\n  padding-left: 1px;\n  padding-right: 1px;\n  -webkit-transition: background-color 1s;\n  -moz-transition: background-color 1s;\n  -o-transition: background-color 1s;\n  -ms-transition: background-color 1s;\n  transition: background-color 1s;\n}\n.ag-blue .ag-value-change-value-highlight {\n  background-color: #cec;\n  -webkit-transition: background-color 0.1s;\n  -moz-transition: background-color 0.1s;\n  -o-transition: background-color 0.1s;\n  -ms-transition: background-color 0.1s;\n  transition: background-color 0.1s;\n}\n.ag-blue .ag-rich-select {\n  font-size: 14px;\n  border: 1px solid #9bc2e6;\n  background-color: #fff;\n}\n.ag-blue .ag-rich-select-value {\n  padding: 2px;\n}\n.ag-blue .ag-rich-select-list {\n  border-top: 1px solid #d3d3d3;\n}\n.ag-blue .ag-rich-select-row {\n  padding: 2px;\n}\n.ag-blue .ag-rich-select-row-selected {\n  background-color: #c7c7c7;\n}\n.ag-blue .ag-large-text {\n  border: 1px solid #9bc2e6;\n}\n.ag-blue .ag-header {\n  color: #fff;\n  background: #5b9bd5;\n  border-bottom: 1px solid #9bc2e6;\n  font-weight: 600;\n}\n.ag-blue .ag-header-icon {\n  color: #fff;\n  stroke: none;\n  fill: #fff;\n}\n.ag-blue .ag-no-scrolls .ag-header-container {\n  background: #5b9bd5;\n  border-bottom: 1px solid #9bc2e6;\n}\n.ag-blue .ag-header-cell {\n  border-right: 1px solid #9bc2e6;\n}\n.ag-blue .ag-header-cell-moving .ag-header-cell-label {\n  opacity: 0.5;\n  -ms-filter: "progid:DXImageTransform.Microsoft.Alpha(Opacity=50)";\n  filter: alpha(opacity=50);\n}\n.ag-blue .ag-header-cell-moving {\n  background-color: #bebebe;\n}\n.ag-blue .ag-header-group-cell {\n  border-right: 1px solid #9bc2e6;\n}\n.ag-blue .ag-header-group-cell-with-group {\n  border-bottom: 1px solid #9bc2e6;\n}\n.ag-blue .ag-header-cell-label {\n  padding: 4px 2px 4px 2px;\n}\n.ag-blue .ag-header-cell-text {\n  padding-left: 2px;\n}\n.ag-blue .ag-header-group-cell-label {\n  padding: 4px;\n  padding-left: 10px;\n}\n.ag-blue .ag-header-group-text {\n  margin-right: 2px;\n}\n.ag-blue .ag-header-cell-menu-button {\n  padding: 2px;\n  margin-top: 4px;\n  border: 1px solid transparent;\n  -webkit-border-radius: 3px;\n  border-radius: 3px;\n  -webkit-box-sizing: content-box /* When using bootstrap, box-sizing was set to \'border-box\' */;\n  -moz-box-sizing: content-box /* When using bootstrap, box-sizing was set to \'border-box\' */;\n  box-sizing: content-box /* When using bootstrap, box-sizing was set to \'border-box\' */;\n  line-height: 0px /* normal line height, a space was appearing below the menu button */;\n}\n.ag-blue .ag-pinned-right-header {\n  border-left: 1px solid #9bc2e6;\n}\n.ag-blue .ag-header-cell-menu-button:hover {\n  border: 1px solid #9bc2e6;\n}\n.ag-blue .ag-body {\n  background-color: #f6f6f6;\n}\n.ag-blue .ag-body .ag-row {\n  -webkit-transition: background-color 0.1s;\n  -moz-transition: background-color 0.1s;\n  -o-transition: background-color 0.1s;\n  -ms-transition: background-color 0.1s;\n  transition: background-color 0.1s;\n}\n.ag-blue .ag-body .ag-row-odd {\n  background-color: #ddebf7;\n}\n.ag-blue .ag-body .ag-row-even {\n  background-color: #fff;\n}\n.ag-blue .ag-body .ag-row-selected {\n  background-color: #c7c7c7;\n}\n.ag-blue .ag-floating-top .ag-row {\n  background-color: #f0f0f0;\n}\n.ag-blue .ag-floating-bottom .ag-row {\n  background-color: #f0f0f0;\n}\n.ag-blue .ag-overlay-loading-wrapper {\n  background-color: rgba(255,255,255,0.5);\n}\n.ag-blue .ag-overlay-loading-center {\n  background-color: #fff;\n  border: 1px solid #9bc2e6;\n  -webkit-border-radius: 10px;\n  border-radius: 10px;\n  padding: 10px;\n  color: #000;\n}\n.ag-blue .ag-overlay-no-rows-center {\n  background-color: #fff;\n  border: 1px solid #9bc2e6;\n  -webkit-border-radius: 10px;\n  border-radius: 10px;\n  padding: 10px;\n}\n.ag-blue .ag-group-cell-entire-row {\n  background-color: #f6f6f6;\n  padding: 2px;\n}\n.ag-blue .ag-footer-cell-entire-row {\n  background-color: #f6f6f6;\n  padding: 2px;\n}\n.ag-blue .ag-group-cell {\n  font-style: italic;\n}\n.ag-blue .ag-group-expanded {\n  padding-right: 4px;\n}\n.ag-blue .ag-group-contracted {\n  padding-right: 4px;\n}\n.ag-blue .ag-group-value {\n  padding-right: 2px;\n}\n.ag-blue .ag-group-checkbox {\n  padding-right: 2px;\n}\n.ag-blue .ag-footer-cell {\n  font-style: italic;\n}\n.ag-blue .ag-menu {\n  border: 1px solid #808080;\n  background-color: #f6f6f6;\n  cursor: default;\n  font-family: Calibri, "Segoe UI", Thonburi, Arial, Verdana, sans-serif;\n  font-size: 10pt;\n}\n.ag-blue .ag-menu .ag-tab-header {\n  background-color: #5b9bd5;\n}\n.ag-blue .ag-menu .ag-tab {\n  padding: 6px 8px 6px 8px;\n  margin: 2px 2px 0px 2px;\n  display: inline-block;\n  border-right: 1px solid transparent;\n  border-left: 1px solid transparent;\n  border-top: 1px solid transparent;\n  border-top-right-radius: 2px;\n  border-top-left-radius: 2px;\n}\n.ag-blue .ag-menu .ag-tab-selected {\n  background-color: #9bc2e6;\n  border-right: 1px solid #d3d3d3;\n  border-left: 1px solid #d3d3d3;\n  border-top: 1px solid #d3d3d3;\n}\n.ag-blue .ag-menu-separator {\n  border-top: 1px solid #d3d3d3;\n}\n.ag-blue .ag-menu-option-active {\n  background-color: #c7c7c7;\n}\n.ag-blue .ag-menu-option-icon {\n  padding: 2px 4px 2px 4px;\n  vertical-align: middle;\n}\n.ag-blue .ag-menu-option-text {\n  padding: 2px 4px 2px 4px;\n  vertical-align: middle;\n}\n.ag-blue .ag-menu-option-shortcut {\n  padding: 2px 2px 2px 20px;\n  vertical-align: middle;\n}\n.ag-blue .ag-menu-option-popup-pointer {\n  padding: 2px 4px 2px 4px;\n  vertical-align: middle;\n}\n.ag-blue .ag-menu-option-disabled {\n  opacity: 0.5;\n  -ms-filter: "progid:DXImageTransform.Microsoft.Alpha(Opacity=50)";\n  filter: alpha(opacity=50);\n}\n.ag-blue .ag-menu-column-select-wrapper {\n  margin: 2px;\n}\n.ag-blue .ag-filter-checkbox {\n  position: relative;\n  top: 2px;\n  left: 2px;\n}\n.ag-blue .ag-filter-header-container {\n  border-bottom: 1px solid #d3d3d3;\n}\n.ag-blue .ag-filter-apply-panel {\n  border-top: 1px solid #d3d3d3;\n  padding: 2px;\n}\n.ag-blue .ag-filter-value {\n  margin-left: 4px;\n}\n.ag-blue .ag-selection-checkbox {\n  padding-right: 4px;\n}\n.ag-blue .ag-paging-panel {\n  padding: 4px;\n}\n.ag-blue .ag-paging-button {\n  margin-left: 4px;\n  margin-right: 4px;\n}\n.ag-blue .ag-paging-row-summary-panel {\n  display: inline-block;\n  width: 300px;\n}\n.ag-blue .ag-tool-panel {\n  background-color: #f6f6f6;\n  border-right: 1px solid #9bc2e6;\n  border-bottom: 1px solid #9bc2e6;\n  border-top: 1px solid #9bc2e6;\n  color: #222;\n}\n.ag-blue .ag-status-bar {\n  color: #222;\n  background-color: #f6f6f6;\n  font-size: 10pt;\n  height: 22px;\n  border-bottom: 1px solid #9bc2e6;\n  border-left: 1px solid #9bc2e6;\n  border-right: 1px solid #9bc2e6;\n  padding: 2px;\n}\n.ag-blue .ag-status-bar-aggregations {\n  float: right;\n}\n.ag-blue .ag-status-bar-item {\n  padding-left: 10px;\n}\n.ag-blue .ag-column-drop-cell {\n  background: #ddebf7;\n  color: #000;\n  border: 1px solid #808080;\n  padding: 2px;\n}\n.ag-blue .ag-column-drop-cell-ghost {\n  opacity: 0.5;\n  -ms-filter: "progid:DXImageTransform.Microsoft.Alpha(Opacity=50)";\n  filter: alpha(opacity=50);\n}\n.ag-blue .ag-column-drop-cell-text {\n  padding-left: 2px;\n  padding-right: 2px;\n}\n.ag-blue .ag-column-drop-cell-button {\n  border: 1px solid transparent;\n  padding-left: 2px;\n  padding-right: 2px;\n  -webkit-border-radius: 3px;\n  border-radius: 3px;\n}\n.ag-blue .ag-column-drop-cell-button:hover {\n  border: 1px solid #9bc2e6;\n}\n.ag-blue .ag-column-drop-empty-message {\n  padding-left: 2px;\n  padding-right: 2px;\n  color: #808080;\n}\n.ag-blue .ag-column-drop-icon {\n  padding-right: 4px;\n}\n.ag-blue .ag-column-drop {\n  padding: 4px;\n  background-color: #f6f6f6;\n}\n.ag-blue .ag-column-drop-horizontal {\n  border-top: 1px solid #9bc2e6;\n  border-left: 1px solid #9bc2e6;\n  border-right: 1px solid #9bc2e6;\n}\n.ag-blue .ag-column-drop-vertical {\n  border-top: 1px solid #9bc2e6;\n}\n.ag-blue .ag-column-drop-vertical .ag-column-drop-cell {\n  margin-top: 2px;\n}\n.ag-blue .ag-column-drop-vertical .ag-column-drop-empty-message {\n  padding: 20px;\n}\n',""])},function(t,e,n){var o=n(97);"string"==typeof o&&(o=[[t.id,o,""]]),n(93)(o,{}),o.locals&&(t.exports=o.locals)},function(t,e,n){(t.exports=n(92)()).push([t.id,'.ag-dark {\n  line-height: 1.4;\n  font-family: "Helvetica Neue", Helvetica, Arial, sans-serif;\n  font-size: 14px;\n  color: #ccc;\n/* this is for the rowGroupPanel, that appears along the top of the grid */\n/* this is for the column drops that appear in the toolPanel */\n}\n.ag-dark img {\n  vertical-align: middle;\n  border: 0;\n}\n.ag-dark .ag-root {\n  border: 1px solid #808080;\n}\n.ag-dark .ag-cell-not-inline-editing {\n  padding: 2px;\n}\n.ag-dark .ag-cell-range-selected-1:not(.ag-cell-focus) {\n  background-color: rgba(100,160,160,0.4);\n}\n.ag-dark .ag-cell-range-selected-2:not(.ag-cell-focus) {\n  background-color: rgba(100,190,190,0.4);\n}\n.ag-dark .ag-cell-range-selected-3:not(.ag-cell-focus) {\n  background-color: rgba(100,220,220,0.4);\n}\n.ag-dark .ag-cell-range-selected-4:not(.ag-cell-focus) {\n  background-color: rgba(100,250,250,0.4);\n}\n.ag-dark .ag-column-moving .ag-cell {\n  -webkit-transition: left 0.2s;\n  -moz-transition: left 0.2s;\n  -o-transition: left 0.2s;\n  -ms-transition: left 0.2s;\n  transition: left 0.2s;\n}\n.ag-dark .ag-cell-focus {\n  border: 1px solid #a9a9a9;\n}\n.ag-dark .ag-cell-no-focus {\n  border-right: 1px dotted #808080;\n  border-top: 1px solid transparent;\n  border-left: 1px solid transparent;\n  border-bottom: 1px solid transparent;\n}\n.ag-dark .ag-cell-first-right-pinned {\n  border-left: 1px solid #808080;\n}\n.ag-dark .ag-cell-last-left-pinned {\n  border-right: 1px solid #808080;\n}\n.ag-dark .ag-cell-highlight {\n  border: 1px solid #90ee90;\n}\n.ag-dark .ag-cell-highlight-animation {\n  -webkit-transition: border 1s;\n  -moz-transition: border 1s;\n  -o-transition: border 1s;\n  -ms-transition: border 1s;\n  transition: border 1s;\n}\n.ag-dark .ag-value-change-delta {\n  padding-right: 2px;\n}\n.ag-dark .ag-value-change-delta-up {\n  color: #adff2f;\n}\n.ag-dark .ag-value-change-delta-down {\n  color: #f00;\n}\n.ag-dark .ag-value-change-value {\n  background-color: transparent;\n  -webkit-border-radius: 1px;\n  border-radius: 1px;\n  padding-left: 1px;\n  padding-right: 1px;\n  -webkit-transition: background-color 1s;\n  -moz-transition: background-color 1s;\n  -o-transition: background-color 1s;\n  -ms-transition: background-color 1s;\n  transition: background-color 1s;\n}\n.ag-dark .ag-value-change-value-highlight {\n  background-color: #d2691e;\n  -webkit-transition: background-color 0.1s;\n  -moz-transition: background-color 0.1s;\n  -o-transition: background-color 0.1s;\n  -ms-transition: background-color 0.1s;\n  transition: background-color 0.1s;\n}\n.ag-dark .ag-rich-select {\n  font-size: 14px;\n  border: 1px solid #808080;\n  background-color: #302e2e;\n}\n.ag-dark .ag-rich-select-value {\n  padding: 2px;\n}\n.ag-dark .ag-rich-select-list {\n  border-top: 1px solid #555;\n}\n.ag-dark .ag-rich-select-row {\n  padding: 2px;\n}\n.ag-dark .ag-rich-select-row-selected {\n  background-color: #4a708b;\n}\n.ag-dark .ag-large-text {\n  border: 1px solid #808080;\n}\n.ag-dark .ag-header {\n  color: #e0e0e0;\n  background: #626262;\n  border-bottom: 1px solid #808080;\n  font-weight: normal;\n}\n.ag-dark .ag-header-icon {\n  color: #e0e0e0;\n  stroke: none;\n  fill: #e0e0e0;\n}\n.ag-dark .ag-no-scrolls .ag-header-container {\n  background: #626262;\n  border-bottom: 1px solid #808080;\n}\n.ag-dark .ag-header-cell {\n  border-right: 1px solid #808080;\n}\n.ag-dark .ag-header-cell-moving .ag-header-cell-label {\n  opacity: 0.5;\n  -ms-filter: "progid:DXImageTransform.Microsoft.Alpha(Opacity=50)";\n  filter: alpha(opacity=50);\n}\n.ag-dark .ag-header-cell-moving {\n  background-color: #bebebe;\n}\n.ag-dark .ag-header-group-cell {\n  border-right: 1px solid #808080;\n}\n.ag-dark .ag-header-group-cell-with-group {\n  border-bottom: 1px solid #808080;\n}\n.ag-dark .ag-header-cell-label {\n  padding: 4px 2px 4px 2px;\n}\n.ag-dark .ag-header-cell-text {\n  padding-left: 2px;\n}\n.ag-dark .ag-header-group-cell-label {\n  padding: 4px;\n  padding-left: 10px;\n}\n.ag-dark .ag-header-group-text {\n  margin-right: 2px;\n}\n.ag-dark .ag-header-cell-menu-button {\n  padding: 2px;\n  margin-top: 4px;\n  border: 1px solid transparent;\n  -webkit-border-radius: 3px;\n  border-radius: 3px;\n  -webkit-box-sizing: content-box /* When using bootstrap, box-sizing was set to \'border-box\' */;\n  -moz-box-sizing: content-box /* When using bootstrap, box-sizing was set to \'border-box\' */;\n  box-sizing: content-box /* When using bootstrap, box-sizing was set to \'border-box\' */;\n  line-height: 0px /* normal line height, a space was appearing below the menu button */;\n}\n.ag-dark .ag-pinned-right-header {\n  border-left: 1px solid #808080;\n}\n.ag-dark .ag-header-cell-menu-button:hover {\n  border: 1px solid #808080;\n}\n.ag-dark .ag-body {\n  background-color: #302e2e;\n}\n.ag-dark .ag-body .ag-row {\n  -webkit-transition: background-color 0.1s;\n  -moz-transition: background-color 0.1s;\n  -o-transition: background-color 0.1s;\n  -ms-transition: background-color 0.1s;\n  transition: background-color 0.1s;\n}\n.ag-dark .ag-body .ag-row-odd {\n  background-color: #302e2e;\n}\n.ag-dark .ag-body .ag-row-even {\n  background-color: #403e3e;\n}\n.ag-dark .ag-body .ag-row-selected {\n  background-color: #4a708b;\n}\n.ag-dark .ag-floating-top .ag-row {\n  background-color: #333;\n}\n.ag-dark .ag-floating-bottom .ag-row {\n  background-color: #333;\n}\n.ag-dark .ag-overlay-loading-wrapper {\n  background-color: rgba(255,255,255,0.5);\n}\n.ag-dark .ag-overlay-loading-center {\n  background-color: #fff;\n  border: 1px solid #808080;\n  -webkit-border-radius: 10px;\n  border-radius: 10px;\n  padding: 10px;\n  color: #000;\n}\n.ag-dark .ag-overlay-no-rows-center {\n  background-color: #fff;\n  border: 1px solid #808080;\n  -webkit-border-radius: 10px;\n  border-radius: 10px;\n  padding: 10px;\n}\n.ag-dark .ag-group-cell-entire-row {\n  background-color: #302e2e;\n  padding: 2px;\n}\n.ag-dark .ag-footer-cell-entire-row {\n  background-color: #302e2e;\n  padding: 2px;\n}\n.ag-dark .ag-group-cell {\n  font-style: italic;\n}\n.ag-dark .ag-group-expanded {\n  padding-right: 4px;\n}\n.ag-dark .ag-group-contracted {\n  padding-right: 4px;\n}\n.ag-dark .ag-group-value {\n  padding-right: 2px;\n}\n.ag-dark .ag-group-checkbox {\n  padding-right: 2px;\n}\n.ag-dark .ag-footer-cell {\n  font-style: italic;\n}\n.ag-dark .ag-menu {\n  border: 1px solid #555;\n  background-color: #302e2e;\n  cursor: default;\n  font-family: "Helvetica Neue", Helvetica, Arial, sans-serif;\n  font-size: 14px;\n}\n.ag-dark .ag-menu .ag-tab-header {\n  background-color: #626262;\n}\n.ag-dark .ag-menu .ag-tab {\n  padding: 6px 8px 6px 8px;\n  margin: 2px 2px 0px 2px;\n  display: inline-block;\n  border-right: 1px solid transparent;\n  border-left: 1px solid transparent;\n  border-top: 1px solid transparent;\n  border-top-right-radius: 2px;\n  border-top-left-radius: 2px;\n}\n.ag-dark .ag-menu .ag-tab-selected {\n  background-color: #302e2e;\n  border-right: 1px solid #555;\n  border-left: 1px solid #555;\n  border-top: 1px solid #555;\n}\n.ag-dark .ag-menu-separator {\n  border-top: 1px solid #555;\n}\n.ag-dark .ag-menu-option-active {\n  background-color: #4a708b;\n}\n.ag-dark .ag-menu-option-icon {\n  padding: 2px 4px 2px 4px;\n  vertical-align: middle;\n}\n.ag-dark .ag-menu-option-text {\n  padding: 2px 4px 2px 4px;\n  vertical-align: middle;\n}\n.ag-dark .ag-menu-option-shortcut {\n  padding: 2px 2px 2px 20px;\n  vertical-align: middle;\n}\n.ag-dark .ag-menu-option-popup-pointer {\n  padding: 2px 4px 2px 4px;\n  vertical-align: middle;\n}\n.ag-dark .ag-menu-option-disabled {\n  opacity: 0.5;\n  -ms-filter: "progid:DXImageTransform.Microsoft.Alpha(Opacity=50)";\n  filter: alpha(opacity=50);\n}\n.ag-dark .ag-menu-column-select-wrapper {\n  margin: 2px;\n}\n.ag-dark .ag-filter-checkbox {\n  position: relative;\n  top: 2px;\n  left: 2px;\n}\n.ag-dark .ag-filter-header-container {\n  border-bottom: 1px solid #555;\n}\n.ag-dark .ag-filter-apply-panel {\n  border-top: 1px solid #555;\n  padding: 2px;\n}\n.ag-dark .ag-filter-value {\n  margin-left: 4px;\n}\n.ag-dark .ag-selection-checkbox {\n  padding-right: 4px;\n}\n.ag-dark .ag-paging-panel {\n  padding: 4px;\n}\n.ag-dark .ag-paging-button {\n  margin-left: 4px;\n  margin-right: 4px;\n}\n.ag-dark .ag-paging-row-summary-panel {\n  display: inline-block;\n  width: 300px;\n}\n.ag-dark .ag-tool-panel {\n  background-color: #302e2e;\n  border-right: 1px solid #808080;\n  border-bottom: 1px solid #808080;\n  border-top: 1px solid #808080;\n  color: #ccc;\n}\n.ag-dark .ag-status-bar {\n  color: #ccc;\n  background-color: #302e2e;\n  font-size: 14px;\n  height: 22px;\n  border-bottom: 1px solid #808080;\n  border-left: 1px solid #808080;\n  border-right: 1px solid #808080;\n  padding: 2px;\n}\n.ag-dark .ag-status-bar-aggregations {\n  float: right;\n}\n.ag-dark .ag-status-bar-item {\n  padding-left: 10px;\n}\n.ag-dark .ag-column-drop-cell {\n  background: #403e3e;\n  color: #e0e0e0;\n  border: 1px solid #666;\n  padding: 2px;\n}\n.ag-dark .ag-column-drop-cell-ghost {\n  opacity: 0.5;\n  -ms-filter: "progid:DXImageTransform.Microsoft.Alpha(Opacity=50)";\n  filter: alpha(opacity=50);\n}\n.ag-dark .ag-column-drop-cell-text {\n  padding-left: 2px;\n  padding-right: 2px;\n}\n.ag-dark .ag-column-drop-cell-button {\n  border: 1px solid transparent;\n  padding-left: 2px;\n  padding-right: 2px;\n  -webkit-border-radius: 3px;\n  border-radius: 3px;\n}\n.ag-dark .ag-column-drop-cell-button:hover {\n  border: 1px solid #808080;\n}\n.ag-dark .ag-column-drop-empty-message {\n  padding-left: 2px;\n  padding-right: 2px;\n  color: #808080;\n}\n.ag-dark .ag-column-drop-icon {\n  padding-right: 4px;\n}\n.ag-dark .ag-column-drop {\n  padding: 4px;\n  background-color: #302e2e;\n}\n.ag-dark .ag-column-drop-horizontal {\n  border-top: 1px solid #808080;\n  border-left: 1px solid #808080;\n  border-right: 1px solid #808080;\n}\n.ag-dark .ag-column-drop-vertical {\n  border-top: 1px solid #808080;\n}\n.ag-dark .ag-column-drop-vertical .ag-column-drop-cell {\n  margin-top: 2px;\n}\n.ag-dark .ag-column-drop-vertical .ag-column-drop-empty-message {\n  padding: 20px;\n}\n.ag-dark ::-webkit-scrollbar {\n  width: 12px;\n  height: 12px;\n  background: #302e2e;\n}\n.ag-dark ::-webkit-scrollbar-thumb {\n  background-color: #626262;\n}\n.ag-dark ::-webkit-scrollbar-corner {\n  background: #302e2e;\n}\n.ag-dark select {\n  background-color: #302e2e;\n  color: #ccc;\n}\n.ag-dark input {\n  background-color: #302e2e;\n  color: #ccc;\n}\n',""])},function(t,e,n){var o=n(99);"string"==typeof o&&(o=[[t.id,o,""]]),n(93)(o,{}),o.locals&&(t.exports=o.locals)},function(t,e,n){(t.exports=n(92)()).push([t.id,'.ag-fresh {\n  line-height: 1.4;\n  font-family: "Helvetica Neue", Helvetica, Arial, sans-serif;\n  font-size: 14px;\n  color: #222;\n/* this is for the rowGroupPanel, that appears along the top of the grid */\n/* this is for the column drops that appear in the toolPanel */\n}\n.ag-fresh img {\n  vertical-align: middle;\n  border: 0;\n}\n.ag-fresh .ag-root {\n  border: 1px solid #808080;\n}\n.ag-fresh .ag-cell-not-inline-editing {\n  padding: 2px;\n}\n.ag-fresh .ag-cell-range-selected-1:not(.ag-cell-focus) {\n  background-color: rgba(120,120,120,0.4);\n}\n.ag-fresh .ag-cell-range-selected-2:not(.ag-cell-focus) {\n  background-color: rgba(80,80,80,0.4);\n}\n.ag-fresh .ag-cell-range-selected-3:not(.ag-cell-focus) {\n  background-color: rgba(40,40,40,0.4);\n}\n.ag-fresh .ag-cell-range-selected-4:not(.ag-cell-focus) {\n  background-color: rgba(0,0,0,0.4);\n}\n.ag-fresh .ag-column-moving .ag-cell {\n  -webkit-transition: left 0.2s;\n  -moz-transition: left 0.2s;\n  -o-transition: left 0.2s;\n  -ms-transition: left 0.2s;\n  transition: left 0.2s;\n}\n.ag-fresh .ag-cell-focus {\n  border: 1px solid #a9a9a9;\n}\n.ag-fresh .ag-cell-no-focus {\n  border-right: 1px dotted #808080;\n  border-top: 1px solid transparent;\n  border-left: 1px solid transparent;\n  border-bottom: 1px solid transparent;\n}\n.ag-fresh .ag-cell-first-right-pinned {\n  border-left: 1px solid #808080;\n}\n.ag-fresh .ag-cell-last-left-pinned {\n  border-right: 1px solid #808080;\n}\n.ag-fresh .ag-cell-highlight {\n  border: 1px solid #006400;\n}\n.ag-fresh .ag-cell-highlight-animation {\n  -webkit-transition: border 1s;\n  -moz-transition: border 1s;\n  -o-transition: border 1s;\n  -ms-transition: border 1s;\n  transition: border 1s;\n}\n.ag-fresh .ag-value-change-delta {\n  padding-right: 2px;\n}\n.ag-fresh .ag-value-change-delta-up {\n  color: #006400;\n}\n.ag-fresh .ag-value-change-delta-down {\n  color: #8b0000;\n}\n.ag-fresh .ag-value-change-value {\n  background-color: transparent;\n  -webkit-border-radius: 1px;\n  border-radius: 1px;\n  padding-left: 1px;\n  padding-right: 1px;\n  -webkit-transition: background-color 1s;\n  -moz-transition: background-color 1s;\n  -o-transition: background-color 1s;\n  -ms-transition: background-color 1s;\n  transition: background-color 1s;\n}\n.ag-fresh .ag-value-change-value-highlight {\n  background-color: #cec;\n  -webkit-transition: background-color 0.1s;\n  -moz-transition: background-color 0.1s;\n  -o-transition: background-color 0.1s;\n  -ms-transition: background-color 0.1s;\n  transition: background-color 0.1s;\n}\n.ag-fresh .ag-rich-select {\n  font-size: 14px;\n  border: 1px solid #808080;\n  background-color: #fff;\n}\n.ag-fresh .ag-rich-select-value {\n  padding: 2px;\n}\n.ag-fresh .ag-rich-select-list {\n  border-top: 1px solid #d3d3d3;\n}\n.ag-fresh .ag-rich-select-row {\n  padding: 2px;\n}\n.ag-fresh .ag-rich-select-row-selected {\n  background-color: #bde2e5;\n}\n.ag-fresh .ag-large-text {\n  border: 1px solid #808080;\n}\n.ag-fresh .ag-header {\n  color: #000;\n  background: -webkit-linear-gradient(#fff, #d3d3d3);\n  background: -moz-linear-gradient(#fff, #d3d3d3);\n  background: -o-linear-gradient(#fff, #d3d3d3);\n  background: -ms-linear-gradient(#fff, #d3d3d3);\n  background: linear-gradient(#fff, #d3d3d3);\n  border-bottom: 1px solid #808080;\n  font-weight: normal;\n}\n.ag-fresh .ag-header-icon {\n  color: #000;\n  stroke: none;\n  fill: #000;\n}\n.ag-fresh .ag-no-scrolls .ag-header-container {\n  background: -webkit-linear-gradient(#fff, #d3d3d3);\n  background: -moz-linear-gradient(#fff, #d3d3d3);\n  background: -o-linear-gradient(#fff, #d3d3d3);\n  background: -ms-linear-gradient(#fff, #d3d3d3);\n  background: linear-gradient(#fff, #d3d3d3);\n  border-bottom: 1px solid #808080;\n}\n.ag-fresh .ag-header-cell {\n  border-right: 1px solid #808080;\n}\n.ag-fresh .ag-header-cell-moving .ag-header-cell-label {\n  opacity: 0.5;\n  -ms-filter: "progid:DXImageTransform.Microsoft.Alpha(Opacity=50)";\n  filter: alpha(opacity=50);\n}\n.ag-fresh .ag-header-cell-moving {\n  background-color: #bebebe;\n}\n.ag-fresh .ag-header-group-cell {\n  border-right: 1px solid #808080;\n}\n.ag-fresh .ag-header-group-cell-with-group {\n  border-bottom: 1px solid #808080;\n}\n.ag-fresh .ag-header-cell-label {\n  padding: 4px 2px 4px 2px;\n}\n.ag-fresh .ag-header-cell-text {\n  padding-left: 2px;\n}\n.ag-fresh .ag-header-group-cell-label {\n  padding: 4px;\n  padding-left: 10px;\n}\n.ag-fresh .ag-header-group-text {\n  margin-right: 2px;\n}\n.ag-fresh .ag-header-cell-menu-button {\n  padding: 2px;\n  margin-top: 4px;\n  border: 1px solid transparent;\n  -webkit-border-radius: 3px;\n  border-radius: 3px;\n  -webkit-box-sizing: content-box /* When using bootstrap, box-sizing was set to \'border-box\' */;\n  -moz-box-sizing: content-box /* When using bootstrap, box-sizing was set to \'border-box\' */;\n  box-sizing: content-box /* When using bootstrap, box-sizing was set to \'border-box\' */;\n  line-height: 0px /* normal line height, a space was appearing below the menu button */;\n}\n.ag-fresh .ag-pinned-right-header {\n  border-left: 1px solid #808080;\n}\n.ag-fresh .ag-header-cell-menu-button:hover {\n  border: 1px solid #808080;\n}\n.ag-fresh .ag-body {\n  background-color: #f6f6f6;\n}\n.ag-fresh .ag-body .ag-row {\n  -webkit-transition: background-color 0.1s;\n  -moz-transition: background-color 0.1s;\n  -o-transition: background-color 0.1s;\n  -ms-transition: background-color 0.1s;\n  transition: background-color 0.1s;\n}\n.ag-fresh .ag-body .ag-row-odd {\n  background-color: #f6f6f6;\n}\n.ag-fresh .ag-body .ag-row-even {\n  background-color: #fff;\n}\n.ag-fresh .ag-body .ag-row-selected {\n  background-color: #b0e0e6;\n}\n.ag-fresh .ag-floating-top .ag-row {\n  background-color: #f0f0f0;\n}\n.ag-fresh .ag-floating-bottom .ag-row {\n  background-color: #f0f0f0;\n}\n.ag-fresh .ag-overlay-loading-wrapper {\n  background-color: rgba(255,255,255,0.5);\n}\n.ag-fresh .ag-overlay-loading-center {\n  background-color: #fff;\n  border: 1px solid #808080;\n  -webkit-border-radius: 10px;\n  border-radius: 10px;\n  padding: 10px;\n  color: #000;\n}\n.ag-fresh .ag-overlay-no-rows-center {\n  background-color: #fff;\n  border: 1px solid #808080;\n  -webkit-border-radius: 10px;\n  border-radius: 10px;\n  padding: 10px;\n}\n.ag-fresh .ag-group-cell-entire-row {\n  background-color: #f6f6f6;\n  padding: 2px;\n}\n.ag-fresh .ag-footer-cell-entire-row {\n  background-color: #f6f6f6;\n  padding: 2px;\n}\n.ag-fresh .ag-group-cell {\n  font-style: italic;\n}\n.ag-fresh .ag-group-expanded {\n  padding-right: 4px;\n}\n.ag-fresh .ag-group-contracted {\n  padding-right: 4px;\n}\n.ag-fresh .ag-group-value {\n  padding-right: 2px;\n}\n.ag-fresh .ag-group-checkbox {\n  padding-right: 2px;\n}\n.ag-fresh .ag-footer-cell {\n  font-style: italic;\n}\n.ag-fresh .ag-menu {\n  border: 1px solid #808080;\n  background-color: #f6f6f6;\n  cursor: default;\n  font-family: "Helvetica Neue", Helvetica, Arial, sans-serif;\n  font-size: 14px;\n}\n.ag-fresh .ag-menu .ag-tab-header {\n  background-color: #e6e6e6;\n}\n.ag-fresh .ag-menu .ag-tab {\n  padding: 6px 8px 6px 8px;\n  margin: 2px 2px 0px 2px;\n  display: inline-block;\n  border-right: 1px solid transparent;\n  border-left: 1px solid transparent;\n  border-top: 1px solid transparent;\n  border-top-right-radius: 2px;\n  border-top-left-radius: 2px;\n}\n.ag-fresh .ag-menu .ag-tab-selected {\n  background-color: #f6f6f6;\n  border-right: 1px solid #d3d3d3;\n  border-left: 1px solid #d3d3d3;\n  border-top: 1px solid #d3d3d3;\n}\n.ag-fresh .ag-menu-separator {\n  border-top: 1px solid #d3d3d3;\n}\n.ag-fresh .ag-menu-option-active {\n  background-color: #bde2e5;\n}\n.ag-fresh .ag-menu-option-icon {\n  padding: 2px 4px 2px 4px;\n  vertical-align: middle;\n}\n.ag-fresh .ag-menu-option-text {\n  padding: 2px 4px 2px 4px;\n  vertical-align: middle;\n}\n.ag-fresh .ag-menu-option-shortcut {\n  padding: 2px 2px 2px 20px;\n  vertical-align: middle;\n}\n.ag-fresh .ag-menu-option-popup-pointer {\n  padding: 2px 4px 2px 4px;\n  vertical-align: middle;\n}\n.ag-fresh .ag-menu-option-disabled {\n  opacity: 0.5;\n  -ms-filter: "progid:DXImageTransform.Microsoft.Alpha(Opacity=50)";\n  filter: alpha(opacity=50);\n}\n.ag-fresh .ag-menu-column-select-wrapper {\n  margin: 2px;\n}\n.ag-fresh .ag-filter-checkbox {\n  position: relative;\n  top: 2px;\n  left: 2px;\n}\n.ag-fresh .ag-filter-header-container {\n  border-bottom: 1px solid #d3d3d3;\n}\n.ag-fresh .ag-filter-apply-panel {\n  border-top: 1px solid #d3d3d3;\n  padding: 2px;\n}\n.ag-fresh .ag-filter-value {\n  margin-left: 4px;\n}\n.ag-fresh .ag-selection-checkbox {\n  padding-right: 4px;\n}\n.ag-fresh .ag-paging-panel {\n  padding: 4px;\n}\n.ag-fresh .ag-paging-button {\n  margin-left: 4px;\n  margin-right: 4px;\n}\n.ag-fresh .ag-paging-row-summary-panel {\n  display: inline-block;\n  width: 300px;\n}\n.ag-fresh .ag-tool-panel {\n  background-color: #f6f6f6;\n  border-right: 1px solid #808080;\n  border-bottom: 1px solid #808080;\n  border-top: 1px solid #808080;\n  color: #222;\n}\n.ag-fresh .ag-status-bar {\n  color: #222;\n  background-color: #f6f6f6;\n  font-size: 14px;\n  height: 22px;\n  border-bottom: 1px solid #808080;\n  border-left: 1px solid #808080;\n  border-right: 1px solid #808080;\n  padding: 2px;\n}\n.ag-fresh .ag-status-bar-aggregations {\n  float: right;\n}\n.ag-fresh .ag-status-bar-item {\n  padding-left: 10px;\n}\n.ag-fresh .ag-column-drop-cell {\n  background: -webkit-linear-gradient(#fff, #d3d3d3);\n  background: -moz-linear-gradient(#fff, #d3d3d3);\n  background: -o-linear-gradient(#fff, #d3d3d3);\n  background: -ms-linear-gradient(#fff, #d3d3d3);\n  background: linear-gradient(#fff, #d3d3d3);\n  color: #000;\n  border: 1px solid #808080;\n  padding: 2px;\n}\n.ag-fresh .ag-column-drop-cell-ghost {\n  opacity: 0.5;\n  -ms-filter: "progid:DXImageTransform.Microsoft.Alpha(Opacity=50)";\n  filter: alpha(opacity=50);\n}\n.ag-fresh .ag-column-drop-cell-text {\n  padding-left: 2px;\n  padding-right: 2px;\n}\n.ag-fresh .ag-column-drop-cell-button {\n  border: 1px solid transparent;\n  padding-left: 2px;\n  padding-right: 2px;\n  -webkit-border-radius: 3px;\n  border-radius: 3px;\n}\n.ag-fresh .ag-column-drop-cell-button:hover {\n  border: 1px solid #808080;\n}\n.ag-fresh .ag-column-drop-empty-message {\n  padding-left: 2px;\n  padding-right: 2px;\n  color: #808080;\n}\n.ag-fresh .ag-column-drop-icon {\n  padding-right: 4px;\n}\n.ag-fresh .ag-column-drop {\n  padding: 4px;\n  background-color: #f6f6f6;\n}\n.ag-fresh .ag-column-drop-horizontal {\n  border-top: 1px solid #808080;\n  border-left: 1px solid #808080;\n  border-right: 1px solid #808080;\n}\n.ag-fresh .ag-column-drop-vertical {\n  border-top: 1px solid #808080;\n}\n.ag-fresh .ag-column-drop-vertical .ag-column-drop-cell {\n  margin-top: 2px;\n}\n.ag-fresh .ag-column-drop-vertical .ag-column-drop-empty-message {\n  padding: 20px;\n}\n',""])},function(t,e,n){var o=n(101);"string"==typeof o&&(o=[[t.id,o,""]]),n(93)(o,{}),o.locals&&(t.exports=o.locals)},function(t,e,n){(t.exports=n(92)()).push([t.id,".ag-material {\n  line-height: 1.4;\n  font-family: Roboto;\n  font-size: 14px;\n  color: #666;\n/* this is for the rowGroupPanel, that appears along the top of the grid */\n/* this is for the column drops that appear in the toolPanel */\n}\n.ag-material img {\n  vertical-align: middle;\n  border: 0;\n}\n.ag-material .ag-root {\n  border: none;\n}\n.ag-material .ag-cell-not-inline-editing {\n  padding: 2px;\n}\n.ag-material .ag-cell-range-selected-1:not(.ag-cell-focus) {\n  background-color: rgba(120,120,120,0.4);\n}\n.ag-material .ag-cell-range-selected-2:not(.ag-cell-focus) {\n  background-color: rgba(80,80,80,0.4);\n}\n.ag-material .ag-cell-range-selected-3:not(.ag-cell-focus) {\n  background-color: rgba(40,40,40,0.4);\n}\n.ag-material .ag-cell-range-selected-4:not(.ag-cell-focus) {\n  background-color: rgba(0,0,0,0.4);\n}\n.ag-material .ag-column-moving .ag-cell {\n  -webkit-transition: left 0.2s;\n  -moz-transition: left 0.2s;\n  -o-transition: left 0.2s;\n  -ms-transition: left 0.2s;\n  transition: left 0.2s;\n}\n.ag-material .ag-cell-focus {\n  border: 1px solid #d3d3d3;\n}\n.ag-material .ag-cell-no-focus {\n  border-right: 1px solid transparent;\n  border-top: 1px solid transparent;\n  border-left: 1px solid transparent;\n  border-bottom: 1px solid #d3d3d3;\n}\n.ag-material .ag-cell-first-right-pinned {\n  border-left: none;\n}\n.ag-material .ag-cell-last-left-pinned {\n  border-right: none;\n}\n.ag-material .ag-cell-highlight {\n  border: 1px solid #006400;\n}\n.ag-material .ag-cell-highlight-animation {\n  -webkit-transition: border 1s;\n  -moz-transition: border 1s;\n  -o-transition: border 1s;\n  -ms-transition: border 1s;\n  transition: border 1s;\n}\n.ag-material .ag-value-change-delta {\n  padding-right: 2px;\n}\n.ag-material .ag-value-change-delta-up {\n  color: #006400;\n}\n.ag-material .ag-value-change-delta-down {\n  color: #8b0000;\n}\n.ag-material .ag-value-change-value {\n  background-color: transparent;\n  -webkit-border-radius: 1px;\n  border-radius: 1px;\n  padding-left: 1px;\n  padding-right: 1px;\n  -webkit-transition: background-color 1s;\n  -moz-transition: background-color 1s;\n  -o-transition: background-color 1s;\n  -ms-transition: background-color 1s;\n  transition: background-color 1s;\n}\n.ag-material .ag-value-change-value-highlight {\n  background-color: #cec;\n  -webkit-transition: background-color 0.1s;\n  -moz-transition: background-color 0.1s;\n  -o-transition: background-color 0.1s;\n  -ms-transition: background-color 0.1s;\n  transition: background-color 0.1s;\n}\n.ag-material .ag-rich-select {\n  font-size: 14px;\n  border: none;\n  background-color: #fff;\n}\n.ag-material .ag-rich-select-value {\n  padding: 2px;\n}\n.ag-material .ag-rich-select-list {\n  border-top: 1px solid #d3d3d3;\n}\n.ag-material .ag-rich-select-row {\n  padding: 2px;\n}\n.ag-material .ag-rich-select-row-selected {\n  background-color: #bde2e5;\n}\n.ag-material .ag-large-text {\n  border: none;\n}\n.ag-material .ag-header {\n  color: #666;\n  background: none;\n  border-bottom: none;\n  font-weight: bold;\n}\n.ag-material .ag-header-icon {\n  color: #666;\n  stroke: none;\n  fill: #666;\n}\n.ag-material .ag-no-scrolls .ag-header-container {\n  background: none;\n  border-bottom: none;\n}\n.ag-material .ag-header-cell {\n  border-right: none;\n}\n.ag-material .ag-header-cell-moving .ag-header-cell-label {\n  opacity: 0.5;\n  -ms-filter: \"progid:DXImageTransform.Microsoft.Alpha(Opacity=50)\";\n  filter: alpha(opacity=50);\n}\n.ag-material .ag-header-cell-moving {\n  background-color: #bebebe;\n}\n.ag-material .ag-header-group-cell {\n  border-right: none;\n}\n.ag-material .ag-header-group-cell-with-group {\n  border-bottom: none;\n}\n.ag-material .ag-header-cell-label {\n  padding: 4px 2px 4px 2px;\n}\n.ag-material .ag-header-cell-text {\n  padding-left: 2px;\n}\n.ag-material .ag-header-group-cell-label {\n  padding: 4px;\n  padding-left: 10px;\n}\n.ag-material .ag-header-group-text {\n  margin-right: 2px;\n}\n.ag-material .ag-header-cell-menu-button {\n  padding: 2px;\n  margin-top: 4px;\n  border: 1px solid transparent;\n  -webkit-border-radius: 3px;\n  border-radius: 3px;\n  -webkit-box-sizing: content-box /* When using bootstrap, box-sizing was set to 'border-box' */;\n  -moz-box-sizing: content-box /* When using bootstrap, box-sizing was set to 'border-box' */;\n  box-sizing: content-box /* When using bootstrap, box-sizing was set to 'border-box' */;\n  line-height: 0px /* normal line height, a space was appearing below the menu button */;\n}\n.ag-material .ag-pinned-right-header {\n  border-left: none;\n}\n.ag-material .ag-header-cell-menu-button:hover {\n  border: none;\n}\n.ag-material .ag-body {\n  background-color: #fff;\n}\n.ag-material .ag-body .ag-row {\n  -webkit-transition: background-color 0.1s;\n  -moz-transition: background-color 0.1s;\n  -o-transition: background-color 0.1s;\n  -ms-transition: background-color 0.1s;\n  transition: background-color 0.1s;\n}\n.ag-material .ag-body .ag-row-odd {\n  background-color: #fff;\n}\n.ag-material .ag-body .ag-row-even {\n  background-color: #fff;\n}\n.ag-material .ag-body .ag-row-selected {\n  background-color: #f5f5f5;\n}\n.ag-material .ag-floating-top .ag-row {\n  background-color: #f0f0f0;\n}\n.ag-material .ag-floating-bottom .ag-row {\n  background-color: #f0f0f0;\n}\n.ag-material .ag-overlay-loading-wrapper {\n  background-color: rgba(255,255,255,0.5);\n}\n.ag-material .ag-overlay-loading-center {\n  background-color: #fff;\n  border: none;\n  -webkit-border-radius: 10px;\n  border-radius: 10px;\n  padding: 10px;\n  color: #000;\n}\n.ag-material .ag-overlay-no-rows-center {\n  background-color: #fff;\n  border: none;\n  -webkit-border-radius: 10px;\n  border-radius: 10px;\n  padding: 10px;\n}\n.ag-material .ag-group-cell-entire-row {\n  background-color: #fff;\n  padding: 2px;\n}\n.ag-material .ag-footer-cell-entire-row {\n  background-color: #fff;\n  padding: 2px;\n}\n.ag-material .ag-group-cell {\n  font-style: italic;\n}\n.ag-material .ag-group-expanded {\n  padding-right: 4px;\n}\n.ag-material .ag-group-contracted {\n  padding-right: 4px;\n}\n.ag-material .ag-group-value {\n  padding-right: 2px;\n}\n.ag-material .ag-group-checkbox {\n  padding-right: 2px;\n}\n.ag-material .ag-footer-cell {\n  font-style: italic;\n}\n.ag-material .ag-menu {\n  border: 1px solid #808080;\n  background-color: #fff;\n  cursor: default;\n  font-family: Roboto;\n  font-size: 14px;\n}\n.ag-material .ag-menu .ag-tab-header {\n  background-color: #f6f6f6;\n}\n.ag-material .ag-menu .ag-tab {\n  padding: 6px 16px 6px 16px;\n  margin: 2px 2px 0px 2px;\n  display: inline-block;\n  border-right: 1px solid transparent;\n  border-left: 1px solid transparent;\n  border-top: 1px solid transparent;\n  border-top-right-radius: 2px;\n  border-top-left-radius: 2px;\n}\n.ag-material .ag-menu .ag-tab-selected {\n  background-color: #fff;\n  border-right: 1px solid transparent;\n  border-left: 1px solid transparent;\n  border-top: 1px solid transparent;\n}\n.ag-material .ag-menu-separator {\n  border-top: 1px solid #d3d3d3;\n}\n.ag-material .ag-menu-option-active {\n  background-color: #bde2e5;\n}\n.ag-material .ag-menu-option-icon {\n  padding: 10px 6px 10px 6px;\n  vertical-align: middle;\n}\n.ag-material .ag-menu-option-text {\n  padding: 10px 6px 10px 6px;\n  vertical-align: middle;\n}\n.ag-material .ag-menu-option-shortcut {\n  padding: 10px 6px 10px 20px;\n  vertical-align: middle;\n}\n.ag-material .ag-menu-option-popup-pointer {\n  padding: 10px 6px 10px 6px;\n  vertical-align: middle;\n}\n.ag-material .ag-menu-option-disabled {\n  opacity: 0.5;\n  -ms-filter: \"progid:DXImageTransform.Microsoft.Alpha(Opacity=50)\";\n  filter: alpha(opacity=50);\n}\n.ag-material .ag-menu-column-select-wrapper {\n  margin: 2px;\n}\n.ag-material .ag-filter-checkbox {\n  position: relative;\n  top: 2px;\n  left: 2px;\n}\n.ag-material .ag-filter-header-container {\n  border-bottom: 1px solid #d3d3d3;\n}\n.ag-material .ag-filter-apply-panel {\n  border-top: 1px solid #d3d3d3;\n  padding: 2px;\n}\n.ag-material .ag-filter-value {\n  margin-left: 4px;\n}\n.ag-material .ag-selection-checkbox {\n  padding-right: 4px;\n}\n.ag-material .ag-paging-panel {\n  padding: 4px;\n}\n.ag-material .ag-paging-button {\n  margin-left: 4px;\n  margin-right: 4px;\n}\n.ag-material .ag-paging-row-summary-panel {\n  display: inline-block;\n  width: 300px;\n}\n.ag-material .ag-tool-panel {\n  background-color: #fff;\n  border-right: none;\n  border-bottom: none;\n  border-top: none;\n  color: #666;\n}\n.ag-material .ag-status-bar {\n  color: #666;\n  background-color: #fff;\n  font-size: 14px;\n  height: 22px;\n  border-bottom: none;\n  border-left: none;\n  border-right: none;\n  padding: 2px;\n}\n.ag-material .ag-status-bar-aggregations {\n  float: right;\n}\n.ag-material .ag-status-bar-item {\n  padding-left: 10px;\n}\n.ag-material .ag-column-drop-cell {\n  background: none;\n  color: #000;\n  border: 1px solid #808080;\n  padding: 2px;\n}\n.ag-material .ag-column-drop-cell-ghost {\n  opacity: 0.5;\n  -ms-filter: \"progid:DXImageTransform.Microsoft.Alpha(Opacity=50)\";\n  filter: alpha(opacity=50);\n}\n.ag-material .ag-column-drop-cell-text {\n  padding-left: 2px;\n  padding-right: 2px;\n}\n.ag-material .ag-column-drop-cell-button {\n  border: 1px solid transparent;\n  padding-left: 2px;\n  padding-right: 2px;\n  -webkit-border-radius: 3px;\n  border-radius: 3px;\n}\n.ag-material .ag-column-drop-cell-button:hover {\n  border: none;\n}\n.ag-material .ag-column-drop-empty-message {\n  padding-left: 2px;\n  padding-right: 2px;\n  color: #808080;\n}\n.ag-material .ag-column-drop-icon {\n  padding-right: 4px;\n}\n.ag-material .ag-column-drop {\n  padding: 4px;\n  background-color: #fff;\n}\n.ag-material .ag-column-drop-horizontal {\n  border-top: none;\n  border-left: none;\n  border-right: none;\n}\n.ag-material .ag-column-drop-vertical {\n  border-top: none;\n}\n.ag-material .ag-column-drop-vertical .ag-column-drop-cell {\n  margin-top: 2px;\n}\n.ag-material .ag-column-drop-vertical .ag-column-drop-empty-message {\n  padding: 20px;\n}\n.ag-material .ag-row-hover {\n  background-color: #eee !important;\n}\n.ag-material .ag-cell-not-inline-editing {\n  padding-top: 15px;\n}\n.ag-material .ag-header-cell-menu-button:hover {\n  border: 1px solid #808080;\n}\n.ag-material .ag-header-cell-label {\n  text-align: left;\n}\n.ag-material .ag-header {\n  border-bottom: 1px solid #808080;\n}\n.ag-material .ag-selection-checkbox {\n  padding-right: 12px;\n  padding-left: 12px;\n}\n",""])},function(t,e,n){var o=n(103);"string"==typeof o&&(o=[[t.id,o,""]]),n(93)(o,{}),o.locals&&(t.exports=o.locals)},function(t,e,n){(t.exports=n(92)()).push([t.id,'.ag-bootstrap {\n  line-height: 1.4;\n  font-family: "Helvetica Neue", Helvetica, Arial, sans-serif;\n  font-size: 14px;\n  color: #000;\n/* this is for the rowGroupPanel, that appears along the top of the grid */\n/* this is for the column drops that appear in the toolPanel */\n}\n.ag-bootstrap img {\n  vertical-align: middle;\n  border: 0;\n}\n.ag-bootstrap .ag-root {\n  border: none;\n}\n.ag-bootstrap .ag-cell-not-inline-editing {\n  padding: 4px;\n}\n.ag-bootstrap .ag-cell-range-selected-1:not(.ag-cell-focus) {\n  background-color: rgba(120,120,120,0.4);\n}\n.ag-bootstrap .ag-cell-range-selected-2:not(.ag-cell-focus) {\n  background-color: rgba(80,80,80,0.4);\n}\n.ag-bootstrap .ag-cell-range-selected-3:not(.ag-cell-focus) {\n  background-color: rgba(40,40,40,0.4);\n}\n.ag-bootstrap .ag-cell-range-selected-4:not(.ag-cell-focus) {\n  background-color: rgba(0,0,0,0.4);\n}\n.ag-bootstrap .ag-column-moving .ag-cell {\n  -webkit-transition: left 0.2s;\n  -moz-transition: left 0.2s;\n  -o-transition: left 0.2s;\n  -ms-transition: left 0.2s;\n  transition: left 0.2s;\n}\n.ag-bootstrap .ag-cell-focus {\n  border: 2px solid #217346;\n}\n.ag-bootstrap .ag-cell-no-focus {\n  border-right: none;\n  border-top: 1px solid transparent;\n  border-left: 1px solid transparent;\n  border-bottom: 1px solid transparent;\n}\n.ag-bootstrap .ag-cell-first-right-pinned {\n  border-left: none;\n}\n.ag-bootstrap .ag-cell-last-left-pinned {\n  border-right: none;\n}\n.ag-bootstrap .ag-cell-highlight {\n  border: 1px solid #006400;\n}\n.ag-bootstrap .ag-cell-highlight-animation {\n  -webkit-transition: border 1s;\n  -moz-transition: border 1s;\n  -o-transition: border 1s;\n  -ms-transition: border 1s;\n  transition: border 1s;\n}\n.ag-bootstrap .ag-value-change-delta {\n  padding-right: 2px;\n}\n.ag-bootstrap .ag-value-change-delta-up {\n  color: #006400;\n}\n.ag-bootstrap .ag-value-change-delta-down {\n  color: #8b0000;\n}\n.ag-bootstrap .ag-value-change-value {\n  background-color: transparent;\n  -webkit-border-radius: 1px;\n  border-radius: 1px;\n  padding-left: 1px;\n  padding-right: 1px;\n  -webkit-transition: background-color 1s;\n  -moz-transition: background-color 1s;\n  -o-transition: background-color 1s;\n  -ms-transition: background-color 1s;\n  transition: background-color 1s;\n}\n.ag-bootstrap .ag-value-change-value-highlight {\n  background-color: #cec;\n  -webkit-transition: background-color 0.1s;\n  -moz-transition: background-color 0.1s;\n  -o-transition: background-color 0.1s;\n  -ms-transition: background-color 0.1s;\n  transition: background-color 0.1s;\n}\n.ag-bootstrap .ag-rich-select {\n  font-size: 14px;\n  border: none;\n  background-color: #fff;\n}\n.ag-bootstrap .ag-rich-select-value {\n  padding: 2px;\n}\n.ag-bootstrap .ag-rich-select-list {\n  border-top: 1px solid #d3d3d3;\n}\n.ag-bootstrap .ag-rich-select-row {\n  padding: 2px;\n}\n.ag-bootstrap .ag-rich-select-row-selected {\n  background-color: #bde2e5;\n}\n.ag-bootstrap .ag-large-text {\n  border: none;\n}\n.ag-bootstrap .ag-header {\n  color: #000;\n  background: none;\n  border-bottom: none;\n  font-weight: 600;\n}\n.ag-bootstrap .ag-header-icon {\n  color: #000;\n  stroke: none;\n  fill: #000;\n}\n.ag-bootstrap .ag-no-scrolls .ag-header-container {\n  background: none;\n  border-bottom: none;\n}\n.ag-bootstrap .ag-header-cell {\n  border-right: none;\n}\n.ag-bootstrap .ag-header-cell-moving .ag-header-cell-label {\n  opacity: 0.5;\n  -ms-filter: "progid:DXImageTransform.Microsoft.Alpha(Opacity=50)";\n  filter: alpha(opacity=50);\n}\n.ag-bootstrap .ag-header-cell-moving {\n  background-color: #bebebe;\n}\n.ag-bootstrap .ag-header-group-cell {\n  border-right: none;\n}\n.ag-bootstrap .ag-header-group-cell-with-group {\n  border-bottom: none;\n}\n.ag-bootstrap .ag-header-cell-label {\n  padding: 4px 2px 4px 2px;\n}\n.ag-bootstrap .ag-header-cell-text {\n  padding-left: 2px;\n}\n.ag-bootstrap .ag-header-group-cell-label {\n  padding: 4px;\n  padding-left: 10px;\n}\n.ag-bootstrap .ag-header-group-text {\n  margin-right: 2px;\n}\n.ag-bootstrap .ag-header-cell-menu-button {\n  padding: 2px;\n  margin-top: 4px;\n  border: 1px solid transparent;\n  -webkit-border-radius: 3px;\n  border-radius: 3px;\n  -webkit-box-sizing: content-box /* When using bootstrap, box-sizing was set to \'border-box\' */;\n  -moz-box-sizing: content-box /* When using bootstrap, box-sizing was set to \'border-box\' */;\n  box-sizing: content-box /* When using bootstrap, box-sizing was set to \'border-box\' */;\n  line-height: 0px /* normal line height, a space was appearing below the menu button */;\n}\n.ag-bootstrap .ag-pinned-right-header {\n  border-left: none;\n}\n.ag-bootstrap .ag-header-cell-menu-button:hover {\n  border: none;\n}\n.ag-bootstrap .ag-body {\n  background-color: #f6f6f6;\n}\n.ag-bootstrap .ag-body .ag-row {\n  -webkit-transition: background-color 0.1s;\n  -moz-transition: background-color 0.1s;\n  -o-transition: background-color 0.1s;\n  -ms-transition: background-color 0.1s;\n  transition: background-color 0.1s;\n}\n.ag-bootstrap .ag-body .ag-row-odd {\n  background-color: #f6f6f6;\n}\n.ag-bootstrap .ag-body .ag-row-even {\n  background-color: #fff;\n}\n.ag-bootstrap .ag-body .ag-row-selected {\n  background-color: #b0e0e6;\n}\n.ag-bootstrap .ag-floating-top .ag-row {\n  background-color: #f0f0f0;\n}\n.ag-bootstrap .ag-floating-bottom .ag-row {\n  background-color: #f0f0f0;\n}\n.ag-bootstrap .ag-overlay-loading-wrapper {\n  background-color: rgba(255,255,255,0.5);\n}\n.ag-bootstrap .ag-overlay-loading-center {\n  background-color: #fff;\n  border: none;\n  -webkit-border-radius: 10px;\n  border-radius: 10px;\n  padding: 10px;\n  color: #000;\n}\n.ag-bootstrap .ag-overlay-no-rows-center {\n  background-color: #fff;\n  border: none;\n  -webkit-border-radius: 10px;\n  border-radius: 10px;\n  padding: 10px;\n}\n.ag-bootstrap .ag-group-cell-entire-row {\n  background-color: #f6f6f6;\n  padding: 4px;\n}\n.ag-bootstrap .ag-footer-cell-entire-row {\n  background-color: #f6f6f6;\n  padding: 4px;\n}\n.ag-bootstrap .ag-group-cell {\n  font-style: italic;\n}\n.ag-bootstrap .ag-group-expanded {\n  padding-right: 4px;\n}\n.ag-bootstrap .ag-group-contracted {\n  padding-right: 4px;\n}\n.ag-bootstrap .ag-group-value {\n  padding-right: 2px;\n}\n.ag-bootstrap .ag-group-checkbox {\n  padding-right: 2px;\n}\n.ag-bootstrap .ag-footer-cell {\n  font-style: italic;\n}\n.ag-bootstrap .ag-menu {\n  border: 1px solid #808080;\n  background-color: #f6f6f6;\n  cursor: default;\n  font-family: "Helvetica Neue", Helvetica, Arial, sans-serif;\n  font-size: 14px;\n}\n.ag-bootstrap .ag-menu .ag-tab-header {\n  background-color: #e6e6e6;\n}\n.ag-bootstrap .ag-menu .ag-tab {\n  padding: 6px 8px 6px 8px;\n  margin: 2px 2px 0px 2px;\n  display: inline-block;\n  border-right: 1px solid transparent;\n  border-left: 1px solid transparent;\n  border-top: 1px solid transparent;\n  border-top-right-radius: 2px;\n  border-top-left-radius: 2px;\n}\n.ag-bootstrap .ag-menu .ag-tab-selected {\n  background-color: #f6f6f6;\n  border-right: 1px solid #d3d3d3;\n  border-left: 1px solid #d3d3d3;\n  border-top: 1px solid #d3d3d3;\n}\n.ag-bootstrap .ag-menu-separator {\n  border-top: 1px solid #d3d3d3;\n}\n.ag-bootstrap .ag-menu-option-active {\n  background-color: #bde2e5;\n}\n.ag-bootstrap .ag-menu-option-icon {\n  padding: 2px 4px 2px 4px;\n  vertical-align: middle;\n}\n.ag-bootstrap .ag-menu-option-text {\n  padding: 2px 4px 2px 4px;\n  vertical-align: middle;\n}\n.ag-bootstrap .ag-menu-option-shortcut {\n  padding: 2px 2px 2px 20px;\n  vertical-align: middle;\n}\n.ag-bootstrap .ag-menu-option-popup-pointer {\n  padding: 2px 4px 2px 4px;\n  vertical-align: middle;\n}\n.ag-bootstrap .ag-menu-option-disabled {\n  opacity: 0.5;\n  -ms-filter: "progid:DXImageTransform.Microsoft.Alpha(Opacity=50)";\n  filter: alpha(opacity=50);\n}\n.ag-bootstrap .ag-menu-column-select-wrapper {\n  margin: 2px;\n}\n.ag-bootstrap .ag-filter-checkbox {\n  position: relative;\n  top: 2px;\n  left: 2px;\n}\n.ag-bootstrap .ag-filter-header-container {\n  border-bottom: 1px solid #d3d3d3;\n}\n.ag-bootstrap .ag-filter-apply-panel {\n  border-top: 1px solid #d3d3d3;\n  padding: 2px;\n}\n.ag-bootstrap .ag-filter-value {\n  margin-left: 4px;\n}\n.ag-bootstrap .ag-selection-checkbox {\n  padding-right: 4px;\n}\n.ag-bootstrap .ag-paging-panel {\n  padding: 4px;\n}\n.ag-bootstrap .ag-paging-button {\n  margin-left: 4px;\n  margin-right: 4px;\n}\n.ag-bootstrap .ag-paging-row-summary-panel {\n  display: inline-block;\n  width: 300px;\n}\n.ag-bootstrap .ag-tool-panel {\n  background-color: #f6f6f6;\n  border-right: none;\n  border-bottom: none;\n  border-top: none;\n  color: #000;\n}\n.ag-bootstrap .ag-status-bar {\n  color: #000;\n  background-color: #f6f6f6;\n  font-size: 14px;\n  height: 22px;\n  border-bottom: none;\n  border-left: none;\n  border-right: none;\n  padding: 2px;\n}\n.ag-bootstrap .ag-status-bar-aggregations {\n  float: right;\n}\n.ag-bootstrap .ag-status-bar-item {\n  padding-left: 10px;\n}\n.ag-bootstrap .ag-column-drop-cell {\n  background: none;\n  color: #000;\n  border: 1px solid #808080;\n  padding: 2px;\n}\n.ag-bootstrap .ag-column-drop-cell-ghost {\n  opacity: 0.5;\n  -ms-filter: "progid:DXImageTransform.Microsoft.Alpha(Opacity=50)";\n  filter: alpha(opacity=50);\n}\n.ag-bootstrap .ag-column-drop-cell-text {\n  padding-left: 2px;\n  padding-right: 2px;\n}\n.ag-bootstrap .ag-column-drop-cell-button {\n  border: 1px solid transparent;\n  padding-left: 2px;\n  padding-right: 2px;\n  -webkit-border-radius: 3px;\n  border-radius: 3px;\n}\n.ag-bootstrap .ag-column-drop-cell-button:hover {\n  border: none;\n}\n.ag-bootstrap .ag-column-drop-empty-message {\n  padding-left: 2px;\n  padding-right: 2px;\n  color: #808080;\n}\n.ag-bootstrap .ag-column-drop-icon {\n  padding-right: 4px;\n}\n.ag-bootstrap .ag-column-drop {\n  padding: 4px;\n  background-color: #f6f6f6;\n}\n.ag-bootstrap .ag-column-drop-horizontal {\n  border-top: none;\n  border-left: none;\n  border-right: none;\n}\n.ag-bootstrap .ag-column-drop-vertical {\n  border-top: none;\n}\n.ag-bootstrap .ag-column-drop-vertical .ag-column-drop-cell {\n  margin-top: 2px;\n}\n.ag-bootstrap .ag-column-drop-vertical .ag-column-drop-empty-message {\n  padding: 20px;\n}\n',""])}])},"object"===s(e)&&"object"===s(t)?t.exports=a():(i=[],void 0===(r="function"==typeof(o=a)?o.apply(e,i):o)||(t.exports=r))}).call(this,n("YuTi")(t))},Rm1S:function(t,e,n){"use strict";var o=n("14Sl"),i=n("glrk"),r=n("UMSQ"),a=n("HYAF"),s=n("iqWW"),l=n("FMNM");o("match",1,(function(t,e,n){return[function(e){var n=a(this),o=null==e?void 0:e[t];return void 0!==o?o.call(e,n):new RegExp(e)[t](String(n))},function(t){var o=n(e,t,this);if(o.done)return o.value;var a=i(t),u=String(this);if(!a.global)return l(a,u);var c=a.unicode;a.lastIndex=0;for(var d,p=[],h=0;null!==(d=l(a,u));){var f=String(d[0]);p[h]=f,""===f&&(a.lastIndex=s(u,r(a.lastIndex),c)),h++}return 0===h?null:p}]}))},SYor:function(t,e,n){"use strict";var o=n("I+eb"),i=n("WKiH").trim;o({target:"String",proto:!0,forced:n("4HCi")("trim")},{trim:function(){return i(this)}})},Si40:function(t,e,n){"use strict";var o=n("I+eb"),i=n("xDBR"),r=n("0GbY"),a=n("glrk"),s=n("HAuM"),l=n("SEBh"),u=n("ImZN");o({target:"Set",proto:!0,real:!0,forced:i},{symmetricDifference:function(t){var e=a(this),n=new(l(e,r("Set")))(e),o=s(n.delete),i=s(n.add);return u(t,(function(t){o.call(n,t)||i.call(n,t)})),n}})},SksO:function(t,e){function n(e,o){return t.exports=n=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t},n(e,o)}t.exports=n},SpUQ:function(t,e,n){"use strict";n.r(e),e.default="/BatBase/web/build/images/marker-icon.2b3e1faf.png"},"T4I+":function(t,e,n){},TWNs:function(t,e,n){var o=n("g6v/"),i=n("2oRo"),r=n("lMq5"),a=n("cVYH"),s=n("m/L8").f,l=n("JBy8").f,u=n("ROdP"),c=n("rW0t"),d=n("busE"),p=n("0Dky"),h=n("JiZb"),f=n("tiKp")("match"),g=i.RegExp,m=g.prototype,v=/a/g,y=/a/g,b=new g(v)!==v;if(o&&r("RegExp",!b||p((function(){return y[f]=!1,g(v)!=v||g(y)==y||"/a/i"!=g(v,"i")})))){for(var _=function(t,e){var n=this instanceof _,o=u(t),i=void 0===e;return!n&&o&&t.constructor===_&&i?t:a(b?new g(o&&!i?t.source:t,e):g((o=t instanceof _)?t.source:t,o&&i?c.call(t):e),n?this:m,_)},C=function(t){t in _||s(_,t,{configurable:!0,get:function(){return g[t]},set:function(e){g[t]=e}})},w=l(g),E=0;w.length>E;)C(w[E++]);m.constructor=_,_.prototype=m,d(i,"RegExp",_)}h("RegExp")},TfTi:function(t,e,n){"use strict";var o=n("+MLx"),i=n("ewvW"),r=n("m92n"),a=n("6VoE"),s=n("UMSQ"),l=n("hBjN"),u=n("NaFW");t.exports=function(t){var e,n,c,d,p=i(t),h="function"==typeof this?this:Array,f=arguments.length,g=f>1?arguments[1]:void 0,m=void 0!==g,v=0,y=u(p);if(m&&(g=o(g,f>2?arguments[2]:void 0,2)),null==y||h==Array&&a(y))for(n=new h(e=s(p.length));e>v;v++)l(n,v,m?g(p[v],v):p[v]);else for(d=y.call(p),n=new h;!(c=d.next()).done;v++)l(n,v,m?r(d,g,[c.value,v],!0):c.value);return n.length=v,n}},TffH:function(t,e,n){"use strict";n.r(e),function(t){n.d(e,"initCombobox",(function(){return r})),n.d(e,"initComboboxes",(function(){return a})),n.d(e,"getSelVal",(function(){return u})),n.d(e,"setSelVal",(function(){return c})),n.d(e,"updatePlaceholderText",(function(){return h})),n.d(e,"replaceSelOpts",(function(){return f})),n.d(e,"triggerComboChangeReturnPromise",(function(){return g}));n("sMBO"),n("tkto"),n("FZtP");var o=n("kfS4"),i={};function r(e,n,o){var r=s(e,n);i[e]=r,function(e,n,o){var i=!!n&&n.add,r={create:i,onChange:o||e.change,onBlur:e.blur?d:null,placeholder:l(e.id,e.name,i)};n&&function(){for(var t in n)r[t]=n[t]}();t(e.id).selectize(r)}(r,o,n)}function a(t){Object.keys(t).forEach((function(e){return r(e,t[e])}))}function s(t,e){return{Focus:{name:t,id:"#search-focus",change:e,blur:!0},View:{name:"View",id:"#sel-view",change:e,blur:!0},Class:{name:t,id:"#sel"+t,change:e,blur:!0},Country:{name:t,id:"#sel"+t,change:e,blur:!0},Family:{name:t,id:"#sel"+t,change:e,blur:!0},Genus:{name:t,id:"#sel"+t,change:e,blur:!0},Order:{name:t,id:"#sel"+t,change:e,blur:!0},"Publication Type":{name:t,id:"#selPubType",change:e,blur:!0},Region:{name:t,id:"#sel"+t,change:e,blur:!0},Species:{name:t,id:"#sel"+t,change:e,blur:!0},"Date Filter":{name:"Filter",id:"#selDateFilter"},"Int-lists":{name:"Interaction List",id:"#selIntList",change:e},"Saved Filter Set":{name:t,id:"#selSavedFilters",change:e}}[t]}function l(e,n,o,i){return(i?0:t(e+" > option").length)||o?"Select "+n:"- None -"}function u(e){var n=s(e).id,i=!!t(n)[0].length&&t(n)[0].selectize;return i?i.getValue():o.alertIssue("comboboxNotFound",{id:n})}function c(e,n,i){var r=s(e).id,a=!!t(r)[0].length&&t(r)[0].selectize;if(!a)return o.alertIssue("comboboxNotFound",{id:r});a.addItem(n,i),p(t(r),n)}function d(){var t=this.$input,e=t.data("field"),n=t.data("val"),o=u(e);return o?p(t,o):c(e,n,"silent")}function p(t,e){t.data("val",e)}function h(e,n,i){var r=0===i,a=!!t(e)[0].length&&t(e)[0].selectize;if(!a)return o.alertIssue("comboboxNotFound",{id:e});a.settings.placeholder=l(e,n,!1,r),a.updatePlaceholder()}function f(e,n,i,r){var a=!!t(e)[0].length&&t(e)[0].selectize;return a?n?(r&&h(e,r,n.length),i&&(a.off("change"),a.on("change",i)),a.clear("silent"),a.clearOptions(),a.addOption(n),void a.refreshOptions(!1)):function(t){t.off("change"),t.clear("silent"),t.clearOptions()}(a):o.alertIssue("comboboxNotFound",{id:e})}function g(e,n){var o=s(e),r=t(o.id)[0].selectize,a=i[e].change;return r.addItem(n,"silent"),a(n)}}.call(this,n("EVdn"))},Tskq:function(t,e,n){"use strict";var o=n("bWFh"),i=n("ZWaQ");t.exports=o("Map",(function(t){return function(){return t(this,arguments.length?arguments[0]:void 0)}}),i,!0)},"U/oR":function(t,e,n){"use strict";n.r(e),function(t,o){n.d(e,"clearMemory",(function(){return p})),n.d(e,"getMapState",(function(){return h})),n.d(e,"setMapState",(function(){return f})),n.d(e,"initMap",(function(){return E})),n.d(e,"showLoc",(function(){return x})),n.d(e,"showInts",(function(){return T})),n.d(e,"addVolatileMapPin",(function(){return N})),n.d(e,"initFormMap",(function(){return B}));n("ma9I"),n("TeQF"),n("yq1k"),n("2B1R"),n("Junv"),n("sMBO"),n("toAj"),n("tkto"),n("07d7"),n("B6y2"),n("5s+n"),n("U3f4"),n("JTJg"),n("EnZy"),n("FZtP");var i,r=n("cDf5"),a=n.n(r),s=n("kfS4"),l=n("F5f4"),u=n("Jzt5"),c=n("vL/P");function d(){i={data:{},flags:{},geocoder:null,map:null,popups:{},volatile:{}}}function p(){d()}function h(){return i}function f(t,e){if(e)return i[e]=t;i=t}function g(e,n,r){var a={geoJson:"geo",interaction:"ints",taxon:"taxa"};Object(s._db)("getData",[Object.keys(a)]).then((function(l){Object.keys(l).forEach((function(t){i.data[a[t]]=l[t]})),function(e,n,r){i.map=function(e){i.map&&i.map.remove();return o(e).empty(),i.popups={},t.map(e)}(n),i.map.setMaxBounds(function(){var e=t.latLng(-100,200),n=t.latLng(100,-200);return t.latLngBounds(e,n)}()),i.map.on("click",m.bind(null,r)),i.map.on("load",e.bind(null,n)),function(e){t.tileLayer("https://api.tiles.mapbox.com/v4/{id}/{z}/{x}/{y}.png?access_token={accessToken}",{attribution:'Map data &copy; <a href="https://www.openstreetmap.org/">OpenStreetMap</a> contributors, <a href="https://creativecommons.org/licenses/by-sa/2.0/">CC-BY-SA</a>, Imagery ¬© <a href="https://www.mapbox.com/">Mapbox</a>',minZoom:"form-map"===e?1:3,maxZoom:16,id:"mapbox.run-bike-hike",accessToken:"pk.eyJ1IjoiYmF0cGxhbnQiLCJhIjoiY2poNmw5ZGVsMDAxZzJ4cnpxY3V0bGprYSJ9.pbszY5VsvzGjHeNMx0Jokw"}).addTo(i.map)}(n),function(e){var n=(i.geoCoder=t.Control.Geocoder.nominatim(),{defaultMarkGeocode:!1,position:"topleft",geocoder:i.geoCoder});t.Control.geocoder(n).on("markgeocode",b.bind(null,e)).addTo(i.map),o(".leaflet-control-geocoder").attr("title","Search by name or coordinates")}(n),function(){var e=t.control({position:"bottomleft"});e.onAdd=v,e.addTo(i.map)}(),"form-map"!==n&&((a=t.control({position:"bottomright"})).onAdd=_,a.addTo(i.map),function(){var e=t.control({position:"topright"});e.onAdd=C,e.addTo(i.map)}(),Object(s._ui)("hidePopupMsg"));var a;t.control.scale({position:"bottomright"}).addTo(i.map),i.map.setView([22,22],2)}(e,n,r)}))}function m(e,n){(function(t){var e=(n=t.originalEvent.target,n.className?n.className:n._container?n._container.className:"");var n;return"string"==typeof e&&e.includes("leaflet-control")})(n)||(i.flags.onClickDropPin?function(t,e){o("#form-map").css("cursor","progress"),i.geoCoder.reverse(e.latlng,1,M.bind(null,e.latlng,t),null),F(e.latlng)}(e,n):function(e,n){var o="Lat, Lon: ".concat(n.latlng.lat.toFixed(5),", ").concat(n.latlng.lng.toFixed(5));if(-1===["create","edit"].indexOf(e))return console.log(o);(new t.Popup).setLatLng(n.latlng).setContent(o).openOn(i.map)}(e,n))}function v(t){var e=Object(s._u)("buildElem",["div",{id:"tips-legend",class:"info legend flex-col"}]);return e.innerHTML="<b>- (Click to Expand Map Tips) -</b>",o(e).click(y),e}function y(){return o("#tips-legend").data("expanded")?(o("#tips-legend").html("<b>- (Click to Expand Map Tips) -</b>"),void o("#tips-legend").data("expanded",!1)):(o("#tips-legend").html("\n        <b><center>- (Click to Collapse Map Tips) -</center>\n        - Click on a marker to keep its popup open.<br>\n        - Hover over truncated(...) text to show full text."),void o("#tips-legend").data("expanded",!0))}function b(e,n){console.log("       --geocoding results = %O",n),function(e,n){i.volatile.poly&&(i.map.removeLayer(i.volatile.poly),i.volatile.poly=null);if(function(t){return Object.keys(t).every((function(t){return-1!==["country","country_code"].indexOf(t)}))}(n))return;i.volatile.poly=t.polygon([e.getSouthEast(),e.getNorthEast(),e.getNorthWest(),e.getSouthWest()]).addTo(i.map),i.map.fitBounds(i.volatile.poly.getBounds(),{padding:[10,10]})}(n.geocode.bbox,n.geocode.properties.address),"form-map"==e&&function(t){if(!t)return;var e=t.address.country_code?t.address.country_code.toUpperCase():null;if(!e)return;Object(s._db)("getData",["countryCodes"]).then((function(t){return function(t){if(i.volatile.prnt=t,"map"===i.map._container.id)return W(t,null,"map");o("#Country-Region-sel")[0].selectize.addItem(t,"silent"),W(t,i.volatile.poly)}(t[e])}))}(n.geocode.properties)}function _(t){var e=Object(s._u)("buildElem",["div",{class:"info legend flex-col"}]);return e.innerHTML+="<h4> Interaction Density </h4>",function(){for(var t=["Light","Medium","Heavy"],n=["110, 204, 57","240, 194, 12","241, 128, 23"],o=0;o<t.length;o++)e.innerHTML+='<span><i style="background: rgba('.concat(n[o],', .9);"></i> \n                    ').concat(t[o],"</span>")}(),e}function C(t){return Object(s._u)("buildElem",["div",{id:"int-legend",class:"info legend flex-col"}])}function w(t,e){var n=o("#int-legend")[0];n.innerHTML="<h4>".concat(t+e," Interactions Total </h4>"),n.innerHTML+="<span><b>".concat(t," shown on map</b></span><span>\n        ").concat(e," without GPS data</span>")}function E(t,e){console.log("               //--initMap. data = %O",t),i.data.locs=t,g(e?R.bind(null,e):S,"map")}function x(e,n,o){i.data.locs=o,g((function(){var o=i.data.locs[e];console.log("               --show loc = %O, zoom = %s",o,n);var r=P(o,o.geoJsonId);if(!r)return void console.log("###### No geoJson found for geoJson [%s] ###########",e);(function(e,n,o){var r=i.popups[e.displayName]||function(e,n){var o=t.popup().setLatLng(n).setContent("");return i.popups[e.displayName]=o,o}(e,n);r.setContent(l.e(e,i.data)),r.options.autoClose=!1,i.map.openPopup(r),i.map.setView(n,o,{animate:!0})})(o,r,n),S()}),"map")}function S(){var t,e=0,n=0;function o(t){if("Unspecified"===t.displayName)return n+=t.totalInts;e+=t.totalInts}Promise.resolve(Object(s._db)("getData",["topRegionNames"]).then((function(t){return Object.values(t).map((function(t){return i.data.locs[t]}))}))).then((function(i){t=i,function(){for(var e in t)o(t[e]),A(t[e])}(),w(e,n)}))}function A(t){"Unspecified"!==t.displayName&&O(t)}function O(t,e){if(t.totalInts){var n=t.interactions.length;t.children.forEach((function(t){var e="object"===a()(t)?t:i.data.locs[t];if("Country"==e.locationType.displayName)return O(e);!function(t,e){if(t.children.length)return O(t);e&&o(e,t)}(e,e.interactions.length)})),n&&o(n,t)}function o(e,n){var o=P(n,n.geoJsonId);if(!o)return function(e){if(!e.interactions.length)return null;if(function(e){var n=e.displayName.split("-")[0];return-1!==t.displayName.indexOf(n)}(e))return}(n);!function(t,e,n){var o={loc:n,latLng:e,rcrds:i.data},r=t>1?new l.c(i.map,t,o):new l.d(o);i.popups[n.displayName]=r.popup,i.map.addLayer(r.layer)}(e,o,n)}}function R(t){var e=0,n=0;function o(t){if("Unspecified"===t.displayName)return n+=t.totalInts;e+=t.totalInts}!function(){for(var e in t)o(t[e]),O(t[e])}(),w(e,n)}function T(t,e,n){console.log("----------- showIntsOnMap. focus [%s], viewRcrds [%O], locRcrds = [%O]",t,e,i.data.locRcrds),i.data.locs=n,g((function(){var n=Object(c.a)(e,i.data);Object.keys(n);o=n,r=0,a=0,Object.keys(o).forEach((function(t){"none"===t?a+=o[t].ttl:r+=o[t].ttl})),w(r,a),function(t,e){for(var n in e)"none"!==n&&L(t,n,e[n])}(t,n),function(t){var e,n;function o(t,o){t.locs.forEach((function(t){n||(n=P(t,o));var i=function(t){return t.region?t.region.displayName:t.displayName}(t);e=(i==e||!e)&&i}))}(function(){for(var n in t)if("none"!==n){if(!1===e)return;o(t[n],n)}})(),e&&i.map.setView(n,3,{animate:!0})}(n);var o,r,a}),"map")}function L(t,e,n){var o=function(t,e){return D(e.locs[0],i.data.geo[t])}(e,n),r=function(t,e,n,o){var r={focus:t,intData:o,latLng:n,rcrds:i.data};return e>1?new l.a(i.map,e,r):new l.b(r)}(t,n.ttl,o,n);i.map.addLayer(r.layer)}function P(t,e){return!!e&&D(t,i.data.geo[e])}function D(e,n){if(!n.displayPoint)return function(e,n){if(!e||!n)return!1;var o=k(e,n),i=t.geoJson(o);return console.log('### New Center Coordinates ### "%s" => ',e.displayName,i.getBounds().getCenter()),i.getBounds().getCenter()}(e,n);var o=JSON.parse(n.displayPoint);return t.latLng(o[1],o[0])}function k(t,e){return{type:"Feature",geometry:{type:e.type,coordinates:JSON.parse(e.coordinates)},properties:{name:t.displayName}}}function N(e,n,r){if(console.log("           --addVolatileMapPin"),!e)return U();var a=t.latLng(o("#Latitude_row input").val(),o("#Longitude_row input").val());"edit"===n?function(t,e,n){if(i.geoCoder.reverse(t,1,M.bind(null,t,"edit"),null),!n)return;W(n,"skipZoom","edit",e),i.map.setView(t,10,{animate:!0})}(a,e,r):function(t){i.geoCoder.reverse(t,1,M.bind(null,t,!1),null),F(t)}(a),o("#cnt-legend").html("")}function F(t){o("#Latitude_row input").val(t.lat.toFixed(5)),o("#Longitude_row input").val(t.lng.toFixed(5))}function M(t,e,n){if(console.log("           --updateUiAfterFormGeocode. zoomFlag? [%s] point = %O results = %O",e,t,n),i.map)return n.length?void I(t,n[0],e):I(t,null,e)}function I(t,e,n){if(!e)return j(t,null,n);Object(s._db)("getData",["countryCodes"]).then((function(r){var a=e?function(t,e){return{cntryId:G(e,t.properties.address),name:t.name}}(e,r):null;j(t,a,n),o("#"+i.map._container.id).css("cursor","default"),"edit"===n&&o("#"+i.map._container.id).data("loaded")}))}function G(t,e){return"French Guiana"===e.state?210:t[e.country_code.toUpperCase()]}function j(t,e,n){var r={latLng:t,loc:e,rcrds:i.data},a="edit"===n?"edite-loc":"new-loc",s=new l.d(r,a);U(e),e&&"edit"!==n&&(o("#Country-sel")[0].selectize.addItem(e.cntryId,"silent"),W(e.cntryId,null)),function(t,e,n){var o=n?i.map.getZoom():8;i.volatile.pin=e,i.map.addLayer(e),i.map.setView(t,o,{animate:!0})}(t,s.layer,n)}function U(t){if(!i.volatile.pin)return i.volatile.loc=t;i.map.removeLayer(i.volatile.pin),function(t){i.volatile.prevLoc=i.volatile.loc,i.volatile.loc=t}(t)}function B(t,e,n){console.log("           /--initFormMap type = [%s]",n),i.data.locs=i.data.locs||e,g(V.bind(null,t,n),"form-map",n)}function V(t,e){u.d(i.map),"int"===e?u.e(i.map):"edit"===e?u.a(i.map):(u.a(i.map),u.c(i.map)),t&&(W(t,null,e),o("#form-map").data("loaded",!0))}function W(e,n,o,r){var a=i.data.locs[e];if(!a)return console.log("No country data matched in geocode results");(function(e,n,o){i.volatile.poly&&(i.map.removeLayer(i.volatile.poly),delete i.volatile.poly);if(!n||"Point"==n.type)return;var r=k(e,n);if(i.volatile.poly=t.geoJSON(r),i.volatile.poly.addTo(i.map),o)return;i.map.fitBounds(i.volatile.poly.getBounds(),{padding:[10,10]})}(a,!!a.geoJsonId&&i.data.geo[a.geoJsonId],n),"map"!==o)&&function(t,e,n,o){var r=i.data.locs[t],a=P(r,r.geoJsonId);if(function(){if(!i.volatile.markers)return i.volatile.markers=[];i.volatile.markers.forEach((function(t){return i.map.removeLayer(t)})),i.volatile.markers=[]}(),function(t,e,n,o){var r=[],a=function(t){return t.children.map((function(t){return i.data.locs[t]})).filter((function(t){return"Habitat"!==t.locationType.displayName||t.totalInts>0}))}(t);s(),u.b(a.length,r.length,t),r.length&&function(t){if(!e)return;var n={latLng:e,loc:r,rcrds:i.data},o=1===t?new l.d(n,"form-noGps"):new l.c(i.map,t,n,"form-noGps");i.map.addLayer(o.layer),i.volatile.markers.push(o.layer)}(r.length);function s(){a.forEach((function(e){if(e.id!==o){var a=function(e){return t.geoJsonId!=e.geoJsonId&&P(e,e.geoJsonId)}(e);if(!a)return r.push(e);!function(t,e){var o={latLng:e,loc:t,rcrds:i.data},r=function(t,e){return("edit"===n?"edit":"")+"form"+("Country"===t.locationType.displayName?"-c":"")}(t),a=new l.d(o,r);i.map.addLayer(a.layer),i.volatile.markers.push(a.layer)}(e,a)}}))}}(r,a,n,o),!e||!a)return;i.map.setView(a,e,{animate:!0})}(e,!i.volatile.poly&&!n&&("Region"===a.locationType.displayName?3:8),o,r)}n("bMVF"),n("OsGc"),n("gkNi"),n("XHos"),delete t.Icon.Default.prototype._getIconUrl,t.Icon.Default.mergeOptions({iconRetinaUrl:n("WE1v").default,iconUrl:n("Y5fm").default,shadowUrl:n("4rkx").default}),d()}.call(this,n("4R65"),n("EVdn"))},U3f4:function(t,e,n){var o=n("g6v/"),i=n("m/L8"),r=n("rW0t");o&&"g"!=/./g.flags&&i.f(RegExp.prototype,"flags",{configurable:!0,get:r})},VcB2:function(t,e,n){"use strict";(function(t){function o(){Date.prototype.today=function(){return this.getFullYear()+"-"+(this.getMonth()+1<10?"0":"")+(this.getMonth()+1)+"-"+(this.getDate()<10?"0":"")+this.getDate()},Date.prototype.timeNow=function(){return(this.getHours()<10?"0":"")+this.getHours()+":"+(this.getMinutes()<10?"0":"")+this.getMinutes()+":"+(this.getSeconds()<10?"0":"")+this.getSeconds()},t.fn.onEnter=function(t){return this.bind("keypress",(function(e){13==e.keyCode&&t.apply(this,[e])})),this},t.event.special.destroyed={remove:function(t){t.handler&&t.handler()}}}n.d(e,"a",(function(){return o}))}).call(this,n("EVdn"))},"VzP+":function(t,e,n){"use strict";(function(t){n.d(e,"a",(function(){return a}));n("ma9I");var o=n("RIqP"),i=n.n(o),r=n("kfS4");function a(){var t={html:"<center><h3>Experiencing issues?</h3></center><br><br>\n    ".concat(s("Reset Local Data")).concat(s("Report A Bug"),"<br>"),elem:"#data-help",dir:"left",onLoad:l};Object(r._modal)("showSaveModal",[t])}function s(t){return'<button class="intro-bttn">'.concat(t,"</button>")}function l(){var e={"Reset Local Data":r.resetLocalDb.bind(null,!0),"Report A Bug":u};t(".intro-bttn").each((function(n,o){t(o).click((function(){Object(r._modal)("exitModal",[e[o.innerText]])}))}))}function u(){var e,n,o,a,s,l,u,h,g,m;t("#b-overlay-popup").html((u=c("Summarize the issue you are experiencing:",!0),h=c("Describe the steps necessary to reproduce the issue:",!0),g=c("Please paste in the logs from your browser console:"),m=c("Please provide any additional helpful information:"),e=[u,h,g,m],o=Object(r._u)("buildElem",["div",{class:"flex-row"}]),a=Object(r._u)("buildElem",["div",{class:"flex-grow"}]),s=d("Submit",p),l=d("Cancel",f),t(o).append([a,s,l]),n=o,["<h3><center>New Issue Report</center></h3><br>"].concat(i()(e),[n]))),t("#b-overlay-popup").addClass("bugs-popup flex-row"),t(document).on("keyup",(function(t){27==t.keyCode&&f()})),t("#b-overlay").click(f),t("#b-overlay-popup").click((function(t){t.stopPropagation()})),t("#b-overlay, #b-overlay-popup").fadeIn(500,(function(){return t(".bug-rprt-input")[0].focus()}))}function c(e,n){var o=function(t){var e="bug-prompt"+(t?" required":"");return Object(r._u)("buildElem",["label",{class:e}])}(n),i=Object(r._u)("buildElem",["span",{text:e,class:"bug-span"}]),a=Object(r._u)("buildElem",["textarea",{class:"bug-rprt-input"}]);return t(o).append([i,a]),o}function d(e,n){var o={id:"rprt-"+e,class:"ag-fresh",type:"button",value:e},i=Object(r._u)("buildElem",["input",o]);return t(i).click(n),i}function p(){var e;(function(e){var n=!0;return e.each((function(e,o){t(o.children[1]).val()||(n=!1)})),n})(t(".bug-prompt.required"))?(e={summary:t(".bug-rprt-input")[0].value,steps:t(".bug-rprt-input")[1].value,etc:t(".bug-rprt-input")[0].value},Object(r.alertIssue)("editorReport",e),t("#rprt-Cancel").val("Close"),t("#rprt-Submit, .bug-rprt-input").css({opacity:.5,pointer:"not-allowed"}).attr("disabled",!0),h("Thank you for helping improve the database!","green")):h("Please fill all required fields.","red")}function h(e,n){t(".rprt-status")[0]&&t(".rprt-status").remove(),t(".bugs-popup h3").after(function(e,n){var o=Object(r._u)("buildElem",["div",{class:"rprt-status",text:e}]);return t(o).css({color:n,"margin-top":"1em"}),o}(e,n))}function f(){t("#b-overlay").fadeTo("fast",0,(function(){t("#b-overlay").css({display:"none",opacity:1}),t(document).on("keyup",(function(){})),t("#b-overlay").click((function(){})),t("#b-overlay-popup").removeClass("bugs-popup"),t("#b-overlay").removeClass("flex-col"),t("#b-overlay-popup").empty()}))}}).call(this,n("EVdn"))},W8MJ:function(t,e){function n(t,e){for(var n=0;n<e.length;n++){var o=e[n];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(t,o.key,o)}}t.exports=function(t,e,o){return e&&n(t.prototype,e),o&&n(t,o),t}},WE1v:function(t,e,n){"use strict";n.r(e),e.default="/BatBase/web/build/images/marker-icon-2x.680f69f3.png"},WGBp:function(t,e,n){var o=n("xDBR"),i=n("mh/w");t.exports=o?i:function(t){return Set.prototype.values.call(t)}},WJkJ:function(t,e){t.exports="\t\n\v\f\r ¬†·öÄ‚ÄÄ‚ÄÅ‚ÄÇ‚ÄÉ‚ÄÑ‚ÄÖ‚ÄÜ‚Äá‚Äà‚Äâ‚Ää‚ÄØ‚Åü„ÄÄ\u2028\u2029\ufeff"},WKiH:function(t,e,n){var o=n("HYAF"),i="["+n("WJkJ")+"]",r=RegExp("^"+i+i+"*"),a=RegExp(i+i+"*$"),s=function(t){return function(e){var n=String(o(e));return 1&t&&(n=n.replace(r,"")),2&t&&(n=n.replace(a,"")),n}};t.exports={start:s(1),end:s(2),trim:s(3)}},WSEr:function(t,e,n){"use strict";n.r(e),n.d(e,"Severity",(function(){return a})),n.d(e,"Status",(function(){return s})),n.d(e,"addGlobalEventProcessor",(function(){return u.b})),n.d(e,"addBreadcrumb",(function(){return m})),n.d(e,"captureException",(function(){return p})),n.d(e,"captureEvent",(function(){return f})),n.d(e,"captureMessage",(function(){return h})),n.d(e,"configureScope",(function(){return g})),n.d(e,"getHubFromCarrier",(function(){return c.c})),n.d(e,"getCurrentHub",(function(){return c.b})),n.d(e,"Hub",(function(){return c.a})),n.d(e,"Scope",(function(){return u.a})),n.d(e,"setContext",(function(){return v})),n.d(e,"setExtra",(function(){return _})),n.d(e,"setExtras",(function(){return y})),n.d(e,"setTag",(function(){return C})),n.d(e,"setTags",(function(){return b})),n.d(e,"setUser",(function(){return w})),n.d(e,"withScope",(function(){return E})),n.d(e,"BrowserClient",(function(){return dt})),n.d(e,"defaultIntegrations",(function(){return Ut})),n.d(e,"forceLoad",(function(){return Ht})),n.d(e,"init",(function(){return Bt})),n.d(e,"lastEventId",(function(){return Wt})),n.d(e,"onLoad",(function(){return zt})),n.d(e,"showReportDialog",(function(){return Vt})),n.d(e,"flush",(function(){return Zt})),n.d(e,"close",(function(){return Yt})),n.d(e,"wrap",(function(){return qt})),n.d(e,"SDK_NAME",(function(){return ut})),n.d(e,"SDK_VERSION",(function(){return ct})),n.d(e,"Integrations",(function(){return Kt})),n.d(e,"Transports",(function(){return r}));var o={};n.r(o),n.d(o,"FunctionToString",(function(){return pt})),n.d(o,"InboundFilters",(function(){return ft}));var i={};n.r(i),n.d(i,"GlobalHandlers",(function(){return Mt})),n.d(i,"TryCatch",(function(){return _t})),n.d(i,"Breadcrumbs",(function(){return Nt})),n.d(i,"LinkedErrors",(function(){return It})),n.d(i,"UserAgent",(function(){return jt}));var r={};n.r(r),n.d(r,"BaseTransport",(function(){return it})),n.d(r,"FetchTransport",(function(){return at})),n.d(r,"XHRTransport",(function(){return st}));var a,s,l=n("mrSG");!function(t){t.Fatal="fatal",t.Error="error",t.Warning="warning",t.Log="log",t.Info="info",t.Debug="debug",t.Critical="critical"}(a||(a={})),function(t){t.fromString=function(e){switch(e){case"debug":return t.Debug;case"info":return t.Info;case"warn":case"warning":return t.Warning;case"error":return t.Error;case"fatal":return t.Fatal;case"critical":return t.Critical;case"log":default:return t.Log}}}(a||(a={})),function(t){t.Unknown="unknown",t.Skipped="skipped",t.Success="success",t.RateLimit="rate_limit",t.Invalid="invalid",t.Failed="failed"}(s||(s={})),function(t){t.fromHttpCode=function(e){return e>=200&&e<300?t.Success:429===e?t.RateLimit:e>=400&&e<500?t.Invalid:e>=500?t.Failed:t.Unknown}}(s||(s={}));var u=n("KjyA"),c=n("lW6c");function d(t){for(var e=[],n=1;n<arguments.length;n++)e[n-1]=arguments[n];var o=Object(c.b)();if(o&&o[t])return o[t].apply(o,l.d(e));throw new Error("No hub defined or "+t+" was not found on the hub, please open a bug report.")}function p(t){var e;try{throw new Error("Sentry syntheticException")}catch(t){e=t}return d("captureException",t,{originalException:t,syntheticException:e})}function h(t,e){var n;try{throw new Error(t)}catch(t){n=t}return d("captureMessage",t,e,{originalException:t,syntheticException:n})}function f(t){return d("captureEvent",t)}function g(t){d("configureScope",t)}function m(t){d("addBreadcrumb",t)}function v(t,e){d("setContext",t,e)}function y(t){d("setExtras",t)}function b(t){d("setTags",t)}function _(t,e){d("setExtra",t,e)}function C(t,e){d("setTag",t,e)}function w(t){d("setUser",t)}function E(t){d("withScope",t)}var x=Object.setPrototypeOf||({__proto__:[]}instanceof Array?function(t,e){return t.__proto__=e,t}:function(t,e){for(var n in e)t.hasOwnProperty(n)||(t[n]=e[n]);return t});var S=function(t){function e(e){var n=this.constructor,o=t.call(this,e)||this;return o.message=e,o.name=n.prototype.constructor.name,x(o,n.prototype),o}return l.b(e,t),e}(Error),A=/^(?:(\w+):)\/\/(?:(\w+)(?::(\w+))?@)([\w\.-]+)(?::(\d+))?\/(.+)/,O=function(){function t(t){"string"==typeof t?this._fromString(t):this._fromComponents(t),this._validate()}return t.prototype.toString=function(t){void 0===t&&(t=!1);var e=this,n=e.host,o=e.path,i=e.pass,r=e.port,a=e.projectId;return e.protocol+"://"+e.user+(t&&i?":"+i:"")+"@"+n+(r?":"+r:"")+"/"+(o?o+"/":o)+a},t.prototype._fromString=function(t){var e=A.exec(t);if(!e)throw new S("Invalid Dsn");var n=l.c(e.slice(1),6),o=n[0],i=n[1],r=n[2],a=void 0===r?"":r,s=n[3],u=n[4],c=void 0===u?"":u,d="",p=n[5],h=p.split("/");h.length>1&&(d=h.slice(0,-1).join("/"),p=h.pop()),this._fromComponents({host:s,pass:a,path:d,projectId:p,port:c,protocol:o,user:i})},t.prototype._fromComponents=function(t){this.protocol=t.protocol,this.user=t.user,this.pass=t.pass||"",this.host=t.host,this.port=t.port||"",this.path=t.path||"",this.projectId=t.projectId},t.prototype._validate=function(){var t=this;if(["protocol","user","host","projectId"].forEach((function(e){if(!t[e])throw new S("Invalid Dsn")})),"http"!==this.protocol&&"https"!==this.protocol)throw new S("Invalid Dsn");if(this.port&&isNaN(parseInt(this.port,10)))throw new S("Invalid Dsn")},t}(),R=n("6PXS"),T=n("9/Zf"),L=function(){function t(t){this.dsn=t,this._dsnObject=new O(t)}return t.prototype.getDsn=function(){return this._dsnObject},t.prototype.getStoreEndpoint=function(){return""+this._getBaseUrl()+this.getStoreEndpointPath()},t.prototype.getStoreEndpointWithUrlEncodedAuth=function(){var t={sentry_key:this._dsnObject.user,sentry_version:"7"};return this.getStoreEndpoint()+"?"+Object(R.e)(t)},t.prototype._getBaseUrl=function(){var t=this._dsnObject,e=t.protocol?t.protocol+":":"",n=t.port?":"+t.port:"";return e+"//"+t.host+n},t.prototype.getStoreEndpointPath=function(){var t=this._dsnObject;return(t.path?"/"+t.path:"")+"/api/"+t.projectId+"/store/"},t.prototype.getRequestHeaders=function(t,e){var n=this._dsnObject,o=["Sentry sentry_version=7"];return o.push("sentry_timestamp="+Object(T.m)()),o.push("sentry_client="+t+"/"+e),o.push("sentry_key="+n.user),n.pass&&o.push("sentry_secret="+n.pass),{"Content-Type":"application/json","X-Sentry-Auth":o.join(", ")}},t.prototype.getReportDialogEndpoint=function(t){void 0===t&&(t={});var e=this._dsnObject,n=this._getBaseUrl()+(e.path?"/"+e.path:"")+"/api/embed/error-page/",o=[];for(var i in o.push("dsn="+e.toString()),t)if("user"===i){if(!t.user)continue;t.user.name&&o.push("name="+encodeURIComponent(t.user.name)),t.user.email&&o.push("email="+encodeURIComponent(t.user.email))}else o.push(encodeURIComponent(i)+"="+encodeURIComponent(t[i]));return o.length?n+"?"+o.join("&"):n},t}(),P=n("8LbN"),D=n("9AQC"),k=n("HR75"),N=n("+924"),F=[];function M(t){var e={};return function(t){var e=t.defaultIntegrations&&l.d(t.defaultIntegrations)||[],n=t.integrations,o=[];if(Array.isArray(n)){var i=n.map((function(t){return t.name})),r=[];e.forEach((function(t){-1===i.indexOf(t.name)&&-1===r.indexOf(t.name)&&(o.push(t),r.push(t.name))})),n.forEach((function(t){-1===r.indexOf(t.name)&&(o.push(t),r.push(t.name))}))}else"function"==typeof n?(o=n(e),o=Array.isArray(o)?o:[o]):o=l.d(e);var a=o.map((function(t){return t.name}));return-1!==a.indexOf("Debug")&&o.push.apply(o,l.d(o.splice(a.indexOf("Debug"),1))),o}(t).forEach((function(t){e[t.name]=t,function(t){-1===F.indexOf(t.name)&&(t.setupOnce(u.b,c.b),F.push(t.name),P.a.log("Integration installed: "+t.name))}(t)})),e}var I=function(){function t(t,e){this._integrations={},this._processing=!1,this._backend=new t(e),this._options=e,e.dsn&&(this._dsn=new O(e.dsn)),this._isEnabled()&&(this._integrations=M(this._options))}return t.prototype.captureException=function(t,e,n){var o=this,i=e&&e.event_id;return this._processing=!0,this._getBackend().eventFromException(t,e).then((function(t){return o._processEvent(t,e,n)})).then((function(t){i=t&&t.event_id,o._processing=!1})).then(null,(function(t){P.a.error(t),o._processing=!1})),i},t.prototype.captureMessage=function(t,e,n,o){var i=this,r=n&&n.event_id;return this._processing=!0,(Object(D.i)(t)?this._getBackend().eventFromMessage(""+t,e,n):this._getBackend().eventFromException(t,n)).then((function(t){return i._processEvent(t,n,o)})).then((function(t){r=t&&t.event_id,i._processing=!1})).then(null,(function(t){P.a.error(t),i._processing=!1})),r},t.prototype.captureEvent=function(t,e,n){var o=this,i=e&&e.event_id;return this._processing=!0,this._processEvent(t,e,n).then((function(t){i=t&&t.event_id,o._processing=!1})).then(null,(function(t){P.a.error(t),o._processing=!1})),i},t.prototype.getDsn=function(){return this._dsn},t.prototype.getOptions=function(){return this._options},t.prototype.flush=function(t){var e=this;return this._isClientProcessing(t).then((function(n){return clearInterval(n.interval),e._getBackend().getTransport().close(t).then((function(t){return n.ready&&t}))}))},t.prototype.close=function(t){var e=this;return this.flush(t).then((function(t){return e.getOptions().enabled=!1,t}))},t.prototype.getIntegrations=function(){return this._integrations||{}},t.prototype.getIntegration=function(t){try{return this._integrations[t.id]||null}catch(e){return P.a.warn("Cannot retrieve integration "+t.id+" from the current Client"),null}},t.prototype._isClientProcessing=function(t){var e=this;return new k.a((function(n){var o=0,i=0;clearInterval(i),i=setInterval((function(){e._processing?(o+=1,t&&o>=t&&n({interval:i,ready:!1})):n({interval:i,ready:!0})}),1)}))},t.prototype._getBackend=function(){return this._backend},t.prototype._isEnabled=function(){return!1!==this.getOptions().enabled&&void 0!==this._dsn},t.prototype._prepareEvent=function(t,e,n){var o=this,i=this.getOptions(),r=i.environment,a=i.release,s=i.dist,u=i.maxValueLength,c=void 0===u?250:u,d=i.normalizeDepth,p=void 0===d?3:d,h=l.a({},t);void 0===h.environment&&void 0!==r&&(h.environment=r),void 0===h.release&&void 0!==a&&(h.release=a),void 0===h.dist&&void 0!==s&&(h.dist=s),h.message&&(h.message=Object(N.d)(h.message,c));var f=h.exception&&h.exception.values&&h.exception.values[0];f&&f.value&&(f.value=Object(N.d)(f.value,c));var g=h.request;g&&g.url&&(g.url=Object(N.d)(g.url,c)),void 0===h.event_id&&(h.event_id=n&&n.event_id?n.event_id:Object(T.n)()),this._addIntegrations(h.sdk);var m=k.a.resolve(h);return e&&(m=e.applyToEvent(h,n)),m.then((function(t){return"number"==typeof p&&p>0?o._normalizeEvent(t,p):t}))},t.prototype._normalizeEvent=function(t,e){return t?l.a({},t,t.breadcrumbs&&{breadcrumbs:t.breadcrumbs.map((function(t){return l.a({},t,t.data&&{data:Object(R.c)(t.data,e)})}))},t.user&&{user:Object(R.c)(t.user,e)},t.contexts&&{contexts:Object(R.c)(t.contexts,e)},t.extra&&{extra:Object(R.c)(t.extra,e)}):null},t.prototype._addIntegrations=function(t){var e=Object.keys(this._integrations);t&&e.length>0&&(t.integrations=e)},t.prototype._processEvent=function(t,e,n){var o=this,i=this.getOptions(),r=i.beforeSend,a=i.sampleRate;return this._isEnabled()?"number"==typeof a&&Math.random()>a?k.a.reject("This event has been sampled, will not send event."):new k.a((function(i,a){o._prepareEvent(t,n,e).then((function(t){if(null!==t){var n=t;try{if(e&&e.data&&!0===e.data.__sentry__||!r)return o._getBackend().sendEvent(n),void i(n);var s=r(t,e);if(void 0===s)P.a.error("`beforeSend` method has to return `null` or a valid event.");else if(Object(D.m)(s))o._handleAsyncBeforeSend(s,i,a);else{if(null===(n=s))return P.a.log("`beforeSend` returned `null`, will not send event."),void i(null);o._getBackend().sendEvent(n),i(n)}}catch(t){o.captureException(t,{data:{__sentry__:!0},originalException:t}),a("`beforeSend` threw an error, will not send event.")}}else a("An event processor returned null, will not send event.")})).then(null,(function(){a("`beforeSend` threw an error, will not send event.")}))})):k.a.reject("SDK not enabled, will not send event.")},t.prototype._handleAsyncBeforeSend=function(t,e,n){var o=this;t.then((function(t){null!==t?(o._getBackend().sendEvent(t),e(t)):n("`beforeSend` returned `null`, will not send event.")})).then(null,(function(t){n("beforeSend rejected with "+t)}))},t}(),G=function(){function t(){}return t.prototype.sendEvent=function(t){return k.a.resolve({reason:"NoopTransport: Event has been skipped because no Dsn is configured.",status:s.Skipped})},t.prototype.close=function(t){return k.a.resolve(!0)},t}(),j=function(){function t(t){this._options=t,this._options.dsn||P.a.warn("No DSN provided, backend will not do anything."),this._transport=this._setupTransport()}return t.prototype._setupTransport=function(){return new G},t.prototype.eventFromException=function(t,e){throw new S("Backend has to implement `eventFromException` method")},t.prototype.eventFromMessage=function(t,e,n){throw new S("Backend has to implement `eventFromMessage` method")},t.prototype.sendEvent=function(t){this._transport.sendEvent(t).then(null,(function(t){P.a.error("Error while sending event: "+t)}))},t.prototype.getTransport=function(){return this._transport},t}();function U(){if(!("fetch"in Object(T.g)()))return!1;try{return new Headers,new Request(""),new Response,!0}catch(t){return!1}}function B(t){return t&&/^function fetch\(\)\s+\{\s+\[native code\]\s+\}$/.test(t.toString())}function V(){if(!U())return!1;try{return new Request("_",{referrerPolicy:"origin"}),!0}catch(t){return!1}}var W=/^\s*at (?:(.*?) ?\()?((?:file|https?|blob|chrome-extension|address|native|eval|webpack|<anonymous>|[-a-z]+:|.*bundle|\/).*?)(?::(\d+))?(?::(\d+))?\)?\s*$/i,H=/^\s*(.*?)(?:\((.*?)\))?(?:^|@)?((?:file|https?|blob|chrome|webpack|resource|moz-extension).*?:\/.*?|\[native code\]|[^@]*(?:bundle|\d+\.js))(?::(\d+))?(?::(\d+))?\s*$/i,z=/^\s*at (?:((?:\[object object\])?.+) )?\(?((?:file|ms-appx|https?|webpack|blob):.*?):(\d+)(?::(\d+))?\)?\s*$/i,Z=/(\S+) line (\d+)(?: > eval line \d+)* > eval/i,Y=/\((\S*)(?::(\d+))(?::(\d+))\)/;function q(t){var e=null,n=t&&t.framesToPop;try{if(e=function(t){if(!t||!t.stacktrace)return null;for(var e,n=t.stacktrace,o=/ line (\d+).*script (?:in )?(\S+)(?:: in function (\S+))?$/i,i=/ line (\d+), column (\d+)\s*(?:in (?:<anonymous function: ([^>]+)>|([^\)]+))\((.*)\))? in (.*):\s*$/i,r=n.split("\n"),a=[],s=0;s<r.length;s+=2){var l=null;(e=o.exec(r[s]))?l={url:e[2],func:e[3],args:[],line:+e[1],column:null}:(e=i.exec(r[s]))&&(l={url:e[6],func:e[3]||e[4],args:e[5]?e[5].split(","):[],line:+e[1],column:+e[2]}),l&&(!l.func&&l.line&&(l.func="?"),a.push(l))}if(!a.length)return null;return{message:J(t),name:t.name,stack:a}}(t))return Q(e,n)}catch(t){}try{if(e=function(t){if(!t||!t.stack)return null;for(var e,n,o,i=[],r=t.stack.split("\n"),a=0;a<r.length;++a){if(n=W.exec(r[a])){var s=n[2]&&0===n[2].indexOf("native");n[2]&&0===n[2].indexOf("eval")&&(e=Y.exec(n[2]))&&(n[2]=e[1],n[3]=e[2],n[4]=e[3]),o={url:n[2]&&0===n[2].indexOf("address at ")?n[2].substr("address at ".length):n[2],func:n[1]||"?",args:s?[n[2]]:[],line:n[3]?+n[3]:null,column:n[4]?+n[4]:null}}else if(n=z.exec(r[a]))o={url:n[2],func:n[1]||"?",args:[],line:+n[3],column:n[4]?+n[4]:null};else{if(!(n=H.exec(r[a])))continue;n[3]&&n[3].indexOf(" > eval")>-1&&(e=Z.exec(n[3]))?(n[1]=n[1]||"eval",n[3]=e[1],n[4]=e[2],n[5]=""):0!==a||n[5]||void 0===t.columnNumber||(i[0].column=t.columnNumber+1),o={url:n[3],func:n[1]||"?",args:n[2]?n[2].split(","):[],line:n[4]?+n[4]:null,column:n[5]?+n[5]:null}}!o.func&&o.line&&(o.func="?"),i.push(o)}if(!i.length)return null;return{message:J(t),name:t.name,stack:i}}(t))return Q(e,n)}catch(t){}return{message:J(t),name:t&&t.name,stack:[],failed:!0}}function Q(t,e){try{return l.a({},t,{stack:t.stack.slice(e)})}catch(e){return t}}function J(t){var e=t&&t.message;return e?e.error&&"string"==typeof e.error.message?e.error.message:e:"No error message"}function K(t){var e=$(t.stack),n={type:t.name,value:t.message};return e&&e.length&&(n.stacktrace={frames:e}),void 0===n.type&&""===n.value&&(n.value="Unrecoverable error caught"),n}function X(t){return{exception:{values:[K(t)]}}}function $(t){if(!t||!t.length)return[];var e=t,n=e[0].func||"",o=e[e.length-1].func||"";return-1===n.indexOf("captureMessage")&&-1===n.indexOf("captureException")||(e=e.slice(1)),-1!==o.indexOf("sentryWrapped")&&(e=e.slice(0,-1)),e.map((function(t){return{colno:null===t.column?void 0:t.column,filename:t.url||e[0].url,function:t.func||"?",in_app:!0,lineno:null===t.line?void 0:t.line}})).slice(0,50).reverse()}function tt(t,e,n){var o;if(void 0===n&&(n={}),Object(D.e)(t)&&t.error)return o=X(q(t=t.error));if(Object(D.a)(t)||Object(D.b)(t)){var i=t,r=i.name||(Object(D.a)(i)?"DOMError":"DOMException"),a=i.message?r+": "+i.message:r;return o=et(a,e,n),Object(T.b)(o,a),o}return Object(D.d)(t)?o=X(q(t)):Object(D.h)(t)||Object(D.f)(t)?(o=function(t,e,n){var o={exception:{values:[{type:Object(D.f)(t)?t.constructor.name:n?"UnhandledRejection":"Error",value:"Non-Error "+(n?"promise rejection":"exception")+" captured with keys: "+Object(R.a)(t)}]},extra:{__serialized__:Object(R.d)(t)}};if(e){var i=$(q(e).stack);o.stacktrace={frames:i}}return o}(t,e,n.rejection),Object(T.a)(o,{synthetic:!0}),o):(o=et(t,e,n),Object(T.b)(o,""+t,void 0),Object(T.a)(o,{synthetic:!0}),o)}function et(t,e,n){void 0===n&&(n={});var o={message:t};if(n.attachStacktrace&&e){var i=$(q(e).stack);o.stacktrace={frames:i}}return o}var nt,ot=function(){function t(t){this._limit=t,this._buffer=[]}return t.prototype.isReady=function(){return void 0===this._limit||this.length()<this._limit},t.prototype.add=function(t){var e=this;return this.isReady()?(-1===this._buffer.indexOf(t)&&this._buffer.push(t),t.then((function(){return e.remove(t)})).then(null,(function(){return e.remove(t).then(null,(function(){}))})),t):k.a.reject(new S("Not adding Promise due to buffer limit reached."))},t.prototype.remove=function(t){return this._buffer.splice(this._buffer.indexOf(t),1)[0]},t.prototype.length=function(){return this._buffer.length},t.prototype.drain=function(t){var e=this;return new k.a((function(n){var o=setTimeout((function(){t&&t>0&&n(!1)}),t);k.a.all(e._buffer).then((function(){clearTimeout(o),n(!0)})).then(null,(function(){n(!0)}))}))},t}(),it=function(){function t(t){this.options=t,this._buffer=new ot(30),this.url=new L(this.options.dsn).getStoreEndpointWithUrlEncodedAuth()}return t.prototype.sendEvent=function(t){throw new S("Transport Class has to implement `sendEvent` method")},t.prototype.close=function(t){return this._buffer.drain(t)},t}(),rt=Object(T.g)(),at=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e._disabledUntil=new Date(Date.now()),e}return l.b(e,t),e.prototype.sendEvent=function(t){var e=this;if(new Date(Date.now())<this._disabledUntil)return Promise.reject({event:t,reason:"Transport locked till "+this._disabledUntil+" due to too many requests.",status:429});var n={body:JSON.stringify(t),method:"POST",referrerPolicy:V()?"origin":""};return void 0!==this.options.headers&&(n.headers=this.options.headers),this._buffer.add(new k.a((function(t,o){rt.fetch(e.url,n).then((function(n){var i=s.fromHttpCode(n.status);if(i!==s.Success){if(i===s.RateLimit){var r=Date.now();e._disabledUntil=new Date(r+Object(T.k)(r,n.headers.get("Retry-After"))),P.a.warn("Too many requests, backing off till: "+e._disabledUntil)}o(n)}else t({status:i})})).catch(o)})))},e}(it),st=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e._disabledUntil=new Date(Date.now()),e}return l.b(e,t),e.prototype.sendEvent=function(t){var e=this;return new Date(Date.now())<this._disabledUntil?Promise.reject({event:t,reason:"Transport locked till "+this._disabledUntil+" due to too many requests.",status:429}):this._buffer.add(new k.a((function(n,o){var i=new XMLHttpRequest;for(var r in i.onreadystatechange=function(){if(4===i.readyState){var t=s.fromHttpCode(i.status);if(t!==s.Success){if(t===s.RateLimit){var r=Date.now();e._disabledUntil=new Date(r+Object(T.k)(r,i.getResponseHeader("Retry-After"))),P.a.warn("Too many requests, backing off till: "+e._disabledUntil)}o(i)}else n({status:t})}},i.open("POST",e.url),e.options.headers)e.options.headers.hasOwnProperty(r)&&i.setRequestHeader(r,e.options.headers[r]);i.send(JSON.stringify(t))})))},e}(it),lt=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return l.b(e,t),e.prototype._setupTransport=function(){if(!this._options.dsn)return t.prototype._setupTransport.call(this);var e=l.a({},this._options.transportOptions,{dsn:this._options.dsn});return this._options.transport?new this._options.transport(e):U()?new at(e):new st(e)},e.prototype.eventFromException=function(t,e){var n=tt(t,e&&e.syntheticException||void 0,{attachStacktrace:this._options.attachStacktrace});return Object(T.a)(n,{handled:!0,type:"generic"}),n.level=a.Error,e&&e.event_id&&(n.event_id=e.event_id),k.a.resolve(n)},e.prototype.eventFromMessage=function(t,e,n){void 0===e&&(e=a.Info);var o=et(t,n&&n.syntheticException||void 0,{attachStacktrace:this._options.attachStacktrace});return o.level=e,n&&n.event_id&&(o.event_id=n.event_id),k.a.resolve(o)},e}(j),ut="sentry.javascript.browser",ct="5.12.1",dt=function(t){function e(e){return void 0===e&&(e={}),t.call(this,lt,e)||this}return l.b(e,t),e.prototype._prepareEvent=function(e,n,o){return e.platform=e.platform||"javascript",e.sdk=l.a({},e.sdk,{name:ut,packages:l.d(e.sdk&&e.sdk.packages||[],[{name:"npm:@sentry/browser",version:ct}]),version:ct}),t.prototype._prepareEvent.call(this,e,n,o)},e.prototype.showReportDialog=function(t){void 0===t&&(t={});var e=Object(T.g)().document;if(e)if(this._isEnabled()){var n=t.dsn||this.getDsn();if(t.eventId)if(n){var o=e.createElement("script");o.async=!0,o.src=new L(n).getReportDialogEndpoint(t),t.onLoad&&(o.onload=t.onLoad),(e.head||e.body).appendChild(o)}else P.a.error("Missing `Dsn` option in showReportDialog call");else P.a.error("Missing `eventId` option in showReportDialog call")}else P.a.error("Trying to call showReportDialog with Sentry Client is disabled")},e}(I),pt=function(){function t(){this.name=t.id}return t.prototype.setupOnce=function(){nt=Function.prototype.toString,Function.prototype.toString=function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];var n=this.__sentry_original__||this;return nt.apply(n,t)}},t.id="FunctionToString",t}(),ht=[/^Script error\.?$/,/^Javascript error: Script error\.? on line 0$/],ft=function(){function t(e){void 0===e&&(e={}),this._options=e,this.name=t.id}return t.prototype.setupOnce=function(){Object(u.b)((function(e){var n=Object(c.b)();if(!n)return e;var o=n.getIntegration(t);if(o){var i=n.getClient(),r=i?i.getOptions():{},a=o._mergeOptions(r);if(o._shouldDropEvent(e,a))return null}return e}))},t.prototype._shouldDropEvent=function(t,e){return this._isSentryError(t,e)?(P.a.warn("Event dropped due to being internal Sentry Error.\nEvent: "+Object(T.e)(t)),!0):this._isIgnoredError(t,e)?(P.a.warn("Event dropped due to being matched by `ignoreErrors` option.\nEvent: "+Object(T.e)(t)),!0):this._isBlacklistedUrl(t,e)?(P.a.warn("Event dropped due to being matched by `blacklistUrls` option.\nEvent: "+Object(T.e)(t)+".\nUrl: "+this._getEventFilterUrl(t)),!0):!this._isWhitelistedUrl(t,e)&&(P.a.warn("Event dropped due to not being matched by `whitelistUrls` option.\nEvent: "+Object(T.e)(t)+".\nUrl: "+this._getEventFilterUrl(t)),!0)},t.prototype._isSentryError=function(t,e){if(void 0===e&&(e={}),!e.ignoreInternal)return!1;try{return t&&t.exception&&t.exception.values&&t.exception.values[0]&&"SentryError"===t.exception.values[0].type||!1}catch(t){return!1}},t.prototype._isIgnoredError=function(t,e){return void 0===e&&(e={}),!(!e.ignoreErrors||!e.ignoreErrors.length)&&this._getPossibleEventMessages(t).some((function(t){return e.ignoreErrors.some((function(e){return Object(N.a)(t,e)}))}))},t.prototype._isBlacklistedUrl=function(t,e){if(void 0===e&&(e={}),!e.blacklistUrls||!e.blacklistUrls.length)return!1;var n=this._getEventFilterUrl(t);return!!n&&e.blacklistUrls.some((function(t){return Object(N.a)(n,t)}))},t.prototype._isWhitelistedUrl=function(t,e){if(void 0===e&&(e={}),!e.whitelistUrls||!e.whitelistUrls.length)return!0;var n=this._getEventFilterUrl(t);return!n||e.whitelistUrls.some((function(t){return Object(N.a)(n,t)}))},t.prototype._mergeOptions=function(t){return void 0===t&&(t={}),{blacklistUrls:l.d(this._options.blacklistUrls||[],t.blacklistUrls||[]),ignoreErrors:l.d(this._options.ignoreErrors||[],t.ignoreErrors||[],ht),ignoreInternal:void 0===this._options.ignoreInternal||this._options.ignoreInternal,whitelistUrls:l.d(this._options.whitelistUrls||[],t.whitelistUrls||[])}},t.prototype._getPossibleEventMessages=function(t){if(t.message)return[t.message];if(t.exception)try{var e=t.exception.values&&t.exception.values[0]||{},n=e.type,o=void 0===n?"":n,i=e.value,r=void 0===i?"":i;return[""+r,o+": "+r]}catch(e){return P.a.error("Cannot extract message for event "+Object(T.e)(t)),[]}return[]},t.prototype._getEventFilterUrl=function(t){try{if(t.stacktrace){var e=t.stacktrace.frames;return e&&e[e.length-1].filename||null}if(t.exception){var n=t.exception.values&&t.exception.values[0].stacktrace&&t.exception.values[0].stacktrace.frames;return n&&n[n.length-1].filename||null}return null}catch(e){return P.a.error("Cannot extract url for event "+Object(T.e)(t)),null}},t.id="InboundFilters",t}();var gt=0;function mt(){return gt>0}function vt(){gt+=1,setTimeout((function(){gt-=1}))}function yt(t,e,n){if(void 0===e&&(e={}),"function"!=typeof t)return t;try{if(t.__sentry__)return t;if(t.__sentry_wrapped__)return t.__sentry_wrapped__}catch(e){return t}var o=function(){var o=Array.prototype.slice.call(arguments);try{n&&"function"==typeof n&&n.apply(this,arguments);var i=o.map((function(t){return yt(t,e)}));return t.handleEvent?t.handleEvent.apply(this,i):t.apply(this,i)}catch(t){throw vt(),E((function(n){n.addEventProcessor((function(t){var n=l.a({},t);return e.mechanism&&(Object(T.b)(n,void 0,void 0),Object(T.a)(n,e.mechanism)),n.extra=l.a({},n.extra,{arguments:o}),n})),p(t)})),t}};try{for(var i in t)Object.prototype.hasOwnProperty.call(t,i)&&(o[i]=t[i])}catch(t){}t.prototype=t.prototype||{},o.prototype=t.prototype,Object.defineProperty(t,"__sentry_wrapped__",{enumerable:!1,value:o}),Object.defineProperties(o,{__sentry__:{enumerable:!1,value:!0},__sentry_original__:{enumerable:!1,value:t}});try{Object.getOwnPropertyDescriptor(o,"name").configurable&&Object.defineProperty(o,"name",{get:function(){return t.name}})}catch(t){}return o}var bt,_t=function(){function t(){this._ignoreOnError=0,this.name=t.id}return t.prototype._wrapTimeFunction=function(t){return function(){for(var e=[],n=0;n<arguments.length;n++)e[n]=arguments[n];var o=e[0];return e[0]=yt(o,{mechanism:{data:{function:Object(T.f)(t)},handled:!0,type:"instrument"}}),t.apply(this,e)}},t.prototype._wrapRAF=function(t){return function(e){return t(yt(e,{mechanism:{data:{function:"requestAnimationFrame",handler:Object(T.f)(t)},handled:!0,type:"instrument"}}))}},t.prototype._wrapEventTarget=function(t){var e=Object(T.g)(),n=e[t]&&e[t].prototype;n&&n.hasOwnProperty&&n.hasOwnProperty("addEventListener")&&(Object(R.b)(n,"addEventListener",(function(e){return function(n,o,i){try{"function"==typeof o.handleEvent&&(o.handleEvent=yt(o.handleEvent.bind(o),{mechanism:{data:{function:"handleEvent",handler:Object(T.f)(o),target:t},handled:!0,type:"instrument"}}))}catch(t){}return e.call(this,n,yt(o,{mechanism:{data:{function:"addEventListener",handler:Object(T.f)(o),target:t},handled:!0,type:"instrument"}}),i)}})),Object(R.b)(n,"removeEventListener",(function(t){return function(e,n,o){var i=n;try{i=i&&(i.__sentry_wrapped__||i)}catch(t){}return t.call(this,e,i,o)}})))},t.prototype._wrapXHR=function(t){return function(){for(var e=this,n=[],o=0;o<arguments.length;o++)n[o]=arguments[o];var i=this,r=["onload","onerror","onprogress"];return r.forEach((function(t){t in e&&"function"==typeof e[t]&&Object(R.b)(e,t,(function(e){return yt(e,{mechanism:{data:{function:t,handler:Object(T.f)(e)},handled:!0,type:"instrument"}})}))})),"onreadystatechange"in i&&"function"==typeof i.onreadystatechange&&Object(R.b)(i,"onreadystatechange",(function(t){var e={mechanism:{data:{function:"onreadystatechange",handler:Object(T.f)(t)},handled:!0,type:"instrument"}};return t.__sentry_original__&&(e.mechanism.data.handler=Object(T.f)(t.__sentry_original__)),yt(t,e)})),t.apply(this,n)}},t.prototype.setupOnce=function(){this._ignoreOnError=this._ignoreOnError;var t=Object(T.g)();Object(R.b)(t,"setTimeout",this._wrapTimeFunction.bind(this)),Object(R.b)(t,"setInterval",this._wrapTimeFunction.bind(this)),Object(R.b)(t,"requestAnimationFrame",this._wrapRAF.bind(this)),"XMLHttpRequest"in t&&Object(R.b)(XMLHttpRequest.prototype,"send",this._wrapXHR.bind(this)),["EventTarget","Window","Node","ApplicationCache","AudioTrackList","ChannelMergerNode","CryptoOperation","EventSource","FileReader","HTMLUnknownElement","IDBDatabase","IDBRequest","IDBTransaction","KeyOperation","MediaController","MessagePort","ModalWindow","Notification","SVGElementInstance","Screen","TextTrack","TextTrackCue","TextTrackList","WebSocket","WebSocketWorker","Worker","XMLHttpRequest","XMLHttpRequestEventTarget","XMLHttpRequestUpload"].forEach(this._wrapEventTarget.bind(this))},t.id="TryCatch",t}(),Ct=Object(T.g)(),wt={},Et={};function xt(t){if(!Et[t])switch(Et[t]=!0,t){case"console":!function(){if(!("console"in Ct))return;["debug","info","warn","error","log","assert"].forEach((function(t){t in Ct.console&&Object(R.b)(Ct.console,t,(function(e){return function(){for(var n=[],o=0;o<arguments.length;o++)n[o]=arguments[o];At("console",{args:n,level:t}),e&&Function.prototype.apply.call(e,Ct.console,n)}}))}))}();break;case"dom":!function(){if(!("document"in Ct))return;Ct.document.addEventListener("click",Dt("click",At.bind(null,"dom")),!1),Ct.document.addEventListener("keypress",kt(At.bind(null,"dom")),!1),["EventTarget","Node"].forEach((function(t){var e=Ct[t]&&Ct[t].prototype;e&&e.hasOwnProperty&&e.hasOwnProperty("addEventListener")&&(Object(R.b)(e,"addEventListener",(function(t){return function(e,n,o){return n&&n.handleEvent?("click"===e&&Object(R.b)(n,"handleEvent",(function(t){return function(e){return Dt("click",At.bind(null,"dom"))(e),t.call(this,e)}})),"keypress"===e&&Object(R.b)(n,"handleEvent",(function(t){return function(e){return kt(At.bind(null,"dom"))(e),t.call(this,e)}}))):("click"===e&&Dt("click",At.bind(null,"dom"),!0)(this),"keypress"===e&&kt(At.bind(null,"dom"))(this)),t.call(this,e,n,o)}})),Object(R.b)(e,"removeEventListener",(function(t){return function(e,n,o){var i=n;try{i=i&&(i.__sentry_wrapped__||i)}catch(t){}return t.call(this,e,i,o)}})))}))}();break;case"xhr":!function(){if(!("XMLHttpRequest"in Ct))return;var t=XMLHttpRequest.prototype;Object(R.b)(t,"open",(function(t){return function(){for(var e=[],n=0;n<arguments.length;n++)e[n]=arguments[n];var o=e[1];return this.__sentry_xhr__={method:Object(D.k)(e[0])?e[0].toUpperCase():e[0],url:e[1]},Object(D.k)(o)&&"POST"===this.__sentry_xhr__.method&&o.match(/sentry_key/)&&(this.__sentry_own_request__=!0),t.apply(this,e)}})),Object(R.b)(t,"send",(function(t){return function(){for(var e=[],n=0;n<arguments.length;n++)e[n]=arguments[n];var o=this,i={args:e,startTimestamp:Date.now(),xhr:o};function r(){if(4===o.readyState){try{o.__sentry_xhr__&&(o.__sentry_xhr__.status_code=o.status)}catch(t){}At("xhr",l.a({},i,{endTimestamp:Date.now()}))}}return At("xhr",l.a({},i)),"onreadystatechange"in o&&"function"==typeof o.onreadystatechange?Object(R.b)(o,"onreadystatechange",(function(t){return function(){for(var e=[],n=0;n<arguments.length;n++)e[n]=arguments[n];return r(),t.apply(o,e)}})):o.onreadystatechange=r,t.apply(this,e)}}))}();break;case"fetch":!function(){if(!function(){if(!U())return!1;var t=Object(T.g)();if(B(t.fetch))return!0;var e=!1,n=t.document;if(n){var o=n.createElement("iframe");o.hidden=!0;try{n.head.appendChild(o),o.contentWindow&&o.contentWindow.fetch&&(e=B(o.contentWindow.fetch)),n.head.removeChild(o)}catch(t){P.a.warn("Could not create sandbox iframe for pure fetch check, bailing to window.fetch: ",t)}}return e}())return;Object(R.b)(Ct,"fetch",(function(t){return function(){for(var e=[],n=0;n<arguments.length;n++)e[n]=arguments[n];var o={args:e,fetchData:{method:Ot(e),url:Rt(e)},startTimestamp:Date.now()};return At("fetch",l.a({},o)),t.apply(Ct,e).then((function(t){return At("fetch",l.a({},o,{endTimestamp:Date.now(),response:t})),t}),(function(t){throw At("fetch",l.a({},o,{endTimestamp:Date.now(),error:t})),t}))}}))}();break;case"history":!function(){if(t=Object(T.g)(),e=t.chrome,n=e&&e.app&&e.app.runtime,o="history"in t&&!!t.history.pushState&&!!t.history.replaceState,n||!o)return;var t,e,n,o;var i=Ct.onpopstate;function r(t){return function(){for(var e=[],n=0;n<arguments.length;n++)e[n]=arguments[n];var o=e.length>2?e[2]:void 0;if(o){var i=bt,r=String(o);bt=r,At("history",{from:i,to:r})}return t.apply(this,e)}}Ct.onpopstate=function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];var n=Ct.location.href,o=bt;if(bt=n,At("history",{from:o,to:n}),i)return i.apply(this,t)},Object(R.b)(Ct.history,"pushState",r),Object(R.b)(Ct.history,"replaceState",r)}();break;default:P.a.warn("unknown instrumentation type:",t)}}function St(t){t&&"string"==typeof t.type&&"function"==typeof t.callback&&(wt[t.type]=wt[t.type]||[],wt[t.type].push(t.callback),xt(t.type))}function At(t,e){var n,o;if(t&&wt[t])try{for(var i=l.e(wt[t]||[]),r=i.next();!r.done;r=i.next()){var a=r.value;try{a(e)}catch(e){P.a.error("Error while triggering instrumentation handler.\nType: "+t+"\nName: "+Object(T.f)(a)+"\nError: "+e)}}}catch(t){n={error:t}}finally{try{r&&!r.done&&(o=i.return)&&o.call(i)}finally{if(n)throw n.error}}}function Ot(t){return void 0===t&&(t=[]),"Request"in Ct&&Object(D.g)(t[0],Request)&&t[0].method?String(t[0].method).toUpperCase():t[1]&&t[1].method?String(t[1].method).toUpperCase():"GET"}function Rt(t){return void 0===t&&(t=[]),"string"==typeof t[0]?t[0]:"Request"in Ct&&Object(D.g)(t[0],Request)?t[0].url:String(t[0])}var Tt,Lt,Pt=0;function Dt(t,e,n){return void 0===n&&(n=!1),function(o){Tt=void 0,o&&Lt!==o&&(Lt=o,Pt&&clearTimeout(Pt),n?Pt=setTimeout((function(){e({event:o,name:t})})):e({event:o,name:t}))}}function kt(t){return function(e){var n;try{n=e.target}catch(t){return}var o=n&&n.tagName;o&&("INPUT"===o||"TEXTAREA"===o||n.isContentEditable)&&(Tt||Dt("input",t)(e),clearTimeout(Tt),Tt=setTimeout((function(){Tt=void 0}),1e3))}}var Nt=function(){function t(e){this.name=t.id,this._options=l.a({console:!0,dom:!0,fetch:!0,history:!0,sentry:!0,xhr:!0},e)}return t.prototype._consoleBreadcrumb=function(t){var e={category:"console",data:{arguments:t.args,logger:"console"},level:a.fromString(t.level),message:Object(N.b)(t.args," ")};if("assert"===t.level){if(!1!==t.args[0])return;e.message="Assertion failed: "+(Object(N.b)(t.args.slice(1)," ")||"console.assert"),e.data.arguments=t.args.slice(1)}Object(c.b)().addBreadcrumb(e,{input:t.args,level:t.level})},t.prototype._domBreadcrumb=function(t){var e;try{e=t.event.target?Object(T.i)(t.event.target):Object(T.i)(t.event)}catch(t){e="<unknown>"}0!==e.length&&Object(c.b)().addBreadcrumb({category:"ui."+t.name,message:e},{event:event,name:t.name})},t.prototype._xhrBreadcrumb=function(t){if(t.endTimestamp){if(t.xhr.__sentry_own_request__)return;Object(c.b)().addBreadcrumb({category:"xhr",data:t.xhr.__sentry_xhr__,type:"http"},{xhr:t.xhr})}else t.xhr.__sentry_own_request__&&Ft(t.args[0])},t.prototype._fetchBreadcrumb=function(t){if(t.endTimestamp){var e=Object(c.b)().getClient(),n=e&&e.getDsn();if(n){var o=new L(n).getStoreEndpoint();if(o&&-1!==t.fetchData.url.indexOf(o)&&"POST"===t.fetchData.method&&t.args[1]&&t.args[1].body)return void Ft(t.args[1].body)}t.error?Object(c.b)().addBreadcrumb({category:"fetch",data:l.a({},t.fetchData,{status_code:t.response.status}),level:a.Error,type:"http"},{data:t.error,input:t.args}):Object(c.b)().addBreadcrumb({category:"fetch",data:l.a({},t.fetchData,{status_code:t.response.status}),type:"http"},{input:t.args,response:t.response})}},t.prototype._historyBreadcrumb=function(t){var e=Object(T.g)(),n=t.from,o=t.to,i=Object(T.l)(e.location.href),r=Object(T.l)(n),a=Object(T.l)(o);r.path||(r=i),i.protocol===a.protocol&&i.host===a.host&&(o=a.relative),i.protocol===r.protocol&&i.host===r.host&&(n=r.relative),Object(c.b)().addBreadcrumb({category:"navigation",data:{from:n,to:o}})},t.prototype.setupOnce=function(){var t=this;this._options.console&&St({callback:function(){for(var e=[],n=0;n<arguments.length;n++)e[n]=arguments[n];t._consoleBreadcrumb.apply(t,l.d(e))},type:"console"}),this._options.dom&&St({callback:function(){for(var e=[],n=0;n<arguments.length;n++)e[n]=arguments[n];t._domBreadcrumb.apply(t,l.d(e))},type:"dom"}),this._options.xhr&&St({callback:function(){for(var e=[],n=0;n<arguments.length;n++)e[n]=arguments[n];t._xhrBreadcrumb.apply(t,l.d(e))},type:"xhr"}),this._options.fetch&&St({callback:function(){for(var e=[],n=0;n<arguments.length;n++)e[n]=arguments[n];t._fetchBreadcrumb.apply(t,l.d(e))},type:"fetch"}),this._options.history&&St({callback:function(){for(var e=[],n=0;n<arguments.length;n++)e[n]=arguments[n];t._historyBreadcrumb.apply(t,l.d(e))},type:"history"})},t.id="Breadcrumbs",t}();function Ft(t){try{var e=JSON.parse(t);Object(c.b)().addBreadcrumb({category:"sentry",event_id:e.event_id,level:e.level||a.fromString("error"),message:Object(T.e)(e)},{event:e})}catch(t){P.a.error("Error while adding sentry type breadcrumb")}}var Mt=function(){function t(e){this.name=t.id,this._global=Object(T.g)(),this._oldOnErrorHandler=null,this._oldOnUnhandledRejectionHandler=null,this._onErrorHandlerInstalled=!1,this._onUnhandledRejectionHandlerInstalled=!1,this._options=l.a({onerror:!0,onunhandledrejection:!0},e)}return t.prototype.setupOnce=function(){Error.stackTraceLimit=50,this._options.onerror&&(P.a.log("Global Handler attached: onerror"),this._installGlobalOnErrorHandler()),this._options.onunhandledrejection&&(P.a.log("Global Handler attached: onunhandledrejection"),this._installGlobalOnUnhandledRejectionHandler())},t.prototype._installGlobalOnErrorHandler=function(){if(!this._onErrorHandlerInstalled){var e=this;this._oldOnErrorHandler=this._global.onerror,this._global.onerror=function(n,o,i,r,a){var s=Object(c.b)(),l=s.getIntegration(t),u=a&&!0===a.__sentry_own_request__;if(!l||mt()||u)return!!e._oldOnErrorHandler&&e._oldOnErrorHandler.apply(this,arguments);var d=s.getClient(),p=Object(D.i)(a)?e._eventFromIncompleteOnError(n,o,i,r):e._enhanceEventWithInitialFrame(tt(a,void 0,{attachStacktrace:d&&d.getOptions().attachStacktrace,rejection:!1}),o,i,r);return Object(T.a)(p,{handled:!1,type:"onerror"}),s.captureEvent(p,{originalException:a}),!!e._oldOnErrorHandler&&e._oldOnErrorHandler.apply(this,arguments)},this._onErrorHandlerInstalled=!0}},t.prototype._installGlobalOnUnhandledRejectionHandler=function(){if(!this._onUnhandledRejectionHandlerInstalled){var e=this;this._oldOnUnhandledRejectionHandler=this._global.onunhandledrejection,this._global.onunhandledrejection=function(n){var o=n;try{o=n&&"reason"in n?n.reason:n}catch(t){}var i=Object(c.b)(),r=i.getIntegration(t),s=o&&!0===o.__sentry_own_request__;if(!r||mt()||s)return!e._oldOnUnhandledRejectionHandler||e._oldOnUnhandledRejectionHandler.apply(this,arguments);var l=i.getClient(),u=Object(D.i)(o)?e._eventFromIncompleteRejection(o):tt(o,void 0,{attachStacktrace:l&&l.getOptions().attachStacktrace,rejection:!0});return u.level=a.Error,Object(T.a)(u,{handled:!1,type:"onunhandledrejection"}),i.captureEvent(u,{originalException:o}),!e._oldOnUnhandledRejectionHandler||e._oldOnUnhandledRejectionHandler.apply(this,arguments)},this._onUnhandledRejectionHandlerInstalled=!0}},t.prototype._eventFromIncompleteOnError=function(t,e,n,o){var i,r=Object(D.e)(t)?t.message:t;if(Object(D.k)(r)){var a=r.match(/^(?:[Uu]ncaught (?:exception: )?)?(?:((?:Eval|Internal|Range|Reference|Syntax|Type|URI|)Error): )?(.*)$/i);a&&(i=a[1],r=a[2])}var s={exception:{values:[{type:i||"Error",value:r}]}};return this._enhanceEventWithInitialFrame(s,e,n,o)},t.prototype._eventFromIncompleteRejection=function(t){return{exception:{values:[{type:"UnhandledRejection",value:"Non-Error promise rejection captured with value: "+t}]}}},t.prototype._enhanceEventWithInitialFrame=function(t,e,n,o){t.exception=t.exception||{},t.exception.values=t.exception.values||[],t.exception.values[0]=t.exception.values[0]||{},t.exception.values[0].stacktrace=t.exception.values[0].stacktrace||{},t.exception.values[0].stacktrace.frames=t.exception.values[0].stacktrace.frames||[];var i=isNaN(parseInt(o,10))?void 0:o,r=isNaN(parseInt(n,10))?void 0:n,a=Object(D.k)(e)&&e.length>0?e:Object(T.h)();return 0===t.exception.values[0].stacktrace.frames.length&&t.exception.values[0].stacktrace.frames.push({colno:i,filename:a,function:"?",in_app:!0,lineno:r}),t},t.id="GlobalHandlers",t}(),It=function(){function t(e){void 0===e&&(e={}),this.name=t.id,this._key=e.key||"cause",this._limit=e.limit||5}return t.prototype.setupOnce=function(){Object(u.b)((function(e,n){var o=Object(c.b)().getIntegration(t);return o?o._handler(e,n):e}))},t.prototype._handler=function(t,e){if(!(t.exception&&t.exception.values&&e&&Object(D.g)(e.originalException,Error)))return t;var n=this._walkErrorTree(e.originalException,this._key);return t.exception.values=l.d(n,t.exception.values),t},t.prototype._walkErrorTree=function(t,e,n){if(void 0===n&&(n=[]),!Object(D.g)(t[e],Error)||n.length+1>=this._limit)return n;var o=K(q(t[e]));return this._walkErrorTree(t[e],e,l.d([o],n))},t.id="LinkedErrors",t}(),Gt=Object(T.g)(),jt=function(){function t(){this.name=t.id}return t.prototype.setupOnce=function(){Object(u.b)((function(e){if(Object(c.b)().getIntegration(t)){if(!Gt.navigator||!Gt.location)return e;var n=e.request||{};return n.url=n.url||Gt.location.href,n.headers=n.headers||{},n.headers["User-Agent"]=Gt.navigator.userAgent,l.a({},e,{request:n})}return e}))},t.id="UserAgent",t}(),Ut=[new o.InboundFilters,new o.FunctionToString,new _t,new Nt,new Mt,new It,new jt];function Bt(t){if(void 0===t&&(t={}),void 0===t.defaultIntegrations&&(t.defaultIntegrations=Ut),void 0===t.release){var e=Object(T.g)();e.SENTRY_RELEASE&&e.SENTRY_RELEASE.id&&(t.release=e.SENTRY_RELEASE.id)}!function(t,e){!0===e.debug&&P.a.enable(),Object(c.b)().bindClient(new t(e))}(dt,t)}function Vt(t){void 0===t&&(t={}),t.eventId||(t.eventId=Object(c.b)().lastEventId());var e=Object(c.b)().getClient();e&&e.showReportDialog(t)}function Wt(){return Object(c.b)().lastEventId()}function Ht(){}function zt(t){t()}function Zt(t){var e=Object(c.b)().getClient();return e?e.flush(t):k.a.reject(!1)}function Yt(t){var e=Object(c.b)().getClient();return e?e.close(t):k.a.reject(!1)}function qt(t){return yt(t)()}var Qt={},Jt=Object(T.g)();Jt.Sentry&&Jt.Sentry.Integrations&&(Qt=Jt.Sentry.Integrations);var Kt=l.a({},Qt,o,i)},WjRb:function(t,e,n){var o=n("ROdP");t.exports=function(t){if(o(t))throw TypeError("The method doesn't accept regular expressions");return t}},Wuzz:function(t,e,n){"use strict";n.r(e);var o={};n.r(o),n.d(o,"ArcGis",(function(){return g})),n.d(o,"arcgis",(function(){return m})),n.d(o,"Bing",(function(){return v})),n.d(o,"bing",(function(){return y})),n.d(o,"Google",(function(){return b})),n.d(o,"google",(function(){return _})),n.d(o,"HERE",(function(){return C})),n.d(o,"here",(function(){return w})),n.d(o,"LatLng",(function(){return E})),n.d(o,"latLng",(function(){return x})),n.d(o,"Mapbox",(function(){return S})),n.d(o,"mapbox",(function(){return A})),n.d(o,"MapQuest",(function(){return O})),n.d(o,"mapQuest",(function(){return R})),n.d(o,"Neutrino",(function(){return T})),n.d(o,"neutrino",(function(){return L})),n.d(o,"Nominatim",(function(){return P})),n.d(o,"nominatim",(function(){return D})),n.d(o,"OpenLocationCode",(function(){return k})),n.d(o,"openLocationCode",(function(){return N})),n.d(o,"OpenCage",(function(){return F})),n.d(o,"opencage",(function(){return M})),n.d(o,"Pelias",(function(){return I})),n.d(o,"pelias",(function(){return G})),n.d(o,"GeocodeEarth",(function(){return j})),n.d(o,"geocodeEarth",(function(){return U})),n.d(o,"Mapzen",(function(){return B})),n.d(o,"mapzen",(function(){return V})),n.d(o,"Openrouteservice",(function(){return W})),n.d(o,"openrouteservice",(function(){return H})),n.d(o,"Photon",(function(){return z})),n.d(o,"photon",(function(){return Z})),n.d(o,"What3Words",(function(){return Y})),n.d(o,"what3words",(function(){return q}));var i=n("4R65"),r=n.n(i),a=0,s=/[&<>"'`]/g,l=/[&<>"'`]/,u={"&":"&amp;","<":"&lt;",">":"&gt;",'"':"&quot;","'":"&#x27;","`":"&#x60;"};function c(t){return u[t]}function d(t,e,n,o,i){var s="_l_geocoder_"+a++;e[i||"callback"]=s,window[s]=r.a.Util.bind(n,o);var l=document.createElement("script");l.type="text/javascript",l.src=t+f(e),l.id=s,document.getElementsByTagName("head")[0].appendChild(l)}function p(t,e,n){var o=new XMLHttpRequest;o.onreadystatechange=function(){if(4===o.readyState){var t;if(200!==o.status&&304!==o.status)t="";else if("string"==typeof o.response)try{t=JSON.parse(o.response)}catch(e){t=o.response}else t=o.response;n(t)}},o.open("GET",t+f(e),!0),o.responseType="json",o.setRequestHeader("Accept","application/json"),o.send(null)}function h(t,e){return t.replace(/\{ *([\w_]+) *\}/g,(function(t,n){var o,i=e[n];return void 0===i?i="":"function"==typeof i&&(i=i(e)),null==(o=i)?"":o?(o=""+o,l.test(o)?o.replace(s,c):o):o+""}))}function f(t,e,n){var o=[];for(var i in t){var a=encodeURIComponent(n?i.toUpperCase():i),s=t[i];if(r.a.Util.isArray(s))for(var l=0;l<s.length;l++)o.push(a+"="+encodeURIComponent(s[l]));else o.push(a+"="+encodeURIComponent(s))}return(e&&-1!==e.indexOf("?")?"&":"?")+o.join("&")}var g=r.a.Class.extend({options:{service_url:"https://geocode.arcgis.com/arcgis/rest/services/World/GeocodeServer"},initialize:function(t,e){r.a.setOptions(this,e),this._accessToken=t},geocode:function(t,e,n){var o={SingleLine:t,outFields:"Addr_Type",forStorage:!1,maxLocations:10,f:"json"};this._key&&this._key.length&&(o.token=this._key),p(this.options.service_url+"/findAddressCandidates",r.a.extend(o,this.options.geocodingQueryParams),(function(t){var o,i,a,s=[];if(t.candidates&&t.candidates.length)for(var l=0;l<=t.candidates.length-1;l++)o=t.candidates[l],i=r.a.latLng(o.location.y,o.location.x),a=r.a.latLngBounds(r.a.latLng(o.extent.ymax,o.extent.xmax),r.a.latLng(o.extent.ymin,o.extent.xmin)),s[l]={name:o.address,bbox:a,center:i};e.call(n,s)}))},suggest:function(t,e,n){return this.geocode(t,e,n)},reverse:function(t,e,n,o){var i={location:encodeURIComponent(t.lng)+","+encodeURIComponent(t.lat),distance:100,f:"json"};p(this.options.service_url+"/reverseGeocode",i,(function(t){var e,i=[];t&&!t.error&&(e=r.a.latLng(t.location.y,t.location.x),i.push({name:t.address.Match_addr,center:e,bounds:r.a.latLngBounds(e,e)})),n.call(o,i)}))}});function m(t,e){return new g(t,e)}var v=r.a.Class.extend({initialize:function(t){this.key=t},geocode:function(t,e,n){d("https://dev.virtualearth.net/REST/v1/Locations",{query:t,key:this.key},(function(t){var o=[];if(t.resourceSets.length>0)for(var i=t.resourceSets[0].resources.length-1;i>=0;i--){var a=t.resourceSets[0].resources[i],s=a.bbox;o[i]={name:a.name,bbox:r.a.latLngBounds([s[0],s[1]],[s[2],s[3]]),center:r.a.latLng(a.point.coordinates)}}e.call(n,o)}),this,"jsonp")},reverse:function(t,e,n,o){d("//dev.virtualearth.net/REST/v1/Locations/"+t.lat+","+t.lng,{key:this.key},(function(t){for(var e=[],i=t.resourceSets[0].resources.length-1;i>=0;i--){var a=t.resourceSets[0].resources[i],s=a.bbox;e[i]={name:a.name,bbox:r.a.latLngBounds([s[0],s[1]],[s[2],s[3]]),center:r.a.latLng(a.point.coordinates)}}n.call(o,e)}),this,"jsonp")}});function y(t){return new v(t)}var b=r.a.Class.extend({options:{serviceUrl:"https://maps.googleapis.com/maps/api/geocode/json",geocodingQueryParams:{},reverseQueryParams:{}},initialize:function(t,e){this._key=t,r.a.setOptions(this,e),this.options.serviceUrl=this.options.service_url||this.options.serviceUrl},geocode:function(t,e,n){var o={address:t};this._key&&this._key.length&&(o.key=this._key),o=r.a.Util.extend(o,this.options.geocodingQueryParams),p(this.options.serviceUrl,o,(function(t){var o,i,a,s=[];if(t.results&&t.results.length)for(var l=0;l<=t.results.length-1;l++)o=t.results[l],i=r.a.latLng(o.geometry.location),a=r.a.latLngBounds(r.a.latLng(o.geometry.viewport.northeast),r.a.latLng(o.geometry.viewport.southwest)),s[l]={name:o.formatted_address,bbox:a,center:i,properties:o.address_components};e.call(n,s)}))},reverse:function(t,e,n,o){var i={latlng:encodeURIComponent(t.lat)+","+encodeURIComponent(t.lng)};i=r.a.Util.extend(i,this.options.reverseQueryParams),this._key&&this._key.length&&(i.key=this._key),p(this.options.serviceUrl,i,(function(t){var e,i,a,s=[];if(t.results&&t.results.length)for(var l=0;l<=t.results.length-1;l++)e=t.results[l],i=r.a.latLng(e.geometry.location),a=r.a.latLngBounds(r.a.latLng(e.geometry.viewport.northeast),r.a.latLng(e.geometry.viewport.southwest)),s[l]={name:e.formatted_address,bbox:a,center:i,properties:e.address_components};n.call(o,s)}))}});function _(t,e){return new b(t,e)}var C=r.a.Class.extend({options:{geocodeUrl:"https://geocoder.api.here.com/6.2/geocode.json",reverseGeocodeUrl:"https://reverse.geocoder.api.here.com/6.2/reversegeocode.json",app_id:"<insert your app_id here>",app_code:"<insert your app_code here>",geocodingQueryParams:{},reverseQueryParams:{}},initialize:function(t){r.a.setOptions(this,t)},geocode:function(t,e,n){var o={searchtext:t,gen:9,app_id:this.options.app_id,app_code:this.options.app_code,jsonattributes:1};o=r.a.Util.extend(o,this.options.geocodingQueryParams),this.getJSON(this.options.geocodeUrl,o,e,n)},reverse:function(t,e,n,o){var i={prox:encodeURIComponent(t.lat)+","+encodeURIComponent(t.lng),mode:"retrieveAddresses",app_id:this.options.app_id,app_code:this.options.app_code,gen:9,jsonattributes:1};i=r.a.Util.extend(i,this.options.reverseQueryParams),this.getJSON(this.options.reverseGeocodeUrl,i,n,o)},getJSON:function(t,e,n,o){p(t,e,(function(t){var e,i,a,s=[];if(t.response.view&&t.response.view.length)for(var l=0;l<=t.response.view[0].result.length-1;l++)e=t.response.view[0].result[l].location,i=r.a.latLng(e.displayPosition.latitude,e.displayPosition.longitude),a=r.a.latLngBounds(r.a.latLng(e.mapView.topLeft.latitude,e.mapView.topLeft.longitude),r.a.latLng(e.mapView.bottomRight.latitude,e.mapView.bottomRight.longitude)),s[l]={name:e.address.label,bbox:a,center:i};n.call(o,s)}))}});function w(t){return new C(t)}var E=r.a.Class.extend({options:{next:void 0,sizeInMeters:1e4},initialize:function(t){r.a.Util.setOptions(this,t)},geocode:function(t,e,n){var o,i;if((o=t.match(/^([NS])\s*(\d{1,3}(?:\.\d*)?)\W*([EW])\s*(\d{1,3}(?:\.\d*)?)$/))?i=r.a.latLng((/N/i.test(o[1])?1:-1)*parseFloat(o[2]),(/E/i.test(o[3])?1:-1)*parseFloat(o[4])):(o=t.match(/^(\d{1,3}(?:\.\d*)?)\s*([NS])\W*(\d{1,3}(?:\.\d*)?)\s*([EW])$/))?i=r.a.latLng((/N/i.test(o[2])?1:-1)*parseFloat(o[1]),(/E/i.test(o[4])?1:-1)*parseFloat(o[3])):(o=t.match(/^([NS])\s*(\d{1,3})¬∞?\s*(\d{1,3}(?:\.\d*)?)?['‚Ä≤]?\W*([EW])\s*(\d{1,3})¬∞?\s*(\d{1,3}(?:\.\d*)?)?['‚Ä≤]?$/))?i=r.a.latLng((/N/i.test(o[1])?1:-1)*(parseFloat(o[2])+parseFloat(o[3]/60)),(/E/i.test(o[4])?1:-1)*(parseFloat(o[5])+parseFloat(o[6]/60))):(o=t.match(/^(\d{1,3})¬∞?\s*(\d{1,3}(?:\.\d*)?)?['‚Ä≤]?\s*([NS])\W*(\d{1,3})¬∞?\s*(\d{1,3}(?:\.\d*)?)?['‚Ä≤]?\s*([EW])$/))?i=r.a.latLng((/N/i.test(o[3])?1:-1)*(parseFloat(o[1])+parseFloat(o[2]/60)),(/E/i.test(o[6])?1:-1)*(parseFloat(o[4])+parseFloat(o[5]/60))):(o=t.match(/^([NS])\s*(\d{1,3})¬∞?\s*(\d{1,2})['‚Ä≤]?\s*(\d{1,3}(?:\.\d*)?)?["‚Ä≥]?\W*([EW])\s*(\d{1,3})¬∞?\s*(\d{1,2})['‚Ä≤]?\s*(\d{1,3}(?:\.\d*)?)?["‚Ä≥]?$/))?i=r.a.latLng((/N/i.test(o[1])?1:-1)*(parseFloat(o[2])+parseFloat(o[3]/60+parseFloat(o[4]/3600))),(/E/i.test(o[5])?1:-1)*(parseFloat(o[6])+parseFloat(o[7]/60)+parseFloat(o[8]/3600))):(o=t.match(/^(\d{1,3})¬∞?\s*(\d{1,2})['‚Ä≤]?\s*(\d{1,3}(?:\.\d*)?)?["‚Ä≥]\s*([NS])\W*(\d{1,3})¬∞?\s*(\d{1,2})['‚Ä≤]?\s*(\d{1,3}(?:\.\d*)?)?["‚Ä≥]?\s*([EW])$/))?i=r.a.latLng((/N/i.test(o[4])?1:-1)*(parseFloat(o[1])+parseFloat(o[2]/60+parseFloat(o[3]/3600))),(/E/i.test(o[8])?1:-1)*(parseFloat(o[5])+parseFloat(o[6]/60)+parseFloat(o[7]/3600))):(o=t.match(/^\s*([+-]?\d+(?:\.\d*)?)\s*[\s,]\s*([+-]?\d+(?:\.\d*)?)\s*$/))&&(i=r.a.latLng(parseFloat(o[1]),parseFloat(o[2]))),i){var a=[{name:t,center:i,bbox:i.toBounds(this.options.sizeInMeters)}];e.call(n,a)}else this.options.next&&this.options.next.geocode(t,e,n)}});function x(t){return new E(t)}var S=r.a.Class.extend({options:{serviceUrl:"https://api.mapbox.com/geocoding/v5/mapbox.places/",geocodingQueryParams:{},reverseQueryParams:{}},initialize:function(t,e){r.a.setOptions(this,e),this.options.geocodingQueryParams.access_token=t,this.options.reverseQueryParams.access_token=t},geocode:function(t,e,n){var o=this.options.geocodingQueryParams;void 0!==o.proximity&&void 0!==o.proximity.lat&&void 0!==o.proximity.lng&&(o.proximity=o.proximity.lng+","+o.proximity.lat),p(this.options.serviceUrl+encodeURIComponent(t)+".json",o,(function(t){var o,i,a,s=[];if(t.features&&t.features.length)for(var l=0;l<=t.features.length-1;l++){o=t.features[l],i=r.a.latLng(o.center.reverse()),a=o.bbox?r.a.latLngBounds(r.a.latLng(o.bbox.slice(0,2).reverse()),r.a.latLng(o.bbox.slice(2,4).reverse())):r.a.latLngBounds(i,i);for(var u={text:o.text,address:o.address},c=0;c<(o.context||[]).length;c++){u[o.context[c].id.split(".")[0]]=o.context[c].text}s[l]={name:o.place_name,bbox:a,center:i,properties:u}}e.call(n,s)}))},suggest:function(t,e,n){return this.geocode(t,e,n)},reverse:function(t,e,n,o){p(this.options.serviceUrl+encodeURIComponent(t.lng)+","+encodeURIComponent(t.lat)+".json",this.options.reverseQueryParams,(function(t){var e,i,a,s=[];if(t.features&&t.features.length)for(var l=0;l<=t.features.length-1;l++)e=t.features[l],i=r.a.latLng(e.center.reverse()),a=e.bbox?r.a.latLngBounds(r.a.latLng(e.bbox.slice(0,2).reverse()),r.a.latLng(e.bbox.slice(2,4).reverse())):r.a.latLngBounds(i,i),s[l]={name:e.place_name,bbox:a,center:i};n.call(o,s)}))}});function A(t,e){return new S(t,e)}var O=r.a.Class.extend({options:{serviceUrl:"https://www.mapquestapi.com/geocoding/v1"},initialize:function(t,e){this._key=decodeURIComponent(t),r.a.Util.setOptions(this,e)},_formatName:function(){var t,e=[];for(t=0;t<arguments.length;t++)arguments[t]&&e.push(arguments[t]);return e.join(", ")},geocode:function(t,e,n){p(this.options.serviceUrl+"/address",{key:this._key,location:t,limit:5,outFormat:"json"},r.a.bind((function(t){var o,i,a=[];if(t.results&&t.results[0].locations)for(var s=t.results[0].locations.length-1;s>=0;s--)o=t.results[0].locations[s],i=r.a.latLng(o.latLng),a[s]={name:this._formatName(o.street,o.adminArea4,o.adminArea3,o.adminArea1),bbox:r.a.latLngBounds(i,i),center:i};e.call(n,a)}),this))},reverse:function(t,e,n,o){p(this.options.serviceUrl+"/reverse",{key:this._key,location:t.lat+","+t.lng,outputFormat:"json"},r.a.bind((function(t){var e,i,a=[];if(t.results&&t.results[0].locations)for(var s=t.results[0].locations.length-1;s>=0;s--)e=t.results[0].locations[s],i=r.a.latLng(e.latLng),a[s]={name:this._formatName(e.street,e.adminArea4,e.adminArea3,e.adminArea1),bbox:r.a.latLngBounds(i,i),center:i};n.call(o,a)}),this))}});function R(t,e){return new O(t,e)}var T=r.a.Class.extend({options:{userId:"<insert your userId here>",apiKey:"<insert your apiKey here>",serviceUrl:"https://neutrinoapi.com/"},initialize:function(t){r.a.Util.setOptions(this,t)},geocode:function(t,e,n){p(this.options.serviceUrl+"geocode-address",{apiKey:this.options.apiKey,userId:this.options.userId,address:t.split(/\s+/).join(".")},(function(t){var o,i,a=[];t.locations&&(t.geometry=t.locations[0],o=r.a.latLng(t.geometry.latitude,t.geometry.longitude),i=r.a.latLngBounds(o,o),a[0]={name:t.geometry.address,bbox:i,center:o}),e.call(n,a)}))},suggest:function(t,e,n){return this.geocode(t,e,n)},reverse:function(t,e,n,o){p(this.options.serviceUrl+"geocode-reverse",{apiKey:this.options.apiKey,userId:this.options.userId,latitude:t.lat,longitude:t.lng},(function(e){var i,a,s=[];200==e.status.status&&e.found&&(i=r.a.latLng(t.lat,t.lng),a=r.a.latLngBounds(i,i),s[0]={name:e.address,bbox:a,center:i}),n.call(o,s)}))}});function L(t){return new T(t)}var P=r.a.Class.extend({options:{serviceUrl:"https://nominatim.openstreetmap.org/",geocodingQueryParams:{},reverseQueryParams:{},htmlTemplate:function(t){var e=t.address,n=[];return(e.road||e.building)&&n.push("{building} {road} {house_number}"),(e.city||e.town||e.village||e.hamlet)&&n.push('<span class="'+(n.length>0?"leaflet-control-geocoder-address-detail":"")+'">{postcode} {city} {town} {village} {hamlet}</span>'),(e.state||e.country)&&n.push('<span class="'+(n.length>0?"leaflet-control-geocoder-address-context":"")+'">{state} {country}</span>'),h(n.join("<br/>"),e)}},initialize:function(t){r.a.Util.setOptions(this,t)},geocode:function(t,e,n){p(this.options.serviceUrl+"search",r.a.extend({q:t,limit:5,format:"json",addressdetails:1},this.options.geocodingQueryParams),r.a.bind((function(t){for(var o=[],i=t.length-1;i>=0;i--){for(var a=t[i].boundingbox,s=0;s<4;s++)a[s]=parseFloat(a[s]);o[i]={icon:t[i].icon,name:t[i].display_name,html:this.options.htmlTemplate?this.options.htmlTemplate(t[i]):void 0,bbox:r.a.latLngBounds([a[0],a[2]],[a[1],a[3]]),center:r.a.latLng(t[i].lat,t[i].lon),properties:t[i]}}e.call(n,o)}),this))},reverse:function(t,e,n,o){p(this.options.serviceUrl+"reverse",r.a.extend({lat:t.lat,lon:t.lng,zoom:Math.round(Math.log(e/256)/Math.log(2)),addressdetails:1,format:"json"},this.options.reverseQueryParams),r.a.bind((function(t){var e,i=[];t&&t.lat&&t.lon&&(e=r.a.latLng(t.lat,t.lon),i.push({name:t.display_name,html:this.options.htmlTemplate?this.options.htmlTemplate(t):void 0,center:e,bounds:r.a.latLngBounds(e,e),properties:t})),n.call(o,i)}),this))}});function D(t){return new P(t)}var k=r.a.Class.extend({options:{OpenLocationCode:void 0,codeLength:void 0},initialize:function(t){r.a.setOptions(this,t)},geocode:function(t,e,n){try{var o=this.options.OpenLocationCode.decode(t),i={name:t,center:r.a.latLng(o.latitudeCenter,o.longitudeCenter),bbox:r.a.latLngBounds(r.a.latLng(o.latitudeLo,o.longitudeLo),r.a.latLng(o.latitudeHi,o.longitudeHi))};e.call(n,[i])}catch(t){console.warn(t),e.call(n,[])}},reverse:function(t,e,n,o){try{var i={name:this.options.OpenLocationCode.encode(t.lat,t.lng,this.options.codeLength),center:r.a.latLng(t.lat,t.lng),bbox:r.a.latLngBounds(r.a.latLng(t.lat,t.lng),r.a.latLng(t.lat,t.lng))};n.call(o,[i])}catch(t){console.warn(t),n.call(o,[])}}});function N(t){return new k(t)}var F=r.a.Class.extend({options:{serviceUrl:"https://api.opencagedata.com/geocode/v1/json"},initialize:function(t){this._accessToken=t},geocode:function(t,e,n){p(this.options.serviceUrl,{key:this._accessToken,q:t},(function(t){var o,i,a,s=[];if(t.results&&t.results.length)for(var l=0;l<t.results.length;l++)a=t.results[l],o=r.a.latLng(a.geometry),i=a.annotations&&a.annotations.bounds?r.a.latLngBounds(r.a.latLng(a.annotations.bounds.northeast),r.a.latLng(a.annotations.bounds.southwest)):r.a.latLngBounds(o,o),s.push({name:a.formatted,bbox:i,center:o});e.call(n,s)}))},suggest:function(t,e,n){return this.geocode(t,e,n)},reverse:function(t,e,n,o){p(this.options.serviceUrl,{key:this._accessToken,q:[t.lat,t.lng].join(",")},(function(t){var e,i,a,s=[];if(t.results&&t.results.length)for(var l=0;l<t.results.length;l++)a=t.results[l],e=r.a.latLng(a.geometry),i=a.annotations&&a.annotations.bounds?r.a.latLngBounds(r.a.latLng(a.annotations.bounds.northeast),r.a.latLng(a.annotations.bounds.southwest)):r.a.latLngBounds(e,e),s.push({name:a.formatted,bbox:i,center:e});n.call(o,s)}))}});function M(t){return new F(t)}var I=r.a.Class.extend({options:{serviceUrl:"https://api.geocode.earth/v1",geocodingQueryParams:{},reverseQueryParams:{}},initialize:function(t,e){r.a.Util.setOptions(this,e),this._apiKey=t,this._lastSuggest=0},geocode:function(t,e,n){var o=this;p(this.options.serviceUrl+"/search",r.a.extend({api_key:this._apiKey,text:t},this.options.geocodingQueryParams),(function(t){e.call(n,o._parseResults(t,"bbox"))}))},suggest:function(t,e,n){var o=this;p(this.options.serviceUrl+"/autocomplete",r.a.extend({api_key:this._apiKey,text:t},this.options.geocodingQueryParams),r.a.bind((function(t){t.geocoding.timestamp>this._lastSuggest&&(this._lastSuggest=t.geocoding.timestamp,e.call(n,o._parseResults(t,"bbox")))}),this))},reverse:function(t,e,n,o){var i=this;p(this.options.serviceUrl+"/reverse",r.a.extend({api_key:this._apiKey,"point.lat":t.lat,"point.lon":t.lng},this.options.reverseQueryParams),(function(t){n.call(o,i._parseResults(t,"bounds"))}))},_parseResults:function(t,e){var n=[];return r.a.geoJson(t,{pointToLayer:function(t,e){return r.a.circleMarker(e)},onEachFeature:function(t,o){var i,a,s={};o.getBounds?a=(i=o.getBounds()).getCenter():o.feature.bbox?(a=o.getLatLng(),i=r.a.latLngBounds(r.a.GeoJSON.coordsToLatLng(o.feature.bbox.slice(0,2)),r.a.GeoJSON.coordsToLatLng(o.feature.bbox.slice(2,4)))):(a=o.getLatLng(),i=r.a.latLngBounds(a,a)),s.name=o.feature.properties.label,s.center=a,s[e]=i,s.properties=o.feature.properties,n.push(s)}}),n}});function G(t,e){return new I(t,e)}var j=I,U=G,B=I,V=G,W=B.extend({options:{serviceUrl:"https://api.openrouteservice.org/geocode"}});function H(t,e){return new W(t,e)}var z=r.a.Class.extend({options:{serviceUrl:"https://photon.komoot.de/api/",reverseUrl:"https://photon.komoot.de/reverse/",nameProperties:["name","street","suburb","hamlet","town","city","state","country"]},initialize:function(t){r.a.setOptions(this,t)},geocode:function(t,e,n){var o=r.a.extend({q:t},this.options.geocodingQueryParams);p(this.options.serviceUrl,o,r.a.bind((function(t){e.call(n,this._decodeFeatures(t))}),this))},suggest:function(t,e,n){return this.geocode(t,e,n)},reverse:function(t,e,n,o){var i=r.a.extend({lat:t.lat,lon:t.lng},this.options.reverseQueryParams);p(this.options.reverseUrl,i,r.a.bind((function(t){n.call(o,this._decodeFeatures(t))}),this))},_decodeFeatures:function(t){var e,n,o,i,a,s,l=[];if(t&&t.features)for(e=0;e<t.features.length;e++)o=(n=t.features[e]).geometry.coordinates,i=r.a.latLng(o[1],o[0]),s=(a=n.properties.extent)?r.a.latLngBounds([a[1],a[0]],[a[3],a[2]]):r.a.latLngBounds(i,i),l.push({name:this._decodeFeatureName(n),html:this.options.htmlTemplate?this.options.htmlTemplate(n):void 0,center:i,bbox:s,properties:n.properties});return l},_decodeFeatureName:function(t){return(this.options.nameProperties||[]).map((function(e){return t.properties[e]})).filter((function(t){return!!t})).join(", ")}});function Z(t){return new z(t)}var Y=r.a.Class.extend({options:{serviceUrl:"https://api.what3words.com/v2/"},initialize:function(t){this._accessToken=t},geocode:function(t,e,n){p(this.options.serviceUrl+"forward",{key:this._accessToken,addr:t.split(/\s+/).join(".")},(function(t){var o,i,a=[];t.geometry&&(o=r.a.latLng(t.geometry.lat,t.geometry.lng),i=r.a.latLngBounds(o,o),a[0]={name:t.words,bbox:i,center:o}),e.call(n,a)}))},suggest:function(t,e,n){return this.geocode(t,e,n)},reverse:function(t,e,n,o){p(this.options.serviceUrl+"reverse",{key:this._accessToken,coords:[t.lat,t.lng].join(",")},(function(t){var e,i,a=[];200==t.status.status&&(e=r.a.latLng(t.geometry.lat,t.geometry.lng),i=r.a.latLngBounds(e,e),a[0]={name:t.words,bbox:i,center:e}),n.call(o,a)}))}});function q(t){return new Y(t)}var Q=r.a.Control.extend({options:{showUniqueResult:!0,showResultIcons:!1,collapsed:!0,expand:"touch",position:"topright",placeholder:"Search...",errorMessage:"Nothing found.",queryMinLength:1,suggestMinLength:3,suggestTimeout:250,defaultMarkGeocode:!0},includes:r.a.Evented.prototype||r.a.Mixin.Events,initialize:function(t){r.a.Util.setOptions(this,t),this.options.geocoder||(this.options.geocoder=new P),this._requestCount=0},addThrobberClass:function(){r.a.DomUtil.addClass(this._container,"leaflet-control-geocoder-throbber")},removeThrobberClass:function(){r.a.DomUtil.removeClass(this._container,"leaflet-control-geocoder-throbber")},onAdd:function(t){var e,n="leaflet-control-geocoder",o=r.a.DomUtil.create("div",n+" leaflet-bar"),i=r.a.DomUtil.create("button",n+"-icon",o),a=this._form=r.a.DomUtil.create("div",n+"-form",o);return this._map=t,this._container=o,i.innerHTML="&nbsp;",i.type="button",(e=this._input=r.a.DomUtil.create("input","",a)).type="text",e.placeholder=this.options.placeholder,r.a.DomEvent.disableClickPropagation(e),this._errorElement=r.a.DomUtil.create("div",n+"-form-no-error",o),this._errorElement.innerHTML=this.options.errorMessage,this._alts=r.a.DomUtil.create("ul",n+"-alternatives leaflet-control-geocoder-alternatives-minimized",o),r.a.DomEvent.disableClickPropagation(this._alts),r.a.DomEvent.addListener(e,"keydown",this._keydown,this),this.options.geocoder.suggest&&r.a.DomEvent.addListener(e,"input",this._change,this),r.a.DomEvent.addListener(e,"blur",(function(){this.options.collapsed&&!this._preventBlurCollapse&&this._collapse(),this._preventBlurCollapse=!1}),this),this.options.collapsed?"click"===this.options.expand?r.a.DomEvent.addListener(o,"click",(function(t){0===t.button&&2!==t.detail&&this._toggle()}),this):r.a.Browser.touch&&"touch"===this.options.expand?r.a.DomEvent.addListener(o,"touchstart mousedown",(function(t){this._toggle(),t.preventDefault(),t.stopPropagation()}),this):(r.a.DomEvent.addListener(o,"mouseover",this._expand,this),r.a.DomEvent.addListener(o,"mouseout",this._collapse,this),this._map.on("movestart",this._collapse,this)):(this._expand(),r.a.Browser.touch?r.a.DomEvent.addListener(o,"touchstart",(function(){this._geocode()}),this):r.a.DomEvent.addListener(o,"click",(function(){this._geocode()}),this)),this.options.defaultMarkGeocode&&this.on("markgeocode",this.markGeocode,this),this.on("startgeocode",this.addThrobberClass,this),this.on("finishgeocode",this.removeThrobberClass,this),this.on("startsuggest",this.addThrobberClass,this),this.on("finishsuggest",this.removeThrobberClass,this),r.a.DomEvent.disableClickPropagation(o),o},_geocodeResult:function(t,e){if(!e&&this.options.showUniqueResult&&1===t.length)this._geocodeResultSelected(t[0]);else if(t.length>0){this._alts.innerHTML="",this._results=t,r.a.DomUtil.removeClass(this._alts,"leaflet-control-geocoder-alternatives-minimized"),r.a.DomUtil.addClass(this._container,"leaflet-control-geocoder-options-open");for(var n=0;n<t.length;n++)this._alts.appendChild(this._createAlt(t[n],n))}else r.a.DomUtil.addClass(this._container,"leaflet-control-geocoder-options-error"),r.a.DomUtil.addClass(this._errorElement,"leaflet-control-geocoder-error")},markGeocode:function(t){return t=t.geocode||t,this._map.fitBounds(t.bbox),this._geocodeMarker&&this._map.removeLayer(this._geocodeMarker),this._geocodeMarker=new r.a.Marker(t.center).bindPopup(t.html||t.name).addTo(this._map).openPopup(),this},_geocode:function(t){var e=this._input.value;if(t||!(e.length<this.options.queryMinLength)){var n=++this._requestCount,o=t?"suggest":"geocode",i={input:e};this._lastGeocode=e,t||this._clearResults(),this.fire("start"+o,i),this.options.geocoder[o](e,(function(e){n===this._requestCount&&(i.results=e,this.fire("finish"+o,i),this._geocodeResult(e,t))}),this)}},_geocodeResultSelected:function(t){this.fire("markgeocode",{geocode:t})},_toggle:function(){r.a.DomUtil.hasClass(this._container,"leaflet-control-geocoder-expanded")?this._collapse():this._expand()},_expand:function(){r.a.DomUtil.addClass(this._container,"leaflet-control-geocoder-expanded"),this._input.select(),this.fire("expand")},_collapse:function(){r.a.DomUtil.removeClass(this._container,"leaflet-control-geocoder-expanded"),r.a.DomUtil.addClass(this._alts,"leaflet-control-geocoder-alternatives-minimized"),r.a.DomUtil.removeClass(this._errorElement,"leaflet-control-geocoder-error"),r.a.DomUtil.removeClass(this._container,"leaflet-control-geocoder-options-open"),r.a.DomUtil.removeClass(this._container,"leaflet-control-geocoder-options-error"),this._input.blur(),this.fire("collapse")},_clearResults:function(){r.a.DomUtil.addClass(this._alts,"leaflet-control-geocoder-alternatives-minimized"),this._selection=null,r.a.DomUtil.removeClass(this._errorElement,"leaflet-control-geocoder-error"),r.a.DomUtil.removeClass(this._container,"leaflet-control-geocoder-options-open"),r.a.DomUtil.removeClass(this._container,"leaflet-control-geocoder-options-error")},_createAlt:function(t,e){var n=r.a.DomUtil.create("li",""),o=r.a.DomUtil.create("a","",n),i=this.options.showResultIcons&&t.icon?r.a.DomUtil.create("img","",o):null,a=t.html?void 0:document.createTextNode(t.name);return i&&(i.src=t.icon),n.setAttribute("data-result-index",e),t.html?o.innerHTML=o.innerHTML+t.html:o.appendChild(a),r.a.DomEvent.addListener(n,"mousedown touchstart",(function(e){this._preventBlurCollapse=!0,r.a.DomEvent.stop(e),this._geocodeResultSelected(t),r.a.DomEvent.on(n,"click",(function(){this.options.collapsed?this._collapse():this._clearResults()}),this)}),this),n},_keydown:function(t){var e=this,n=function(t){e._selection&&(r.a.DomUtil.removeClass(e._selection,"leaflet-control-geocoder-selected"),e._selection=e._selection[t>0?"nextSibling":"previousSibling"]),e._selection||(e._selection=e._alts[t>0?"firstChild":"lastChild"]),e._selection&&r.a.DomUtil.addClass(e._selection,"leaflet-control-geocoder-selected")};switch(t.keyCode){case 27:this.options.collapsed?this._collapse():this._clearResults();break;case 38:n(-1);break;case 40:n(1);break;case 13:if(this._selection){var o=parseInt(this._selection.getAttribute("data-result-index"),10);this._geocodeResultSelected(this._results[o]),this._clearResults()}else this._geocode();break;default:return}r.a.DomEvent.preventDefault(t)},_change:function(){var t=this._input.value;t!==this._lastGeocode&&(clearTimeout(this._suggestTimeout),t.length>=this.options.suggestMinLength?this._suggestTimeout=setTimeout(r.a.bind((function(){this._geocode(!0)}),this),this.options.suggestTimeout):this._clearResults())}});r.a.Util.extend(Q,o);e.default=Q;r.a.Util.extend(r.a.Control,{Geocoder:Q,geocoder:function(t){return new Q(t)}})},XHZ0:function(t,e,n){"use strict";n.r(e),function(t){n.d(e,"buildElem",(function(){return a})),n.d(e,"buildSelectElem",(function(){return l})),n.d(e,"buildSimpleOpts",(function(){return u})),n.d(e,"alphaOptionObjs",(function(){return c})),n.d(e,"getOptsFromStoredData",(function(){return d})),n.d(e,"buildOptsObj",(function(){return p})),n.d(e,"addEnterKeypressClick",(function(){return h}));n("fbCW"),n("2B1R"),n("tkto"),n("07d7"),n("JfAA"),n("FZtP");var o=n("cDf5"),i=n.n(o),r=n("kfS4");function a(t,e){var n=document.createElement(t);return e&&s(n,e),n}function s(e,n){var o,i;o={class:"className",text:"textContent"},["id","class","title","text"].forEach((function(t){t in n&&(e[t in o?o[t]:t]=n[t])})),i={},["name","type","value","placeholder","for"].forEach((function(t){t in n&&(i[t]=n[t])})),t(e).attr(i)}function l(e,n,o,i){var r=a("select",n);i=i||"all";return e.forEach((function(e){t(r).append(t("<option/>",{value:e.value,text:e.text}))})),n&&s(r,n),t(r).val(i),t(r).change(o),function(e){t(e).find("option[value='placeholder']")&&t(e).find("option[value='placeholder']").hide()}(r),r}function u(t,e){var n=[];return t.forEach((function(t,e){n.push({value:e.toString(),text:Object(r._u)("ucfirst",[t])})})),e&&n.unshift({value:"placeholder",text:e}),n}function c(t,e){var n=t.text.toLowerCase(),o=e.text.toLowerCase();return n<o?-1:n>o?1:0}function d(t){return Object(r._db)("getData",[t,!0]).then((function(e){return e?p(e,Object.keys(e).sort()):(console.log("NO STORED DATA for [%s]",t),[])}))}function p(t,e){return e.map((function(e){return"object"===i()(t[e])?{group:t[e].group,text:Object(r._u)("ucfirst",[e]),value:t[e].value}:{value:t[e],text:Object(r._u)("ucfirst",[e])}}))}function h(e){t(e).keypress((function(e){13==(e.keyCode||e.which)&&t(this).trigger("click")}))}}.call(this,n("EVdn"))},XHos:function(t,e,n){},"XQ+Q":function(t,e,n){"use strict";n.r(e),function(t){n.d(e,"buildTagField",(function(){return i})),n.d(e,"buildSelect",(function(){return r})),n.d(e,"buildMultiSelect",(function(){return a})),n.d(e,"buildMultiSelectElem",(function(){return s})),n.d(e,"getRcrdOpts",(function(){return d})),n.d(e,"getSrcOpts",(function(){return p})),n.d(e,"getTaxonOpts",(function(){return f})),n.d(e,"getLocationOpts",(function(){return v}));n("ma9I"),n("TeQF"),n("yq1k"),n("4mDm"),n("2B1R"),n("+2oP"),n("tkto"),n("07d7"),n("5s+n"),n("JTJg"),n("PKPk"),n("EnZy"),n("3bBZ");var o=n("FNQh");function i(e,n,i){var r={id:n+"-sel",class:"med-field"},a=o.util("buildSelectElem",[[],r]);return t(a).data("inputType","tags"),o.state("addComboToFormState",[i,n]),a}function r(t,e,n,i){return function(t){var e={Authors:[p,"authSrcs"],CitationType:[h,"citTypeNames"],Class:[f,"Class"],Country:[c,"countryNames"],"Country-Region":[m,null],CitationTitle:[function(){return[]}],Editors:[p,"authSrcs"],Family:[f,"Family"],Genus:[f,"Genus"],HabitatType:[c,"habTypeNames"],InteractionType:[c,"intTypeNames"],Location:[v,null],Order:[f,"Order"],Object:[function(){return[]}],Publication:[p,"pubSrcs"],PublicationType:[c,"pubTypeNames"],Publisher:[p,"publSrcs"],Realm:[g,null],Species:[f,"Species"],Subject:[function(){return[]}]},n=e[t][0],o=e[t][1];return Promise.resolve(n(o,t))}(e).then((function(t){var r={id:i?e+"-sel"+i:e+"-sel",class:"med-field"};return o.state("addComboToFormState",[n,e]),o.util("buildSelectElem",[t,r])}))}function a(e,n,i){var r=o.util("buildElem",["div",{id:n+"-sel-cntnr"}]);return s(e,n,i,1).then((function(e){return t(r).data("inputType","multiSelect").data("cnt",1),t(r).append(e),r}))}function s(e,n,i,a){return r(0,n,i,a).then((function(e){var r=o.util("buildElem",["div",{class:"flex-row"}]),s=function(e){var n={text:l(e),class:"multi-span"},i=o.util("buildElem",["span",n]);t(i).css({padding:".2em .5em 0 0",width:"2.2em"})}(a);return t(e).change(u.bind(null,i,a,n)),t(r).append([s,e]),r}))}function l(t){var e={1:"1st: ",2:"2nd: ",3:"3rd: "};return t in e?e[t]:t+"th: "}function u(e,n,i,r){var a=o.state("getFormFieldData",[e,i]).val;a[n]=r.target.value||null,o.state("setFormFieldData",[e,i,a,"multiSelect"]),function(e,n,i){if("found"===function(t){var e=!1;return n(),e;function n(){for(var n in t)e=t[n]&&e?"found":t[n]||e?e:"maybe"}}(e))return function(t,e){o.val("reportFormFieldErr",[t,{Authors:"fillAuthBlanks",Editors:"fillEdBlanks"}[t],e])}(n,i);!function(e,n){if(!t("#"+e+"_f.val."+n+"-active-errs"))return;o.val("clrContribFieldErr",[e,n])}(n,i)}(a,i,e)}function c(t){return o.util("getOptsFromStoredData",[t])}function d(t,e){return(t||Object.keys(e)).map((function(t){return{value:t,text:e[t].displayName.includes("(citation)")?e[t].displayName.split("(citation)")[0]:e[t].displayName}}))}function p(t,e,n){return o.util("getData",[t]).then((function(t){var e=n||o.state("getEntityRcrds",["source"]),r=d(t,e);return r.unshift({value:"create",text:"Add a new "+i()+"..."}),r}));function i(){return{pubSrcs:"Publication",publSrcs:"Publisher",authSrcs:e?e.slice(0,-1):"Author"}[t]}}function h(t){var e=o.getSubFormLvl("sub");return o.util("getData",[t]).then((function(t){return o.util("buildOptsObj",[t,({Book:["Book","Chapter"],Journal:["Article"],Other:["Museum record","Other","Report"],"Thesis/Dissertation":["Master's Thesis","Ph.D. Dissertation"]},n=o.state("getFormProp",[e,"rcrds"]).pub,{Book:["Book","Chapter"],Journal:["Article"],Other:["Museum record","Other","Report"],"Thesis/Dissertation":["Master's Thesis","Ph.D. Dissertation"]}[n.publicationType.displayName]).sort()]);var n}))}function f(t,e,n){var i=n||o.state("getTaxonProp",["realmName"]);return o.util("getOptsFromStoredData",[i+t+"Names"]).then((function(e){return e.unshift({value:"create",text:"Add a new "+t+"..."}),e}))}function g(){var t=o.state("getTaxonProp",["realms"]);return Object.keys(t).map((function(e){if("Bat"===e)return null;return{value:t[e],text:e}})).filter((function(t){return t}))}function m(){var t=["countryNames","regionNames"].map((function(t){return o.util("getOptsFromStoredData",[t])}));return Promise.all(t).then((function(t){return t[0].concat(t[1])}))}function v(){var t=o.state("getEntityRcrds",["location"]),e=Object.keys(t).map((function(e){return{value:e,text:t[e].displayName}}));return(e=e.sort((function(t,e){return o.util("alphaOptionObjs",[t,e])}))).unshift({value:"create",text:"Add a new Location..."}),e}}.call(this,n("EVdn"))},Xol8:function(t,e,n){var o=n("hh1v"),i=Math.floor;t.exports=function(t){return!o(t)&&isFinite(t)&&i(t)===t}},Y5fm:function(t,e,n){"use strict";n.r(e),e.default="/BatBase/web/build/images/marker-icon.2b3e1faf.png"},YGK4:function(t,e,n){"use strict";var o=n("bWFh"),i=n("ZWaQ");t.exports=o("Set",(function(t){return function(){return t(this,arguments.length?arguments[0]:void 0)}}),i)},Ylou:function(t,e,n){},YuTi:function(t,e){t.exports=function(t){return t.webpackPolyfill||(t.deprecate=function(){},t.paths=[],t.children||(t.children=[]),Object.defineProperty(t,"loaded",{enumerable:!0,get:function(){return t.l}}),Object.defineProperty(t,"id",{enumerable:!0,get:function(){return t.i}}),t.webpackPolyfill=1),t}},ZWaQ:function(t,e,n){"use strict";var o=n("m/L8").f,i=n("fHMY"),r=n("4syw"),a=n("+MLx"),s=n("GarU"),l=n("ImZN"),u=n("fdAy"),c=n("JiZb"),d=n("g6v/"),p=n("8YOa").fastKey,h=n("afO8"),f=h.set,g=h.getterFor;t.exports={getConstructor:function(t,e,n,u){var c=t((function(t,o){s(t,c,e),f(t,{type:e,index:i(null),first:void 0,last:void 0,size:0}),d||(t.size=0),null!=o&&l(o,t[u],t,n)})),h=g(e),m=function(t,e,n){var o,i,r=h(t),a=v(t,e);return a?a.value=n:(r.last=a={index:i=p(e,!0),key:e,value:n,previous:o=r.last,next:void 0,removed:!1},r.first||(r.first=a),o&&(o.next=a),d?r.size++:t.size++,"F"!==i&&(r.index[i]=a)),t},v=function(t,e){var n,o=h(t),i=p(e);if("F"!==i)return o.index[i];for(n=o.first;n;n=n.next)if(n.key==e)return n};return r(c.prototype,{clear:function(){for(var t=h(this),e=t.index,n=t.first;n;)n.removed=!0,n.previous&&(n.previous=n.previous.next=void 0),delete e[n.index],n=n.next;t.first=t.last=void 0,d?t.size=0:this.size=0},delete:function(t){var e=h(this),n=v(this,t);if(n){var o=n.next,i=n.previous;delete e.index[n.index],n.removed=!0,i&&(i.next=o),o&&(o.previous=i),e.first==n&&(e.first=o),e.last==n&&(e.last=i),d?e.size--:this.size--}return!!n},forEach:function(t){for(var e,n=h(this),o=a(t,arguments.length>1?arguments[1]:void 0,3);e=e?e.next:n.first;)for(o(e.value,e.key,this);e&&e.removed;)e=e.previous},has:function(t){return!!v(this,t)}}),r(c.prototype,n?{get:function(t){var e=v(this,t);return e&&e.value},set:function(t,e){return m(this,0===t?0:t,e)}}:{add:function(t){return m(this,t=0===t?0:t,t)}}),d&&o(c.prototype,"size",{get:function(){return h(this).size}}),c},setStrong:function(t,e,n){var o=e+" Iterator",i=g(e),r=g(o);u(t,e,(function(t,e){f(this,{type:o,target:t,state:i(t),kind:e,last:void 0})}),(function(){for(var t=r(this),e=t.kind,n=t.last;n&&n.removed;)n=n.previous;return t.target&&(t.last=n=n?n.next:t.state.first)?"keys"==e?{value:n.key,done:!1}:"values"==e?{value:n.value,done:!1}:{value:[n.key,n.value],done:!1}:(t.target=void 0,{value:void 0,done:!0})}),n?"entries":"values",!n,!0),c(e)}}},ZY7T:function(t,e,n){"use strict";var o=n("I+eb"),i=n("xDBR"),r=n("0GbY"),a=n("glrk"),s=n("HAuM"),l=n("SEBh"),u=n("ImZN");o({target:"Set",proto:!0,real:!0,forced:i},{intersection:function(t){var e=a(this),n=new(l(e,r("Set"))),o=s(e.has),i=s(n.add);return u(t,(function(t){o.call(e,t)&&i.call(n,t)})),n}})},"Zy9/":function(t,e,n){"use strict";n.r(e),e.default="/BatBase/web/build/images/search.ac0d491a.svg"},"Zz5/":function(t,e,n){"use strict";n.r(e),function(t){n.d(e,"getTreeTextFilterElem",(function(){return u})),n.d(e,"filterTableByText",(function(){return c})),n.d(e,"getTreeFilterVal",(function(){return d})),n.d(e,"getRowsWithText",(function(){return p})),n.d(e,"initDateFilterUi",(function(){return h})),n.d(e,"clearDateFilter",(function(){return f})),n.d(e,"reapplyDateFilterIfActive",(function(){return g})),n.d(e,"toggleDateFilter",(function(){return m})),n.d(e,"showTodaysUpdates",(function(){return v})),n.d(e,"syncViewFiltersAndUi",(function(){return y})),n.d(e,"loadLocFilters",(function(){return b})),n.d(e,"applyLocFilter",(function(){return _})),n.d(e,"loadSrcFilters",(function(){return C})),n.d(e,"applyPubFilter",(function(){return w})),n.d(e,"loadTxnFilters",(function(){return E})),n.d(e,"applyTxnFilter",(function(){return x})),n.d(e,"setCurrentRowData",(function(){return S})),n.d(e,"setPanelFilterState",(function(){return A})),n.d(e,"resetFilterState",(function(){return O})),n.d(e,"getFilterStateKey",(function(){return R})),n.d(e,"getFilterState",(function(){return T})),n.d(e,"getCurRowData",(function(){return L})),n.d(e,"isFilterActive",(function(){return P})),n.d(e,"getActiveFilterVals",(function(){return D}));var o=n("PFVR"),i=n("vAj5"),r=n("LJyf"),a=n("rdRN"),s=n("AW0z"),l=n("ndez");function u(t){return s.d(t)}function c(t){s.a(t)}function d(t){return s.b(t)}function p(t){return s.c(L(),t)}function h(){o.initDateFilterUi()}function f(){o.clearDateFilter()}function g(){if(t("#shw-chngd")[0].checked){var e=a.d("date").time;o.reapplyPreviousDateFilter(e,"skip")}}function m(){o.toggleDateFilter.apply(o,arguments)}function v(t){o.showTodaysUpdates(t)}function y(t){o.syncViewFiltersAndUi(t)}function b(t){i.loadLocFilters(t)}function _(){return i.applyLocFilter.apply(i,arguments)}function C(t){r.loadSrcFilters(t)}function w(){return r.applyPubFilter.apply(r,arguments)}function E(t){l.loadTxnFilters(t)}function x(){return l.applyTxnFilter.apply(l,arguments)}function S(t){a.g(t)}function A(t,e){a.h(t,e)}function O(){a.f()}function R(t){return a.d(t)}function T(){return a.c()}function L(){return a.b()}function P(){return a.e()}function D(){return a.a()}}.call(this,n("EVdn"))},a1gu:function(t,e,n){var o=n("cDf5"),i=n("PJYZ");t.exports=function(t,e){return!e||"object"!==o(e)&&"function"!=typeof e?i(t):e}},ain6:function(t,e,n){},b1O7:function(t,e,n){var o=n("g6v/"),i=n("33Wh"),r=n("/GqU"),a=n("0eef").f,s=function(t){return function(e){for(var n,s=r(e),l=i(s),u=l.length,c=0,d=[];u>c;)n=l[c++],o&&!a.call(s,n)||d.push(t?[n,s[n]]:s[n]);return d}};t.exports={entries:s(!0),values:s(!1)}},bMVF:function(t,e,n){},bWFh:function(t,e,n){"use strict";var o=n("I+eb"),i=n("2oRo"),r=n("lMq5"),a=n("busE"),s=n("8YOa"),l=n("ImZN"),u=n("GarU"),c=n("hh1v"),d=n("0Dky"),p=n("HH4o"),h=n("1E5z"),f=n("cVYH");t.exports=function(t,e,n,g,m){var v=i[t],y=v&&v.prototype,b=v,_=g?"set":"add",C={},w=function(t){var e=y[t];a(y,t,"add"==t?function(t){return e.call(this,0===t?0:t),this}:"delete"==t?function(t){return!(m&&!c(t))&&e.call(this,0===t?0:t)}:"get"==t?function(t){return m&&!c(t)?void 0:e.call(this,0===t?0:t)}:"has"==t?function(t){return!(m&&!c(t))&&e.call(this,0===t?0:t)}:function(t,n){return e.call(this,0===t?0:t,n),this})};if(r(t,"function"!=typeof v||!(m||y.forEach&&!d((function(){(new v).entries().next()})))))b=n.getConstructor(e,t,g,_),s.REQUIRED=!0;else if(r(t,!0)){var E=new b,x=E[_](m?{}:-0,1)!=E,S=d((function(){E.has(1)})),A=p((function(t){new v(t)})),O=!m&&d((function(){for(var t=new v,e=5;e--;)t[_](e,e);return!t.has(-0)}));A||((b=e((function(e,n){u(e,b,t);var o=f(new v,e,b);return null!=n&&l(n,o[_],o,g),o}))).prototype=y,y.constructor=b),(S||O)&&(w("delete"),w("has"),g&&w("get")),(O||x)&&w(_),m&&y.clear&&delete y.clear}return C[t]=b,o({global:!0,forced:b!=v},C),h(b,t),m||n.setStrong(b,t,g),b}},bbDE:function(t,e,n){},cDf5:function(t,e){function n(t){return(n="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function o(e){return"function"==typeof Symbol&&"symbol"===n(Symbol.iterator)?t.exports=o=function(t){return n(t)}:t.exports=o=function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":n(t)},o(e)}t.exports=o},cDke:function(t,e,n){var o=n("I+eb"),i=n("0Dky"),r=n("BX/b").f;o({target:"Object",stat:!0,forced:i((function(){return!Object.getOwnPropertyNames(1)}))},{getOwnPropertyNames:r})},cVYH:function(t,e,n){var o=n("hh1v"),i=n("0rvr");t.exports=function(t,e,n){var r,a;return i&&"function"==typeof(r=e.constructor)&&r!==n&&o(a=r.prototype)&&a!==n.prototype&&i(t,a),t}},ctDJ:function(t,e,n){"use strict";var o=n("I+eb"),i=n("xDBR"),r=n("0GbY"),a=n("glrk"),s=n("HAuM"),l=n("+MLx"),u=n("SEBh"),c=n("WGBp"),d=n("ImZN");o({target:"Set",proto:!0,real:!0,forced:i},{map:function(t){var e=a(this),n=c(e),o=l(t,arguments.length>1?arguments[1]:void 0,3),i=new(u(e,r("Set"))),p=s(i.add);return d(n,(function(t){p.call(i,o(t,t,e))}),void 0,!1,!0),i}})},"d/g3":function(t,e,n){},d4Uf:function(t,e,n){"use strict";(function(t){n.d(e,"d",(function(){return s})),n.d(e,"a",(function(){return u})),n.d(e,"b",(function(){return d})),n.d(e,"c",(function(){return p})),n.d(e,"e",(function(){return f}));n("4mDm"),n("tkto"),n("07d7"),n("5s+n"),n("PKPk"),n("3bBZ");var o=n("cDf5"),i=n.n(o),r=n("lEny"),a=n("ztCj");function s(){p(".48",!0).then(l)}function l(t){return console.log("Download DB? ",!t),t?void p("lclDataUpdtdAt").then(r.syncLocalDbWithServer):u()}function u(t){if(t)return c(!0);d().then((function(e){c(t=Object.keys(e).length)}))}function c(t){a.a(),r.initStoredData(t).then((function(){return a.e(".48",!0)}))}function d(){var e={};return Promise.all([a.c(),a.d()]).then((function(n){var o=n[0],i=n[1];return t(i).each((function(t,n){e[n]={value:o[t],changed:!1}})),e}))}function p(e,n){return Array.isArray(e)?function(e,n){var o=[];return t(e).each((function(t,e){return o.push(h(e,n))})),Promise.all(o).then((function(n){var o={};return t(n).each((function(t,n){o[e[t]]=n})),o}))}(e,n):h(e,n)}function h(t,e){return t?"string"!=typeof t?function(t){console.log("       !!!!getData: Non-string key passed = [%O]",t),console.trace(),r.pg("alertIssue",["invalidDataKeyType",{key:JSON.stringify(t),type:i()(t)}])}(t):a.b(t).then((function(n){return function(t,e,n){if(null==t&&!n)return function(t){console.log("       !!!!getData: [%s] Not Found",t),console.trace(),r.pg("alertIssue",["expectedDataNotFound",{key:t}])}(e);return t}(n,t,e)})):function(t){console.log("       !!!!getData: key missing [%s]",t),console.trace(),r.pg("alertIssue",["undefiendDataKey",{key:t}])}(t)}function f(t,e){return a.e(t,e)}}).call(this,n("EVdn"))},dJ8p:function(t,e,n){t.exports=function(){"use strict";
/*! *****************************************************************************
    Copyright (c) Microsoft Corporation. All rights reserved.
    Licensed under the Apache License, Version 2.0 (the "License"); you may not use
    this file except in compliance with the License. You may obtain a copy of the
    License at http://www.apache.org/licenses/LICENSE-2.0

    THIS CODE IS PROVIDED ON AN *AS IS* BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY
    KIND, EITHER EXPRESS OR IMPLIED, INCLUDING WITHOUT LIMITATION ANY IMPLIED
    WARRANTIES OR CONDITIONS OF TITLE, FITNESS FOR A PARTICULAR PURPOSE,
    MERCHANTABLITY OR NON-INFRINGEMENT.

    See the Apache Version 2.0 License for specific language governing permissions
    and limitations under the License.
    ***************************************************************************** */var t=function(){return(t=Object.assign||function(t){for(var e,n=1,o=arguments.length;n<o;n++)for(var i in e=arguments[n])Object.prototype.hasOwnProperty.call(e,i)&&(t[i]=e[i]);return t}).apply(this,arguments)},e={confirmIcon:"<svg version='1.1' xmlns='http://www.w3.org/2000/svg' xmlns:xlink='http://www.w3.org/1999/xlink' width='17' height='17' viewBox='0 0 17 17'> <g> </g> <path d='M15.418 1.774l-8.833 13.485-4.918-4.386 0.666-0.746 4.051 3.614 8.198-12.515 0.836 0.548z' fill='#000000' /> </svg>",confirmText:"OK ",showAlways:!1,theme:"light"};return function(n){var o,i=t({},e,n);return function(e){return e.config.noCalendar||e.isMobile?{}:t({onKeyDown:function(t,n,i,r){e.config.enableTime&&"Tab"===r.key&&r.target===e.amPM?(r.preventDefault(),o.focus()):"Enter"===r.key&&r.target===o&&e.close()},onReady:function(){(o=e._createElement("div","flatpickr-confirm "+(i.showAlways?"visible":"")+" "+i.theme+"Theme",i.confirmText)).tabIndex=-1,o.innerHTML+=i.confirmIcon,o.addEventListener("click",e.close),e.calendarContainer.appendChild(o),e.loadedPlugins.push("confirmDate")}},i.showAlways?{}:{onChange:function(t,n){var o=e.config.enableTime||"multiple"===e.config.mode||-1!==e.loadedPlugins.indexOf("monthSelect"),i=e.calendarContainer.querySelector(".flatpickr-confirm");if(i)return n&&!e.config.inline&&o&&i?i.classList.add("visible"):void i.classList.remove("visible")}})}}}()},dNT4:function(t,e,n){"use strict";var o=n("I+eb"),i=n("xDBR"),r=n("glrk"),a=n("+MLx"),s=n("WGBp"),l=n("ImZN");o({target:"Set",proto:!0,real:!0,forced:i},{every:function(t){var e=r(this),n=s(e),o=a(t,arguments.length>1?arguments[1]:void 0,3);return!l(n,(function(t){if(!o(t,t,e))return l.stop()}),void 0,!1,!0).stopped}})},eDxR:function(t,e,n){var o=n("Tskq"),i=n("ENF9"),r=n("VpIT")("metadata"),a=r.store||(r.store=new i),s=function(t,e,n){var i=a.get(t);if(!i){if(!n)return;a.set(t,i=new o)}var r=i.get(e);if(!r){if(!n)return;i.set(e,r=new o)}return r};t.exports={store:a,getMap:s,has:function(t,e,n){var o=s(e,n,!1);return void 0!==o&&o.has(t)},get:function(t,e,n){var o=s(e,n,!1);return void 0===o?void 0:o.get(t)},set:function(t,e,n,o){s(n,o,!0).set(t,e)},keys:function(t,e){var n=s(t,e,!1),o=[];return n&&n.forEach((function(t,e){o.push(e)})),o},toKey:function(t){return void 0===t||"symbol"==typeof t?t:String(t)}}},fXLg:function(t,e,n){"use strict";var o=n("glrk"),i=n("HAuM");t.exports=function(){for(var t=o(this),e=i(t.add),n=0,r=arguments.length;n<r;n++)e.call(t,arguments[n]);return t}},fbCW:function(t,e,n){"use strict";var o=n("I+eb"),i=n("tycR").find,r=n("RNIs"),a=!0;"find"in[]&&Array(1).find((function(){a=!1})),o({target:"Array",proto:!0,forced:a},{find:function(t){return i(this,t,arguments.length>1?arguments[1]:void 0)}}),r("find")},fdAy:function(t,e,n){"use strict";var o=n("I+eb"),i=n("ntOU"),r=n("4WOD"),a=n("0rvr"),s=n("1E5z"),l=n("X2U+"),u=n("busE"),c=n("tiKp"),d=n("xDBR"),p=n("P4y1"),h=n("rpNk"),f=h.IteratorPrototype,g=h.BUGGY_SAFARI_ITERATORS,m=c("iterator"),v=function(){return this};t.exports=function(t,e,n,c,h,y,b){i(n,e,c);var _,C,w,E=function(t){if(t===h&&R)return R;if(!g&&t in A)return A[t];switch(t){case"keys":case"values":case"entries":return function(){return new n(this,t)}}return function(){return new n(this)}},x=e+" Iterator",S=!1,A=t.prototype,O=A[m]||A["@@iterator"]||h&&A[h],R=!g&&O||E(h),T="Array"==e&&A.entries||O;if(T&&(_=r(T.call(new t)),f!==Object.prototype&&_.next&&(d||r(_)===f||(a?a(_,f):"function"!=typeof _[m]&&l(_,m,v)),s(_,x,!0,!0),d&&(p[x]=v))),"values"==h&&O&&"values"!==O.name&&(S=!0,R=function(){return O.call(this)}),d&&!b||A[m]===R||l(A,m,R),p[e]=R,h)if(C={values:E("values"),keys:y?R:E("keys"),entries:E("entries")},b)for(w in C)(g||S||!(w in A))&&u(A,w,C[w]);else o({target:e,proto:!0,forced:g||S},C);return C}},gM5y:function(t,e,n){"use strict";(function(t,o,i){n.d(e,"c",(function(){return l})),n.d(e,"a",(function(){return u})),n.d(e,"d",(function(){return c})),n.d(e,"b",(function(){return g}));var r=n("E5fR");n("HlZu");function a(){return"[object process]"===Object.prototype.toString.call(void 0!==t?t:0)}var s={};function l(){return a()?o:"undefined"!=typeof window?window:"undefined"!=typeof self?self:s}function u(t){var e=l();if(!("console"in e))return t();var n=e.console,o={};["debug","info","warn","error","log","assert"].forEach((function(t){t in e.console&&n[t].__sentry_original__&&(o[t]=n[t],n[t]=n[t].__sentry_original__)}));var i=t();return Object.keys(o).forEach((function(t){n[t]=o[t]})),i}function c(t){try{for(var e=t,n=[],o=0,i=0,r=" > ".length,a=void 0;e&&o++<5&&!("html"===(a=d(e))||o>1&&i+n.length*r+a.length>=80);)n.push(a),i+=a.length,e=e.parentNode;return n.reverse().join(" > ")}catch(t){return"<unknown>"}}function d(t){var e,n,o,i,a,s=t,l=[];if(!s||!s.tagName)return"";if(l.push(s.tagName.toLowerCase()),s.id&&l.push("#"+s.id),(e=s.className)&&Object(r.h)(e))for(n=e.split(/\s+/),a=0;a<n.length;a++)l.push("."+n[a]);var u=["type","name","title","alt"];for(a=0;a<u.length;a++)o=u[a],(i=s.getAttribute(o))&&l.push("["+o+'="'+i+'"]');return l.join("")}var p=Date.now(),h=0,f={now:function(){var t=Date.now()-p;return t<h&&(t=h),h=t,t},timeOrigin:p};!function(){if(a())try{return(t="perf_hooks",i.require(t)).performance}catch(t){return f}var t;l().performance&&void 0===performance.timeOrigin&&(performance.timeOrigin=performance.timing&&performance.timing.navigationStart||p),l().performance}();function g(t){try{return t&&"function"==typeof t&&t.name||"<anonymous>"}catch(t){return"<anonymous>"}}}).call(this,n("8oxB"),n("yLpj"),n("3UD+")(t))},gkNi:function(t,e,n){},gsnV:function(t,e,n){"use strict";(function(t){n.d(e,"b",(function(){return o})),n.d(e,"a",(function(){return i}));n("FZtP");function o(e,n,o){o?function(e,n){var o=e.getModel(),r=t("#xpand-all").data("xpanded");if(n&&!0===r)return;o.rowsToDisplay.forEach((function(t){(n||function(t){if(t.childrenAfterFilter)return t.childrenAfterFilter.every((function(t){return!t.expanded}));return!0}(t))&&(t.expanded=n,t.data.open=n)})),e.onGroupExpandedOrCollapsed(),o.rowsToDisplay.length<(a=0,e.forEachNodeAfterFilter((function(t){return a+=1})),a)?!0===r&&i(!1):i(!0);var a}(e,n):function(t,e){i(e),e?t.expandAll():t.collapseAll()}(e,n)}function i(e){var n=e?"Collapse All":"Expand All";t("#xpand-all").html(n),t("#xpand-all").data("xpanded",e)}}).call(this,n("EVdn"))},gynk:function(t,e,n){"use strict";n.r(e),function(t){var o=n("FNQh");e.default=function(e,n,i,r){var a=o.state("getFormProp",[e,"entity"]);return o.elems("buildFormRows",[a,i,e]).then((function(i){var l=(c={id:e+"-form",class:n},o.util("buildElem",["div",c])),u=o.elems("getFormFooter",[a,e,"create"]);var c;return t(l).append([s(),i,u]),o.state("setFormProp",[e,"pSelId",r]),o.cmbx("enableCombobox",[r,!1]),l}));function s(){var t={text:"New "+o.util("ucfirst",[a]),id:e+"-hdr"};return o.util("buildElem",["p",t])}}}.call(this,n("EVdn"))},h1OY:function(t,e,n){"use strict";n.r(e),function(t){n.d(e,"initCreateForm",(function(){return i})),n.d(e,"addNewLocationWithGps",(function(){return s})),n.d(e,"finishEditFormBuild",(function(){return l})),n.d(e,"addMapToLocationEditForm",(function(){return u})),n.d(e,"initFormCombos",(function(){return d})),n.d(e,"addMapToLocForm",(function(){return p})),n.d(e,"focusParentAndShowChildLocs",(function(){return f})),n.d(e,"addListenerToGpsFields",(function(){return g}));n("TeQF"),n("2B1R");var o=n("FNQh");function i(e,n){console.log("       --initLocForm [%s]",n),0!==t("#form-map").length&&t("#form-map").remove(),function(e){var n={DisplayName:"create"===e?"":e,Country:t("#Country-Region-sel").val()};return o.state("addEntityFormState",["location","sub","#Location-sel","create"]),o.state("setOnFormCloseHandler",["sub",o.forms.bind(null,"enableCountryRegionField")]),o.elems("initSubForm",["sub","med-sub-form",n,"#Location-sel"]).then((function(e){t("#Location_row")[0].parentNode.after(e),d(null,"sub"),o.cmbx("enableCombobox",["#Country-Region-sel",!1]),t("#sub-submit").val("Create without GPS data"),o.elems("setCoreRowStyles",["#location_Rows",".sub-row"]),o.elems("checkReqFieldsAndToggleSubmitBttn",["sub"]),t("#Latitude_row input").focus()}))}(n).then(r)}function r(){t("#loc-note").fadeTo(400,.3),p("create"),g("sub"),t("#form-main")[0].scrollTo(0,150),a()}function a(){var e;e=t("#Latitude_row")[0].parentNode,t(e).before('<p class="loc-gps-note skipFormData" style="margin-top: 5px;">GPS \n        data? Enter all data and see the added green pin\'s popup for name \n        suggestions and the "Create" button.</p>'),function(e){t(e).before('<p class="loc-gps-note skipFormData">No GPS data? Fill \n        in available data and click "Create without GPS data" at the bottom of \n        the form.</p>')}(t("#DisplayName_row")[0].parentNode),t("#Elevation-lbl").text("Elevation (m)"),t("#Elevation_row input, #ElevationMax_row input, #Latitude_row input, #Longitude_row input").attr("type","number")}function s(){var t=o.getSubFormLvl("sub");o.elems("ifAllRequiredFieldsFilled",[t])?o.submitForm("#"+t+"-form",t,"location"):function(t){o.val("reportFormFieldErr",["Display Name","needsLocData",t])}(t)}function l(e){d("Location","top"),t("#Country-sel")[0].selectize.off("change"),t("#Country-sel")[0].selectize.on("change",f.bind(null,"edit")),g("top",[o.state("getEditEntityId",["core"]),"edit",!1]),t(".all-fields-cntnr").hide(),t("#DisplayName-lbl, #ElevationMax-lbl").css("min-width","106px"),a()}function u(e){p("edit"),function e(n,o){t("#form-map").data("loaded")?(n(o),t("#form-map").removeData("loaded")):window.setTimeout((function(){return e(n,o)}),500)}(c,e)}function c(e){t("input.leaflet-control-create-icon").click(i),o.elems("setCoreRowStyles",["#form-main",".top-row"]),o.map("addVolatileMapPin",[e,"edit",o.cmbx("getSelVal",["#Country-sel"])])}function d(t,e){var n={Country:{change:f.bind(null,"create")}};o.cmbx("initFormCombos",["location",e,n])}function p(e){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:t("#location_Rows"),i=o.util("buildElem",["div",{id:"form-map",class:"skipFormData"}]);n.after(i),h(e)}function h(e){var n=t("#Country-Region-sel").val()||t("#Country-sel").val(),i=o.state("getEntityRcrds",["location"]);o.map("initFormMap",[n,i,e])}function f(t,e){if(e){console.log("               --focusParentAndShowChildLocs [%s] [%s]",t,e);var n=o.state("getEntityRcrds",["location"]);o.map("initFormMap",[e,n,t])}}function g(e){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:[!0];function i(){var t=v();o.elems("checkReqFieldsAndToggleSubmitBttn",[e]),1===t.length&&m(e,t),2!==t.length&&o.map("addVolatileMapPin",[!1]),2===t.length&&o.map("addVolatileMapPin",n)}t("#Latitude_row input, #Longitude_row input").change(i)}function m(t,e){"edit"===o.state("getFormProp",[t,"action"])&&o.elems("toggleSubmitBttn",["#top-submit",!1])}function v(){return["Lat","Long"].map((function(e){return function(e){var n=e+"itude",i=t("#"+n+"_row input").val();if(function(e){var n=t("#".concat(e,"_row input")).val(),o="Latitude"===e?90:180;return!!isNaN(n)||n>o}(n))return function(t){var e=o.getSubFormLvl("sub");o.val("reportFormFieldErr",[t,"invalidCoords",e])}(n);return i}(e)})).filter((function(t){return t}))}}.call(this,n("EVdn"))},hByQ:function(t,e,n){"use strict";var o=n("14Sl"),i=n("glrk"),r=n("HYAF"),a=n("Ep9I"),s=n("FMNM");o("search",1,(function(t,e,n){return[function(e){var n=r(this),o=null==e?void 0:e[t];return void 0!==o?o.call(e,n):new RegExp(e)[t](String(n))},function(t){var o=n(e,t,this);if(o.done)return o.value;var r=i(t),l=String(this),u=r.lastIndex;a(u,0)||(r.lastIndex=0);var c=s(r,l);return a(r.lastIndex,u)||(r.lastIndex=u),null===c?-1:c.index}]}))},hcok:function(t,e,n){"use strict";var o=n("I+eb"),i=n("xDBR"),r=n("0GbY"),a=n("glrk"),s=n("HAuM"),l=n("SEBh"),u=n("ImZN");o({target:"Set",proto:!0,real:!0,forced:i},{difference:function(t){var e=a(this),n=new(l(e,r("Set")))(e),o=s(n.delete);return u(t,(function(t){o.call(n,t)})),n}})},i07F:function(t,e,n){},i6QF:function(t,e,n){n("I+eb")({target:"Number",stat:!0},{isInteger:n("Xol8")})},i8il:function(t,e,n){"use strict";n.r(e),n.d(e,"initCombobox",(function(){return u})),n.d(e,"initComboboxes",(function(){return c})),n.d(e,"getSelVal",(function(){return d})),n.d(e,"setSelVal",(function(){return p})),n.d(e,"updatePlaceholderText",(function(){return h})),n.d(e,"replaceSelOpts",(function(){return f})),n.d(e,"triggerComboChangeReturnPromise",(function(){return g})),n.d(e,"getData",(function(){return m})),n.d(e,"setData",(function(){return v})),n.d(e,"buildElem",(function(){return y})),n.d(e,"buildSelectElem",(function(){return b})),n.d(e,"buildSimpleOpts",(function(){return _})),n.d(e,"alphaOptionObjs",(function(){return C})),n.d(e,"getOptsFromStoredData",(function(){return w})),n.d(e,"buildOptsObj",(function(){return E})),n.d(e,"addEnterKeypressClick",(function(){return x})),n.d(e,"sendAjaxQuery",(function(){return S})),n.d(e,"logAjaxData",(function(){return A})),n.d(e,"getDetachedRcrd",(function(){return O})),n.d(e,"ucfirst",(function(){return R})),n.d(e,"lcfirst",(function(){return T})),n.d(e,"stripString",(function(){return L})),n.d(e,"snapshot",(function(){return P}));n("+2oP"),n("SYor");var o=n("kfS4"),i=n("xc79"),r=n("TffH"),a=n("lEny"),s=n("XHZ0"),l=n("VcB2");function u(){return r.initCombobox.apply(r,arguments)}function c(t){return r.initComboboxes(t)}function d(t){return r.getSelVal(t)}function p(){return r.setSelVal.apply(r,arguments)}function h(){return r.updatePlaceholderText.apply(r,arguments)}function f(){return r.replaceSelOpts.apply(r,arguments)}function g(){return r.triggerComboChangeReturnPromise.apply(r,arguments)}function m(t,e){return a.getData(t,e)}function v(t,e){return a.setData(t,e)}function y(){return s.buildElem.apply(s,arguments)}function b(){return s.buildSelectElem.apply(s,arguments)}function _(){return s.buildSimpleOpts.apply(s,arguments)}function C(){return s.alphaOptionObjs.apply(s,arguments)}function w(t){return s.getOptsFromStoredData(t)}function E(){return s.buildOptsObj.apply(s,arguments)}function x(){return s.addEnterKeypressClick.apply(s,arguments)}function S(){return i.sendAjaxQuery.apply(i,arguments)}function A(){return i.logAjaxData.apply(i,arguments)}function O(t,e,n){return e[t]?P(e[t]):(o.alertIssue("noRcrdFound",{id:t,entity:n}),!1)}function R(t){return t.charAt(0).toUpperCase()+t.slice(1)}function T(t){return t.charAt(0).toLowerCase()+t.substr(1)}function L(t){var e=t.trim();return"."===e.charAt(e.length-1)?e.slice(0,-1):e}function P(t){return JSON.parse(JSON.stringify(t))}Object(l.a)()},iPwD:function(t,e,n){},jOvf:function(t,e,n){"use strict";n.r(e),function(t){n.d(e,"formSubmitError",(function(){return r})),n.d(e,"errUpdatingData",(function(){return a})),n.d(e,"openSubFormErr",(function(){return u})),n.d(e,"formInitErr",(function(){return c})),n.d(e,"reportFormFieldErr",(function(){return d})),n.d(e,"clrNeedsHigherLvl",(function(){return L})),n.d(e,"clrContribFieldErr",(function(){return G})),n.d(e,"clearErrElemAndEnableSubmit",(function(){return W}));n("yq1k"),n("oVuX"),n("JTJg"),n("EnZy");var o,i=n("FNQh");function r(e,n){console.log("   !!!ajaxError. jqXHR: %O, responseText = [%O], textStatus = [%s]",e,e.responseText,n);var o,r=i.state("getStateProp",["submit"]).fLvl,a=function(e){var n=i.util("buildElem",["div",{id:e+"_errs",class:e+"-active-errs"}]);return t("#"+e+"-hdr").after(n),n}(r),s=function(t){return t.includes("Duplicate entry")&&t.includes("contribution")}(o=e.responseText)?"dupSelAuth":o.includes("Duplicate entry")?"dupEnt":"genSubmitErr",l=function(t){return"<span>"+{dupSelAuth:"An author is selected multiple times.",dupEnt:"A record with this name already exists.",genSubmitErr:"An Error occured and the developer has been notified."}[t]+"</span>"}(s);i.elems("toggleWaitOverlay",[!1]),B(a,l,s,r),i.elems("toggleSubmitBttn",["#"+r+"-submit",!1])}function a(e){console.log("           !!!errUpdatingData [%s]",e);var n=i.util("buildElem",["div",{class:"flex-col",id:"data_errs"}]);t(n).append(["<span>An error occured and the developer has been notified.\n        <br>All stored data will be redownloaded.</span>",s()]),t("#top-hdr").after(n),t("#top-submit, #top-cancel, #exit-form").off("click").css("disabled","disabled").fadeTo("400",.5)}function s(){var e=i.util("buildElem",["span",{class:"flex-row",text:'Please click "OK" to continue.'}]),n=i.util("buildElem",["input",{type:"button",value:"OK",class:"exit-bttn"}]);return t(n).click(l),t(e).append(n),e}function l(){i.exitFormWindow(null,"skipTableReset"),i.resetStoredData(!0)}function u(t,e,n,o){return c(t,"openSubForm",n,e||"#"+t+"-sel",o)}function c(t,e,n,o,r){console.log("       !!!formInitErr: [%s]. field = [%s] at [%s], id = %s",e,t,n,o);var a=o||"#"+t+"-sel";if(d(t,e,n),!r)return window.setTimeout((function(){i.cmbx("clearCombobox",[a])}),10),{value:"",text:"Select "+t}}function d(e,n,r){console.log("       !!!formFieldError- '%s' for '%s' @ '%s'",n,e,r),o=i.state("getFormState");var a={dupAuth:p,fillAuthBlanks:M,fillEdBlanks:I,isGenusPrnt:f,invalidCoords:m,needsGenusName:y,needsGenusPrnt:_,needsHigherLvlPrnt:O,needsHigherLvl:T,needsLocData:P,needsName:k,noFamily:w,noGenus:x,openSubForm:F},s=function(e,n){var o=e.split(" ").join(""),i=t("#"+o+"_errs")[0];return t(i).addClass(n+"-active-errs"),i}(e,r);a[n](s,n,r,e)}function p(t,e,n,o){B(t,"<span>An author with this name already exists in the database.\n\n        If you are sure this is a new author, add initials or modify their name \n        and submit again. </span>",e,n)}function h(t,e,n){W(t,e)}function f(t,e,n,o){B(t,"<span>Genus' with species children must remain at genus.</span>",e,"top")}function g(e,n,o){i.cmbx("setSelVal",["#txn-lvl",t("#txn-lvl").data("lvl")]),W(e,"top")}function m(e,n,o,i){t("#".concat(i,'_row input[type="text"]')).on("input",v.bind(null,e,o,null,i)),B(e,"<span>Invalid coordinate format.</span>",n,o),t(".err-exit").hide()}function v(e,n,o,i){W(e,n),i&&t("#".concat(i,'_Row input[type="text"]')).off("input")}function y(e,n,o,r){var a=i.cmbx("getSelTxt",["#Genus-sel"]),s='<span>Species must begin with the Genus name "'.concat(a,'".</span>');t("#DisplayName_row input").change(W.bind(null,e,o)),B(e,s,n,o)}function b(t,e,n){W(t,e)}function _(t,e,n,o){B(t,"<span>Please select a genus parent for the species taxon.</span>",e,"top")}function C(e,n,o){i.cmbx("setSelVal",["#txn-lvl",t("#txn-lvl").data("lvl")]),W(e,"top")}function w(e,n,o,i){B(e,"<span>Please select a family before creating a genus.</span>",n,o),t("#Family-sel").change(E.bind(null,e,o))}function E(e,n,o){o.target.value&&function(e,n,o){t("#Family-sel").off("change",E),W(e,n)}(e,n)}function x(e,n,o,i){B(e,"<span>Please select a genus before creating a species.</span>",n,o),t("#Genus-sel").change(S.bind(null,e,o))}function S(t,e,n){n.target.value&&A(t,e)}function A(e,n,o){t("#Genus-sel").off("change",S),W(e,n)}function O(t,e,n,o){B(t,"<span>The parent taxon must be at a higher taxonomic level.</span>",e,n)}function R(e,n,o){if(i.cmbx("setSelVal",["#txn-lvl",t("#txn-lvl").data("lvl")]),W(e,n),t("#sub-form").length)return i.forms("selectParentTaxon",[t("#txn-prnt").data("txn")]);t("#txn-lvl").data("lvl",t("#txn-lvl").val())}function T(e,n,o,i){t("#chng-prnt").attr({disabled:!0}).css({opacity:".6"}),B(e,"<div>Taxon level must be higher than that of child taxa.</div>",n,o)}function L(e,n,o,r){var a=r||t("#txn-lvl").data("lvl");i.cmbx("setSelVal",["#txn-lvl",t("#txn-lvl").data("lvl"),"silent"]),t("#txn-lvl").data("lvl",a),W(t("#Taxon_errs")[0],n),function(){if(t("#sub-form").length)return;t("#chng-prnt").attr({disabled:!1}).css({opacity:"1"})}()}function P(e,n,o,i){var r="<div id='err'>Please fill required fields and submit again.</div>";B(e,r,n,o),t("div.new-loc-popup").prepend(r)}function D(e,n,o){W(e,n),t(".new-loc-popup #err").remove()}function k(t,e,n,o){B(t,"<span>Please fill required fields and submit again.</span>",e,n)}function N(t,e,n){W(t,e,"enable")}function F(t,e,n,r){var a=o.forms[n]?o.forms[n].entity:"";B(t,"<p>Please finish the open "+i.util("ucfirst",[a])+" form.</p>",e,n),j(t,n)}function M(t,e,n,i){o.forms[n]&&o.forms[n].entity;B(t,"<p>Please fill the blank in the order of authors.</p>",e,n),j(t,n)}function I(t,e,n,i){o.forms[n]&&o.forms[n].entity;B(t,"<p>Please fill the blank in the order of editors.</p>",e,n),j(t,n)}function G(e,n){W(t("#"+e+"_errs")[0],n),i.elems("checkReqFieldsAndToggleSubmitBttn",[n])}function j(e,n){t("#"+n+"-form").bind("destroyed",U.bind(null,e,n))}function U(t,e){W(t,e)}function B(e,n,o,r){e.innerHTML=n,t(e).append(function(e,n,o){var r={isGenusPrnt:g,invalidCoords:v,needsGenusName:b,needsName:N,needsGenusPrnt:C,noGenus:A,needsHigherLvl:L,needsHigherLvlPrnt:R,needsLocData:D,openSubForm:U,dupSelAuth:V,dupAuth:h,dupEnt:V,genSubmitErr:V,fillAuthBlanks:!1,fillEdBlanks:!1};if(!r[e])return[];var a=i.elems("getExitButton");return a.className+=" err-exit",t(a).off("click").click(r[e].bind(null,n,o)),a}(o,e,r)),i.elems("toggleSubmitBttn",["#"+r+"-submit",!1])}function V(e,n){i.getNextFormLevel("child",n);t("#"+n+"_errs").remove(),i.elems("checkReqFieldsAndToggleSubmitBttn",[n])}function W(e,n){var o=arguments.length>2&&void 0!==arguments[2]&&arguments[2],r=i.getNextFormLevel("child",n);function a(){s(),l()}function s(){t(e).removeClass(n+"-active-errs"),e.innerHTML&&(e.innerHTML=""),t(e).fadeTo(0,1)}function l(){t("#"+n+"-form").length&&!t("#"+r+"-form").length&&o&&i.elems("checkReqFieldsAndToggleSubmitBttn",[n])}t(e).fadeTo(200,0,a)}}.call(this,n("EVdn"))},jXtV:function(t,e,n){"use strict";(function(t){n.d(e,"d",(function(){return u})),n.d(e,"b",(function(){return c})),n.d(e,"c",(function(){return d})),n.d(e,"a",(function(){return p}));n("tkto");var o=n("RIqP"),i=n.n(o),r=n("FNQh"),a=n("jOvf"),s=n("BuLb"),l=n("xK1X");function u(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:[];return a[t].apply(a,i()(e))}function c(t,e,n){return Object(l.a)(t,e,n)}function d(t,e,n){Object(l.a)(n,e,!0).then((function(t){return p(n,e,t)}))}function p(e,n,o){!function(e,n,o){console.log("   --submit[%s]FormData [ %s ]= %O",o,n,e);var i=r.confg("getCoreFormEntity",[o]),s=(l=r.state("getFormProp",[n,"action"]),t("body").data("base-url")+"crud/entity/"+l);var l;(function(t,e){var n=r.state("getStateProp",["editing"]);n&&(t.ids=n);t.coreEntity=e})(e,i),function(t,e){r.state("setStateProp",["submit",{fLvl:e,entity:t}])}(i,n),r.elems("toggleWaitOverlay",[!0]),r.util("sendAjaxQuery",[e,s,h,a.formSubmitError])}(Object(s.a)(e,n,o),n,e)}function h(t,e,n){r.util("logAjaxData",[t,arguments]),r.updateLocalDb(t.results).then(f)}function f(t){if(console.log("       --onDataSynced."),r.elems("toggleWaitOverlay",[!1]),t.fails)return a.errUpdatingData("dataSyncFailures");var e;(e=r.state("getStateProp",["submit"]).fLvl,"edit"!==r.state("getFormProp",[e,"action"])||function(t){var e,n=Object.keys(t.coreEdits).length>0||Object.keys(t.detailEdits).length>0;return t.core,e=Object.keys(t.coreEdits).length,(!n||"location"!=t.core||2!=e||!("elevUnitAbbrv"in t.coreEdits))&&n}(t))?function t(e,n){return r.util("getData",[e]).then(o);function o(o){if(r.state("addEntityRecords",[e,o]),n)return t(n)}}(t.core,t.detail).then(g.bind(null,t)):r.elems("showSuccessMsg",["No changes detected.","red"])}function g(e){var n=r.state("getStateProp",["submit"]).fLvl;if("top"!==n)return function(e,n){console.log("           --exitFormAndSelectNewEntity.");var o=r.state("getFormParentId",[n]);r.elems("exitSubForm",[n]),o?function(e,n){var o=t(n)[0].selectize;o.addOption({value:e.coreEntity.id,text:e.coreEntity.displayName}),o.addItem(e.coreEntity.id)}(e,o):r.clearFormMemory()}(e,n);var o=r.state("getFormProp",["top","onFormClose"]);o?o(e):r.exitFormWindow()}}).call(this,n("EVdn"))},kCfe:function(t,e,n){"use strict";n.r(e),function(t){n.d(e,"getFormConfg",(function(){return a})),n.d(e,"getCoreFieldDefs",(function(){return s})),n.d(e,"getCoreFormEntity",(function(){return l})),n.d(e,"getCoreEntity",(function(){return u})),n.d(e,"getFieldTranslations",(function(){return c})),n.d(e,"getRelationshipFields",(function(){return d}));n("ma9I"),n("tkto");var o=n("RIqP"),i=n.n(o),r=n("FNQh");function a(e){return["subject","object"].indexOf(e)>=0?(n=function(e){return"subject"===e||t("#Realm_row").length?{}:{Realm:"select"}}(e),o=function(t){var e=r.state("getTaxonProp",["realmLvls"]);return Object.keys(t).length?["Realm"].concat(i()(e)):e}(n),{add:n,required:[],suggested:o,optional:[],order:{sug:o,opt:!1}}):function(t){return{author:{add:{FirstName:"text",MiddleName:"text",LastName:"text",Suffix:"text"},required:["LastName"],suggested:["FirstName","MiddleName","Suffix"],optional:["LinkUrl","LinkDisplay"],order:{sug:["FirstName","MiddleName","LastName","Suffix"],opt:["FirstName","MiddleName","LastName","Suffix","LinkUrl","LinkDisplay"]}},citation:{add:{Title:"text",Volume:"text",Abstract:"fullTextArea",Issue:"text",Pages:"text",CitationType:"select",CitationText:"fullTextArea"},required:["Title","CitationType"],suggested:["CitationText","Abstract","Doi","LinkDisplay","LinkUrl"],optional:[],order:{sug:["CitationText","Abstract",["Title","CitationType"]],opt:!1},types:{Article:{name:"Article",required:["Authors","Year"],suggested:["Issue","Pages","Volume"],optional:[],order:{sug:[["Year","Pages"],["Volume","Issue"],["LinkDisplay","LinkUrl"],["Doi","Authors"]]},opt:!1},Book:{name:"Book",required:["Authors"],suggested:["Volume"],optional:[],order:{sug:[["Volume","Doi"],["LinkDisplay","LinkUrl"],["Authors"]]},opt:!1},Chapter:{name:"Chapter",required:["Pages","Authors"],suggested:[],optional:[],order:{sug:[["Pages","Doi"],["LinkDisplay","LinkUrl"],"Authors"]},opt:!1},"Master's Thesis":{name:"Master's Thesis",required:[],suggested:[],optional:[],order:{sug:[["LinkDisplay","LinkUrl"],"Doi"]},opt:!1},"Museum record":{name:"Museum record",required:[],suggested:["Authors","Year","Pages"],optional:[],order:{sug:[["Year","Pages"],["LinkDisplay","LinkUrl"],["Doi","Authors"]]},opt:!1},Other:{name:"Other",required:[],suggested:["Authors","Year","Issue","Pages","Volume"],optional:[],order:{sug:[["Year","Pages"],["Volume","Issue"],["LinkDisplay","LinkUrl"],["Doi","Authors"]]},opt:!1},"Ph.D. Dissertation":{name:"Ph.D. Dissertation",required:[],suggested:[],optional:[],order:{sug:[["LinkDisplay","LinkUrl"],"Doi"]},opt:!1},Report:{name:"Report",required:[],suggested:["Authors","Year","Pages","Volume","Issue"],optional:[],order:{sug:[["Year","Pages"],["Volume","Issue"],["LinkDisplay","LinkUrl"],["Doi","Authors"]]},opt:!1}}},editor:{add:{FirstName:"text",MiddleName:"text",LastName:"text",Suffix:"text"},required:["LastName"],suggested:["FirstName","MiddleName","Suffix"],optional:["LinkUrl","LinkDisplay"],order:{sug:["FirstName","MiddleName","LastName","Suffix"],opt:["FirstName","MiddleName","LastName","Suffix","LinkUrl","LinkDisplay"]}},interaction:{add:{},required:["Publication","CitationTitle","Country-Region","Location","Subject","Object","InteractionType"],suggested:["InteractionTags","Note"],optional:[],order:{sug:[["Publication","CitationTitle"],["Country-Region","Location"],["Subject","Object"],["InteractionType","InteractionTags"],"Note"],opt:!1}},location:{add:{},required:["DisplayName","Country"],suggested:["Description","HabitatType","Latitude","Longitude","Elevation","ElevationMax"],optional:[],order:{sug:[["Latitude","Longitude"],["DisplayName","Description"],["Country","HabitatType"],["Elevation","ElevationMax"]],opt:!1}},publication:{add:{Title:"text",PublicationType:"select",Publisher:"select"},required:["PublicationType","Title"],suggested:[],optional:[],order:{sug:[["Title","PublicationType"]],opt:[["Title","PublicationType"]]},types:{Book:{name:"Book",required:["Authors","Editors","Publisher","Year"],suggested:[],optional:["Description","LinkDisplay","LinkUrl","Doi"],order:{sug:[["Year","Publisher"],["Authors","Editors"]],opt:[["Year","Doi"],["LinkDisplay","LinkUrl"],["Description","Publisher"],["Authors","Editors"]]}},Journal:{name:"Journal",required:[],suggested:[],optional:["Year","Description","LinkDisplay","LinkUrl","Doi","Publisher"],order:{sug:[],opt:[["Year","Doi"],["LinkDisplay","LinkUrl"],["Description","Publisher"]]}},Other:{name:"Other",required:["Authors","Year"],suggested:["Publisher"],optional:["Description","LinkDisplay","LinkUrl","Doi"],order:{sug:[["Year","Publisher"],"Authors"],opt:[["Year","Doi"],["LinkDisplay","LinkUrl"],["Description","Publisher"],"Authors"]}},"Thesis/Dissertation":{name:"Thesis/Dissertation",required:["Authors","Publisher","Year"],suggested:[],optional:["Description","LinkDisplay","LinkUrl","Doi"],order:{sug:[["Year","Publisher"],"Authors"],opt:[["Year","Doi"],["LinkDisplay","LinkUrl"],["Description","Publisher"],"Authors"]}}}},publisher:{add:{City:"text",Country:"text"},required:["DisplayName","City","Country"],suggested:[],optional:["Description","LinkUrl","LinkDisplay"],order:{sug:["DisplayName","City","Country"],opt:["DisplayName","City","Country","Description","LinkUrl","LinkDisplay"]}},taxon:{add:{},required:["DisplayName"],suggested:[],optional:[],order:{sug:["DisplayName"],opt:!1}}}[t]}(e);var n,o}function s(t){return{location:{DisplayName:"text",Description:"textArea",Elevation:"text",ElevationMax:"text",Longitude:"text",Latitude:"text",HabitatType:"select",Country:"select"},interaction:{Publication:"select",CitationTitle:"select","Country-Region":"select",Location:"select",Subject:"select",Object:"select",InteractionType:"select",InteractionTags:"tags",Note:"fullTextArea"},source:{DisplayName:"text",Description:"textArea",Year:"text",Doi:"text",LinkDisplay:"text",LinkUrl:"text",Authors:"multiSelect",Editors:"multiSelect"},taxonLvls:{Class:"select",Order:"select",Family:"select",Genus:"select",Species:"select"},taxon:{DisplayName:"text"}}[{author:"source",citation:"source",publication:"source",publisher:"source",location:"location",subject:"taxonLvls",object:"taxonLvls",plant:"taxonLvls",arthropod:"taxonLvls",taxon:"taxon",interaction:"interaction",bat:"taxonLvls",editor:"source"}[t]]}function l(t){return{author:"source",citation:"source",publication:"source",publisher:"source",location:"location",taxon:"taxon",interaction:"interaction",editor:"source"}[t]}function u(t){return-1!==["author","citation","publication","publisher"].indexOf(t)?"source":t}function c(t){return{author:{displayName:{source:"displayName",author:"displayName"}},citation:{authors:{source:!1},contributor:{source:"contributor"},citationText:{source:"description",citation:"fullText"},publication:{source:"parentSource"},title:{source:"displayName",citation:["displayName","title"]},chapterTitle:{source:"displayName",citation:["displayName","title"]},volume:{citation:"publicationVolume"},edition:{citation:"publicationVolume"},issue:{citation:"publicationIssue"},pages:{citation:"publicationPages"},reportType:{citation:"subType"}},interaction:{citationTitle:{interaction:"source"},"country/Region":{interaction:!1},interactionTags:{interaction:"tags"},notes:{interaction:"note"},publication:{interaction:!1}},location:{country:{location:"parentLoc"}},publication:{authors:{source:!1},editors:{source:!1},contributor:{source:"contributor"},publisher:{source:"parentSource"},description:{source:"description",publication:"description"},title:{source:"displayName",publication:"displayName"},"publisher/University":{source:"parentSource"}},publisher:{displayName:{source:"displayName",publisher:"displayName"}},taxon:{displayName:{taxon:"name"}}}[t]||{}}function d(t){return{author:["sourceType"],citation:["citationType","contributor","publication"],location:["locationType","habitatType","country"],publication:["publicationType","contributor","publisher","publisher/University"],publisher:[],taxon:["level","parentTaxon","realm"],interaction:["citationTitle","location","subject","object","interactionTags","interactionType"]}[t]}}.call(this,n("EVdn"))},kfS4:function(t,e,n){"use strict";n.r(e),function(t){n.d(e,"_u",(function(){return v})),n.d(e,"_ui",(function(){return y})),n.d(e,"_modal",(function(){return b})),n.d(e,"_tutorial",(function(){return _})),n.d(e,"_filter",(function(){return C})),n.d(e,"_form",(function(){return w})),n.d(e,"openDataEntryForm",(function(){return E})),n.d(e,"_db",(function(){return x})),n.d(e,"resetLocalDb",(function(){return S})),n.d(e,"_alert",(function(){return A})),n.d(e,"alertIssue",(function(){return O})),n.d(e,"reportErr",(function(){return R})),n.d(e,"getCurrentFilterState",(function(){return L})),n.d(e,"showIntroAndLoadingMsg",(function(){return P})),n.d(e,"initSearchStateAndTable",(function(){return D})),n.d(e,"enableMap",(function(){return N})),n.d(e,"accessTableState",(function(){return F})),n.d(e,"reloadTableWithCurrentFilters",(function(){return H})),n.d(e,"resetDataTable",(function(){return z})),n.d(e,"buildTable",(function(){return Z})),n.d(e,"showTodaysUpdates",(function(){return J})),n.d(e,"onLocViewChange",(function(){return X})),n.d(e,"rebuildLocTable",(function(){return tt})),n.d(e,"showLocInDataTable",(function(){return nt})),n.d(e,"showLocOnMap",(function(){return it})),n.d(e,"onSrcViewChange",(function(){return st})),n.d(e,"onTxnViewChange",(function(){return pt})),n.d(e,"rebuildTxnTable",(function(){return gt}));n("yq1k"),n("tkto"),n("07d7"),n("5s+n"),n("U3f4"),n("JfAA"),n("JTJg"),n("FZtP");var o=n("RIqP"),i=n.n(o),r=n("RIr2"),a=n("i8il"),s=n("yqje"),l=n("Zz5/"),u=n("U/oR"),c=n("IaMx"),d=n("lEny"),p=n("vH0/"),h=n("ILUa"),f=n("FNQh"),g=n("/zYs");function m(e,n,o){var r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:[];try{return n[e].apply(n,i()(r))}catch(n){if(O("facadeErr",{module:o,caller:"db-main",called:e,error:n.toString(),errMsg:n.message}),"prod"===t("body").data("env"))return;console.log("[%s] module call [%s] failed.  params = %O, err = %O",o,e,r,n)}}function v(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:[];return m(t,a,"util",e)}function y(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:[];return m(t,c,"ui",e)}function b(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:[];return m(t,h,"modal",e)}function _(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:[];return m(t,g,"tutorial",e)}function C(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:[];return m(t,l,"filter",e)}function w(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:[];return m(t,f,"form",e)}function E(){c.showPopupMsg(),f.initNewDataForm().then(c.hidePopupMsg)}function x(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:[];return d[t].apply(d,i()(e))}function S(){return d.resetStoredData()}function A(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:[];return r[t].apply(r,i()(e))}function O(){return r.alertIssue.apply(r,arguments)}function R(){return r.reportErr.apply(r,arguments)}window.location.pathname.includes("search")&&function(){if(t(window).width()<1200&&"test"!=t("body").data("env"))return;n("K+Wz"),n("xVbj"),n("EeXN"),n("ain6"),n("20BZ"),n("31I3"),n("i07F"),n("T4I+"),n("51ff"),n("Wuzz"),n("0HYN"),c.init(),a.initComboboxes({Focus:Z,View:Function.prototype}),d.initDb()}();var T={};function L(){return function(){var t=l.getFilterState();Object.keys(t.table).forEach((function(e){t.table[e]||delete t.table[e]})),Object.keys(t.table).length||delete t.table;Object.keys(t.panel).length||delete t.panel;return t}()}function P(e){if(c.updateUiForDatabaseInit(),c.selectInitialSearchFocus("taxa",e),e)return t("#sel-view")[0].selectize.clear("silent");g.startWalkthrough("taxa")}function D(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"taxa",n=!(arguments.length>1&&void 0!==arguments[1])||arguments[1];console.log("   *//initSearchStateAndTable. focus? [%s], allDataAvailable ? [%s]",e,n),k(n),c.selectInitialSearchFocus(e),"test"===t("body").data("env")&&!1===n||Z().then(c.updateFilterPanelHeader.bind(null,e))}function k(t){q("taxa"),j("taxa"),l.toggleDateFilter("disable"),T.flags.allDataAvailable=t}function N(){t("#shw-map").data("loaded",!0).prop("disabled",!1).fadeTo("fast",1),t(".map-ico").fadeTo("fast",1)}function F(){return{get:M,set:G}}function M(t,e){return t&&Array.isArray(t)?I(t):t?T[t]:e?I(e):T}function I(t){var e={};return t.forEach((function(t){return e[t]=T[t]||null})),e}function G(t){Object.keys(t).forEach((function(e){T[e]=t[e]}))}function j(t){return t?Promise.resolve(U(t)):Promise.resolve(a.getData("curFocus").then((function(t){return U(t)})))}function U(e){var n=T.intSet,o=T.api,i=T.flags?T.flags:{};T={api:o,curFocus:e,flags:i,openRows:[],selectedOpts:{},userRole:t("body").data("user-role")},n&&(T.intSet=n)}function B(){V(),c.setTreeToggleData(!1),c.clearFilterUi(),l.resetFilterState()}function V(){delete T.curTree,T.selectedOpts={}}function W(t,e){return n("JtgP").default(t,e,T)}function H(){var t=l.getFilterState();c.reloadTableThenApplyFilters(t)}function z(t){return console.log("   //resetting search table. Focus ? [%s]",t),B(),Z(t).then(c.updateUiForTableView)}function Z(t){var e=arguments.length>1&&void 0!==arguments[1]&&arguments[1];if(""===t)return Promise.resolve();var n=t||a.getSelVal("Focus");return console.log("   //select(ing)SearchFocus = [%s], view ? [%s]",n,e),B(),Y(n,e)}function Y(t,e){return t===T.curFocus?Q(t,e):function(t,e){return a.setData("curFocus",t),a.setData("curView",e),q(t),j(t)}(t,e).then((function(){return Q(t,e)}))}function q(e){c.updateFilterPanelHeader(e),t("#focus-filters").empty()}function Q(t,e,n){return{locs:K,srcs:rt,taxa:ut}[t](e)}function J(t){l.showTodaysUpdates(t)}function K(t){console.log("       --Building Location Table. View ? [%s]",t);var e=t||"tree";return a.getData(["location","topRegionNames"]).then((function(t){return function(t){T.rcrdsById=t.location,T.data=t}(t),c.initLocViewOpts(e),$(e)}))}function X(t){t&&$(t)}function $(t){var e,n=t||a.getSelVal("View");return console.log("           --updateLocView. view = [%s]",n),e=n,c.fadeTable(),"tree"===e&&c.updateUiForTableView(),B(),c.setTreeToggleData(!1),function(t){return a.setData("curView",t),"tree"===t?tt():function(){if(c.updateUiForMapView(),T.intSet)return void s.a(et()).then(ot);return u.initMap(T.rcrdsById),Promise.resolve()}()}(n)}function tt(t,e){console.log("       --rebuilding loc tree. topLoc = %O",t);var n=t||et();return V(),T.openRows=1===n.length?n:[],c.fadeTable(),function(t,e){return s.a(t,e).then((function(t){return p.a(t,T)})).then((function(t){return W("Location Tree",t)})).then((function(){return l.loadLocFilters(T)}))}(n,e)}function et(){var t=[],e=T.data.topRegionNames;for(var n in e)t.push(e[n]);return t}function nt(t){console.log("       --Showing Location in Table"),c.updateUiForTableView(),a.setSelVal("View","tree","silent"),tt([t.id])}function ot(t){u.initMap(T.rcrdsById,t)}function it(e,n){console.log("       --Showing Location on Map"),t("#shw-map").prop("disabled")||(c.updateUiForMapView(),a.setSelVal("View","map","silent"),u.showLoc(e,n,T.rcrdsById),t("#tbl-filter-status").html("No Active Filters."))}function rt(t){return console.log("       --Building Source Table. view ? [%s]",t),t?at(t):a.getData("curView",!0).then((function(t){return at(t||"pubs")}))}function at(t){return a.getData("source").then((function(e){return T.rcrdsById=e,c.initSrcViewOpts(t),lt(t)}))}function st(e){if(console.log("       --onSrcViewChange. view ? [%s]",e),e)return t("#focus-filters").empty(),function(t){return console.log("       --rebuildSrcTable. view ? [%s]",t),c.fadeTable(),B(),c.setTreeToggleData(!1),lt(t)}(e)}function lt(t){return function(t){var e=t||a.getSelVal("View");a.setData("curView",e),T.curView=e}(t),s.b(T.curView).then((function(t){return p.b(t,T)})).then((function(t){return W("Source Tree",t)})).then((function(){return l.loadSrcFilters(T.curView)}))}function ut(t){return t?ct(t):a.getData("curView",!0).then((function(t){var e=t||ft(a.getSelVal("View"));return console.log("       --Building [%s] Taxon Table",e),ct(e)}))}function ct(t){return a.getData("taxon").then(dt.bind(null,t))}function dt(t,e){T.rcrdsById=e;var n=ht(t);return c.initTxnViewOpts(n.id,T.flags.allDataAvailable),mt(n)}function pt(e){console.log("       --onTxnViewChange. [%s]",e),e&&(t("#focus-filters").empty(),function(t){var e=ht(t);B(),gt(e)}(e))}function ht(t){var e=t||ft(a.getSelVal("View")),n=a.getDetachedRcrd(e,T.rcrdsById,"taxon");return function(t,e){a.setData("curView",t),T.realmLvl=e.level,T.curView=t}(e,n),n}function ft(e){var n="test"==t("body").data("env")?1:2;return e?isNaN(e)?n:e:n}function gt(t,e,n){return console.log("       --rebuildTxnTable. topTaxon = %O, filtering ? [%s], textFilter ? [%s]",t,e,n),T.api&&!T.flags.allDataAvailable||c.fadeTable(),mt(t,e,n)}function mt(t,e,n){return T.openRows=[t.id.toString()],s.c(t,e,n).then((function(t){return p.c(t,T)})).then((function(t){return W("Taxon Tree",t)})).then((function(){return l.loadTxnFilters(T,t.realm.pluralName)}))}}.call(this,n("EVdn"))},kuSF:function(t,e,n){"use strict";(function(t){n.d(e,"a",(function(){return a})),n.d(e,"b",(function(){return u}));n("07d7"),n("5s+n");var o,i,r=n("FNQh");function a(e,n){var a;return a=r.state("getFormState"),o=a.entity,i=a.action,function(e){t("#b-overlay").addClass("form-ovrly"),t("#b-overlay-popup").addClass("form-popup"),t("#b-overlay-popup").append(e),t("#form-main, .form-popup").removeClass(["lrg-form","med-form","sml-form"]),t("#form-main, .form-popup").addClass({interaction:"lrg-form",publication:"med-form",publisher:"sml-form",citation:"med-form",author:"sml-form",location:"med-form",taxon:"sml-form"}[o])}(function(t,e){return[l(),s(t,e)]}(n,e)),Promise.resolve()}function s(e,n){var a=r.util("buildElem",["div",{class:"flex-row"}]),s=r.panel("getDetailPanelElems",[o,e,i]);return t(a).append([c(n),s]),a}function l(){var e=r.util("buildElem",["div",{class:"exit-row"}]);return t(e).append(u()),e}function u(){var e=r.util("buildElem",["input",{id:"exit-form",class:"exit-bttn",type:"button",value:"X"}]);return t(e).click(r.exitFormWindow),e}function c(e){var n,a=r.util("buildElem",["div",{id:"form-main",class:i}]);return t(a).append([(n=("create"==i?"New ":"Editing ")+r.util("ucfirst",[o]),r.util("buildElem",["h1",{id:"top-hdr",text:n}])),d(e)]),a}function d(e){var n=function(){var e=document.createElement("form");return t(e).attr({action:"",method:"POST",name:"top"}),e.className="flex-row",e.id="top-form",e}();return t(n).append([p(e),r.elems("getFormFooter",[o,"top",i])]),n}function p(e){var n={id:o+"_Rows",class:"flex-row flex-wrap"},i=r.util("buildElem",["div",n]);return t(i).append(e),i}}).call(this,n("EVdn"))},lEny:function(t,e,n){"use strict";n.r(e),n.d(e,"initDb",(function(){return v})),n.d(e,"setData",(function(){return y})),n.d(e,"getData",(function(){return b})),n.d(e,"updateLocalDb",(function(){return _})),n.d(e,"updateUserNamedList",(function(){return C})),n.d(e,"resetStoredData",(function(){return w})),n.d(e,"resetLocalDb",(function(){return E})),n.d(e,"pg",(function(){return x})),n.d(e,"fetchServerData",(function(){return S})),n.d(e,"getAllStoredData",(function(){return O})),n.d(e,"syncLocalDbWithServer",(function(){return R})),n.d(e,"initStoredData",(function(){return T})),n.d(e,"deriveUserData",(function(){return L})),n.d(e,"getMmryData",(function(){return P})),n.d(e,"setDataInMemory",(function(){return D})),n.d(e,"setUpdatedDataInLocalDb",(function(){return k})),n.d(e,"setMmryDataObj",(function(){return N})),n.d(e,"deleteMmryData",(function(){return F})),n.d(e,"clearTempMmry",(function(){return M}));var o={};n.r(o),n.d(o,"getMmryData",(function(){return c})),n.d(o,"deleteMmryData",(function(){return d})),n.d(o,"setMmryDataObj",(function(){return p})),n.d(o,"setDataInMemory",(function(){return h})),n.d(o,"setUpdatedDataInLocalDb",(function(){return f})),n.d(o,"clearTempMmry",(function(){return g}));n("tkto"),n("07d7"),n("5s+n");var i,r=n("RIqP"),a=n.n(r),s=n("kfS4"),l=n("d4Uf"),u=n("I91k");function c(t){return i&&i[t]?i[t].value:null}function d(t){delete i[t]}function p(t){i=t}function h(t,e){i||(i={}),i[t]||(i[t]={}),i[t].value=e,i[t].changed=!0}function f(){return Object.keys(i).reduce((function(t,e){return i[e].changed?(i[e].changed=!1,t.then((function(){return y(e,i[e].value)}))):t}),Promise.resolve())}function g(t){i=null}var m=n("/YIX");function v(t){l.d()}function y(t,e){l.e(t,e)}function b(t,e){return l.c(t,e)}function _(t){return u.updateLocalDb(t)}function C(){return u.updateUserNamedList.apply(u,arguments)}function w(t){l.a(t)}function E(){var t={html:'<center>Click "Reset" to redownload all data.</center>',elem:"#data-help",dir:"left",submit:function(){s._modal("exitModal"),l.a(!0)},bttn:"Reset"};s._modal("showSaveModal",[t])}function x(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:[];return s[t].apply(s,a()(e))}function S(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:9;return console.log("       *-fetchServerData [%s] with params = %O",t,Object.keys(e).length?e:null),fetch("fetch/"+t,e).then((function(o){return o.ok?o.json():1===n?A(t,o.json()):S(t,e,n-1)}))}function A(t,e){return s.alertIssue("fetchIssue",{url:t,response:e}),Promise.reject()}function O(){return l.b()}function R(t){u.syncLocalDbWithServer(t)}function T(t){return s.showIntroAndLoadingMsg(t),n("/YIX").default(t)}function L(){return m.deriveUserData.apply(m,arguments)}function P(){return c.apply(o,arguments)}function D(){h.apply(o,arguments)}function k(){return f()}function N(){return p.apply(o,arguments)}function F(){return d.apply(o,arguments)}function M(){return g()}},lW6c:function(t,e,n){"use strict";(function(t){n.d(e,"a",(function(){return s})),n.d(e,"b",(function(){return c})),n.d(e,"c",(function(){return p}));var o=n("mrSG"),i=n("9/Zf"),r=n("8LbN"),a=n("KjyA"),s=function(){function t(t,e,n){void 0===e&&(e=new a.a),void 0===n&&(n=3),this._version=n,this._stack=[],this._stack.push({client:t,scope:e})}return t.prototype._invokeClient=function(t){for(var e,n=[],i=1;i<arguments.length;i++)n[i-1]=arguments[i];var r=this.getStackTop();r&&r.client&&r.client[t]&&(e=r.client)[t].apply(e,o.d(n,[r.scope]))},t.prototype.isOlderThan=function(t){return this._version<t},t.prototype.bindClient=function(t){this.getStackTop().client=t},t.prototype.pushScope=function(){var t=this.getStack(),e=t.length>0?t[t.length-1].scope:void 0,n=a.a.clone(e);return this.getStack().push({client:this.getClient(),scope:n}),n},t.prototype.popScope=function(){return void 0!==this.getStack().pop()},t.prototype.withScope=function(t){var e=this.pushScope();try{t(e)}finally{this.popScope()}},t.prototype.getClient=function(){return this.getStackTop().client},t.prototype.getScope=function(){return this.getStackTop().scope},t.prototype.getStack=function(){return this._stack},t.prototype.getStackTop=function(){return this._stack[this._stack.length-1]},t.prototype.captureException=function(t,e){var n=this._lastEventId=Object(i.n)(),r=e;if(!e){var a=void 0;try{throw new Error("Sentry syntheticException")}catch(t){a=t}r={originalException:t,syntheticException:a}}return this._invokeClient("captureException",t,o.a({},r,{event_id:n})),n},t.prototype.captureMessage=function(t,e,n){var r=this._lastEventId=Object(i.n)(),a=n;if(!n){var s=void 0;try{throw new Error(t)}catch(t){s=t}a={originalException:t,syntheticException:s}}return this._invokeClient("captureMessage",t,e,o.a({},a,{event_id:r})),r},t.prototype.captureEvent=function(t,e){var n=this._lastEventId=Object(i.n)();return this._invokeClient("captureEvent",t,o.a({},e,{event_id:n})),n},t.prototype.lastEventId=function(){return this._lastEventId},t.prototype.addBreadcrumb=function(t,e){var n=this.getStackTop();if(n.scope&&n.client){var r=n.client.getOptions&&n.client.getOptions()||{},a=r.beforeBreadcrumb,s=void 0===a?null:a,l=r.maxBreadcrumbs,u=void 0===l?100:l;if(!(u<=0)){var c=Object(i.m)(),d=o.a({timestamp:c},t),p=s?Object(i.c)((function(){return s(d,e)})):d;null!==p&&n.scope.addBreadcrumb(p,Math.min(u,100))}}},t.prototype.setUser=function(t){var e=this.getStackTop();e.scope&&e.scope.setUser(t)},t.prototype.setTags=function(t){var e=this.getStackTop();e.scope&&e.scope.setTags(t)},t.prototype.setExtras=function(t){var e=this.getStackTop();e.scope&&e.scope.setExtras(t)},t.prototype.setTag=function(t,e){var n=this.getStackTop();n.scope&&n.scope.setTag(t,e)},t.prototype.setExtra=function(t,e){var n=this.getStackTop();n.scope&&n.scope.setExtra(t,e)},t.prototype.setContext=function(t,e){var n=this.getStackTop();n.scope&&n.scope.setContext(t,e)},t.prototype.configureScope=function(t){var e=this.getStackTop();e.scope&&e.client&&t(e.scope)},t.prototype.run=function(t){var e=u(this);try{t(this)}finally{u(e)}},t.prototype.getIntegration=function(t){var e=this.getClient();if(!e)return null;try{return e.getIntegration(t)}catch(e){return r.a.warn("Cannot retrieve integration "+t.id+" from the current Hub"),null}},t.prototype.startSpan=function(t,e){return void 0===e&&(e=!1),this._callExtensionMethod("startSpan",t,e)},t.prototype.traceHeaders=function(){return this._callExtensionMethod("traceHeaders")},t.prototype._callExtensionMethod=function(t){for(var e=[],n=1;n<arguments.length;n++)e[n-1]=arguments[n];var o=l(),i=o.__SENTRY__;if(i&&i.extensions&&"function"==typeof i.extensions[t])return i.extensions[t].apply(this,e);r.a.warn("Extension method "+t+" couldn't be found, doing nothing.")},t}();function l(){var t=Object(i.g)();return t.__SENTRY__=t.__SENTRY__||{extensions:{},hub:void 0},t}function u(t){var e=l(),n=p(e);return h(e,t),n}function c(){var e=l();return d(e)&&!p(e).isOlderThan(3)||h(e,new s),Object(i.j)()?function(e){try{var n=Object(i.d)(t,"domain").active;if(!n)return p(e);if(!d(n)||p(n).isOlderThan(3)){var o=p(e).getStackTop();h(n,new s(o.client,a.a.clone(o.scope)))}return p(n)}catch(t){return p(e)}}(e):p(e)}function d(t){return!!(t&&t.__SENTRY__&&t.__SENTRY__.hub)}function p(t){return t&&t.__SENTRY__&&t.__SENTRY__.hub||(t.__SENTRY__=t.__SENTRY__||{},t.__SENTRY__.hub=new s),t.__SENTRY__.hub}function h(t,e){return!!t&&(t.__SENTRY__=t.__SENTRY__||{},t.__SENTRY__.hub=e,!0)}}).call(this,n("3UD+")(t))},lmH4:function(t,e,n){"use strict";var o=n("I+eb"),i=n("xDBR"),r=n("0GbY"),a=n("glrk"),s=n("HAuM"),l=n("mh/w"),u=n("ImZN");o({target:"Set",proto:!0,real:!0,forced:i},{isSubsetOf:function(t){var e=l(this),n=a(t),o=n.has;return"function"!=typeof o&&(n=new(r("Set"))(t),o=s(n.has)),!u(e,(function(t){if(!1===o.call(n,t))return u.stop()}),void 0,!1,!0).stopped}})},ls82:function(t,e,n){var o=function(t){"use strict";var e=Object.prototype,n=e.hasOwnProperty,o="function"==typeof Symbol?Symbol:{},i=o.iterator||"@@iterator",r=o.asyncIterator||"@@asyncIterator",a=o.toStringTag||"@@toStringTag";function s(t,e,n,o){var i=e&&e.prototype instanceof c?e:c,r=Object.create(i.prototype),a=new w(o||[]);return r._invoke=function(t,e,n){var o="suspendedStart";return function(i,r){if("executing"===o)throw new Error("Generator is already running");if("completed"===o){if("throw"===i)throw r;return x()}for(n.method=i,n.arg=r;;){var a=n.delegate;if(a){var s=b(a,n);if(s){if(s===u)continue;return s}}if("next"===n.method)n.sent=n._sent=n.arg;else if("throw"===n.method){if("suspendedStart"===o)throw o="completed",n.arg;n.dispatchException(n.arg)}else"return"===n.method&&n.abrupt("return",n.arg);o="executing";var c=l(t,e,n);if("normal"===c.type){if(o=n.done?"completed":"suspendedYield",c.arg===u)continue;return{value:c.arg,done:n.done}}"throw"===c.type&&(o="completed",n.method="throw",n.arg=c.arg)}}}(t,n,a),r}function l(t,e,n){try{return{type:"normal",arg:t.call(e,n)}}catch(t){return{type:"throw",arg:t}}}t.wrap=s;var u={};function c(){}function d(){}function p(){}var h={};h[i]=function(){return this};var f=Object.getPrototypeOf,g=f&&f(f(E([])));g&&g!==e&&n.call(g,i)&&(h=g);var m=p.prototype=c.prototype=Object.create(h);function v(t){["next","throw","return"].forEach((function(e){t[e]=function(t){return this._invoke(e,t)}}))}function y(t){var e;this._invoke=function(o,i){function r(){return new Promise((function(e,r){!function e(o,i,r,a){var s=l(t[o],t,i);if("throw"!==s.type){var u=s.arg,c=u.value;return c&&"object"==typeof c&&n.call(c,"__await")?Promise.resolve(c.__await).then((function(t){e("next",t,r,a)}),(function(t){e("throw",t,r,a)})):Promise.resolve(c).then((function(t){u.value=t,r(u)}),(function(t){return e("throw",t,r,a)}))}a(s.arg)}(o,i,e,r)}))}return e=e?e.then(r,r):r()}}function b(t,e){var n=t.iterator[e.method];if(void 0===n){if(e.delegate=null,"throw"===e.method){if(t.iterator.return&&(e.method="return",e.arg=void 0,b(t,e),"throw"===e.method))return u;e.method="throw",e.arg=new TypeError("The iterator does not provide a 'throw' method")}return u}var o=l(n,t.iterator,e.arg);if("throw"===o.type)return e.method="throw",e.arg=o.arg,e.delegate=null,u;var i=o.arg;return i?i.done?(e[t.resultName]=i.value,e.next=t.nextLoc,"return"!==e.method&&(e.method="next",e.arg=void 0),e.delegate=null,u):i:(e.method="throw",e.arg=new TypeError("iterator result is not an object"),e.delegate=null,u)}function _(t){var e={tryLoc:t[0]};1 in t&&(e.catchLoc=t[1]),2 in t&&(e.finallyLoc=t[2],e.afterLoc=t[3]),this.tryEntries.push(e)}function C(t){var e=t.completion||{};e.type="normal",delete e.arg,t.completion=e}function w(t){this.tryEntries=[{tryLoc:"root"}],t.forEach(_,this),this.reset(!0)}function E(t){if(t){var e=t[i];if(e)return e.call(t);if("function"==typeof t.next)return t;if(!isNaN(t.length)){var o=-1,r=function e(){for(;++o<t.length;)if(n.call(t,o))return e.value=t[o],e.done=!1,e;return e.value=void 0,e.done=!0,e};return r.next=r}}return{next:x}}function x(){return{value:void 0,done:!0}}return d.prototype=m.constructor=p,p.constructor=d,p[a]=d.displayName="GeneratorFunction",t.isGeneratorFunction=function(t){var e="function"==typeof t&&t.constructor;return!!e&&(e===d||"GeneratorFunction"===(e.displayName||e.name))},t.mark=function(t){return Object.setPrototypeOf?Object.setPrototypeOf(t,p):(t.__proto__=p,a in t||(t[a]="GeneratorFunction")),t.prototype=Object.create(m),t},t.awrap=function(t){return{__await:t}},v(y.prototype),y.prototype[r]=function(){return this},t.AsyncIterator=y,t.async=function(e,n,o,i){var r=new y(s(e,n,o,i));return t.isGeneratorFunction(n)?r:r.next().then((function(t){return t.done?t.value:r.next()}))},v(m),m[a]="Generator",m[i]=function(){return this},m.toString=function(){return"[object Generator]"},t.keys=function(t){var e=[];for(var n in t)e.push(n);return e.reverse(),function n(){for(;e.length;){var o=e.pop();if(o in t)return n.value=o,n.done=!1,n}return n.done=!0,n}},t.values=E,w.prototype={constructor:w,reset:function(t){if(this.prev=0,this.next=0,this.sent=this._sent=void 0,this.done=!1,this.delegate=null,this.method="next",this.arg=void 0,this.tryEntries.forEach(C),!t)for(var e in this)"t"===e.charAt(0)&&n.call(this,e)&&!isNaN(+e.slice(1))&&(this[e]=void 0)},stop:function(){this.done=!0;var t=this.tryEntries[0].completion;if("throw"===t.type)throw t.arg;return this.rval},dispatchException:function(t){if(this.done)throw t;var e=this;function o(n,o){return a.type="throw",a.arg=t,e.next=n,o&&(e.method="next",e.arg=void 0),!!o}for(var i=this.tryEntries.length-1;i>=0;--i){var r=this.tryEntries[i],a=r.completion;if("root"===r.tryLoc)return o("end");if(r.tryLoc<=this.prev){var s=n.call(r,"catchLoc"),l=n.call(r,"finallyLoc");if(s&&l){if(this.prev<r.catchLoc)return o(r.catchLoc,!0);if(this.prev<r.finallyLoc)return o(r.finallyLoc)}else if(s){if(this.prev<r.catchLoc)return o(r.catchLoc,!0)}else{if(!l)throw new Error("try statement without catch or finally");if(this.prev<r.finallyLoc)return o(r.finallyLoc)}}}},abrupt:function(t,e){for(var o=this.tryEntries.length-1;o>=0;--o){var i=this.tryEntries[o];if(i.tryLoc<=this.prev&&n.call(i,"finallyLoc")&&this.prev<i.finallyLoc){var r=i;break}}r&&("break"===t||"continue"===t)&&r.tryLoc<=e&&e<=r.finallyLoc&&(r=null);var a=r?r.completion:{};return a.type=t,a.arg=e,r?(this.method="next",this.next=r.finallyLoc,u):this.complete(a)},complete:function(t,e){if("throw"===t.type)throw t.arg;return"break"===t.type||"continue"===t.type?this.next=t.arg:"return"===t.type?(this.rval=this.arg=t.arg,this.method="return",this.next="end"):"normal"===t.type&&e&&(this.next=e),u},finish:function(t){for(var e=this.tryEntries.length-1;e>=0;--e){var n=this.tryEntries[e];if(n.finallyLoc===t)return this.complete(n.completion,n.afterLoc),C(n),u}},catch:function(t){for(var e=this.tryEntries.length-1;e>=0;--e){var n=this.tryEntries[e];if(n.tryLoc===t){var o=n.completion;if("throw"===o.type){var i=o.arg;C(n)}return i}}throw new Error("illegal catch attempt")},delegateYield:function(t,e,n){return this.delegate={iterator:E(t),resultName:e,nextLoc:n},"next"===this.method&&(this.arg=void 0),u}},t}(t.exports);try{regeneratorRuntime=o}catch(t){Function("r","regeneratorRuntime = r")(o)}},lwsE:function(t,e){t.exports=function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}},m92n:function(t,e,n){var o=n("glrk");t.exports=function(t,e,n,i){try{return i?e(o(n)[0],n[1]):e(n)}catch(e){var r=t.return;throw void 0!==r&&o(r.call(t)),e}}},mGGf:function(t,e,n){"use strict";n("4mDm");var o=n("I+eb"),i=n("DTth"),r=n("busE"),a=n("4syw"),s=n("1E5z"),l=n("ntOU"),u=n("afO8"),c=n("GarU"),d=n("UTVS"),p=n("+MLx"),h=n("glrk"),f=n("hh1v"),g=n("mh/w"),m=n("NaFW"),v=n("tiKp")("iterator"),y=u.set,b=u.getterFor("URLSearchParams"),_=u.getterFor("URLSearchParamsIterator"),C=/\+/g,w=Array(4),E=function(t){return w[t-1]||(w[t-1]=RegExp("((?:%[\\da-f]{2}){"+t+"})","gi"))},x=function(t){try{return decodeURIComponent(t)}catch(e){return t}},S=function(t){var e=t.replace(C," "),n=4;try{return decodeURIComponent(e)}catch(t){for(;n;)e=e.replace(E(n--),x);return e}},A=/[!'()~]|%20/g,O={"!":"%21","'":"%27","(":"%28",")":"%29","~":"%7E","%20":"+"},R=function(t){return O[t]},T=function(t){return encodeURIComponent(t).replace(A,R)},L=function(t,e){if(e)for(var n,o,i=e.split("&"),r=0;r<i.length;)(n=i[r++]).length&&(o=n.split("="),t.push({key:S(o.shift()),value:S(o.join("="))}))},P=function(t){this.entries.length=0,L(this.entries,t)},D=function(t,e){if(t<e)throw TypeError("Not enough arguments")},k=l((function(t,e){y(this,{type:"URLSearchParamsIterator",iterator:g(b(t).entries),kind:e})}),"Iterator",(function(){var t=_(this),e=t.kind,n=t.iterator.next(),o=n.value;return n.done||(n.value="keys"===e?o.key:"values"===e?o.value:[o.key,o.value]),n})),N=function(){c(this,N,"URLSearchParams");var t,e,n,o,i,r,a,s=arguments.length>0?arguments[0]:void 0,l=this,u=[];if(y(l,{type:"URLSearchParams",entries:u,updateURL:function(){},updateSearchParams:P}),void 0!==s)if(f(s))if("function"==typeof(t=m(s)))for(e=t.call(s);!(n=e.next()).done;){if((i=(o=g(h(n.value))).next()).done||(r=o.next()).done||!o.next().done)throw TypeError("Expected sequence with length 2");u.push({key:i.value+"",value:r.value+""})}else for(a in s)d(s,a)&&u.push({key:a,value:s[a]+""});else L(u,"string"==typeof s?"?"===s.charAt(0)?s.slice(1):s:s+"")},F=N.prototype;a(F,{append:function(t,e){D(arguments.length,2);var n=b(this);n.entries.push({key:t+"",value:e+""}),n.updateURL()},delete:function(t){D(arguments.length,1);for(var e=b(this),n=e.entries,o=t+"",i=0;i<n.length;)n[i].key===o?n.splice(i,1):i++;e.updateURL()},get:function(t){D(arguments.length,1);for(var e=b(this).entries,n=t+"",o=0;o<e.length;o++)if(e[o].key===n)return e[o].value;return null},getAll:function(t){D(arguments.length,1);for(var e=b(this).entries,n=t+"",o=[],i=0;i<e.length;i++)e[i].key===n&&o.push(e[i].value);return o},has:function(t){D(arguments.length,1);for(var e=b(this).entries,n=t+"",o=0;o<e.length;)if(e[o++].key===n)return!0;return!1},set:function(t,e){D(arguments.length,1);for(var n,o=b(this),i=o.entries,r=!1,a=t+"",s=e+"",l=0;l<i.length;l++)(n=i[l]).key===a&&(r?i.splice(l--,1):(r=!0,n.value=s));r||i.push({key:a,value:s}),o.updateURL()},sort:function(){var t,e,n,o=b(this),i=o.entries,r=i.slice();for(i.length=0,n=0;n<r.length;n++){for(t=r[n],e=0;e<n;e++)if(i[e].key>t.key){i.splice(e,0,t);break}e===n&&i.push(t)}o.updateURL()},forEach:function(t){for(var e,n=b(this).entries,o=p(t,arguments.length>1?arguments[1]:void 0,3),i=0;i<n.length;)o((e=n[i++]).value,e.key,this)},keys:function(){return new k(this,"keys")},values:function(){return new k(this,"values")},entries:function(){return new k(this,"entries")}},{enumerable:!0}),r(F,v,F.entries),r(F,"toString",(function(){for(var t,e=b(this).entries,n=[],o=0;o<e.length;)t=e[o++],n.push(T(t.key)+"="+T(t.value));return n.join("&")}),{enumerable:!0}),s(N,"URLSearchParams"),o({global:!0,forced:!i},{URLSearchParams:N}),t.exports={URLSearchParams:N,getState:b}},mRfS:function(t,e,n){(function(o){var i,r,a;n("+2oP"),n("pDQq"),n("07d7"),n("JfAA"),n("UxlC");var s,l=n("cDf5");s=function(t){function e(t){this._targetElement=t,this._introItems=[],this._options={nextLabel:"Next &rarr;",prevLabel:"&larr; Back",skipLabel:"Skip",doneLabel:"Done",tooltipPosition:"bottom",tooltipClass:"",highlightClass:"",exitOnEsc:!0,exitOnOverlayClick:!0,showStepNumbers:!0,keyboardNavigation:!0,showButtons:!0,showBullets:!0,showProgress:!1,scrollToElement:!0,overlayOpacity:.8,scrollPadding:30,positionPrecedence:["bottom","top","right","left"],disableInteraction:!1,hintPosition:"top-middle",hintButtonLabel:"Got it",hintAnimation:!0}}function n(t){var e=[],n=this;if(this._options.steps)for(var o=0,r=this._options.steps.length;o<r;o++){var l=i(this._options.steps[o]);if(l.step=e.length+1,"string"==typeof l.element&&(l.element=document.querySelector(l.element)),void 0===l.element||null==l.element){var c=document.querySelector(".introjsFloatingElement");null==c&&((c=document.createElement("div")).className="introjsFloatingElement",document.body.appendChild(c)),l.element=c,l.position="floating"}null!=l.element&&e.push(l)}else{var d=t.querySelectorAll("*[data-intro]");if(d.length<1)return!1;o=0;for(var p=d.length;o<p;o++)if("none"!=(m=d[o]).style.display){var h=parseInt(m.getAttribute("data-step"),10);h>0&&(e[h-1]={element:m,intro:m.getAttribute("data-intro"),step:parseInt(m.getAttribute("data-step"),10),tooltipClass:m.getAttribute("data-tooltipClass"),highlightClass:m.getAttribute("data-highlightClass"),position:m.getAttribute("data-position")||this._options.tooltipPosition})}var f=0;for(o=0,p=d.length;o<p;o++){var m;if(null==(m=d[o]).getAttribute("data-step")){for(;void 0!==e[f];)f++;e[f]={element:m,intro:m.getAttribute("data-intro"),step:f+1,tooltipClass:m.getAttribute("data-tooltipClass"),highlightClass:m.getAttribute("data-highlightClass"),position:m.getAttribute("data-position")||this._options.tooltipPosition}}}}for(var v=[],y=0;y<e.length;y++)e[y]&&v.push(e[y]);return(e=v).sort((function(t,e){return t.step-e.step})),n._introItems=e,w.call(n,t)&&(a.call(n),t.querySelector(".introjs-skipbutton"),t.querySelector(".introjs-nextbutton"),n._onKeyDown=function(e){if(27===e.keyCode&&1==n._options.exitOnEsc)null!=n._introExitCallback&&n._introExitCallback.call(n),u.call(n,t);else if(37===e.keyCode)s.call(n);else if(39===e.keyCode)a.call(n);else if(13===e.keyCode){var o=e.target||e.srcElement;o&&o.className.indexOf("introjs-prevbutton")>0?s.call(n):o&&o.className.indexOf("introjs-skipbutton")>0?(n._introItems.length-1==n._currentStep&&"function"==typeof n._introCompleteCallback&&n._introCompleteCallback.call(n),null!=n._introExitCallback&&n._introExitCallback.call(n),u.call(n,t)):a.call(n),e.preventDefault?e.preventDefault():e.returnValue=!1}},n._onResize=function(t){g.call(n,document.querySelector(".introjs-helperLayer")),g.call(n,document.querySelector(".introjs-tooltipReferenceLayer"))},window.addEventListener?(this._options.keyboardNavigation&&window.addEventListener("keydown",n._onKeyDown,!0),window.addEventListener("resize",n._onResize,!0)):document.attachEvent&&(this._options.keyboardNavigation&&document.attachEvent("onkeydown",n._onKeyDown),document.attachEvent("onresize",n._onResize))),!1}function i(t){if(null==t||"object"!=l(t)||void 0!==t.nodeType)return t;var e={};for(var n in t)void 0!==o&&t[n]instanceof o?e[n]=t[n]:e[n]=i(t[n]);return e}function r(t){this._currentStep=t-2,void 0!==this._introItems&&a.call(this)}function a(){if(this._direction="forward",void 0===this._currentStep?this._currentStep=0:++this._currentStep,this._introItems.length<=this._currentStep)return"function"==typeof this._introCompleteCallback&&this._introCompleteCallback.call(this),void u.call(this,this._targetElement);var t=this._introItems[this._currentStep];void 0!==this._introBeforeChangeCallback&&this._introBeforeChangeCallback.call(this,t.element),y.call(this,t)}function s(){if(this._direction="backward",0===this._currentStep)return!1;var t=this._introItems[--this._currentStep];void 0!==this._introBeforeChangeCallback&&this._introBeforeChangeCallback.call(this,t.element),y.call(this,t)}function u(t){var e=t.querySelector(".introjs-overlay");if(null!=e){e.style.opacity=0,setTimeout((function(){e.parentNode&&e.parentNode.removeChild(e)}),500);var n=t.querySelector(".introjs-helperLayer");n&&n.parentNode.removeChild(n);var o=t.querySelector(".introjs-tooltipReferenceLayer");o&&o.parentNode.removeChild(o);var i=t.querySelector(".introjs-disableInteraction");i&&i.parentNode.removeChild(i);var r=document.querySelector(".introjsFloatingElement");r&&r.parentNode.removeChild(r);var a=document.querySelector(".introjs-showElement");a&&(a.className=a.className.replace(/introjs-[a-zA-Z]+/g,"").replace(/^\s+|\s+$/g,""));var s=document.querySelectorAll(".introjs-fixParent");if(s&&s.length>0)for(var l=s.length-1;l>=0;l--)s[l].className=s[l].className.replace(/introjs-fixParent/g,"").replace(/^\s+|\s+$/g,"");window.removeEventListener?window.removeEventListener("keydown",this._onKeyDown,!0):document.detachEvent&&document.detachEvent("onkeydown",this._onKeyDown),this._currentStep=void 0}}function c(t,e,n,o,i){var r,a,s,l,u,c="";if(i=i||!1,e.style.top=null,e.style.right=null,e.style.bottom=null,e.style.left=null,e.style.marginLeft=null,e.style.marginTop=null,n.style.display="inherit",void 0!==o&&null!=o&&(o.style.top=null,o.style.left=null),this._introItems[this._currentStep])switch(c="string"==typeof(r=this._introItems[this._currentStep]).tooltipClass?r.tooltipClass:this._options.tooltipClass,e.className=("introjs-tooltip "+c).replace(/^\s+|\s+$/g,""),"auto"!=(u=this._introItems[this._currentStep].position)&&"auto"!=this._options.tooltipPosition||"floating"!=u&&(u=h.call(this,t,e,u)),s=P(t),a=P(e),l=C(),u){case"top":if(n.className="introjs-arrow bottom",i)var f=0;else f=15;d(s,f,a,l,e),e.style.bottom=s.height+20+"px";break;case"right":e.style.left=s.width+20+"px",s.top+a.height>l.height?(n.className="introjs-arrow left-bottom",e.style.top="-"+(a.height-s.height-20)+"px"):n.className="introjs-arrow left";break;case"left":i||1!=this._options.showStepNumbers||(e.style.top="15px"),s.top+a.height>l.height?(e.style.top="-"+(a.height-s.height-20)+"px",n.className="introjs-arrow right-bottom"):n.className="introjs-arrow right",e.style.right=s.width+20+"px";break;case"floating":n.style.display="none",e.style.left="50%",e.style.top="50%",e.style.marginLeft="-"+a.width/2+"px",e.style.marginTop="-"+a.height/2+"px",void 0!==o&&null!=o&&(o.style.left="-"+(a.width/2+18)+"px",o.style.top="-"+(a.height/2+18)+"px");break;case"bottom-right-aligned":n.className="introjs-arrow top-right",p(s,0,a,e),e.style.top=s.height+20+"px";break;case"bottom-middle-aligned":n.className="introjs-arrow top-middle";var g=s.width/2-a.width/2;i&&(g+=5),p(s,g,a,e)&&(e.style.right=null,d(s,g,a,l,e)),e.style.top=s.height+20+"px";break;case"bottom-left-aligned":case"bottom":default:n.className="introjs-arrow top",d(s,f=0,a,l,e),e.style.top=s.height+20+"px"}}function d(t,e,n,o,i){return t.left+e+n.width>o.width?(i.style.left=o.width-n.width-t.left+"px",!1):(i.style.left=e+"px",!0)}function p(t,e,n,o){return t.left+t.width-e-n.width<0?(o.style.left=-t.left+"px",!1):(o.style.right=e+"px",!0)}function h(t,e,n){var o=this._options.positionPrecedence.slice(),i=C(),r=P(e).height+10,a=P(e).width+20,s=P(t),l="floating";return s.left+a>i.width||s.left+s.width/2-a<0?(f(o,"bottom"),f(o,"top")):(s.height+s.top+r>i.height&&f(o,"bottom"),s.top-r<0&&f(o,"top")),s.width+s.left+a>i.width&&f(o,"right"),s.left-a<0&&f(o,"left"),o.length>0&&(l=o[0]),n&&"auto"!=n&&o.indexOf(n)>-1&&(l=n),l}function f(t,e){t.indexOf(e)>-1&&t.splice(t.indexOf(e),1)}function g(t){if(t){if(!this._introItems[this._currentStep])return;var e=this._introItems[this._currentStep],n=P(e.element),o=10;_(e.element)?t.className+=" introjs-fixedTooltip":t.className=t.className.replace(" introjs-fixedTooltip",""),"floating"==e.position&&(o=0),t.setAttribute("style","width: "+(n.width+o)+"px; height:"+(n.height+o)+"px; top:"+(n.top-5)+"px;left: "+(n.left-5)+"px;")}}function m(){var t=document.querySelector(".introjs-disableInteraction");null===t&&((t=document.createElement("div")).className="introjs-disableInteraction",this._targetElement.appendChild(t)),g.call(this,t)}function v(t){t.setAttribute("role","button"),t.tabIndex=0}function y(t){void 0!==this._introChangeCallback&&this._introChangeCallback.call(this,t.element);var e=this,n=document.querySelector(".introjs-helperLayer"),o=document.querySelector(".introjs-tooltipReferenceLayer"),i="introjs-helperLayer";if(P(t.element),"string"==typeof t.highlightClass&&(i+=" "+t.highlightClass),"string"==typeof this._options.highlightClass&&(i+=" "+this._options.highlightClass),null!=n){var r=o.querySelector(".introjs-helperNumberLayer"),l=o.querySelector(".introjs-tooltiptext"),d=o.querySelector(".introjs-arrow"),p=o.querySelector(".introjs-tooltip"),h=o.querySelector(".introjs-skipbutton"),f=o.querySelector(".introjs-prevbutton"),y=o.querySelector(".introjs-nextbutton");if(n.className=i,p.style.opacity=0,p.style.display="none",null!=r){var _=this._introItems[t.step-2>=0?t.step-2:0];(null!=_&&"forward"==this._direction&&"floating"==_.position||"backward"==this._direction&&"floating"==t.position)&&(r.style.opacity=0)}g.call(e,n),g.call(e,o);var w=document.querySelectorAll(".introjs-fixParent");if(w&&w.length>0)for(var E=w.length-1;E>=0;E--)w[E].className=w[E].className.replace(/introjs-fixParent/g,"").replace(/^\s+|\s+$/g,"");var x=document.querySelector(".introjs-showElement");x&&(x.className=x.className.replace(/introjs-[a-zA-Z]+/g,"").replace(/^\s+|\s+$/g,"")),e._lastShowElementTimer&&clearTimeout(e._lastShowElementTimer),e._lastShowElementTimer=setTimeout((function(){null!=r&&(r.innerHTML=t.step),l.innerHTML=t.intro,p.style.display="block",c.call(e,t.element,p,d,r),o.querySelector(".introjs-bullets li > a.active").className="",o.querySelector('.introjs-bullets li > a[data-stepnumber="'+t.step+'"]').className="active",o.querySelector(".introjs-progress .introjs-progressbar").setAttribute("style","width:"+D.call(e)+"%;"),p.style.opacity=1,r&&(r.style.opacity=1),-1===y.tabIndex?h.focus():y.focus()}),350)}else{var S=document.createElement("div"),A=document.createElement("div"),O=document.createElement("div"),R=document.createElement("div"),T=document.createElement("div"),L=document.createElement("div"),k=document.createElement("div"),N=document.createElement("div");S.className=i,A.className="introjs-tooltipReferenceLayer",g.call(e,S),g.call(e,A),this._targetElement.appendChild(S),this._targetElement.appendChild(A),O.className="introjs-arrow",T.className="introjs-tooltiptext",T.innerHTML=t.intro,L.className="introjs-bullets",!1===this._options.showBullets&&(L.style.display="none");for(var F=document.createElement("ul"),M=(E=0,this._introItems.length);E<M;E++){var I=document.createElement("li"),G=document.createElement("a");G.onclick=function(){e.goToStep(this.getAttribute("data-stepnumber"))},E===t.step-1&&(G.className="active"),v(G),G.innerHTML="&nbsp;",G.setAttribute("data-stepnumber",this._introItems[E].step),I.appendChild(G),F.appendChild(I)}L.appendChild(F),k.className="introjs-progress",!1===this._options.showProgress&&(k.style.display="none");var j=document.createElement("div");if(j.className="introjs-progressbar",j.setAttribute("style","width:"+D.call(this)+"%;"),k.appendChild(j),N.className="introjs-tooltipbuttons",!1===this._options.showButtons&&(N.style.display="none"),R.className="introjs-tooltip",R.appendChild(T),R.appendChild(L),R.appendChild(k),1==this._options.showStepNumbers){var U=document.createElement("span");U.className="introjs-helperNumberLayer",U.innerHTML=t.step,A.appendChild(U)}R.appendChild(O),A.appendChild(R),(y=document.createElement("a")).onclick=function(){e._introItems.length-1!=e._currentStep&&a.call(e)},v(y),y.innerHTML=this._options.nextLabel,(f=document.createElement("a")).onclick=function(){0!=e._currentStep&&s.call(e)},v(f),f.innerHTML=this._options.prevLabel,(h=document.createElement("a")).className="introjs-button introjs-skipbutton",v(h),h.innerHTML=this._options.skipLabel,h.onclick=function(){e._introItems.length-1==e._currentStep&&"function"==typeof e._introCompleteCallback&&e._introCompleteCallback.call(e),e._introItems.length-1!=e._currentStep&&"function"==typeof e._introExitCallback&&e._introExitCallback.call(e),u.call(e,e._targetElement)},N.appendChild(h),this._introItems.length>1&&(N.appendChild(f),N.appendChild(y)),R.appendChild(N),c.call(e,t.element,R,O,U)}!0===this._options.disableInteraction&&m.call(e),f.removeAttribute("tabIndex"),y.removeAttribute("tabIndex"),0==this._currentStep&&this._introItems.length>1?(f.className="introjs-button introjs-prevbutton introjs-disabled",f.tabIndex="-1",y.className="introjs-button introjs-nextbutton",h.innerHTML=this._options.skipLabel):this._introItems.length-1==this._currentStep||1==this._introItems.length?(h.innerHTML=this._options.doneLabel,f.className="introjs-button introjs-prevbutton",y.className="introjs-button introjs-nextbutton introjs-disabled",y.tabIndex="-1"):(f.className="introjs-button introjs-prevbutton",y.className="introjs-button introjs-nextbutton",h.innerHTML=this._options.skipLabel),y.focus(),t.element.className+=" introjs-showElement";var B=b(t.element,"position");"absolute"!==B&&"relative"!==B&&"fixed"!==B&&(t.element.className+=" introjs-relativePosition");for(var V=t.element.parentNode;null!=V&&"body"!==V.tagName.toLowerCase();){var W=b(V,"z-index"),H=parseFloat(b(V,"opacity")),z=b(V,"transform")||b(V,"-webkit-transform")||b(V,"-moz-transform")||b(V,"-ms-transform")||b(V,"-o-transform");(/[0-9]+/.test(W)||H<1||"none"!==z&&void 0!==z)&&(V.className+=" introjs-fixParent"),V=V.parentNode}if(!function(t){var e=t.getBoundingClientRect();return e.top>=0&&e.left>=0&&e.bottom+80<=window.innerHeight&&e.right<=window.innerWidth}(t.element)&&!0===this._options.scrollToElement){var Z=t.element.getBoundingClientRect(),Y=C().height,q=Z.bottom-(Z.bottom-Z.top),Q=Z.bottom-Y;q<0||t.element.clientHeight>Y?window.scrollBy(0,q-this._options.scrollPadding):window.scrollBy(0,Q+70+this._options.scrollPadding)}void 0!==this._introAfterChangeCallback&&this._introAfterChangeCallback.call(this,t.element)}function b(t,e){var n="";return t.currentStyle?n=t.currentStyle[e]:document.defaultView&&document.defaultView.getComputedStyle&&(n=document.defaultView.getComputedStyle(t,null).getPropertyValue(e)),n&&n.toLowerCase?n.toLowerCase():n}function _(t){var e=t.parentNode;return"HTML"!==e.nodeName&&("fixed"==b(t,"position")||_(e))}function C(){if(null!=window.innerWidth)return{width:window.innerWidth,height:window.innerHeight};var t=document.documentElement;return{width:t.clientWidth,height:t.clientHeight}}function w(t){var e=document.createElement("div"),n="",o=this;if(e.className="introjs-overlay","body"===t.tagName.toLowerCase())n+="top: 0;bottom: 0; left: 0;right: 0;position: fixed;",e.setAttribute("style",n);else{var i=P(t);i&&(n+="width: "+i.width+"px; height:"+i.height+"px; top:"+i.top+"px;left: "+i.left+"px;",e.setAttribute("style",n))}return t.appendChild(e),e.onclick=function(){1==o._options.exitOnOverlayClick&&(null!=o._introExitCallback&&o._introExitCallback.call(o),u.call(o,t))},setTimeout((function(){n+="opacity: "+o._options.overlayOpacity.toString()+";",e.setAttribute("style",n)}),10),!0}function E(){var t=this._targetElement.querySelector(".introjs-hintReference");if(t){var e=t.getAttribute("data-step");return t.parentNode.removeChild(t),e}}function x(t){if(this._introItems=[],this._options.hints)for(var e=0,n=this._options.hints.length;e<n;e++){var o=i(this._options.hints[e]);"string"==typeof o.element&&(o.element=document.querySelector(o.element)),o.hintPosition=o.hintPosition||this._options.hintPosition,o.hintAnimation=o.hintAnimation||this._options.hintAnimation,null!=o.element&&this._introItems.push(o)}else{var r=t.querySelectorAll("*[data-hint]");if(r.length<1)return!1;for(e=0,n=r.length;e<n;e++){var a=r[e],s=a.getAttribute("data-hintAnimation");s=s?"true"==s:this._options.hintAnimation,this._introItems.push({element:a,hint:a.getAttribute("data-hint"),hintPosition:a.getAttribute("data-hintPosition")||this._options.hintPosition,hintAnimation:s,tooltipClass:a.getAttribute("data-tooltipClass"),position:a.getAttribute("data-position")||this._options.tooltipPosition})}}R.call(this),document.addEventListener?(document.addEventListener("click",E.bind(this),!1),window.addEventListener("resize",S.bind(this),!0)):document.attachEvent&&(document.attachEvent("onclick",E.bind(this)),document.attachEvent("onresize",S.bind(this)))}function S(){for(var t=0,e=this._introItems.length;t<e;t++){var n=this._introItems[t];void 0!==n.targetElement&&T.call(this,n.hintPosition,n.element,n.targetElement)}}function A(t){E.call(this);var e=this._targetElement.querySelector('.introjs-hint[data-step="'+t+'"]');e&&(e.className+=" introjs-hidehint"),void 0!==this._hintCloseCallback&&this._hintCloseCallback.call(this,t)}function O(){var t=this._targetElement.querySelectorAll(".introjs-hint");if(t&&t.length>0)for(var e=0;e<t.length;e++)A.call(this,t[e].getAttribute("data-step"))}function R(){var t=this,e=document.querySelector(".introjs-hints");if(null!=e)n=e;else{var n=document.createElement("div");n.className="introjs-hints"}for(var o=0,i=this._introItems.length;o<i;o++){var r=this._introItems[o];if(!document.querySelector('.introjs-hint[data-step="'+o+'"]')){var a=document.createElement("a");v(a),function(e,n,o){e.onclick=function(i){var r=i||window.event;r.stopPropagation&&r.stopPropagation(),null!=r.cancelBubble&&(r.cancelBubble=!0),L.call(t,e,n,o)}}(a,r,o),a.className="introjs-hint",r.hintAnimation||(a.className+=" introjs-hint-no-anim"),_(r.element)&&(a.className+=" introjs-fixedhint");var s=document.createElement("div");s.className="introjs-hint-dot";var l=document.createElement("div");l.className="introjs-hint-pulse",a.appendChild(s),a.appendChild(l),a.setAttribute("data-step",o),r.targetElement=r.element,r.element=a,T.call(this,r.hintPosition,a,r.targetElement),n.appendChild(a)}}document.body.appendChild(n),void 0!==this._hintsAddedCallback&&this._hintsAddedCallback.call(this)}function T(t,e,n){var o=P.call(this,n);switch(t){default:case"top-left":e.style.left=o.left+"px",e.style.top=o.top+"px";break;case"top-right":e.style.left=o.left+o.width+"px",e.style.top=o.top+"px";break;case"bottom-left":e.style.left=o.left+"px",e.style.top=o.top+o.height+"px";break;case"bottom-right":e.style.left=o.left+o.width+"px",e.style.top=o.top+o.height+"px";break;case"bottom-middle":e.style.left=o.left+o.width/2+"px",e.style.top=o.top+o.height+"px";break;case"top-middle":e.style.left=o.left+o.width/2+"px",e.style.top=o.top+"px"}}function L(t,e,n){void 0!==this._hintClickCallback&&this._hintClickCallback.call(this,t,e,n);var o=E.call(this);if(parseInt(o,10)!=n){var i=document.createElement("div"),r=document.createElement("div"),a=document.createElement("div"),s=document.createElement("div");i.className="introjs-tooltip",i.onclick=function(t){t.stopPropagation?t.stopPropagation():t.cancelBubble=!0},r.className="introjs-tooltiptext";var l=document.createElement("p");l.innerHTML=e.hint;var u=document.createElement("a");u.className="introjs-button",u.innerHTML=this._options.hintButtonLabel,u.onclick=A.bind(this,n),r.appendChild(l),r.appendChild(u),a.className="introjs-arrow",i.appendChild(a),i.appendChild(r),this._currentStep=t.getAttribute("data-step"),s.className="introjs-tooltipReferenceLayer introjs-hintReference",s.setAttribute("data-step",t.getAttribute("data-step")),g.call(this,s),s.appendChild(i),document.body.appendChild(s),c.call(this,t,i,a,null,!0)}}function P(t){var e={};e.width=t.offsetWidth,e.height=t.offsetHeight;for(var n=0,o=0;t&&!isNaN(t.offsetLeft)&&!isNaN(t.offsetTop);)n+=t.offsetLeft,o+=t.offsetTop,t=t.offsetParent;return e.top=o,e.left=n,e}function D(){return parseInt(this._currentStep+1,10)/this._introItems.length*100}var k=function(t){if("object"===l(t))return new e(t);if("string"==typeof t){var n=document.querySelector(t);if(n)return new e(n);throw new Error("There is no element with given selector.")}return new e(document.body)};return k.version="2.2.0",k.fn=e.prototype={clone:function(){return new e(this)},setOption:function(t,e){return this._options[t]=e,this},setOptions:function(t){return this._options=function(t,e){var n={};for(var o in t)n[o]=t[o];for(var o in e)n[o]=e[o];return n}(this._options,t),this},start:function(){return n.call(this,this._targetElement),this},goToStep:function(t){return r.call(this,t),this},nextStep:function(){return a.call(this),this},previousStep:function(){return s.call(this),this},exit:function(){return u.call(this,this._targetElement),this},refresh:function(){return g.call(this,document.querySelector(".introjs-helperLayer")),g.call(this,document.querySelector(".introjs-tooltipReferenceLayer")),S.call(this),this},onbeforechange:function(t){if("function"!=typeof t)throw new Error("Provided callback for onbeforechange was not a function");return this._introBeforeChangeCallback=t,this},onchange:function(t){if("function"!=typeof t)throw new Error("Provided callback for onchange was not a function.");return this._introChangeCallback=t,this},onafterchange:function(t){if("function"!=typeof t)throw new Error("Provided callback for onafterchange was not a function");return this._introAfterChangeCallback=t,this},oncomplete:function(t){if("function"!=typeof t)throw new Error("Provided callback for oncomplete was not a function.");return this._introCompleteCallback=t,this},onhintsadded:function(t){if("function"!=typeof t)throw new Error("Provided callback for onhintsadded was not a function.");return this._hintsAddedCallback=t,this},onhintclick:function(t){if("function"!=typeof t)throw new Error("Provided callback for onhintclick was not a function.");return this._hintClickCallback=t,this},onhintclose:function(t){if("function"!=typeof t)throw new Error("Provided callback for onhintclose was not a function.");return this._hintCloseCallback=t,this},onexit:function(t){if("function"!=typeof t)throw new Error("Provided callback for onexit was not a function.");return this._introExitCallback=t,this},addHints:function(){return x.call(this,this._targetElement),this},hideHint:function(t){return A.call(this,t),this},hideHints:function(){return O.call(this),this}},t.introJs=k,k},"object"===l(e)?s(e):(r=[e],void 0===(a="function"==typeof(i=s)?i.apply(e,r):i)||(t.exports=a))}).call(this,n("EVdn"))},"mh/w":function(t,e,n){var o=n("glrk"),i=n("NaFW");t.exports=function(t){var e=i(t);if("function"!=typeof e)throw TypeError(String(t)+" is not iterable");return o(e.call(t))}},mrSG:function(t,e,n){"use strict";n.d(e,"b",(function(){return i})),n.d(e,"a",(function(){return r})),n.d(e,"e",(function(){return a})),n.d(e,"c",(function(){return s})),n.d(e,"d",(function(){return l}));
/*! *****************************************************************************
Copyright (c) Microsoft Corporation. All rights reserved.
Licensed under the Apache License, Version 2.0 (the "License"); you may not use
this file except in compliance with the License. You may obtain a copy of the
License at http://www.apache.org/licenses/LICENSE-2.0

THIS CODE IS PROVIDED ON AN *AS IS* BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY
KIND, EITHER EXPRESS OR IMPLIED, INCLUDING WITHOUT LIMITATION ANY IMPLIED
WARRANTIES OR CONDITIONS OF TITLE, FITNESS FOR A PARTICULAR PURPOSE,
MERCHANTABLITY OR NON-INFRINGEMENT.

See the Apache Version 2.0 License for specific language governing permissions
and limitations under the License.
***************************************************************************** */
var o=function(t,e){return(o=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])})(t,e)};function i(t,e){function n(){this.constructor=t}o(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}var r=function(){return(r=Object.assign||function(t){for(var e,n=1,o=arguments.length;n<o;n++)for(var i in e=arguments[n])Object.prototype.hasOwnProperty.call(e,i)&&(t[i]=e[i]);return t}).apply(this,arguments)};function a(t){var e="function"==typeof Symbol&&t[Symbol.iterator],n=0;return e?e.call(t):{next:function(){return t&&n>=t.length&&(t=void 0),{value:t&&t[n++],done:!t}}}}function s(t,e){var n="function"==typeof Symbol&&t[Symbol.iterator];if(!n)return t;var o,i,r=n.call(t),a=[];try{for(;(void 0===e||e-- >0)&&!(o=r.next()).done;)a.push(o.value)}catch(t){i={error:t}}finally{try{o&&!o.done&&(n=r.return)&&n.call(r)}finally{if(i)throw i.error}}return a}function l(){for(var t=[],e=0;e<arguments.length;e++)t=t.concat(s(arguments[e]));return t}},ndez:function(t,e,n){"use strict";n.r(e),function(t){n.d(e,"loadTxnFilters",(function(){return r})),n.d(e,"applyTxnFilter",(function(){return s}));n("fbCW"),n("2B1R"),n("Junv"),n("sMBO"),n("tkto"),n("U3f4"),n("EnZy"),n("FZtP");var o=n("Zz5/"),i=n("kfS4");function r(e){if(console.log("       --Loading taxon filters."),function(e){var n=function(t){var e={},n=t.taxaByLvl;return t.allRealmLvls.forEach((function(t){return t in n?function(t,i){var r=Object.keys(n[i]).sort();e[i]=function(t,e){if(!t.length)return[];var n=t.map((function(t){return{value:e[t],text:t}}));o(n[0].value)&&n.unshift({value:"all",text:"- All -"});return n}(r,n[i])}(n[t],t):r(t)})),e;function o(e){if(!(Object.keys(t.selectedOpts).length>2))return Object.keys(t.selectedOpts).some((function(n){return e==t.selectedOpts[n]}))}function r(n){if(n in t.selectedOpts){var o=Object(i._u)("getDetachedRcrd",[t.selectedOpts[n],t.rcrdsById]);e[n]=[{value:"all",text:"- All -"},{value:o.id,text:o.name}]}else e[n]=[]}}(e),o=Object.keys(n);-1!==o.indexOf(e.realmLvl)&&o.shift();!function(e,n,o){t("#focus-filters label").length?function(t,e,n){e.forEach((function(e){Object(i._u)("replaceSelOpts",["#sel"+e,t[e],null,e])})),a(n.selectedOpts,n)}(e,n,o):function(e,n,o){var r=function(e,n){var o=[];return n.forEach((function(n){var r=Object(i._u)("buildElem",["label",{class:"sel-cntnr flex-row taxonLbl"}]),a=Object(i._u)("buildElem",["span",{text:n+": "}]),s=function(e,n,o,r){var a=Object(i._u)("buildSelectElem",[e,{class:n,id:o}]);return t(a).data("field",r),a}(e[n],"opts-box taxonSel","sel"+n,n);t(r).append([a,s]),o.push(r)})),o}(e,n);t("#focus-filters").append(r),l=o.allRealmLvls,u={},l.forEach((function(t){u[t]=s})),Object(i._u)("initComboboxes",[u]),a(o.selectedOpts,o);var l,u}(e,n,o)}(n,o,e)}(e),!t('.taxonLbl input[type="text"]').length)return n=o.getTreeTextFilterElem("Taxon"),void t("#focus-filters").append(n);var n}function a(t,e){t&&Object.keys(t).length&&e.allRealmLvls.forEach((function(e){t[e]&&Object(i._u)("setSelVal",[e,t[e],"silent"])}))}function s(e,n){if(e||void 0!==n){var r=Object(i.accessTableState)().get(["rcrdsById","flags"]);if(!r.flags.allDataAvailable)return t(this)[0].selectize.clear();var a=function(t,e,n){return isNaN(parseInt(t))?n.hasOwnProperty("$input")?(o=Object(i.accessTableState)().get("selectedOpts"),r=n.$input[0].id.split("sel")[1],a=Object(i._u)("getDetachedRcrd",[o[r],e]).parent,Object(i._u)("getDetachedRcrd",[a,e])):function(){var t=Object(i.accessTableState)().get("selectedOpts"),n=t[function(t){if(0!=Object.keys(t).length)return["Class","Order","Family","Genus","Species"].reverse().find((function(e){return t[e]}))}(t)]||Object(i._u)("getSelVal",["View"]);return Object(i._u)("getDetachedRcrd",[n,e])}():Object(i._u)("getDetachedRcrd",[t,e]);var o,r,a}(e,r.rcrdsById,this),s=n||o.getTreeFilterVal("Taxon");return Object(i.accessTableState)().set({selectedOpts:l(a,r.rcrdsById)}),function(){var t=a.level.displayName;if(!a.parent||1==a.parent)return o.setPanelFilterState("combo",!1);var n={};n[t]={text:a.displayName,value:e},o.setPanelFilterState("combo",n)}(),Object(i.rebuildTxnTable)(a,"filtering",s).then((function(){return o.reapplyDateFilterIfActive()}))}}function l(t,e){var n={};return function t(o){if(o.isRoot)return;n[o.level.displayName]=o.id,t(Object(i._u)("getDetachedRcrd",[o.parent,e]))}(t),n}}.call(this,n("EVdn"))},ntOU:function(t,e,n){"use strict";var o=n("rpNk").IteratorPrototype,i=n("fHMY"),r=n("XGwC"),a=n("1E5z"),s=n("P4y1"),l=function(){return this};t.exports=function(t,e,n){var u=e+" Iterator";return t.prototype=i(o,{next:r(1,n)}),a(t,u,!1,!0),s[u]=l,t}},nywv:function(t,e,n){"use strict";n.r(e),n.d(e,"createEntity",(function(){return u})),n.d(e,"initFormCombos",(function(){return c})),n.d(e,"finishEntityEditFormBuild",(function(){return d})),n.d(e,"finishEditFormInit",(function(){return p})),n.d(e,"fillCitationField",(function(){return h})),n.d(e,"selectIntLoc",(function(){return f})),n.d(e,"enableCountryRegionField",(function(){return g})),n.d(e,"onLevelSelection",(function(){return m})),n.d(e,"addMapToLocationEditForm",(function(){return v})),n.d(e,"addMapToLocForm",(function(){return y})),n.d(e,"focusParentAndShowChildLocs",(function(){return b})),n.d(e,"addNewLocationWithGps",(function(){return _})),n.d(e,"createTaxon",(function(){return C})),n.d(e,"getSelectedTaxon",(function(){return w})),n.d(e,"getTaxonEditFields",(function(){return E})),n.d(e,"selectParentTaxon",(function(){return x})),n.d(e,"loadSrcTypeFields",(function(){return S})),n.d(e,"onSrcToggleFields",(function(){return A})),n.d(e,"getSrcTypeFields",(function(){return O})),n.d(e,"selectExistingAuthors",(function(){return R})),n.d(e,"handleCitText",(function(){return T})),n.d(e,"getCitationText",(function(){return L})),n.d(e,"rebuildCitationText",(function(){return P}));n("07d7"),n("5s+n"),n("FNQh");var o=n("Q5S7"),i=n("h1OY"),r=n("RCL/"),a=n("HVL7"),s=n("0IQh"),l={author:r,citation:r,interaction:o,location:i,publication:r,publisher:r,taxon:a,subject:o,object:o,species:a,genus:a,family:a,order:a,class:a};function u(t,e){return l[t].initCreateForm(t,e)}function c(t,e){l[t].initFormCombos(t,e)}function d(t){return Promise.resolve(l[t].finishEditFormBuild(t))}function p(t,e){var n={citation:r.setSrcEditRowStyle,publication:r.setSrcEditRowStyle,location:v};return n[t]?Promise.resolve(n[t](e)):Promise.resolve()}function h(){o.fillCitationField.apply(o,arguments)}function f(t){o.selectLoc(t)}function g(){o.enableCountryRegionField()}function m(t){o.onLevelSelection.bind(this)(t)}function v(){return i.addMapToLocationEditForm.apply(i,arguments)}function y(t,e){return i.addMapToLocForm(t,e)}function b(t,e){return i.focusParentAndShowChildLocs(t,e)}function _(){i.addNewLocationWithGps()}function C(t,e){return a.initCreateForm(t,e)}function w(){return o.getSelectedTaxon()}function E(t,e){return a.getTaxonEditFields(e)}function x(t){return a.selectParentTaxon(t)}function S(t,e,n,o){return r.loadSrcTypeFields(t,e,n,o)}function A(){r.finishSourceToggleAllFields.apply(r,arguments)}function O(t,e){return r.getSrcTypeFields(t,e)}function R(){return r.selectExistingAuthors.apply(r,arguments)}function T(t){r.handleCitText(t)}function L(t){return s.a(t)}function P(t){return s.b(t)}},o0o1:function(t,e,n){t.exports=n("ls82")},oShl:function(t,e,n){var o=n("Nsbk"),i=n("SksO"),r=n("xfeJ"),a=n("sXyB");function s(e){var n="function"==typeof Map?new Map:void 0;return t.exports=s=function(t){if(null===t||!r(t))return t;if("function"!=typeof t)throw new TypeError("Super expression must either be null or a function");if(void 0!==n){if(n.has(t))return n.get(t);n.set(t,e)}function e(){return a(t,arguments,o(this).constructor)}return e.prototype=Object.create(t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),i(e,t)},s(e)}t.exports=s},or9q:function(t,e,n){"use strict";var o=n("6LWA"),i=n("UMSQ"),r=n("+MLx"),a=function(t,e,n,s,l,u,c,d){for(var p,h=l,f=0,g=!!c&&r(c,d,3);f<s;){if(f in n){if(p=g?g(n[f],f,e):n[f],u>0&&o(p))h=a(t,e,p,i(p.length),h,u-1)-1;else{if(h>=9007199254740991)throw TypeError("Exceed the acceptable array length");t[h]=p}h++}f++}return h};t.exports=a},pjDv:function(t,e,n){var o=n("I+eb"),i=n("TfTi");o({target:"Array",stat:!0,forced:!n("HH4o")((function(t){Array.from(t)}))},{from:i})},q2xg:function(t,e,n){"use strict";(function(t){n.d(e,"a",(function(){return i}));n("TeQF"),n("fbCW"),n("yq1k"),n("4mDm"),n("oVuX"),n("2B1R"),n("tkto"),n("07d7"),n("JfAA"),n("JTJg"),n("FZtP"),n("3bBZ");var o=n("kfS4");function i(){}function r(t,e,n,o){this.colDef=t,this.rowModel=e,this.valueGetter=n,this.doesRowPassOtherFilters=o,this.filterParams=this.colDef.filterParams,this.usingProvidedSet=this.filterParams&&this.filterParams.values,this.createAllUniqueValues(),this.createAvailableUniqueValues(),this.displayedValues=this.availableUniqueValues,this.selectedValuesMap={},this.selectEverything()}function a(t){return t.map((function(t){return null!=t&&t.toString?t.toString():null}))}i.prototype.init=function(t){this.model=new r(t.colDef,t.rowModel,t.valueGetter,t.doesRowPassOtherFilter),this.filterModifiedCallback=t.filterModifiedCallback,this.valueGetter=t.valueGetter,this.colDef=t.colDef,this.filterActive=!0,this.filterChangedCallback=t.filterChangedCallback,this.rowsInBodyContainer={},this.eGui=document.createElement("div"),this.eGui.innerHTML='<div><div class="ag-filter-header-container"><label><input id="selectAll" type="checkbox" class="ag-filter-checkbox"/> ( Select All )</label></div><div class="ag-filter-list-viewport"><div class="ag-filter-list-container"><div id="itemForRepeat" class="ag-filter-item"><label><input type="checkbox" class="ag-filter-checkbox" filter-checkbox="true"/><span class="ag-filter-value"></span></label></div></div></div></div>',this.createGui(),this.createApi()},i.prototype.getGui=function(){return this.eGui},i.prototype.isFilterActive=function(){return this.model.isFilterActive()},i.prototype.doesFilterPass=function(t){if(this.model.isEverythingSelected())return!0;if(this.model.isNothingSelected())return!1;var e=this.valueGetter(t);if(e=function(t){return null==t||""===t?null:t}(e),Array.isArray(e)){for(var n=0;n<e.length;n++)if(this.model.isValueSelected(e[n]))return!0;return!1}return this.model.isValueSelected(e)},i.prototype.getApi=function(){return this.api},i.prototype.createApi=function(){var t=this.model,e=this;this.api={isFilterActive:function(){return t.isFilterActive()},selectEverything:function(){e.eSelectAll.checked=!0,t.selectEverything()},selectNothing:function(){e.eSelectAll.checked=!1,t.selectNothing()},unselectValue:function(n){t.unselectValue(n),e.refreshVirtualRows()},selectValue:function(n){t.selectValue(n),e.refreshVirtualRows(),expandTree()},isValueSelected:function(e){return t.isValueSelected(e)},isEverythingSelected:function(){return t.isEverythingSelected()},isNothingSelected:function(){return t.isNothingSelected()},getUniqueValueCount:function(){return t.getUniqueValueCount()},getUniqueValue:function(e){return t.getUniqueValue(e)},getModel:function(){return t.getModel()},setModel:function(n){e.eSelectAll.checked=null===n,t.setModel(n),e.filterChangedCallback()},refreshHeader:function(){tblOpts.api.refreshHeader()}}},i.prototype.afterGuiAttached=function(t){this.refreshVirtualRows()},i.prototype.onNewRowsLoaded=function(){},i.prototype.onAnyFilterChanged=function(){var e=this.model.getModel();if(null!==e){var n=Object.keys(e)[0],o=n+"ColFilterIcon",i=e[n].length>0?e[n].join(", "):"None";t("a[name="+o+"]").attr("title","Showing:\n"+i)}},i.prototype.destroy=function(){},i.prototype.createGui=function(){this.eListContainer=this.eGui.querySelector(".ag-filter-list-container"),this.eFilterValueTemplate=this.eGui.querySelector("#itemForRepeat"),this.eSelectAll=this.eGui.querySelector("#selectAll"),this.eListViewport=this.eGui.querySelector(".ag-filter-list-viewport"),this.eListContainer.style.height=20*this.model.getUniqueValueCount()+"px",function(t){if(t)for(;t.hasChildNodes();)t.removeChild(t.lastChild)}(this.eListContainer),this.eSelectAll.onclick=this.onSelectAll.bind(this),this.model.isEverythingSelected()?this.eSelectAll.checked=!0:this.model.isNothingSelected()&&(this.eSelectAll.checked=!1)},i.prototype.onSelectAll=function(){var t=this.eSelectAll.checked;t?this.model.selectEverything():this.model.selectNothing(),this.updateAllCheckboxes(t),this.filterChangedCallback()},i.prototype.updateAllCheckboxes=function(t){for(var e=this.eListContainer.querySelectorAll("[filter-checkbox=true]"),n=0,o=e.length;n<o;n++)e[n].checked=t},i.prototype.refreshVirtualRows=function(){this.clearVirtualRows(),this.drawVirtualRows()},i.prototype.clearVirtualRows=function(){var t=Object.keys(this.rowsInBodyContainer);this.removeVirtualRows(t)},i.prototype.removeVirtualRows=function(t){var e=this;t.forEach((function(t){var n=e.rowsInBodyContainer[t];e.eListContainer.removeChild(n),delete e.rowsInBodyContainer[t]}))},i.prototype.drawVirtualRows=function(){var t=this.eListViewport.scrollTop,e=Math.floor(t/20);this.renderRows(e)},i.prototype.renderRows=function(t){for(var e=t;e<=this.model.getDisplayedValueCount();e++)if(this.model.getDisplayedValueCount()>e){var n=this.model.getDisplayedValue(e);this.insertRow(n,e)}},i.prototype.insertRow=function(t,e){var n=this,o=this.eFilterValueTemplate.cloneNode(!0),i=o.querySelector(".ag-filter-value"),r=null===t||""===t?"( Blanks )":t;i.innerHTML=r;var a=o.querySelector("input");a.checked=this.model.isValueSelected(t),a.onclick=function(){n.onCheckboxClicked(a,t)},o.style.top=20*e+"px",this.eListContainer.appendChild(o),this.rowsInBodyContainer[e]=o},i.prototype.onCheckboxClicked=function(t,e){t.checked?(this.model.selectValue(e),this.model.isEverythingSelected()&&(this.eSelectAll.checked=!0)):(this.model.unselectValue(e),this.eSelectAll.checked=!1,this.model.isNothingSelected()&&(this.eSelectAll.checked=!1)),this.filterChangedCallback()},r.prototype.createAllUniqueValues=function(){if(this.usingProvidedSet){var t=a(this.filterParams.values);this.allUniqueValues=function(t){var e=this.getUniqueValues();return t.filter((function(t){return e.find((function(e){return e?e.includes(t):!t}))}))}.bind(this)(t)}else if(this.allUniqueValues=a(this.getUniqueValues()),this.allUniqueValues.sort(),"( Blanks )"===this.allUniqueValues[0]){var e=this.allUniqueValues.shift();this.allUniqueValues.push(e)}},r.prototype.getUniqueValues=function(){var t=this,e={},n=[];return this.rowModel.forEachNode((function(o){if(!o.group){var i=t.valueGetter(o);""!==i&&null!=i||(i="( Blanks )"),r=i,e.hasOwnProperty(r)||(n.push(r),e[r]=1)}var r})),n},r.prototype.createAvailableUniqueValues=function(){this.availableUniqueValues=this.allUniqueValues},r.prototype.getUniqueValueCount=function(){return this.allUniqueValues.length},r.prototype.selectEverything=function(){for(var t=this.allUniqueValues.length,e=0;e<t;e++){var n=this.allUniqueValues[e];this.selectedValuesMap[n]=null}this.selectedValuesCount=t},r.prototype.selectNothing=function(){this.selectedValuesMap={},this.selectedValuesCount=0},r.prototype.unselectValue=function(t){void 0!==this.selectedValuesMap[t]&&("( Blanks )"==t&&delete this.selectedValuesMap.null,delete this.selectedValuesMap[t],this.selectedValuesCount--)},r.prototype.selectValue=function(t){void 0===this.selectedValuesMap[t]&&("( Blanks )"==t&&(this.selectedValuesMap.null=null),this.selectedValuesMap[t]=null,this.selectedValuesCount++)},r.prototype.isEverythingSelected=function(){return this.allUniqueValues.length===this.selectedValuesCount},r.prototype.isNothingSelected=function(){return 0===this.allUniqueValues.length},r.prototype.isValueSelected=function(t){if(void 0!==this.selectedValuesMap[t])return!0;for(var e=Object.keys(this.selectedValuesMap),n=e.length-1;n>=0;n--){if(!t&&!e[n])return!0;if(t&&t.includes(e[n]))return!0}return!1},r.prototype.getDisplayedValueCount=function(){return this.displayedValues.length},r.prototype.getDisplayedValue=function(t){return this.displayedValues[t]},r.prototype.isFilterActive=function(){return this.allUniqueValues.length!==this.selectedValuesCount},r.prototype.getModel=function(){if(!this.isFilterActive())return null;var t={};return t[this.colDef.field]=Object.keys(this.selectedValuesMap).map((function(t){return"null"==t?"( Blanks )":t})),t},r.prototype.setModel=function(t,e){var n=this;t&&!e?(this.selectNothing(),t.forEach((function(e){n.allUniqueValues.indexOf(e)>=0?n.selectValue(e):(console.warn("Value ["+e+"] is not a valid value for filter"),1==t.length&&Object(o.accessTableState)().get("api").showNoRowsOverlay())}))):this.selectEverything()}}).call(this,n("EVdn"))},qaHo:function(t,e,n){"use strict";var o=n("I+eb"),i=n("xDBR"),r=n("glrk"),a=n("+MLx"),s=n("WGBp"),l=n("ImZN");o({target:"Set",proto:!0,real:!0,forced:i},{some:function(t){var e=r(this),n=s(e),o=a(t,arguments.length>1?arguments[1]:void 0,3);return l(n,(function(t){if(o(t,t,e))return l.stop()}),void 0,!1,!0).stopped}})},qePV:function(t,e,n){"use strict";var o=n("g6v/"),i=n("2oRo"),r=n("lMq5"),a=n("busE"),s=n("UTVS"),l=n("xrYK"),u=n("cVYH"),c=n("wE6v"),d=n("0Dky"),p=n("fHMY"),h=n("JBy8").f,f=n("Bs8V").f,g=n("m/L8").f,m=n("WKiH").trim,v=i.Number,y=v.prototype,b="Number"==l(p(y)),_=function(t){var e,n,o,i,r,a,s,l,u=c(t,!1);if("string"==typeof u&&u.length>2)if(43===(e=(u=m(u)).charCodeAt(0))||45===e){if(88===(n=u.charCodeAt(2))||120===n)return NaN}else if(48===e){switch(u.charCodeAt(1)){case 66:case 98:o=2,i=49;break;case 79:case 111:o=8,i=55;break;default:return+u}for(a=(r=u.slice(2)).length,s=0;s<a;s++)if((l=r.charCodeAt(s))<48||l>i)return NaN;return parseInt(r,o)}return+u};if(r("Number",!v(" 0o1")||!v("0b1")||v("+0x1"))){for(var C,w=function(t){var e=arguments.length<1?0:t,n=this;return n instanceof w&&(b?d((function(){y.valueOf.call(n)})):"Number"!=l(n))?u(new v(_(e)),n,w):_(e)},E=o?h(v):"MAX_VALUE,MIN_VALUE,NaN,NEGATIVE_INFINITY,POSITIVE_INFINITY,EPSILON,isFinite,isInteger,isNaN,isSafeInteger,MAX_SAFE_INTEGER,MIN_SAFE_INTEGER,parseFloat,parseInt,isInteger".split(","),x=0;E.length>x;x++)s(v,C=E[x])&&!s(w,C)&&g(w,C,f(v,C));w.prototype=y,y.constructor=w,a(i,"Number",w)}},qgGA:function(t,e,n){var o=n("I+eb"),i=n("eDxR"),r=n("glrk"),a=i.toKey,s=i.set;o({target:"Reflect",stat:!0},{metadata:function(t,e){return function(n,o){s(t,e,r(n),a(o))}}})},qxPZ:function(t,e,n){var o=n("tiKp")("match");t.exports=function(t){var e=/./;try{"/./"[t](e)}catch(n){try{return e[o]=!1,"/./"[t](e)}catch(t){}}return!1}},rKzb:function(t,e,n){"use strict";var o=n("4syw"),i=n("8YOa").getWeakData,r=n("glrk"),a=n("hh1v"),s=n("GarU"),l=n("ImZN"),u=n("tycR"),c=n("UTVS"),d=n("afO8"),p=d.set,h=d.getterFor,f=u.find,g=u.findIndex,m=0,v=function(t){return t.frozen||(t.frozen=new y)},y=function(){this.entries=[]},b=function(t,e){return f(t.entries,(function(t){return t[0]===e}))};y.prototype={get:function(t){var e=b(this,t);if(e)return e[1]},has:function(t){return!!b(this,t)},set:function(t,e){var n=b(this,t);n?n[1]=e:this.entries.push([t,e])},delete:function(t){var e=g(this.entries,(function(e){return e[0]===t}));return~e&&this.entries.splice(e,1),!!~e}},t.exports={getConstructor:function(t,e,n,u){var d=t((function(t,o){s(t,d,e),p(t,{type:e,id:m++,frozen:void 0}),null!=o&&l(o,t[u],t,n)})),f=h(e),g=function(t,e,n){var o=f(t),a=i(r(e),!0);return!0===a?v(o).set(e,n):a[o.id]=n,t};return o(d.prototype,{delete:function(t){var e=f(this);if(!a(t))return!1;var n=i(t);return!0===n?v(e).delete(t):n&&c(n,e.id)&&delete n[e.id]},has:function(t){var e=f(this);if(!a(t))return!1;var n=i(t);return!0===n?v(e).has(t):n&&c(n,e.id)}}),o(d.prototype,n?{get:function(t){var e=f(this);if(a(t)){var n=i(t);return!0===n?v(e).get(t):n?n[e.id]:void 0}},set:function(t,e){return g(this,t,e)}}:{add:function(t){return g(this,t,!0)}}),d}}},rdRN:function(t,e,n){"use strict";n.d(e,"g",(function(){return r})),n.d(e,"h",(function(){return a})),n.d(e,"f",(function(){return s})),n.d(e,"d",(function(){return l})),n.d(e,"c",(function(){return u})),n.d(e,"b",(function(){return d})),n.d(e,"e",(function(){return p})),n.d(e,"a",(function(){return h}));n("ma9I"),n("TeQF"),n("2B1R"),n("zKZe"),n("tkto"),n("FZtP");var o=n("kfS4"),i={active:{}};function r(t){i.fRowData=t}function a(t,e){!1===e?delete i.active[t]:i.active[t]=e}function s(){var t=i.active.date?{date:i.active.date}:{};i={active:t}}function l(t){return t?i.active[t]:i.active}function u(){return{panel:c(Object.assign({},i.active)),table:b()}}function c(t){return i.fRowData||delete t.date,t}function d(){return i.fRowData?i.fRowData:Object(o.accessTableState)().get("rowData")}function p(){var t=y().length>0,e=f().length>0;return t||e}function h(){var t=Object(o._ui)("isFilterSetActive");return t?function(t){var e=Object.keys(t.table);return(n=t.panel,Object.keys(n).map((function(t){return"date"===t?v(n[t]):Object.keys(n[t])[0]})).filter((function(t){return t}))).concat(e);var n}(t):y().concat(f())}function f(){var t,e={combo:g,name:m,date:v};return t=[],Object.keys(i.active).forEach((function(n){t.push(e[n](i.active[n]))})),t.filter((function(t){return t}))}function g(t){return t[Object.keys(t)].text}function m(t){return t}function v(t){return i.fRowData?"Date "+("cited"===t.type?"Published":"Updated"):null}function y(){return Object.keys(b())}function b(){var t=Object(o.accessTableState)().get("api");return t?function(t){var e={};return Object.keys(t).forEach((function(n){t[n]&&(e[n]=t[n])})),e}(function(t){var e=Object.keys(t.filterManager.allFilters);return{"Subject Taxon":n("subject"),"Object Taxon":n("object"),"Interaction Type":n("interactionType"),Tags:n("tags"),Habitat:n("habitat"),Country:n("country"),Region:n("region"),"Location Desc.":n("location"),Citation:n("citation"),Note:n("note")};function n(n){return-1===e.indexOf(n)?null:t.getFilterApi(n).getModel()}}(t)):{}}},rpNk:function(t,e,n){"use strict";var o,i,r,a=n("4WOD"),s=n("X2U+"),l=n("UTVS"),u=n("tiKp"),c=n("xDBR"),d=u("iterator"),p=!1;[].keys&&("next"in(r=[].keys())?(i=a(a(r)))!==Object.prototype&&(o=i):p=!0),null==o&&(o={}),c||l(o,d)||s(o,d,(function(){return this})),t.exports={IteratorPrototype:o,BUGGY_SAFARI_ITERATORS:p}},s5pE:function(t,e,n){var o=n("0GbY");t.exports=o("navigator","userAgent")||""},sADE:function(t,e,n){"use strict";(function(t){n.d(e,"a",(function(){return i}));var o=n("kfS4");function i(){n("Ylou"),t("#rvw-data").click(r)}function r(){var e=Object(o.accessTableState)().get(),n=t("#rvw-data").data("shown");e.columnApi.setColumnsVisible(["updatedBy"],!n),t("#rvw-data").data("shown",!n)}}).call(this,n("EVdn"))},sMBO:function(t,e,n){var o=n("g6v/"),i=n("m/L8").f,r=Function.prototype,a=r.toString,s=/^\s*function ([^ (]*)/;o&&!("name"in r)&&i(r,"name",{configurable:!0,get:function(){try{return a.call(this).match(s)[1]}catch(t){return""}}})},sXyB:function(t,e,n){var o=n("SksO");function i(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(t){return!1}}function r(e,n,a){return i()?t.exports=r=Reflect.construct:t.exports=r=function(t,e,n){var i=[null];i.push.apply(i,e);var r=new(Function.bind.apply(t,i));return n&&o(r,n.prototype),r},r.apply(null,arguments)}t.exports=r},sdKo:function(t,e,n){"use strict";n.r(e),e.default="/BatBase/web/build/images/teal-marker-icon.bd702765.png"},"sz/Q":function(t,e,n){"use strict";(function(t){n.d(e,"a",(function(){return o}));n("UxlC");function o(){t("#tips-close-bttn").length||(t("#b-overlay-popup").html('\n        <h3>Tips for searching</h3>\n        <ul> \n            <br><li><strong>To search by specific interaction or habitat types</strong>, click on the \n            filter menu of the Type or Habitat columns and select which ones to include in your search.  \n            (<a href="definitions">Click here to see definitions</a> \n            for each interaction and habitat type.)</li>\n            <br><li><strong>Interested in knowing all the fruit species known from a bat species‚Äô \n            diet?</strong> Search for the bat species by selecting "Taxon" in the "Group Interactions by"\n            field, then select "Bat" below in the "Group Taxon by" field, and then select only ‚ÄúFruit‚Äù and ‚ÄúSeed‚Äù in the filter \n            menu for the Tags column on the table. This will provide you with a list of all plant species known to have their \n            fruit consumed, seeds consumed, and seeds dispersed by that particular bat species.</li>\n            <br><li><strong>Or all of the flower species known from a bat species‚Äô diet?</strong> \n            Search for the bat species as described above, then select only ‚ÄúFlower‚Äù in the filter menu for the Tags column\n            on the table. This will provide you with a list of all plant species known to have their flowers visited, consumed, \n            or pollinated by that particular bat species.</li>\n            <br><li><strong>Interested in knowing all of the bat species known to visit or \n            pollinate a particular plant species/genus/family?</strong> Select "Taxon" for "Group Interactions by" \n            and then "Plant" for ‚ÄúGroup Taxa by‚Äù in the field below. You can narrow the search by selecting\n            family, genus, or species in the menu to the right. Next, select only ‚ÄúFlower‚Äù in the filter menu for the \n            Tags column on the table. This will provide information on the bats that visited \n            the flower as well as those that have been confirmed pollinating it.</li><br>\n            <li><strong>Want to see all interactions for a particular bat species/genus/family on a map?</strong> \n            Search for the bat as described above, filtering as desired, and then click ‚ÄúShow Interactions on Map‚Äù. \n            All interactions with GPS data will be displayed on the map.</li>\n            <br><li><b>Follow along with the tutorial for a guided tour \n            of the search functionality.</b></li><br>\n        </ul>\n        <p> Note: "csv" stands for comma separated values. The interaction \n        data in the table can be downloaded in this format, as a plain-text file containing tabular \n        data, and can be imported into spreadsheet programs like Excel, Numbers, and Google Sheets.</p>\n    '.replace(/\n\s+/g,"")),t("#b-overlay-popup").append('\n        <button id="tips-close-bttn" class="tos-bttn">Close</button>'),t("#tips-close-bttn").click(i),t(document).on("keyup",(function(t){27==t.keyCode&&i()})),t("#b-overlay").click(i),t("#show-tips").off("click"),t("#show-tips").click(i),t("#b-overlay-popup").click((function(t){t.stopPropagation()}))),t("#b-overlay-popup").addClass("tips-popup"),t("#b-overlay, #b-overlay-popup").fadeIn(500),t("#show-tips").html("Tips"),t("#show-tips").off("click"),t("#show-tips").click(i)}function i(){t("#b-overlay").fadeOut(500,r),t("#show-tips").html("Tips"),t("#show-tips").off("click"),t("#show-tips").click(o),t("#b-overlay-popup").removeClass("tips-popup"),t("#b-overlay-popup").empty()}function r(){t("#b-overlay, #b-overlay-popup").css("display","none"),t("#b-overlay-popup").removeClass("tips-popup")}}).call(this,n("EVdn"))},tJKs:function(t,e,n){"use strict";n.r(e),function(t){n("yq1k"),n("JTJg");var e=n("ILUa");function o(){var n=t(this).data("id"),o={html:"<center><h2>Are you sure you want to delete?</h2><br>",elem:'input[data-id="'+n+'"]',dir:"left",bttn:"Confirm",submit:i.bind(null,n)};Object(e.showSaveModal)(o)}function i(t){l("pub/"+t+"/delete",(function(){return location.reload()}))}function r(){var e,n=t(this).attr("data-filename");t("#b-overlay-popup").html(function(e){var n=t("."+e).clone();return n.css("display","inherit"),n[0].id=e,n[0]}(n)),function(e){t("#b-overlay-popup").addClass("pdf-popup"),t("#b-overlay, #b-overlay-popup, #"+e).fadeIn(500),t(document).on("keyup",(function(t){27==t.keyCode&&a()})),t("#b-overlay").click(a),t("#b-overlay-popup").click((function(t){t.stopPropagation()}))}(n),l("pub/"+(e=t(this).data("id"))+"/update",s.bind(null,e))}function a(){t("#b-overlay").css({display:"none"}),t(document).on("keyup",(function(){})),t("#b-overlay").click((function(){})),t("#b-overlay-popup").removeClass("pdf-popup"),t("#b-overlay-popup").empty()}function s(e,n){t("#"+e+"-viewed").text(n)}function l(e,n){t.ajax({method:"POST",url:e,success:n,error:u})}function u(t,e,n){console.log("ajaxError. responseText = [%O] - jqXHR:%O",t.responseText,t)}window.location.pathname.includes("pdfs")&&(t('input[name="delete-pdf').click(o),t('input[name="view-pdf').click(r))}.call(this,n("EVdn"))},tXUg:function(t,e,n){var o,i,r,a,s,l,u,c,d=n("2oRo"),p=n("Bs8V").f,h=n("xrYK"),f=n("LPSS").set,g=n("s5pE"),m=d.MutationObserver||d.WebKitMutationObserver,v=d.process,y=d.Promise,b="process"==h(v),_=p(d,"queueMicrotask"),C=_&&_.value;C||(o=function(){var t,e;for(b&&(t=v.domain)&&t.exit();i;){e=i.fn,i=i.next;try{e()}catch(t){throw i?a():r=void 0,t}}r=void 0,t&&t.enter()},b?a=function(){v.nextTick(o)}:m&&!/(iphone|ipod|ipad).*applewebkit/i.test(g)?(s=!0,l=document.createTextNode(""),new m(o).observe(l,{characterData:!0}),a=function(){l.data=s=!s}):y&&y.resolve?(u=y.resolve(void 0),c=u.then,a=function(){c.call(u,o)}):a=function(){f.call(d,o)}),t.exports=C||function(t){var e={fn:t,next:void 0};r&&(r.next=e),i||(i=e,a()),r=e}},tijO:function(t,e,n){"use strict";var o=n("I+eb"),i=n("xDBR"),r=n("glrk"),a=n("+MLx"),s=n("WGBp"),l=n("ImZN");o({target:"Set",proto:!0,real:!0,forced:i},{find:function(t){var e=r(this),n=s(e),o=a(t,arguments.length>1?arguments[1]:void 0,3);return l(n,(function(t){if(o(t,t,e))return l.stop(t)}),void 0,!1,!0).result}})},toAj:function(t,e,n){"use strict";var o=n("I+eb"),i=n("ppGB"),r=n("QIpd"),a=n("EUja"),s=n("0Dky"),l=1..toFixed,u=Math.floor,c=function(t,e,n){return 0===e?n:e%2==1?c(t,e-1,n*t):c(t*t,e/2,n)};o({target:"Number",proto:!0,forced:l&&("0.000"!==8e-5.toFixed(3)||"1"!==.9.toFixed(0)||"1.25"!==1.255.toFixed(2)||"1000000000000000128"!==(0xde0b6b3a7640080).toFixed(0))||!s((function(){l.call({})}))},{toFixed:function(t){var e,n,o,s,l=r(this),d=i(t),p=[0,0,0,0,0,0],h="",f="0",g=function(t,e){for(var n=-1,o=e;++n<6;)o+=t*p[n],p[n]=o%1e7,o=u(o/1e7)},m=function(t){for(var e=6,n=0;--e>=0;)n+=p[e],p[e]=u(n/t),n=n%t*1e7},v=function(){for(var t=6,e="";--t>=0;)if(""!==e||0===t||0!==p[t]){var n=String(p[t]);e=""===e?n:e+a.call("0",7-n.length)+n}return e};if(d<0||d>20)throw RangeError("Incorrect fraction digits");if(l!=l)return"NaN";if(l<=-1e21||l>=1e21)return String(l);if(l<0&&(h="-",l=-l),l>1e-21)if(n=(e=function(t){for(var e=0,n=t;n>=4096;)e+=12,n/=4096;for(;n>=2;)e+=1,n/=2;return e}(l*c(2,69,1))-69)<0?l*c(2,-e,1):l/c(2,e,1),n*=4503599627370496,(e=52-e)>0){for(g(0,n),o=d;o>=7;)g(1e7,0),o-=7;for(g(c(10,o,1),0),o=e-1;o>=23;)m(1<<23),o-=23;m(1<<o),g(1,1),m(2),f=v()}else g(0,n),g(1<<-e,0),f=v()+a.call("0",d);return f=d>0?h+((s=f.length)<=d?"0."+a.call("0",d-s)+f:f.slice(0,s-d)+"."+f.slice(s-d)):h+f}})},uPdV:function(t,e,n){"use strict";n.r(e),function(t){n.d(e,"getDetailPanelElems",(function(){return i})),n.d(e,"fillRelationalDataInPanel",(function(){return l})),n.d(e,"fillLocDataInDetailPanel",(function(){return m})),n.d(e,"updateSrcDetails",(function(){return v})),n.d(e,"clearDetailPanel",(function(){return y})),n.d(e,"clearFieldDetails",(function(){return b}));n("pNMO"),n("4Brf"),n("oVuX"),n("2B1R"),n("tkto"),n("07d7"),n("5s+n"),n("FZtP");var o=n("FNQh");function i(e,n,i){var s=o.util("buildElem",["div",{id:"form-details"}]);return t(s).append(function(t){var e=o.util("ucfirst",[t])+" Details";return o.util("buildElem",["h3",{text:e}])}(e)),t(s).append(function(t,e){return("edit"===e&&"interaction"!==t?a:r)(t)}(e,i)),t(s).append(function(t){var e=t?"Id:  "+t:"";return o.util("buildElem",["p",{id:"ent-id",text:e}])}(n)),s}function r(e){return["src","loc"].map((function(e){return i=function(t){var e={id:t+"-det",class:"det-div"};return o.util("buildElem",["div",e])}(n=e),t(i).append(function(t){return o.util("buildElem",["h5",{text:{src:"Source",loc:"Location"}[t]+":"}])}(n)),t(i).append(o.util("buildElem",["div",{text:"None selected."}])),i;var n,i}))}function a(e){var n=o.util("buildElem",["div",{id:"det-cnt-cntnr"}]);return t(n).append(o.util("buildElem",["span"])),t(n).append(function(t){return{author:["cit","int"],citation:["int"],location:["int"],publication:["cit","int"],taxon:["ord","fam","gen","spc","int"],publisher:["pub","int"]}[t].map(s)}(e)),n}function s(e){var n=function(t){var e={id:t+"-det",class:"cnt-div flex-row"};return o.util("buildElem",["div",e])}(e);return t(n).append(o.util("buildElem",["div",{text:"0"}])),t(n).append(function(t){return o.util("buildElem",["span",{text:{cit:"Citations",fam:"Families",gen:"Genera",int:"Interactions",loc:"Locations",ord:"Orders",pub:"Publications",spc:"Species",txn:"Taxa"}[t]}])}(e)),n}function l(t,e){({author:c,citation:c,location:u,publication:c,publisher:c,taxon:p})[t](t,e)}function u(t,e){h({int:e.interactions.length})}function c(t,e){var n={int:d(t,e)};!function(){if("citation"===t)return;n["publisher"===t?"pub":"cit"]=e.children.length||e.contributions.length}(),h(n)}function d(t,e){return"citation"===t?e.interactions.length:function(t){var e=o.state("getEntityRcrds",["source"]);return f(t,"interactions",e)}(e)}function p(e,n){var i=o.state("getEntityRcrds",["taxon"]),r={int:f(n,"objectRoles",i)||f(n,"subjectRoles",i)};function a(t){t.children.forEach((function(t){return e=i[t],n=function(t){var e={Order:"ord",Family:"fam",Genus:"gen",Species:"spc"}[t.level.displayName];return r[e]||(r[e]=0),e}(e),r[n]+=1,void a(e);var e,n}))}a(n),h(r),t.each(t('[id$="-det"] div'),(function(t,e){!function(t){0==t.innerText&&t.parentElement.remove()}(e),function(t){1==t.innerText&&(t.nextSibling.innerText={Orders:"Order",Families:"Family",Genera:"Genus",Species:"Species",Interactions:"Interaction"}[t.nextSibling.innerText])}(e)}))}function h(e){for(var n in e)t("#"+n+"-det div")[0].innerText=e[n]}function f(t,e,n){var o=t[e].length;return t.children.length&&(o+=i(t.children)),t.contributions&&(o+=i(t.contributions)),o;function i(t){var o=0;return t.forEach((function(t){t=n[t],o+=f(t,e,n)})),o}}function g(t,e){y(t,!0,function(t){var e=[];for(var n in t)e.push("<li><b>"+n+"</b>: "+t[n]+"</li>");return'<ul class="ul-reg">'+e.join("\n")+"</ul>"}(e))}function m(t){g("loc",function(t){var e={},n=function(t){return{Name:t.displayName,Description:t.description||"","Habitat Type":t.habitatType?t.habitatType.displayName:"",Latitude:t.latitude||"",Longitude:t.longitude||"",Elevation:t.elevation||"","Elevation Max":t.elevationMax||""}}(t);for(var o in n)n[o]&&(e[o]=n[o]);return e}(t))}function v(e){var n={},i=o.state("getEntityRcrds",["source"]);function r(t,e){var n=[],o=e?"editors":"authors";for(var r in t[o]){var a=t[o][r];n.push((void 0,i[a].displayName))}return n.length?n.join(". ")+".":n}!function(){var e=i[t("#Publication-sel").val()],a=o.state("getRcrd",["publication",e.publication]),s=p(a,"publication"),l=t("#CitationTitle-sel").val(),u=!!l&&i[l],c=!!u&&o.state("getRcrd",["citation",u.citation]),d=!!c&&p(c,"citation");function p(t,e){return!!t[e+"Type"]&&t[e+"Type"].displayName}n.Citation=c?c.fullText:"(Select Citation)",n[s&&"Other"!==s?s+" Title":"Publication Title"]=a.displayName,h=e.description,f=s,h&&(n[("Other"!==f?f:"Publication")+" Description"]=h),m=!!c&&c.displayName!==a.displayName&&c.displayName,m&&(n[d&&"Other"!==d?d+" Title":"Citation Title"]=m),function(){var t=e.authors?e:!(!u||!u.authors)&&u;if(t){var o=Object.keys(t.authors).length;n["Author"+(1===o?"":"s")]=r(t)}}(),function(){if(e.editors){var t=Object.keys(e.editors).length;n["Editor"+(1===t?"":"s")]=r(e,!0)}}(),g=e.year?e.year:!!u&&u.year,g&&(n.Year=g),c&&c.abstract&&(n.Abstract=c.abstract);var h,f;var g;var m}(),g("src",n)}function y(e,n,o){if("cit"===e)return v();"pub"===e&&(e="src");var i=n?o:"None selected.";return t("#"+e+"-det div").empty(),t("#"+e+"-det div").append(i),Promise.resolve()}function b(t){var e={Location:"loc",CitationTitle:"src",Publication:"src"};-1!==Object.keys(e).indexOf(t)&&y(e[t])}}.call(this,n("EVdn"))},uy83:function(t,e,n){var o=n("0Dky");t.exports=!o((function(){return Object.isExtensible(Object.preventExtensions({}))}))},vAj5:function(t,e,n){"use strict";n.r(e),function(t){n.d(e,"loadLocFilters",(function(){return r})),n.d(e,"applyLocFilter",(function(){return u}));n("TeQF"),n("yq1k"),n("sMBO"),n("tkto"),n("B6y2"),n("JTJg"),n("EnZy"),n("FZtP");var o=n("Zz5/"),i=n("kfS4");function r(e){if(console.log("       --Loading location filters."),t("#focus-filters label").length)return function(t){var e=a(t);Object.keys(e).forEach((function(t){Object(i._u)("replaceSelOpts",["#sel"+t,e[t],null,t])})),l(t.selectedOpts)}(e);var n;!function(e){var n=function(e){var n=[];for(var o in e){var r=a(Object(i._u)("ucfirst",[o]),e[o]);n.push(r)}return n;function a(e,n){var o=Object(i._u)("buildElem",["label",{class:"sel-cntnr flex-row"}]),r=Object(i._u)("buildElem",["span",{text:e+": ",class:"opts-span"}]),a=function(e,n,o,r){var a=Object(i._u)("buildSelectElem",[e,{class:n,id:o}]);return t(a).data("field",r),a}(n,"opts-box","sel"+e,e);return t(o).addClass("locLbl").append([r,a]),t(a).addClass("locSel"),o}}(a(e));t("#focus-filters").append(n),Object(i._u)("initComboboxes",[{Region:u,Country:u}]),l(e.selectedOpts)}(e),n=o.getTreeTextFilterElem("Location"),t("#focus-filters").append(n)}function a(t,e){var n={Region:[],Country:[]},o={Region:[],Country:[]};return t.api.getModel().rowsToDisplay.forEach((function e(i){var a=i.data;if(a.interactionType)return;"Region"!==a.type&&"Country"!==a.type||function(e,i,a){if(i.includes("Unspecified"))return;if(-1!==n[a].indexOf(i))return;var s=e.id;(function(e){return-1!==t.openRows.indexOf(e)})(s)&&r(s,a);o[a].push({value:s,text:i.split("[")[0]}),n[a].push(i)}(a,a.name,a.type);i.childrenAfterFilter&&i.childrenAfterFilter.forEach(e)})),function(){2===o.Region.length&&function(){var e=t.rcrdsById[t.openRows[0]];if(!e||!e.parent)return;o.Region=o.Region.filter((function(e){return e.value==t.selectedOpts.Region}))}();(function(){if(!t.openRows.length&&!t.selectedOpts)return;var e=t.rcrdsById[t.openRows[0]];o.Country.length||i(e,"country","Country");o.Region.length||i(e,"region","Region")})(),function(){for(var t in o)o[t]=o[t].sort(s)}(),Object.keys(t.selectedOpts).forEach((function(t){o[t].unshift({value:"all",text:"- All -"})}))}(),o;function i(e,n,i){var a=!(!e||!e[n])&&e[n].id,s=!(!e||!e[n])&&e[n].displayName;a&&(r(a,i),t.openRows.push(a),o[i].push({value:a,text:s}))}function r(e,n){t.selectedOpts[n]=e}}function s(t,e){var n=t.text.toLowerCase(),o=e.text.toLowerCase();return n<o?-1:n>o?1:0}function l(t){Object.keys(t).forEach((function(e){Object(i._u)("setSelVal",[e,t[e],"silent"])}))}function u(t,e){if(t||void 0!==e){var n=Object(i.accessTableState)().get("selectedOpts"),r=d(this,n);console.log("       +-applyLocFilter. [%s] = [%s] text = [%s]",r,t,e);var a,s=isNaN(parseInt(t))?(a=r,r="Region",function(e){return!e||"Region"===e&&"all"===t?Object.values(Object(i.accessTableState)().get("data").topRegionNames):[n.Region]}(a)):[parseInt(t)],l=e||o.getTreeFilterVal("Location");return function(t,e){if(t.length>1)return Object(i.accessTableState)().set({selectedOpts:{}}),void o.setPanelFilterState("combo",!1);var n=parseInt(t[0]);Object(i.accessTableState)().set({selectedOpts:c(n,e)});var r={};r[e]={text:e,value:n},o.setPanelFilterState("combo",r)}(s,r),Object(i._ui)("setTreeToggleData",[!1]),Object(i.rebuildLocTable)(s,l).then((function(){return o.reapplyDateFilterIfActive()}))}}function c(t,e){var n={},o=Object(i.accessTableState)().get("rcrdsById");return"Country"===e&&function(t){var e=Object(i._u)("getDetachedRcrd",[t,o]);n.Region=e.region.id}(t),"none"!==t&&"all"!==t&&(n[e]=t),n}function d(e,n){return e&&e.hasOwnProperty("$input")?e.$input[0].id.split("sel")[1]:function(e){var n=Object.keys(e);return n.length?1==n.length?"Region":"Country":(o=["Country","Region"].filter((function(e){return(n=t("#sel"+e).val())&&"all"!==n;var n})),1==o.length?o[0]:null);var o}(n)}}.call(this,n("EVdn"))},"vH0/":function(t,e,n){"use strict";n.d(e,"a",(function(){return o})),n.d(e,"b",(function(){return a})),n.d(e,"c",(function(){return l}));n("TeQF"),n("yq1k"),n("2B1R"),n("sMBO"),n("tkto"),n("07d7"),n("U3f4"),n("JfAA"),n("JTJg"),n("FZtP");function o(t,e){var n=[];for(var o in t)n.push(i(t[o],0,e));return function t(e){return e.filter((function(e){return e.children&&(e.children=t(e.children)),e.interactions||function t(e){if(!e.children)return!0;return e.children.some((function(e){return e.interactions||t(e)}))}(e)}))}(n)}function i(t,e,n){return{id:t.id,entity:"Location",name:{Unspecified:"Unspecified / Habitat Only"}[t.displayName]||t.displayName,onMap:(o=t,!!o.geoJsonId&&o.id),isParent:void 0===t.interactionType,open:-1!==n.openRows.indexOf(t.id),children:function(t,e){var o=[],r=t.locationType.displayName;"Region"===r||"Country"===r?(!function(e,n,i,r){if(e.failedFltr)return;var a="Unspecified"===t.displayName?"Location":t.displayName;n.length>0&&o.push({id:t.id,entity:"Location",name:"Unspecified "+a+" Interactions",isParent:!0,open:!1,children:h(n,i),interactions:n.length>0,treeLvl:i,groupedInts:!0,type:r})}(t,t.interactions,e,r),t.children.forEach((function(t){o.push(i(t,e+1,n))}))):o=h(t.interactions,e);return o}(t,e),treeLvl:e,interactions:t.interactions.length>0,locGroupedInts:r(t),type:t.locationType.displayName,updatedBy:t.updatedBy};var o}function r(t){return t.children.length>0&&t.interactions.length>0}function a(t,e){var n=0,o=[];for(var i in t)n=n<6?++n:0,o.push(s(t[i],0,n,e));return o}function s(t,e,n,o){var i=t.sourceType.displayName,r="Publication"===i?t.publication.publicationType.id:null,a=t.displayName.includes("(citation)")?"Whole work cited.":t.displayName;return{id:t.id,entity:i,type:r,name:a,isParent:!0,parentSource:t.parent,open:-1!==o.openRows.indexOf(t.id.toString()),children:function(t,e,n){if(t.isDirect)return h(t.interactions,e,n);return null===t.children?[]:function(t,e,n){return t.children.map((function(t){return n=n<6?++n:0,s(t,e+1,n,o)}))}(t,e,n)}(t,e,n),treeLvl:e,interactions:t.isDirect,rowColorIdx:n,updatedBy:t.updatedBy}}function l(t,e){var n=[];for(var o in t)n.push(u(t[o],0,e));return n}function u(t,e,n){var o=c(t);return{id:t.id,children:d(t,e,n),entity:"Taxon",interactions:null!==o,intCnt:o,isParent:!0,name:t.displayName,open:-1!==n.openRows.indexOf(t.id.toString()),parentTaxon:!t.isRoot&&t.parent,taxonLvl:t.level.displayName,treeLvl:e,updatedBy:t.updatedBy}}function c(t){var e=0;return["subjectRoles","objectRoles"].forEach((function(n){e+=t[n].length})),e>0?e:null}function d(t,e,n){var o=[];return"Species"!==t.level.displayName?(function(e){var i,r;t.failedFltr||null===c(t)||(i=t.isRoot?t.realm.displayName:t.name,r=e,o.push({id:t.id,children:p(t,r,n),displayName:i,entity:"Taxon",groupedInts:!0,interactions:!0,isParent:!0,name:"Unspecified ".concat(i," Interactions"),open:!t.isRoot&&-1!==n.openRows.indexOf(t.id.toString()),taxonLvl:t.level.displayName,treeLvl:r}))}(e),t.children&&t.children.length&&t.children.forEach((function(t){o.push(u(t,e+1,n))}))):o=p(t,e,n),o}function p(t,e,n){var o=[];return["sub","ob"].forEach((function(e){return t[e+"jectRoles"].forEach(i)})),o;function i(t){var i=!n.flags.allDataAvailable?function(t){var e={entity:"interaction",isParent:!1,name:"",treeLvl:t};return["citation","subject","object","interactionType","tags","citation","habitat","location","country","region","note"].forEach((function(t){return e[t]="Loading..."})),e}(e):function(t,e,n){var o=f(t,e);return function(t){return Object.keys(t.taxaByLvl).map((function(t){return"tree"+t}))}(n).forEach((function(e){o[e]=t[e]})),o}(t,e,n);o.push(i)}}function h(t,e,n){return t?t.map((function(t){return f(t,e,n)})):[]}function f(t,e,n){var o,i={citation:r("source","description"),entity:"Interaction",id:t.id,interactionType:t.interactionType.displayName,isParent:!1,name:"",note:t.note,object:r("taxon","displayName","object"),rowColorIdx:n,subject:r("taxon","displayName","subject"),tags:t.tags,treeLvl:e,type:"intRcrd",updatedAt:t.serverUpdatedAt,updatedBy:"Sarah"===t.updatedBy?null:t.updatedBy,year:r("source","year")};return t.location&&(o=t.location,function(){var t={location:"displayName",gps:"gpsData",elev:"elevation",elevMax:"elevationMax",lat:"latitude",lng:"longitude"};for(var e in t)i[e]=o[t[e]]?o[t[e]]:Object.keys(o).length?"":"[ Loading... ]"}(),function(){var t={country:"country",region:"region",habitat:"habitatType"};for(var e in t)i[e]=n(e)?o[t[e]].displayName:Object.keys(o).length?"":"[ Loading... ]";function n(e){return o[t[e]]&&!function(e){return"region"===e&&"Unspecified"===o[t[e]].displayName}(e)}}()),i;function r(e,n,o){var i=o||e;return n in t[i]?t[i][n]:Object.keys(t[i]).length?"":"[ Loading... ]"}}},"vL/P":function(t,e,n){"use strict";n.d(e,"a",(function(){return r}));n("ma9I"),n("fbCW"),n("yq1k"),n("sMBO"),n("tkto"),n("JTJg"),n("EnZy"),n("FZtP");var o=n("i8il"),i=n("kfS4");function r(t,e){var n,r=Object(i.accessTableState)().get(null,["api","curFocus","curView","rowData"]),a={none:{ttl:0,ints:{},locs:null}};return r.api.forEachNodeAfterFilter((function(i){0===i.data.treeLvl&&(n=i.data.name);if(!i.data.interactions||(r=i.data,-1!==r.children[0].name.indexOf("Unspecified")))return;var r;!function(t,i,r){var u={},c=0,d={intCnt:0,name:l(i,r,n),rcrd:r};t.childrenAfterFilter.forEach((function(t){if(!t.data.location)return++c;var n=o.getDetachedRcrd(t.data.id,e.ints);!function(t,e){u[t.id]||(u[t.id]={loc:t,ints:[]});u[t.id].ints.push(e)}(o.getDetachedRcrd(n.location,e.locs),n),++d.intCnt})),function(t,e,n){for(var o in a.none.ttl+=n,e)s(e[o],t)}(d,u,c)}(i,i.data,o.getDetachedRcrd(i.data.id,t))})),a;function s(t,e){var n=t.loc.geoJsonId;if(!n)return a.none.ttl+=t.ints.length;a[n]||function(t,e){a[t]={ints:{},locs:[e],ttl:0}}(n,t.loc),a[n].ttl+=t.ints.length,function(t,e){if(a[e].locs.find((function(e){return e.displayName===t.displayName})))return;a[e].locs.push(t)}(t.loc,n),function(t,e,n){a[n].ints[e.name];a[n].ints[e.name]||function(t,e){a[e].ints[t.name]=[]}(e,n);if("auths"==r.curView)return o=e.name.split(" - (")[1],i=e.name.split(" - (")[0],void((s=Object.keys(a[n].ints).find((function(t){return t.includes(o)&&!t.includes(i)})))?function(t,e,o){var i=t.split(" - (")[0];i+=", ".concat(o," - (").concat(e),a[n].ints[i]=a[n].ints[t],delete a[n].ints[t]}(s,o,i):l(e.name));var o,i,s;function l(e){a[n].ints[e]=a[n].ints[e].concat(t.ints)}l(e.name)}(t,e,n)}function l(t,e,n){return"srcs"===r.curFocus?function(t,e,n){var o=u(t.name,e);if(o==n)return n;return"".concat(n," - (").concat(o,")")}(t,e,n):u(t.name,e)}function u(t,e){return"Whole work cited."===t?e.name:t}}},vpDK:function(t,e,n){"use strict";(function(t){n.d(e,"c",(function(){return l})),n.d(e,"b",(function(){return u})),n.d(e,"a",(function(){return d})),n.d(e,"d",(function(){return p}));n("pNMO"),n("4Brf"),n("ma9I"),n("TeQF"),n("4mDm"),n("2B1R"),n("07d7"),n("5s+n"),n("YGK4"),n("PKPk"),n("49+q"),n("AVoK"),n("hcok"),n("dNT4"),n("3uUd"),n("tijO"),n("ZY7T"),n("C1JJ"),n("lmH4"),n("Co1j"),n("5JV0"),n("ctDJ"),n("JwUS"),n("qaHo"),n("Si40"),n("BGb9"),n("FZtP"),n("3bBZ");var o=n("RIqP"),i=n.n(o),r=n("G4lP"),a=n("kfS4"),s={};function l(){return s.listLoaded}function u(){"visitor"!==t("body").data("user-role")&&(n("bbDE"),window.addEventListener("resize",F),t("#lists").click(c),t('button[name="clear-list"]').click(Z),t('input[name="mod-list"]').on("change",I),t("#unsel-rows").click(Q),t('#list-details input, #list-details textarea, input[name="mod-list"]').change(V),t("#load-list").click(S),t("#delete-list").click(C),t("#confm-list-delete").click(w),t("#cncl-list-delete").click(E))}function c(){t("#list-pnl").hasClass("closed")?(console.log("           +--buildAndShowIntPanel"),r.k("lists","open"),Object(a.accessTableState)().get("intSet")||(Object(a._u)("initCombobox",["Int-lists",g,{add:h}]),H().then((function(){window.setTimeout((function(){return t("#selIntList")[0].selectize.focus()}),500),U()})),q()),M()):r.k("lists","close")}function d(){s.listLoaded?t('button[name="clear-list"]').attr("disabled",!1).css({cursor:"pointer"}).fadeTo("slow",1):t('button[name="clear-list"]').attr("disabled",!0).css({cursor:"inherit"}).fadeTo("slow",.5)}function p(e){"vert"==e?(t("#list-sel-cntnr, #load-list-cntnr, #mod-opts-cntnr").removeClass("flex-col").addClass("flex-row"),t("#list-pnl, #int-lists, #list-details, #mod-list-pnl, #load-list-cntnr,\n        #list-sel-cntnr, #list-count").addClass("vert"),t("#top-details").append(t("#list-count").detach()),window.outerWidth<1313&&t("#load-list-cntnr div").text("(Filters reset)")):(t("#list-sel-cntnr, #load-list-cntnr, #mod-opts-cntnr").removeClass("flex-row").addClass("flex-col"),t("#list-pnl, #int-lists, #list-details, #mod-list-pnl, #load-list-cntnr,\n        #list-sel-cntnr, #list-count").removeClass("vert"),t("#list-details").append(t("#list-count").detach()))}function h(t){return r.n("#submit-list",f),j("create"),B("add"),k(),W("New"),N(t,"",0),R(),delete s.rowSelMode,{value:"new",text:t||"Creating New Interaction List"}}function f(){if(!t("#top-details input").val())return t("#top-details input").focus();t("#submit-list").data("submitting",!0),T(v(),"create",L.bind(null,"create"))}function g(t){if("create"===t)return h("");if(!t&&!s.submitting)return G();var e;"new"===t||!t&&s.submitting||(e=t,Object(a._u)("getData",["dataLists"]).then((function(t){var n=R(t[e]);N(n.displayName,n.description,n.details.length)})),z(),r.n("#submit-list",m),j(),B("add"),W("Selected"))}function m(){if(!t("#top-details input").val())return t("#top-details input").focus();t("#submit-list").data("submitting",!0);var e=v();e.id=Object(a._u)("getSelVal",["Int-lists"]),T(e,"edit",L.bind(null,"edit"))}function v(){return{displayName:Object(a._u)("ucfirst",[t("#list-details input").val()]),type:"interaction",description:t("#list-details textarea").val(),details:JSON.stringify(y())}}function y(){return s.tblApi=Object(a.accessTableState)().get("api"),t("#mod-some-list").prop("checked")?_(s.modMode):t("#mod-all-list").prop("checked")?(e=s.modMode,s.tblApi=Object(a.accessTableState)().get("api"),s.tblApi.expandAll(),Object(a._ui)("setTreeToggleData",[!0]),s.tblApi.getModel().rowsToDisplay.forEach(b.bind(null,!0)),_(e)):[];var e}function b(t,e){void 0!==e.data.interactionType&&e.setSelected(t)}function _(t){var e=s.tblApi.getSelectedNodes().map((function(t){return t.data.id}));return"add"==t?i()(new Set(e.concat(s.list.details).filter((function(t){return t})))):s.list.details.filter((function(t){return-1===e.indexOf(t)}))}function C(){t("#delete-list").hide(),t("#list-confm-cntnr").show()}function w(){console.log("           --Deleted Interaction List"),x(),r.j({id:s.list.id},"remove",D),G(),delete s.rowSelMode}function E(){x()}function x(){t("#list-confm-cntnr").hide(),t("#delete-list").show()}function S(){console.log("           +--Loading Interaction List in Table. %O",s.list),Object(a.accessTableState)().set({intSet:s.list.details}),s.tblState=Object(a.accessTableState)().get(),s.listLoaded=!0,Object(a.resetDataTable)().then(A)}function A(){var e;s.tblState.api.expandAll(),Object(a._ui)("setTreeToggleData",[!0]),e=s.tblState.curFocus,Object(a._filter)("syncViewFiltersAndUi",[e]),t("#selSavedFilters")[0].selectize&&t("#selSavedFilters")[0].selectize.clear("silent"),O("Reset to All Interactions",Z),k(),B("rmv"),Object(a._ui)("updateFilterStatusMsg"),d(),W("Loaded"),delete s.tblState}function O(e,n){t("#load-list").html(e),t("#load-list").off("click").click(n)}function R(t){return s.list=r.h(t),s.list}function T(t,e,n){s.submitting=s.modMode,r.j(t,e,n)}function L(t,e){var n=JSON.parse(e.list.entity);r.o(e.list,t).then(H).then(P.bind(null,n))}function P(e){t("#selIntList")[0].selectize.addItem(e.id),t("#list-submit-msg").fadeTo("slow",1),window.setTimeout(k,3e3),I(),"rmv"===s.submitting&&S(),delete s.submitting,t("#submit-list").data("submitting",!1)}function D(e){r.o(e.list,"delete").then(H).then((function(){return t("#selIntList")[0].selectize.open()}))}function k(){t("#list-submit-msg").fadeTo("slow",0)}function N(e,n,o){t("#list-details input").val(e).focus(),t("#list-details textarea").val(n),t("#int-list-cnt")[0].innerHTML="<b>"+o+"</b>",o>0&&t("#load-list, #load-list+div").attr({disabled:!1}).css({opacity:1})}function F(){t("#list-opts").hasClass("closed")||s.timeout||(s.timeout=window.setTimeout((function(){M(),s.timeout=!1}),500))}function M(){var e,n,o,i=(e=t("#list-pnl").position().top,n=t("#list-opts").innerWidth(),o=t("#list-opts").position().left+1,"<style>.hide-int-bttm-border:before { \n        position: absolute;\n        content: '';\n        height: 3px;\n        z-index: 10;\n        width: ".concat(n,"px;\n        top: ").concat(e,"px;\n        left: ").concat(o,"px;\n        background: #e2f2f3;\n        }</style>"));t(".hide-int-bttm-border:before").remove(),t(".hide-int-bttm-border").append(i)}function I(){var e,n,o;t("#mod-info").fadeTo("fast",0),e=t("#mod-some-list").prop("checked")?"some":!!t("#mod-all-list").prop("checked")&&"all",n=e||(t("#mod-".concat(s.rowSelMode,"-list")).prop("checked",!0),s.rowSelMode),o=function(t){return{some:'Click on an *interaction row to select. Hold ctrl/cmd to select multiple rows. Hold shift and click a 2nd row to select a range. Click "Save List" to add/remove selection. *Interaction rows are the colored base-level rows.',all:'Click "Save List" to add/remove all *interactions in the table. *Interaction rows are the colored base-level rows.'}[t]}(n),t("#mod-info")[0].innerHTML=o,s.rowSelMode=n,t("#mod-info").fadeTo("fast",1)}function G(){t("#list-details input, #list-details textarea").val(""),t("#int-list-cnt").html(""),W(""),t("#mod-radios input").prop("checked",!1),t("#mod-info").fadeTo("fast",0),t("#mod-mode").css({"font-weight":400}),U(),k(),z()}function j(e){t("#list-details input, #list-details textarea, #list-details span, #mod-list-pnl > span:first-child, \n        #list-pnl button, #mod-mode, #mod-radios input, #mod-radios label").attr({disabled:!1}).css({opacity:"1"}),e&&t("#delete-list").attr({disabled:"disabled"}).css({opacity:".5"}),t("#unsel-rows").attr({disabled:!0}).fadeTo("slow",.6)}function U(){t("#list-details input, #list-details textarea, #list-details span, #list-sel-cntnr button, \n        #mod-list-pnl button, #mod-list-pnl > span:first-child, #load-list+div, \n        #mod-mode, #mod-radios input, #mod-radios label").attr({disabled:"disabled"}).css({opacity:".5"}),t('#mod-rmv-list, label[for="mod-rmv-list"]').css({display:"none"})}function B(e){var n=s.submitting||e,o="add"===n?"Add Interactions to List:":"Remove Interactions from List:";t("#mod-mode").html(o).css({"font-weight":600,"font-size":".9em"}),t("#unsel-rows").attr({disabled:!0}).fadeTo("slow",.6),s.modMode=n}function V(){t("#submit-list").attr({disabled:!1}).css({opacity:"1"}),k()}function W(e){t("#list-details>span").html(e+" List Details")}function H(){return Promise.resolve(Object(a._u)("getOptsFromStoredData",["dataListNames"]).then((function(t){t.unshift({value:"create",text:"...Add New Interaction List"}),Object(a._u)("replaceSelOpts",["#selIntList",t])})))}function z(){s.listLoaded&&!s.submitting&&(Z(),O("View Interaction List in Table",S),delete s.listLoaded)}function Z(){Object(a.accessTableState)().set({intSet:!1}),delete s.listLoaded,Object(a.resetDataTable)().then(Y)}function Y(){B("add"),t("#load-list").html("Load Interaction List in Table"),t("#load-list").off("click").click(S),t("#list-pnl").hasClass("closed")||q(),W("Selected")}function q(){s.tblApi=Object(a.accessTableState)().get("api"),s.tblApi.expandAll(),Object(a._ui)("setTreeToggleData",[!0])}function Q(){s.tblApi=Object(a.accessTableState)().get("api"),s.tblApi.getModel().rowsToDisplay.forEach(b.bind(null,!1)),t("#unsel-rows").attr({disabled:!0}).fadeTo("slow",.6)}}).call(this,n("EVdn"))},wCA9:function(t,e,n){"use strict";n.d(e,"a",(function(){return o}));var o=function(){function t(){this._hasWeakSet="function"==typeof WeakSet,this._inner=this._hasWeakSet?new WeakSet:[]}return t.prototype.memoize=function(t){if(this._hasWeakSet)return!!this._inner.has(t)||(this._inner.add(t),!1);for(var e=0;e<this._inner.length;e++){if(this._inner[e]===t)return!0}return this._inner.push(t),!1},t.prototype.unmemoize=function(t){if(this._hasWeakSet)this._inner.delete(t);else for(var e=0;e<this._inner.length;e++)if(this._inner[e]===t){this._inner.splice(e,1);break}},t}()},wLHj:function(t,e,n){"use strict";n.r(e),e.default="/BatBase/web/build/images/eif.pencil.57c73a1f.svg"},wQzB:function(t,e,n){"use strict";(function(t){n.d(e,"d",(function(){return s})),n.d(e,"e",(function(){return l})),n.d(e,"c",(function(){return u})),n.d(e,"g",(function(){return p})),n.d(e,"f",(function(){return h})),n.d(e,"b",(function(){return g})),n.d(e,"a",(function(){return m})),n.d(e,"i",(function(){return y})),n.d(e,"h",(function(){return b}));n("ma9I"),n("TeQF"),n("oVuX"),n("pDQq"),n("U3f4"),n("EnZy");var o,i=n("G4lP"),r=n("kfS4"),a=n("Fn+z");function s(){return a.b()}function l(t,e){a.d(t,e)}function u(){n("d/g3"),t("#filter").click(f),t('button[name="reset-tbl"]').click(r.buildTable.bind(null,!1,!1)),window.addEventListener("resize",c),a.f(),Object(r._filter)("initDateFilterUi"),a.a()}function c(){t("#filter-pnl").hasClass("closed")||o||(o=window.setTimeout((function(){d(),o=!1}),500))}function d(){window.setTimeout((function(){var e,n,o,i=t("#filter-pnl").hasClass("vert"),r=i?(e=t("#filter-pnl").position().top,n=function(){var e=t("#filter-pnl").position().left,n=t("#filter-opts").position().left+1;return e>n-2?e:n}(),t("#filter-opts").innerWidth(),o=Math.abs(n-t("#misc-opts").position().left+1),"<style>.hide-fltr-bttm-border-vert:before { \n        position: absolute;\n        content: '';\n        height: 5px;\n        z-index: 10;\n        max-width: 133px;\n        width: ".concat(o,"px;\n        top: ").concat(e,"px;\n        left: ").concat(n,"px;\n        background: #f2f9f8;\n        }</style>")):function(){var e=t("#filter-pnl").position().top,n=t("#filter-opts").innerWidth(),o=t("#filter-opts").position().left+1;return"<style>.hide-fltr-bttm-border:before { \n        position: absolute;\n        content: '';\n        height: 3px;\n        z-index: 10;\n        width: ".concat(n,"px;\n        top: ").concat(e,"px;\n        left: ").concat(o,"px;\n        background: #f2f9f8;\n        }</style>")}(),a=".hide-fltr-bttm-border"+(i?"-vert":"");t(a+":before").remove(),t(a).append(r)}),555)}function p(e){var n=t("#focus-filter-hdr").text().split(" ");n.splice(0,1,{locs:"Location",srcs:"Source",taxa:"Taxon"}[e]),t("#focus-filter-hdr").text(n.join(" "))}function h(e,n){"vert"==e?(t("#filter-pnl, #filter-col1, #stored-filters").addClass("vert"),t("#filter-opts").removeClass("hide-fltr-bttm-border").addClass("hide-fltr-bttm-border-vert")):function(e){t("#filter-pnl, #filter-col1, #stored-filters").removeClass("vert"),t("#filter-opts").removeClass("hide-fltr-bttm-border-vert"),e||t("#filter-opts").addClass("hide-fltr-bttm-border")}(n),d()}function f(){t("#filter-pnl").hasClass("closed")?(console.log("           +--buildAndShowFilterPanel"),i.k("filter","open"),Object(r._u)("getOptsFromStoredData",["savedFilterNames"]).then(a.g),d()):i.k("filter","close")}function g(){var e=!Object(r._filter)("isFilterActive"),n=e?.5:1,o=e?"inherit":"pointer";t('button[name="reset-tbl"]').attr("disabled",e).css("cursor",o).fadeTo("slow",n)}function m(){t("#filter-status").data("loading")||(v(),function(){if(!t("#selSavedFilters")[0].selectize)return;t("#selSavedFilters")[0].selectize.clear("silent"),t("#stored-filters input, #stored-filters textarea").val("")}(),Object(r._filter)("resetFilterState"))}function v(){t("#filter-status").text("No Active Filters."),y(""),t("#focus-filters input").val(""),t("#shw-chngd").prop("checked")&&Object(r._filter)("clearDateFilter")}function y(e){t("#view-fltr").text(e)}function b(){var e,n,o,i=Object(r.accessTableState)().get(["api","intSet","flags"]);i.api&&i.flags.allDataAvailable&&(e=Object(r._filter)("getActiveFilterVals"),n=i.intSet,e.length>0||n?(o=function(t,e){var n=e?"(LIST)":"",o=a.b()?"(SET)":"",i=[n,o].filter((function(t){return t})).join(" "),r=t.join(", ");return""!==i&""!==r?"".concat(i," ").concat(r,"."):i||r+"."}(e,n),t("#filter-status").text(o)):v(),g())}}).call(this,n("EVdn"))},wij7:function(t,e,n){"use strict";n.r(e),function(t){n.d(e,"buildAndAppendForm",(function(){return d})),n.d(e,"getExitButton",(function(){return p})),n.d(e,"getFormFooter",(function(){return h})),n.d(e,"initSubForm",(function(){return f})),n.d(e,"buildFormRows",(function(){return g})),n.d(e,"getFormFieldRows",(function(){return m})),n.d(e,"buildFieldInput",(function(){return v})),n.d(e,"ifAllRequiredFieldsFilled",(function(){return y})),n.d(e,"getLocationOpts",(function(){return b})),n.d(e,"getTaxonOpts",(function(){return _})),n.d(e,"getRcrdOpts",(function(){return C})),n.d(e,"buildMultiSelectElem",(function(){return w})),n.d(e,"checkReqFieldsAndToggleSubmitBttn",(function(){return E})),n.d(e,"combos",(function(){return x})),n.d(e,"panel",(function(){return S})),n.d(e,"setCoreRowStyles",(function(){return A})),n.d(e,"showSuccessMsg",(function(){return O})),n.d(e,"exitSuccessMsg",(function(){return T})),n.d(e,"exitSubForm",(function(){return L})),n.d(e,"exitFormPopup",(function(){return P})),n.d(e,"setToggleFieldsEvent",(function(){return D})),n.d(e,"getCurrentFormFieldVals",(function(){return N})),n.d(e,"fillComplexFormFields",(function(){return F})),n.d(e,"ifFieldIsDisplayed",(function(){return M})),n.d(e,"ifParentFormValidEnableSubmit",(function(){return I})),n.d(e,"toggleSubmitBttn",(function(){return G})),n.d(e,"enableSubmitBttn",(function(){return j})),n.d(e,"disableSubmitBttn",(function(){return U})),n.d(e,"toggleWaitOverlay",(function(){return B}));n("TeQF"),n("tkto"),n("07d7"),n("5s+n");var o=n("RIqP"),i=n.n(o),r=n("FNQh"),a=n("uPdV"),s=n("2wUy"),l=n("kuSF"),u=n("QWlc"),c=n("D8Fd");function d(t,e){return l.a(t,e)}function p(){return l.b()}function h(){var t;return(t=n("3x6B")).default.apply(t,arguments)}function f(){var t;return(t=n("gynk")).default.apply(t,arguments)}function g(){return c.buildFormRows.apply(c,arguments)}function m(){return c.getFormFieldRows.apply(c,arguments)}function v(){return u.buildFieldInput.apply(u,arguments)}function y(){return u.ifAllRequiredFieldsFilled.apply(u,arguments)}function b(){return u.getLocationOpts()}function _(){return u.getTaxonOpts.apply(u,arguments)}function C(){return u.getRcrdOpts.apply(u,arguments)}function w(){return u.buildMultiSelectElem.apply(u,arguments)}function E(e){var n=function(e){return u.ifAllRequiredFieldsFilled(e)&&!function(e){var n=r.getNextFormLevel("child",e);return t("#"+n+"-form").length>0}(e)&&!function(e){if("location"!==r.state("getFormProp",[e,"entity"]))return!1;if("edit"===r.state("getFormProp",[e,"action"]))return!1;return["Latitude","Longitude"].some((function(e){return t("#".concat(e,"_row input")).val()}))}(e)}(e);return r.elems("toggleSubmitBttn",["#"+e+"-submit",n]),n}function x(t,e){return s[t].apply(s,i()(e))}function S(t,e){return a[t].apply(a,i()(e))}function A(e,n){var o=t(e).innerWidth()/2-3;t(n).css({flex:"0 1 "+o+"px","max-width":o})}function O(e){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"green",o=r.util("buildElem",["div",{id:"success"}]);o.append(R(e)),t(o).css("border-color",n),t("#top-hdr").after(o),t(o).fadeTo("400",.8)}function R(e){var n=r.util("buildElem",["div",{class:"flex-row"}]),o=r.util("buildElem",["p",{text:e}]),i=function(){var e=r.util("buildElem",["input",{id:"sucess-exit",class:"exit-bttn",type:"button",value:"X"}]);return t(e).click(T),e}();return n.append(o,i),n}function T(){t("#success").fadeTo("400",0,(function(){return t("#success").remove()}))}function L(e,n,o,i){var a=o||r.state("getFormProp",[e,"onFormClose"]);console.log("               --exitForm fLvl = %s, onExit = %O",e,a),t("#"+e+"-form").remove(),s.resetFormCombobox(e,n),I(e),a&&a(i)}function P(e,n){console.log("           --exitFormPopup"),t("#b-overlay").css({display:"none"}),n||function(){var t=r.state("getStateProp",["submit"]);if(!t)return;if("interaction"===t.entity)return void("create"===r.state("getFormProp",["top","action"])?r.showTodaysUpdates("srcs"):r.loadDataTableAfterFormClose());r.loadDataTableAfterFormClose()}(),t("#b-overlay").removeClass("form-ovrly"),t("#b-overlay-popup").removeClass("form-popup"),t("#b-overlay-popup").empty(),r.clearFormMemory()}function D(e,n,o){t(e).click(k.bind(e,n,o))}function k(e,n){if(function(e){var n=r.getNextFormLevel("child",e);return 0!==t("#"+n+"-form").length}(n))return function(e){var n=r.getNextFormLevel("child",e),o=r.util("ucfirst",[r.state("getFormProp",[e,o])]);"Author"!==o&&"Editor"!==o||(o+="s");r.val("openSubFormErr",[o,null,n,!0]),t("#sub-all-fields")[0].checked=!t("#sub-all-fields")[0].checked}(n);!function(t,e){r.state("setFormProp",[e,"expanded",t]),r.state("setFormProp",[e,"reqElems",[]])}(this.checked,n);var o=N(n);function i(){-1!==["citation","publication","location"].indexOf(e)&&("location"!==e&&r.forms("onSrcToggleFields",[e,o,n]),A("#"+e+"_Rows","."+n+"-row"))}t("#"+e+"_Rows").empty(),c.getFormFieldRows(e,o,n).then((function(o){t("#"+e+"_Rows").append(o),r.forms("initFormCombos",[r.util("lcfirst",[e]),n]),F(n).then(i)}))}function N(t){var e=r.state("getFormProp",[t,"fieldData"]),n={};for(var o in e)n[o]=e[o].val;return n}function F(t){var e=r.state("getFormProp",[t,"fieldData"]),n={multiSelect:r.forms.bind(null,"selectExistingAuthors")};return Object.keys(e).filter((function(t){return e[t].type in n})).reduce((function(o,i){var r=e[i].type,a=e[i].val;return o.then((function(){return n[r]([i,a,t])}))}),Promise.resolve())}function M(t,e){return!!r.state("getFormFieldData",[e,t])}function I(t){var e=r.getNextFormLevel("parent",t);r.elems("checkReqFieldsAndToggleSubmitBttn",[e])}function G(t){var e=!(arguments.length>1&&void 0!==arguments[1])||arguments[1];return e?j(t):U(t)}function j(e){t(e).attr("disabled",!1).css({opacity:"1",cursor:"pointer"})}function U(e){t(e).attr("disabled",!0).css({opacity:".6",cursor:"initial"})}function B(e){e?(t("#b-overlay").append(r.util("buildElem",["div",{class:"overlay waiting",id:"c-overlay"}])),t("#c-overlay").css({"z-index":"1000",display:"block"})):t("#c-overlay").remove()}}.call(this,n("EVdn"))},xK1X:function(t,e,n){"use strict";(function(t){n.d(e,"a",(function(){return r}));n("yq1k"),n("4mDm"),n("oVuX"),n("2B1R"),n("qePV"),n("i6QF"),n("toAj"),n("07d7"),n("5s+n"),n("JTJg"),n("PKPk"),n("EnZy"),n("SYor"),n("FZtP"),n("3bBZ");var o,i=n("FNQh");function r(e,n,r){o=i.state("getFormState");for(var a=function(e,n){var o="#"+e+"_Rows";t(o+"_"+n).length&&(o=o+"_"+n);return t(o)[0].children}(e,n),s={},l=0;l<a.length;l++)u(a[l]);return s.displayName&&(s.displayName=i.util("ucfirst",[s.displayName])),function(t){if(!r)return Promise.resolve();var e={author:[d,p],editor:[d,p],citation:[h,f,g,_],interaction:[b],location:[m,v,y],publication:[_],taxon:[C]};if(!e[t])return Promise.resolve();return Promise.all(e[t].map((function(t){return Promise.resolve(t())})))}(e).then((function(){return s}));function u(e){if(!e.className.includes("skipFormData"))if(e.className.includes("cntnr-row"))e.children.forEach((function(t){return u(t)}));else{var n,o=function(t){var e=(n=t.children[0].innerText,n.split(" (m)")[0].split(" (Bat)")[0]);var n;return i.util("lcfirst",[e.trim().split(" ").join("")])}(e.children[1]),r=e.children[1].children[1];s[o]=(n=t(r).data("inputType")?function(t,e,n){return{multiSelect:i.getSelectedVals,tags:c}[n](e,t)}(o,r,t(r).data("inputType")):r.value.trim()||null,Number.isInteger(n)?parseInt(n):n)}}function c(t,e){return i.cmbx("getSelVal",["#"+i.util("ucfirst",[e])+"-sel"])}function d(){var t=[];["firstName","middleName","lastName","suffix"].forEach((function(e){s[e]&&t.push(s[e])})),s.fullName=t.join(" ")}function p(){var t=s.lastName+",";["firstName","middleName","suffix"].forEach((function(e){s[e]&&function(e){1===e.length&&(e+=".");t+=" "+e}(s[e])})),s.displayName=t}function h(){s.publication=o.editing?o.forms[n].rcrds.src.id:t("#Publication-sel").val()}function f(){s.displayName=s.title?s.title:s.chapterTitle}function g(){var e=t("#CitationType-sel option:selected").text();if(-1!==["Book","Master's Thesis","Museum record","Other","Ph.D. Dissertation","Report"].indexOf(e)){var i=o.forms[n].rcrds.src.displayName;s.displayName.includes("(citation)")||i==s.displayName&&(s.displayName+="(citation)")}}function m(){s.elevation&&(s.elevUnitAbbrv="m")}function v(){s.latitude&&(s.latitude=parseFloat(s.latitude).toFixed(14)),s.longitude&&(s.longitude=parseFloat(s.longitude).toFixed(14))}function y(){return i.util("getData",["locTypeNames"]).then((function(t){var e=s.longitude||s.latitude?"Point":"Area";s.locationType=t[e]}))}function b(t){if(!s.location)return s.country?i.util("getData",["topRegionNames"]).then((function(t){return t.Unspecified})):void(s.location=s.country)}function _(){function t(t,e){for(var n in t){var o=t[n];s.contributor[o]={isEditor:e,ord:n}}}s.contributor||(s.contributor={}),s.editors&&t(s.editors,!0),s.authors&&t(s.authors,!1)}function C(){var e=o.forms.realmData.formTaxonLvl;s.parentTaxon=function e(n){var i=o.forms.realmData.realmLvls,r=i[i.indexOf(n)+1];if(function(t,e){return t===o.forms.realmData.rootLvl||!e}(n,r))return o.forms.realmData.realmTaxon.id;return t("#"+r+"-sel").val()||e(r)}(e),s.level=e}}}).call(this,n("EVdn"))},xVbj:function(t,e,n){},xc79:function(t,e,n){"use strict";n.r(e),function(t){function o(e,n,o,r){return i(e,arguments,"sending"),t.ajax({method:"POST",url:n,success:o||i,error:r||a,data:JSON.stringify(e)});function a(t,e,n){console.log("ajaxError. responseText = [%O] - jqXHR:%O",t.responseText,t)}}function i(e,n,o){var i=o?"S":"R";["dev","test"].indexOf(-1!=t("body").data("env"))?console.log("           --[%s] Ajax data =%O arguments = %O",i,e,n):console.log("          --[%s] Ajax data =%O",i,e)}n.d(e,"sendAjaxQuery",(function(){return o})),n.d(e,"logAjaxData",(function(){return i}))}.call(this,n("EVdn"))},xfeJ:function(t,e){t.exports=function(t){return-1!==Function.toString.call(t).indexOf("[native code]")}},yXPU:function(t,e){function n(t,e,n,o,i,r,a){try{var s=t[r](a),l=s.value}catch(t){return void n(t)}s.done?e(l):Promise.resolve(l).then(o,i)}t.exports=function(t){return function(){var e=this,o=arguments;return new Promise((function(i,r){var a=t.apply(e,o);function s(t){n(a,i,r,s,l,"next",t)}function l(t){n(a,i,r,s,l,"throw",t)}s(void 0)}))}}},yY7y:function(t,e,n){"use strict";var o=/[^\0-\u007E]/,i=/[.\u3002\uFF0E\uFF61]/g,r="Overflow: input needs wider integers to process",a=Math.floor,s=String.fromCharCode,l=function(t){return t+22+75*(t<26)},u=function(t,e,n){var o=0;for(t=n?a(t/700):t>>1,t+=a(t/e);t>455;o+=36)t=a(t/35);return a(o+36*t/(t+38))},c=function(t){var e,n,o=[],i=(t=function(t){for(var e=[],n=0,o=t.length;n<o;){var i=t.charCodeAt(n++);if(i>=55296&&i<=56319&&n<o){var r=t.charCodeAt(n++);56320==(64512&r)?e.push(((1023&i)<<10)+(1023&r)+65536):(e.push(i),n--)}else e.push(i)}return e}(t)).length,c=128,d=0,p=72;for(e=0;e<t.length;e++)(n=t[e])<128&&o.push(s(n));var h=o.length,f=h;for(h&&o.push("-");f<i;){var g=2147483647;for(e=0;e<t.length;e++)(n=t[e])>=c&&n<g&&(g=n);var m=f+1;if(g-c>a((2147483647-d)/m))throw RangeError(r);for(d+=(g-c)*m,c=g,e=0;e<t.length;e++){if((n=t[e])<c&&++d>2147483647)throw RangeError(r);if(n==c){for(var v=d,y=36;;y+=36){var b=y<=p?1:y>=p+26?26:y-p;if(v<b)break;var _=v-b,C=36-b;o.push(s(l(b+_%C))),v=a(_/C)}o.push(s(l(v))),p=u(d,m,f==h),d=0,++f}}++d,++c}return o.join("")};t.exports=function(t){var e,n,r=[],a=t.toLowerCase().replace(i,".").split(".");for(e=0;e<a.length;e++)n=a[e],r.push(o.test(n)?"xn--"+c(n):n);return r.join(".")}},yq1k:function(t,e,n){"use strict";var o=n("I+eb"),i=n("TWQb").includes,r=n("RNIs");o({target:"Array",proto:!0},{includes:function(t){return i(this,t,arguments.length>1?arguments[1]:void 0)}}),r("includes")},yqje:function(t,e,n){"use strict";n.d(e,"a",(function(){return d})),n.d(e,"b",(function(){return p})),n.d(e,"c",(function(){return _}));n("TeQF"),n("yq1k"),n("4mDm"),n("oVuX"),n("2B1R"),n("sMBO"),n("tkto"),n("07d7"),n("5s+n"),n("U3f4"),n("JTJg"),n("PKPk"),n("FZtP"),n("3bBZ");var o,i=n("o0o1"),r=n.n(i),a=(n("ls82"),n("yXPU")),s=n.n(a),l=n("kfS4"),u=n("i8il"),c=l.accessTableState;function d(t,e){return o=c().get(null,["rcrdsById","intSet"]),w("locs",function(t,e){var n={};return t.forEach((function(t){var e=u.getDetachedRcrd(t,o.rcrdsById);n[e.displayName]=function t(e){if(!e.children.length)return e;return e.children=P(e.children,o.rcrdsById,"location").map((function(e){return t(e)})),e}(e)})),D(n=L(n=R(e,n),"locs"))}(t,e))}function p(t){return h.apply(this,arguments)}function h(){return(h=s()(r.a.mark((function t(e){var n;return r.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return o=c().get(null,["rcrdsById","intSet"]),t.next=3,f(e);case 3:return n=t.sent,t.abrupt("return",w("srcs",n));case 5:case"end":return t.stop()}}),t)})))).apply(this,arguments)}function f(t){return Promise.all(function(t){var e=function(t){return{auths:"authSrcs",pubs:"pubSrcs",publ:"pubSrcs"}[t]}(t);return[u.getData(["publication","author"]),u.getData(e)]}(t)).then((function(e){return function(t,e){var n=function(t,e,n){return{pubs:g,auths:b,publ:y}[t](e,n)}(e,P(t[1],o.rcrdsById,"source"),t[0]);return D(n=L(n,"srcs"))}(e,t)}))}function g(t,e){var n={};return t.forEach((function(t){var o=m(t,e.publication);if(!o)return;n[t.displayName]=o})),n}function m(t,e){if(t.children=v(t,e),t.publication){var n=u.getDetachedRcrd(t.publication,e,"publication");if(!n)return!1;t.publication=n}return t}function v(t,e){return 0===t.children.length?[]:P(t.children,o.rcrdsById,"source").map((function(t){return m(t,e)})).filter((function(t){return t}))}function y(t,e){var n,i=e.publication,r={},a=[];return t.forEach((function(t){if(!t.parent)return void a.push(t);var e=u.getDetachedRcrd(t.parent,o.rcrdsById,"source");if(!e)return;r[e.displayName]=(n=e,n.children=v(n,i),n);var n})),r.Unspecified=((n={id:0,displayName:"Unspecified",parent:null,sourceType:{displayName:"Publisher"},interactions:[]}).children=a.map((function(t){return m(t,i)})).filter((function(t){return t})),n),r}function b(t,e){var n=e.publication,i=e.author,r={};return t.forEach((function(t){if(!t.contributions.length)return;if(t.author=u.getDetachedRcrd(t.author,i,"author"),!t.author)return;t.children=(e=t.contributions,P(e,o.rcrdsById,"source").map((function(t){return m(t,n)})).filter((function(t){return t}))),r[t.displayName]=t;var e})),r}function _(t,e,n){o=c().get(null,["rcrdsById","intSet","flags"]);var i=function(t){var e={};return e[t.displayName]=n(t),e=L(e,"taxa");function n(t){return t.children=function(t){if(null===t)return[];return P(t,o.rcrdsById,"taxon").map(n)}(t.children),t}}(t);return i=R(n,i),function(t,e){u.getData(["levelNames","realm"]).then((function(n){e?function(t,e){var n=C(t,e);c().set({taxaByLvl:n})}(t,n.levelNames):function(t,e){var n=C(t,e.levelNames),o=e.realm[t.realm.id].uiLevelsShown;c().set({taxaByLvl:n,allRealmLvls:o})}(t,n)}))}(t,e),o.flags.allDataAvailable?w("taxa",i):Promise.resolve(i)}function C(t,e){var n,o,i={};return function t(e){var n=e.level.displayName;i[n]||(i[n]={});i[n][e.name]=e.id,e.children&&e.children.forEach((function(e){return t(e)}))}(t),n=i,o={},Object.keys(e).forEach((function(t){t in n&&(o[t]=n[t])})),o}function w(t,e){return E.apply(this,arguments)}function E(){return(E=s()(r.a.mark((function t(e,n){var o,i,a;return r.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return o={taxa:x,locs:S,srcs:A},i=["interaction","taxon","location","source"],t.next=4,u.getData(i,!0);case 4:return a=t.sent,o[e](n,a),t.abrupt("return",n);case 7:case"end":return t.stop()}}),t)})))).apply(this,arguments)}function x(t,e){function n(t){["subjectRoles","objectRoles"].forEach((function(n){t[n]=O(t[n],e)}))}!function t(e){for(var o in e)n(e[o]),null!==e[o].children&&t(e[o].children)}(t)}function S(t,e){for(var n in t)t[n].interactions.length>0&&(t[n].interactions=O(t[n].interactions,e)),t[n].children&&S(t[n].children,e)}function A(t,e){for(var n in t)o(t[n]);function o(t){t.isDirect&&function(t){t.interactions=O(t.interactions,e)}(t),t.children.forEach((function(t){return o(t)}))}}function O(t,e){return P(t,e.interaction,"interaction").map((function(t){return function(t,e){for(var n in t)if(t[n]=o(n),"_err_"===t[n])return null;return t;function o(n){if("tags"===n)return t[n].map((function(t){return t.displayName})).join(", ");var o=n in e?n:n.includes("bject")?"taxon":null;return o?function(t,e,n,o){if(void 0===e[n])return{};var i=e[n][t];if(!i&&"object"===o)return{};i||l.alertIssue("noRcrdFound",{id:t,entity:n});return i||"_err_"}(t[n],e,o,n):t[n]}}(t,e)})).filter((function(t){return t}))}function R(t,e){if(!t)return e;var n={};for(var o in e){T(e[o],t)&&(n[o]=e[o])}return n}function T(t,e){var n=t.displayName.toLowerCase().includes(e.toLowerCase());return t.children=t.children.filter((function(t){return T(t,e)})),t.interactions=n?t.interactions:[],t.failedFltr=!n,n||t.children.length>0}function L(t,e){var n=o.intSet;if(null==!n||!n)return t;var i={};for(var r in t)a(t[r],r);return i;function a(t,o){(function t(e,n,o){e.children&&s();return("taxa"===n?(r=l("objectRoles"),a=l("subjectRoles"),r||a):"locs"===n?(i=l(),e.totalInts=u(0,e),i):l())||e.children.length;var i,r,a;function s(){e.children=e.children.filter((function(e){return t(e,n,o)}))}function l(t){var n=t||"interactions";return e[n]=e[n].filter((function(t){return-1!==o.indexOf(t)})),e[n].length>0}function u(t,e){var n=0;return n+=e.interactions.length,e.children.length>0&&(n+=e.children.reduce(u,0)),e.totalInts=n,t+n}})(t,e,n)&&(i[o]=t)}}function P(t,e,n){return t.map((function(t){return u.getDetachedRcrd(t,e,n)})).filter((function(t){return t}))}function D(t){for(var e={},n=Object.keys(t).sort((function(t,e){if(t.includes("Unspecified"))return 1;var n=t.toLowerCase(),o=e.toLowerCase();return n<o?-1:n>o?1:0})),o=0;o<n.length;o++)e[n[o]]=i(t[n[o]]);return e;function i(t){return t.children&&(t.children=t.children.sort(k),t.children.forEach(i)),t}}function k(t,e){var n=t.displayName.toLowerCase(),o=e.displayName.toLowerCase();return n<o?-1:n>o?1:0}},zfnd:function(t,e,n){var o=n("glrk"),i=n("hh1v"),r=n("8GlL");t.exports=function(t,e){if(o(t),i(e)&&e.constructor===t)return e;var n=r.f(t);return(0,n.resolve)(e),n.promise}},ztCj:function(t,e,n){"use strict";n.d(e,"b",(function(){return a})),n.d(e,"c",(function(){return s})),n.d(e,"e",(function(){return l})),n.d(e,"a",(function(){return u})),n.d(e,"d",(function(){return c}));class o{constructor(t="keyval-store",e="keyval"){this.storeName=e,this._dbp=new Promise((n,o)=>{const i=indexedDB.open(t,1);i.onerror=()=>o(i.error),i.onsuccess=()=>n(i.result),i.onupgradeneeded=()=>{i.result.createObjectStore(e)}})}_withIDBStore(t,e){return this._dbp.then(n=>new Promise((o,i)=>{const r=n.transaction(this.storeName,t);r.oncomplete=()=>o(),r.onabort=r.onerror=()=>i(r.error),e(r.objectStore(this.storeName))}))}}let i;function r(){return i||(i=new o),i}function a(t,e=r()){let n;return e._withIDBStore("readonly",e=>{n=e.get(t)}).then(()=>n.result)}function s(t,e,n=r()){let o;return n._withIDBStore("readonly",n=>{o=n.getAll(t,e)}).then(()=>o.result)}function l(t,e,n=r()){return n._withIDBStore("readwrite",n=>{n.put(e,t)})}function u(t=r()){return t._withIDBStore("readwrite",t=>{t.clear()})}function c(t=r()){const e=[];return t._withIDBStore("readonly",t=>{(t.openKeyCursor||t.openCursor).call(t).onsuccess=function(){this.result&&(e.push(this.result.key),this.result.continue())}}).then(()=>e)}},zwY0:function(t,e,n){(function(e){/* flatpickr v4.6.3, @license MIT */
t.exports=function(){"use strict";
/*! *****************************************************************************
    Copyright (c) Microsoft Corporation. All rights reserved.
    Licensed under the Apache License, Version 2.0 (the "License"); you may not use
    this file except in compliance with the License. You may obtain a copy of the
    License at http://www.apache.org/licenses/LICENSE-2.0

    THIS CODE IS PROVIDED ON AN *AS IS* BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY
    KIND, EITHER EXPRESS OR IMPLIED, INCLUDING WITHOUT LIMITATION ANY IMPLIED
    WARRANTIES OR CONDITIONS OF TITLE, FITNESS FOR A PARTICULAR PURPOSE,
    MERCHANTABLITY OR NON-INFRINGEMENT.

    See the Apache Version 2.0 License for specific language governing permissions
    and limitations under the License.
    ***************************************************************************** */var t=function(){return(t=Object.assign||function(t){for(var e,n=1,o=arguments.length;n<o;n++)for(var i in e=arguments[n])Object.prototype.hasOwnProperty.call(e,i)&&(t[i]=e[i]);return t}).apply(this,arguments)},n=["onChange","onClose","onDayCreate","onDestroy","onKeyDown","onMonthChange","onOpen","onParseConfig","onReady","onValueUpdate","onYearChange","onPreCalendarPosition"],o={_disable:[],_enable:[],allowInput:!1,altFormat:"F j, Y",altInput:!1,altInputClass:"form-control input",animate:"object"==typeof window&&-1===window.navigator.userAgent.indexOf("MSIE"),ariaDateFormat:"F j, Y",clickOpens:!0,closeOnSelect:!0,conjunction:", ",dateFormat:"Y-m-d",defaultHour:12,defaultMinute:0,defaultSeconds:0,disable:[],disableMobile:!1,enable:[],enableSeconds:!1,enableTime:!1,errorHandler:function(t){return"undefined"!=typeof console&&console.warn(t)},getWeek:function(t){var e=new Date(t.getTime());e.setHours(0,0,0,0),e.setDate(e.getDate()+3-(e.getDay()+6)%7);var n=new Date(e.getFullYear(),0,4);return 1+Math.round(((e.getTime()-n.getTime())/864e5-3+(n.getDay()+6)%7)/7)},hourIncrement:1,ignoredFocusElements:[],inline:!1,locale:"default",minuteIncrement:5,mode:"single",monthSelectorType:"dropdown",nextArrow:"<svg version='1.1' xmlns='http://www.w3.org/2000/svg' xmlns:xlink='http://www.w3.org/1999/xlink' viewBox='0 0 17 17'><g></g><path d='M13.207 8.472l-7.854 7.854-0.707-0.707 7.146-7.146-7.146-7.148 0.707-0.707 7.854 7.854z' /></svg>",noCalendar:!1,now:new Date,onChange:[],onClose:[],onDayCreate:[],onDestroy:[],onKeyDown:[],onMonthChange:[],onOpen:[],onParseConfig:[],onReady:[],onValueUpdate:[],onYearChange:[],onPreCalendarPosition:[],plugins:[],position:"auto",positionElement:void 0,prevArrow:"<svg version='1.1' xmlns='http://www.w3.org/2000/svg' xmlns:xlink='http://www.w3.org/1999/xlink' viewBox='0 0 17 17'><g></g><path d='M5.207 8.471l7.146 7.147-0.707 0.707-7.853-7.854 7.854-7.853 0.707 0.707-7.147 7.146z' /></svg>",shorthandCurrentMonth:!1,showMonths:1,static:!1,time_24hr:!1,weekNumbers:!1,wrap:!1},i={weekdays:{shorthand:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],longhand:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"]},months:{shorthand:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],longhand:["January","February","March","April","May","June","July","August","September","October","November","December"]},daysInMonth:[31,28,31,30,31,30,31,31,30,31,30,31],firstDayOfWeek:0,ordinal:function(t){var e=t%100;if(e>3&&e<21)return"th";switch(e%10){case 1:return"st";case 2:return"nd";case 3:return"rd";default:return"th"}},rangeSeparator:" to ",weekAbbreviation:"Wk",scrollTitle:"Scroll to increment",toggleTitle:"Click to toggle",amPM:["AM","PM"],yearAriaLabel:"Year",hourAriaLabel:"Hour",minuteAriaLabel:"Minute",time_24hr:!1},r=function(t){return("0"+t).slice(-2)},a=function(t){return!0===t?1:0};function s(t,e,n){var o;return void 0===n&&(n=!1),function(){var i=this,r=arguments;null!==o&&clearTimeout(o),o=window.setTimeout((function(){o=null,n||t.apply(i,r)}),e),n&&!o&&t.apply(i,r)}}var l=function(t){return t instanceof Array?t:[t]};function u(t,e,n){if(!0===n)return t.classList.add(e);t.classList.remove(e)}function c(t,e,n){var o=window.document.createElement(t);return e=e||"",n=n||"",o.className=e,void 0!==n&&(o.textContent=n),o}function d(t){for(;t.firstChild;)t.removeChild(t.firstChild)}function p(t,e){var n=c("div","numInputWrapper"),o=c("input","numInput "+t),i=c("span","arrowUp"),r=c("span","arrowDown");if(-1===navigator.userAgent.indexOf("MSIE 9.0")?o.type="number":(o.type="text",o.pattern="\\d*"),void 0!==e)for(var a in e)o.setAttribute(a,e[a]);return n.appendChild(o),n.appendChild(i),n.appendChild(r),n}var h=function(){},f=function(t,e,n){return n.months[e?"shorthand":"longhand"][t]},g={D:h,F:function(t,e,n){t.setMonth(n.months.longhand.indexOf(e))},G:function(t,e){t.setHours(parseFloat(e))},H:function(t,e){t.setHours(parseFloat(e))},J:function(t,e){t.setDate(parseFloat(e))},K:function(t,e,n){t.setHours(t.getHours()%12+12*a(new RegExp(n.amPM[1],"i").test(e)))},M:function(t,e,n){t.setMonth(n.months.shorthand.indexOf(e))},S:function(t,e){t.setSeconds(parseFloat(e))},U:function(t,e){return new Date(1e3*parseFloat(e))},W:function(t,e,n){var o=parseInt(e),i=new Date(t.getFullYear(),0,2+7*(o-1),0,0,0,0);return i.setDate(i.getDate()-i.getDay()+n.firstDayOfWeek),i},Y:function(t,e){t.setFullYear(parseFloat(e))},Z:function(t,e){return new Date(e)},d:function(t,e){t.setDate(parseFloat(e))},h:function(t,e){t.setHours(parseFloat(e))},i:function(t,e){t.setMinutes(parseFloat(e))},j:function(t,e){t.setDate(parseFloat(e))},l:h,m:function(t,e){t.setMonth(parseFloat(e)-1)},n:function(t,e){t.setMonth(parseFloat(e)-1)},s:function(t,e){t.setSeconds(parseFloat(e))},u:function(t,e){return new Date(parseFloat(e))},w:h,y:function(t,e){t.setFullYear(2e3+parseFloat(e))}},m={D:"(\\w+)",F:"(\\w+)",G:"(\\d\\d|\\d)",H:"(\\d\\d|\\d)",J:"(\\d\\d|\\d)\\w+",K:"",M:"(\\w+)",S:"(\\d\\d|\\d)",U:"(.+)",W:"(\\d\\d|\\d)",Y:"(\\d{4})",Z:"(.+)",d:"(\\d\\d|\\d)",h:"(\\d\\d|\\d)",i:"(\\d\\d|\\d)",j:"(\\d\\d|\\d)",l:"(\\w+)",m:"(\\d\\d|\\d)",n:"(\\d\\d|\\d)",s:"(\\d\\d|\\d)",u:"(.+)",w:"(\\d\\d|\\d)",y:"(\\d{2})"},v={Z:function(t){return t.toISOString()},D:function(t,e,n){return e.weekdays.shorthand[v.w(t,e,n)]},F:function(t,e,n){return f(v.n(t,e,n)-1,!1,e)},G:function(t,e,n){return r(v.h(t,e,n))},H:function(t){return r(t.getHours())},J:function(t,e){return void 0!==e.ordinal?t.getDate()+e.ordinal(t.getDate()):t.getDate()},K:function(t,e){return e.amPM[a(t.getHours()>11)]},M:function(t,e){return f(t.getMonth(),!0,e)},S:function(t){return r(t.getSeconds())},U:function(t){return t.getTime()/1e3},W:function(t,e,n){return n.getWeek(t)},Y:function(t){return t.getFullYear()},d:function(t){return r(t.getDate())},h:function(t){return t.getHours()%12?t.getHours()%12:12},i:function(t){return r(t.getMinutes())},j:function(t){return t.getDate()},l:function(t,e){return e.weekdays.longhand[t.getDay()]},m:function(t){return r(t.getMonth()+1)},n:function(t){return t.getMonth()+1},s:function(t){return t.getSeconds()},u:function(t){return t.getTime()},w:function(t){return t.getDay()},y:function(t){return String(t.getFullYear()).substring(2)}},y=function(t){var e=t.config,n=void 0===e?o:e,r=t.l10n,a=void 0===r?i:r;return function(t,e,o){var i=o||a;return void 0!==n.formatDate?n.formatDate(t,e,i):e.split("").map((function(e,o,r){return v[e]&&"\\"!==r[o-1]?v[e](t,i,n):"\\"!==e?e:""})).join("")}},b=function(t){var e=t.config,n=void 0===e?o:e,r=t.l10n,a=void 0===r?i:r;return function(t,e,i,r){if(0===t||t){var s,l=r||a,u=t;if(t instanceof Date)s=new Date(t.getTime());else if("string"!=typeof t&&void 0!==t.toFixed)s=new Date(t);else if("string"==typeof t){var c=e||(n||o).dateFormat,d=String(t).trim();if("today"===d)s=new Date,i=!0;else if(/Z$/.test(d)||/GMT$/.test(d))s=new Date(t);else if(n&&n.parseDate)s=n.parseDate(t,c);else{s=n&&n.noCalendar?new Date((new Date).setHours(0,0,0,0)):new Date((new Date).getFullYear(),0,1,0,0,0,0);for(var p=void 0,h=[],f=0,v=0,y="";f<c.length;f++){var b=c[f],_="\\"===b,C="\\"===c[f-1]||_;if(m[b]&&!C){y+=m[b];var w=new RegExp(y).exec(t);w&&(p=!0)&&h["Y"!==b?"push":"unshift"]({fn:g[b],val:w[++v]})}else _||(y+=".");h.forEach((function(t){var e=t.fn,n=t.val;return s=e(s,n,l)||s}))}s=p?s:void 0}}if(s instanceof Date&&!isNaN(s.getTime()))return!0===i&&s.setHours(0,0,0,0),s;n.errorHandler(new Error("Invalid date provided: "+u))}}};function _(t,e,n){return void 0===n&&(n=!0),!1!==n?new Date(t.getTime()).setHours(0,0,0,0)-new Date(e.getTime()).setHours(0,0,0,0):t.getTime()-e.getTime()}var C=864e5;function w(e,h){var g={config:t({},o,x.defaultConfig),l10n:i};function v(t){return t.bind(g)}function w(){var t=g.config;!1===t.weekNumbers&&1===t.showMonths||!0!==t.noCalendar&&window.requestAnimationFrame((function(){if(void 0!==g.calendarContainer&&(g.calendarContainer.style.visibility="hidden",g.calendarContainer.style.display="block"),void 0!==g.daysContainer){var e=(g.days.offsetWidth+1)*t.showMonths;g.daysContainer.style.width=e+"px",g.calendarContainer.style.width=e+(void 0!==g.weekWrapper?g.weekWrapper.offsetWidth:0)+"px",g.calendarContainer.style.removeProperty("visibility"),g.calendarContainer.style.removeProperty("display")}}))}function E(t){0===g.selectedDates.length&&nt(),void 0!==t&&"blur"!==t.type&&function(t){t.preventDefault();var e="keydown"===t.type,n=t.target;void 0!==g.amPM&&t.target===g.amPM&&(g.amPM.textContent=g.l10n.amPM[a(g.amPM.textContent===g.l10n.amPM[0])]);var o=parseFloat(n.getAttribute("min")),i=parseFloat(n.getAttribute("max")),s=parseFloat(n.getAttribute("step")),l=parseInt(n.value,10),u=t.delta||(e?38===t.which?1:-1:0),c=l+s*u;if(void 0!==n.value&&2===n.value.length){var d=n===g.hourElement,p=n===g.minuteElement;c<o?(c=i+c+a(!d)+(a(d)&&a(!g.amPM)),p&&F(void 0,-1,g.hourElement)):c>i&&(c=n===g.hourElement?c-i-a(!g.amPM):o,p&&F(void 0,1,g.hourElement)),g.amPM&&d&&(1===s?c+l===23:Math.abs(c-l)>s)&&(g.amPM.textContent=g.l10n.amPM[a(g.amPM.textContent===g.l10n.amPM[0])]),n.value=r(c)}}(t);var e=g._input.value;S(),vt(),g._input.value!==e&&g._debouncedChange()}function S(){if(void 0!==g.hourElement&&void 0!==g.minuteElement){var t,e,n=(parseInt(g.hourElement.value.slice(-2),10)||0)%24,o=(parseInt(g.minuteElement.value,10)||0)%60,i=void 0!==g.secondElement?(parseInt(g.secondElement.value,10)||0)%60:0;void 0!==g.amPM&&(t=n,e=g.amPM.textContent,n=t%12+12*a(e===g.l10n.amPM[1]));var r=void 0!==g.config.minTime||g.config.minDate&&g.minDateHasTime&&g.latestSelectedDateObj&&0===_(g.latestSelectedDateObj,g.config.minDate,!0);if(void 0!==g.config.maxTime||g.config.maxDate&&g.maxDateHasTime&&g.latestSelectedDateObj&&0===_(g.latestSelectedDateObj,g.config.maxDate,!0)){var s=void 0!==g.config.maxTime?g.config.maxTime:g.config.maxDate;(n=Math.min(n,s.getHours()))===s.getHours()&&(o=Math.min(o,s.getMinutes())),o===s.getMinutes()&&(i=Math.min(i,s.getSeconds()))}if(r){var l=void 0!==g.config.minTime?g.config.minTime:g.config.minDate;(n=Math.max(n,l.getHours()))===l.getHours()&&(o=Math.max(o,l.getMinutes())),o===l.getMinutes()&&(i=Math.max(i,l.getSeconds()))}R(n,o,i)}}function A(t){var e=t||g.latestSelectedDateObj;e&&R(e.getHours(),e.getMinutes(),e.getSeconds())}function O(){var t=g.config.defaultHour,e=g.config.defaultMinute,n=g.config.defaultSeconds;if(void 0!==g.config.minDate){var o=g.config.minDate.getHours(),i=g.config.minDate.getMinutes();(t=Math.max(t,o))===o&&(e=Math.max(i,e)),t===o&&e===i&&(n=g.config.minDate.getSeconds())}if(void 0!==g.config.maxDate){var r=g.config.maxDate.getHours(),a=g.config.maxDate.getMinutes();(t=Math.min(t,r))===r&&(e=Math.min(a,e)),t===r&&e===a&&(n=g.config.maxDate.getSeconds())}R(t,e,n)}function R(t,e,n){void 0!==g.latestSelectedDateObj&&g.latestSelectedDateObj.setHours(t%24,e,n||0,0),g.hourElement&&g.minuteElement&&!g.isMobile&&(g.hourElement.value=r(g.config.time_24hr?t:(12+t)%12+12*a(t%12==0)),g.minuteElement.value=r(e),void 0!==g.amPM&&(g.amPM.textContent=g.l10n.amPM[a(t>=12)]),void 0!==g.secondElement&&(g.secondElement.value=r(n)))}function T(t){var e=parseInt(t.target.value)+(t.delta||0);(e/1e3>1||"Enter"===t.key&&!/[^\d]/.test(e.toString()))&&J(e)}function L(t,e,n,o){return e instanceof Array?e.forEach((function(e){return L(t,e,n,o)})):t instanceof Array?t.forEach((function(t){return L(t,e,n,o)})):(t.addEventListener(e,n,o),void g._handlers.push({element:t,event:e,handler:n,options:o}))}function P(t){return function(e){1===e.which&&t(e)}}function D(){pt("onChange")}function k(t,e){var n=void 0!==t?g.parseDate(t):g.latestSelectedDateObj||(g.config.minDate&&g.config.minDate>g.now?g.config.minDate:g.config.maxDate&&g.config.maxDate<g.now?g.config.maxDate:g.now),o=g.currentYear,i=g.currentMonth;try{void 0!==n&&(g.currentYear=n.getFullYear(),g.currentMonth=n.getMonth())}catch(t){t.message="Invalid date supplied: "+n,g.config.errorHandler(t)}e&&g.currentYear!==o&&(pt("onYearChange"),V()),!e||g.currentYear===o&&g.currentMonth===i||pt("onMonthChange"),g.redraw()}function N(t){~t.target.className.indexOf("arrow")&&F(t,t.target.classList.contains("arrowUp")?1:-1)}function F(t,e,n){var o=t&&t.target,i=n||o&&o.parentNode&&o.parentNode.firstChild,r=ht("increment");r.delta=e,i&&i.dispatchEvent(r)}function M(t,e,n,o){var i=K(e,!0),r=c("span","flatpickr-day "+t,e.getDate().toString());return r.dateObj=e,r.$i=o,r.setAttribute("aria-label",g.formatDate(e,g.config.ariaDateFormat)),-1===t.indexOf("hidden")&&0===_(e,g.now)&&(g.todayDateElem=r,r.classList.add("today"),r.setAttribute("aria-current","date")),i?(r.tabIndex=-1,ft(e)&&(r.classList.add("selected"),g.selectedDateElem=r,"range"===g.config.mode&&(u(r,"startRange",g.selectedDates[0]&&0===_(e,g.selectedDates[0],!0)),u(r,"endRange",g.selectedDates[1]&&0===_(e,g.selectedDates[1],!0)),"nextMonthDay"===t&&r.classList.add("inRange")))):r.classList.add("flatpickr-disabled"),"range"===g.config.mode&&function(t){return!("range"!==g.config.mode||g.selectedDates.length<2)&&_(t,g.selectedDates[0])>=0&&_(t,g.selectedDates[1])<=0}(e)&&!ft(e)&&r.classList.add("inRange"),g.weekNumbers&&1===g.config.showMonths&&"prevMonthDay"!==t&&n%7==1&&g.weekNumbers.insertAdjacentHTML("beforeend","<span class='flatpickr-day'>"+g.config.getWeek(e)+"</span>"),pt("onDayCreate",r),r}function I(t){t.focus(),"range"===g.config.mode&&tt(t)}function G(t){for(var e=t>0?0:g.config.showMonths-1,n=t>0?g.config.showMonths:-1,o=e;o!=n;o+=t)for(var i=g.daysContainer.children[o],r=t>0?0:i.children.length-1,a=t>0?i.children.length:-1,s=r;s!=a;s+=t){var l=i.children[s];if(-1===l.className.indexOf("hidden")&&K(l.dateObj))return l}}function j(t,e){var n=X(document.activeElement||document.body),o=void 0!==t?t:n?document.activeElement:void 0!==g.selectedDateElem&&X(g.selectedDateElem)?g.selectedDateElem:void 0!==g.todayDateElem&&X(g.todayDateElem)?g.todayDateElem:G(e>0?1:-1);return void 0===o?g._input.focus():n?void function(t,e){for(var n=-1===t.className.indexOf("Month")?t.dateObj.getMonth():g.currentMonth,o=e>0?g.config.showMonths:-1,i=e>0?1:-1,r=n-g.currentMonth;r!=o;r+=i)for(var a=g.daysContainer.children[r],s=n-g.currentMonth===r?t.$i+e:e<0?a.children.length-1:0,l=a.children.length,u=s;u>=0&&u<l&&u!=(e>0?l:-1);u+=i){var c=a.children[u];if(-1===c.className.indexOf("hidden")&&K(c.dateObj)&&Math.abs(t.$i-u)>=Math.abs(e))return I(c)}g.changeMonth(i),j(G(i),0)}(o,e):I(o)}function U(t,e){for(var n=(new Date(t,e,1).getDay()-g.l10n.firstDayOfWeek+7)%7,o=g.utils.getDaysInMonth((e-1+12)%12),i=g.utils.getDaysInMonth(e),r=window.document.createDocumentFragment(),a=g.config.showMonths>1,s=a?"prevMonthDay hidden":"prevMonthDay",l=a?"nextMonthDay hidden":"nextMonthDay",u=o+1-n,d=0;u<=o;u++,d++)r.appendChild(M(s,new Date(t,e-1,u),u,d));for(u=1;u<=i;u++,d++)r.appendChild(M("",new Date(t,e,u),u,d));for(var p=i+1;p<=42-n&&(1===g.config.showMonths||d%7!=0);p++,d++)r.appendChild(M(l,new Date(t,e+1,p%i),p,d));var h=c("div","dayContainer");return h.appendChild(r),h}function B(){if(void 0!==g.daysContainer){d(g.daysContainer),g.weekNumbers&&d(g.weekNumbers);for(var t=document.createDocumentFragment(),e=0;e<g.config.showMonths;e++){var n=new Date(g.currentYear,g.currentMonth,1);n.setMonth(g.currentMonth+e),t.appendChild(U(n.getFullYear(),n.getMonth()))}g.daysContainer.appendChild(t),g.days=g.daysContainer.firstChild,"range"===g.config.mode&&1===g.selectedDates.length&&tt()}}function V(){if(!(g.config.showMonths>1||"dropdown"!==g.config.monthSelectorType)){var t=function(t){return!(void 0!==g.config.minDate&&g.currentYear===g.config.minDate.getFullYear()&&t<g.config.minDate.getMonth()||void 0!==g.config.maxDate&&g.currentYear===g.config.maxDate.getFullYear()&&t>g.config.maxDate.getMonth())};g.monthsDropdownContainer.tabIndex=-1,g.monthsDropdownContainer.innerHTML="";for(var e=0;e<12;e++)if(t(e)){var n=c("option","flatpickr-monthDropdown-month");n.value=new Date(g.currentYear,e).getMonth().toString(),n.textContent=f(e,g.config.shorthandCurrentMonth,g.l10n),n.tabIndex=-1,g.currentMonth===e&&(n.selected=!0),g.monthsDropdownContainer.appendChild(n)}}}function W(){var t,e=c("div","flatpickr-month"),n=window.document.createDocumentFragment();g.config.showMonths>1||"static"===g.config.monthSelectorType?t=c("span","cur-month"):(g.monthsDropdownContainer=c("select","flatpickr-monthDropdown-months"),L(g.monthsDropdownContainer,"change",(function(t){var e=t.target,n=parseInt(e.value,10);g.changeMonth(n-g.currentMonth),pt("onMonthChange")})),V(),t=g.monthsDropdownContainer);var o=p("cur-year",{tabindex:"-1"}),i=o.getElementsByTagName("input")[0];i.setAttribute("aria-label",g.l10n.yearAriaLabel),g.config.minDate&&i.setAttribute("min",g.config.minDate.getFullYear().toString()),g.config.maxDate&&(i.setAttribute("max",g.config.maxDate.getFullYear().toString()),i.disabled=!!g.config.minDate&&g.config.minDate.getFullYear()===g.config.maxDate.getFullYear());var r=c("div","flatpickr-current-month");return r.appendChild(t),r.appendChild(o),n.appendChild(r),e.appendChild(n),{container:e,yearElement:i,monthElement:t}}function H(){d(g.monthNav),g.monthNav.appendChild(g.prevMonthNav),g.config.showMonths&&(g.yearElements=[],g.monthElements=[]);for(var t=g.config.showMonths;t--;){var e=W();g.yearElements.push(e.yearElement),g.monthElements.push(e.monthElement),g.monthNav.appendChild(e.container)}g.monthNav.appendChild(g.nextMonthNav)}function z(){g.weekdayContainer?d(g.weekdayContainer):g.weekdayContainer=c("div","flatpickr-weekdays");for(var t=g.config.showMonths;t--;){var e=c("div","flatpickr-weekdaycontainer");g.weekdayContainer.appendChild(e)}return Z(),g.weekdayContainer}function Z(){if(g.weekdayContainer){var t=g.l10n.firstDayOfWeek,e=g.l10n.weekdays.shorthand.slice();t>0&&t<e.length&&(e=e.splice(t,e.length).concat(e.splice(0,t)));for(var n=g.config.showMonths;n--;)g.weekdayContainer.children[n].innerHTML="\n      <span class='flatpickr-weekday'>\n        "+e.join("</span><span class='flatpickr-weekday'>")+"\n      </span>\n      "}}function Y(t,e){void 0===e&&(e=!0);var n=e?t:t-g.currentMonth;n<0&&!0===g._hidePrevMonthArrow||n>0&&!0===g._hideNextMonthArrow||(g.currentMonth+=n,(g.currentMonth<0||g.currentMonth>11)&&(g.currentYear+=g.currentMonth>11?1:-1,g.currentMonth=(g.currentMonth+12)%12,pt("onYearChange"),V()),B(),pt("onMonthChange"),gt())}function q(t){return!(!g.config.appendTo||!g.config.appendTo.contains(t))||g.calendarContainer.contains(t)}function Q(t){if(g.isOpen&&!g.config.inline){var e=function(t){return"function"==typeof t.composedPath?t.composedPath()[0]:t.target}(t),n=q(e),o=e===g.input||e===g.altInput||g.element.contains(e)||t.path&&t.path.indexOf&&(~t.path.indexOf(g.input)||~t.path.indexOf(g.altInput)),i="blur"===t.type?o&&t.relatedTarget&&!q(t.relatedTarget):!o&&!n&&!q(t.relatedTarget),r=!g.config.ignoredFocusElements.some((function(t){return t.contains(e)}));i&&r&&(void 0!==g.timeContainer&&void 0!==g.minuteElement&&void 0!==g.hourElement&&E(),g.close(),"range"===g.config.mode&&1===g.selectedDates.length&&(g.clear(!1),g.redraw()))}}function J(t){if(!(!t||g.config.minDate&&t<g.config.minDate.getFullYear()||g.config.maxDate&&t>g.config.maxDate.getFullYear())){var e=t,n=g.currentYear!==e;g.currentYear=e||g.currentYear,g.config.maxDate&&g.currentYear===g.config.maxDate.getFullYear()?g.currentMonth=Math.min(g.config.maxDate.getMonth(),g.currentMonth):g.config.minDate&&g.currentYear===g.config.minDate.getFullYear()&&(g.currentMonth=Math.max(g.config.minDate.getMonth(),g.currentMonth)),n&&(g.redraw(),pt("onYearChange"),V())}}function K(t,e){void 0===e&&(e=!0);var n=g.parseDate(t,void 0,e);if(g.config.minDate&&n&&_(n,g.config.minDate,void 0!==e?e:!g.minDateHasTime)<0||g.config.maxDate&&n&&_(n,g.config.maxDate,void 0!==e?e:!g.maxDateHasTime)>0)return!1;if(0===g.config.enable.length&&0===g.config.disable.length)return!0;if(void 0===n)return!1;for(var o=g.config.enable.length>0,i=o?g.config.enable:g.config.disable,r=0,a=void 0;r<i.length;r++){if("function"==typeof(a=i[r])&&a(n))return o;if(a instanceof Date&&void 0!==n&&a.getTime()===n.getTime())return o;if("string"==typeof a&&void 0!==n){var s=g.parseDate(a,void 0,!0);return s&&s.getTime()===n.getTime()?o:!o}if("object"==typeof a&&void 0!==n&&a.from&&a.to&&n.getTime()>=a.from.getTime()&&n.getTime()<=a.to.getTime())return o}return!o}function X(t){return void 0!==g.daysContainer&&-1===t.className.indexOf("hidden")&&g.daysContainer.contains(t)}function $(t){var e=t.target===g._input,n=g.config.allowInput,o=g.isOpen&&(!n||!e),i=g.config.inline&&e&&!n;if(13===t.keyCode&&e){if(n)return g.setDate(g._input.value,!0,t.target===g.altInput?g.config.altFormat:g.config.dateFormat),t.target.blur();g.open()}else if(q(t.target)||o||i){var r=!!g.timeContainer&&g.timeContainer.contains(t.target);switch(t.keyCode){case 13:r?(t.preventDefault(),E(),st()):lt(t);break;case 27:t.preventDefault(),st();break;case 8:case 46:e&&!g.config.allowInput&&(t.preventDefault(),g.clear());break;case 37:case 39:if(r||e)g.hourElement&&g.hourElement.focus();else if(t.preventDefault(),void 0!==g.daysContainer&&(!1===n||document.activeElement&&X(document.activeElement))){var a=39===t.keyCode?1:-1;t.ctrlKey?(t.stopPropagation(),Y(a),j(G(1),0)):j(void 0,a)}break;case 38:case 40:t.preventDefault();var s=40===t.keyCode?1:-1;g.daysContainer&&void 0!==t.target.$i||t.target===g.input||t.target===g.altInput?t.ctrlKey?(t.stopPropagation(),J(g.currentYear-s),j(G(1),0)):r||j(void 0,7*s):t.target===g.currentYearElement?J(g.currentYear-s):g.config.enableTime&&(!r&&g.hourElement&&g.hourElement.focus(),E(t),g._debouncedChange());break;case 9:if(r){var l=[g.hourElement,g.minuteElement,g.secondElement,g.amPM].concat(g.pluginElements).filter((function(t){return t})),u=l.indexOf(t.target);if(-1!==u){var c=l[u+(t.shiftKey?-1:1)];t.preventDefault(),(c||g._input).focus()}}else!g.config.noCalendar&&g.daysContainer&&g.daysContainer.contains(t.target)&&t.shiftKey&&(t.preventDefault(),g._input.focus())}}if(void 0!==g.amPM&&t.target===g.amPM)switch(t.key){case g.l10n.amPM[0].charAt(0):case g.l10n.amPM[0].charAt(0).toLowerCase():g.amPM.textContent=g.l10n.amPM[0],S(),vt();break;case g.l10n.amPM[1].charAt(0):case g.l10n.amPM[1].charAt(0).toLowerCase():g.amPM.textContent=g.l10n.amPM[1],S(),vt()}(e||q(t.target))&&pt("onKeyDown",t)}function tt(t){if(1===g.selectedDates.length&&(!t||t.classList.contains("flatpickr-day")&&!t.classList.contains("flatpickr-disabled"))){for(var e=t?t.dateObj.getTime():g.days.firstElementChild.dateObj.getTime(),n=g.parseDate(g.selectedDates[0],void 0,!0).getTime(),o=Math.min(e,g.selectedDates[0].getTime()),i=Math.max(e,g.selectedDates[0].getTime()),r=!1,a=0,s=0,l=o;l<i;l+=C)K(new Date(l),!0)||(r=r||l>o&&l<i,l<n&&(!a||l>a)?a=l:l>n&&(!s||l<s)&&(s=l));for(var u=0;u<g.config.showMonths;u++)for(var c=g.daysContainer.children[u],d=function(o,i){var l,u,d,p=c.children[o],h=p.dateObj.getTime(),f=a>0&&h<a||s>0&&h>s;return f?(p.classList.add("notAllowed"),["inRange","startRange","endRange"].forEach((function(t){p.classList.remove(t)})),"continue"):r&&!f?"continue":(["startRange","inRange","endRange","notAllowed"].forEach((function(t){p.classList.remove(t)})),void(void 0!==t&&(t.classList.add(e<=g.selectedDates[0].getTime()?"startRange":"endRange"),n<e&&h===n?p.classList.add("startRange"):n>e&&h===n&&p.classList.add("endRange"),h>=a&&(0===s||h<=s)&&(u=n,d=e,(l=h)>Math.min(u,d)&&l<Math.max(u,d))&&p.classList.add("inRange"))))},p=0,h=c.children.length;p<h;p++)d(p)}}function et(){!g.isOpen||g.config.static||g.config.inline||rt()}function nt(){g.setDate(void 0!==g.config.minDate?new Date(g.config.minDate.getTime()):new Date,!0),O(),vt()}function ot(t){return function(e){var n=g.config["_"+t+"Date"]=g.parseDate(e,g.config.dateFormat),o=g.config["_"+("min"===t?"max":"min")+"Date"];void 0!==n&&(g["min"===t?"minDateHasTime":"maxDateHasTime"]=n.getHours()>0||n.getMinutes()>0||n.getSeconds()>0),g.selectedDates&&(g.selectedDates=g.selectedDates.filter((function(t){return K(t)})),g.selectedDates.length||"min"!==t||A(n),vt()),g.daysContainer&&(at(),void 0!==n?g.currentYearElement[t]=n.getFullYear().toString():g.currentYearElement.removeAttribute(t),g.currentYearElement.disabled=!!o&&void 0!==n&&o.getFullYear()===n.getFullYear())}}function it(){"object"!=typeof g.config.locale&&void 0===x.l10ns[g.config.locale]&&g.config.errorHandler(new Error("flatpickr: invalid locale "+g.config.locale)),g.l10n=t({},x.l10ns.default,"object"==typeof g.config.locale?g.config.locale:"default"!==g.config.locale?x.l10ns[g.config.locale]:void 0),m.K="("+g.l10n.amPM[0]+"|"+g.l10n.amPM[1]+"|"+g.l10n.amPM[0].toLowerCase()+"|"+g.l10n.amPM[1].toLowerCase()+")",void 0===t({},h,JSON.parse(JSON.stringify(e.dataset||{}))).time_24hr&&void 0===x.defaultConfig.time_24hr&&(g.config.time_24hr=g.l10n.time_24hr),g.formatDate=y(g),g.parseDate=b({config:g.config,l10n:g.l10n})}function rt(t){if(void 0!==g.calendarContainer){pt("onPreCalendarPosition");var e=t||g._positionElement,n=Array.prototype.reduce.call(g.calendarContainer.children,(function(t,e){return t+e.offsetHeight}),0),o=g.calendarContainer.offsetWidth,i=g.config.position.split(" "),r=i[0],a=i.length>1?i[1]:null,s=e.getBoundingClientRect(),l=window.innerHeight-s.bottom,c="above"===r||"below"!==r&&l<n&&s.top>n,d=window.pageYOffset+s.top+(c?-n-2:e.offsetHeight+2);if(u(g.calendarContainer,"arrowTop",!c),u(g.calendarContainer,"arrowBottom",c),!g.config.inline){var p=window.pageXOffset+s.left-(null!=a&&"center"===a?(o-s.width)/2:0),h=window.document.body.offsetWidth-(window.pageXOffset+s.right),f=p+o>window.document.body.offsetWidth,m=h+o>window.document.body.offsetWidth;if(u(g.calendarContainer,"rightMost",f),!g.config.static)if(g.calendarContainer.style.top=d+"px",f)if(m){var v=document.styleSheets[0];if(void 0===v)return;var y=window.document.body.offsetWidth,b=Math.max(0,y/2-o/2),_=v.cssRules.length,C="{left:"+s.left+"px;right:auto;}";u(g.calendarContainer,"rightMost",!1),u(g.calendarContainer,"centerMost",!0),v.insertRule(".flatpickr-calendar.centerMost:before,.flatpickr-calendar.centerMost:after"+C,_),g.calendarContainer.style.left=b+"px",g.calendarContainer.style.right="auto"}else g.calendarContainer.style.left="auto",g.calendarContainer.style.right=h+"px";else g.calendarContainer.style.left=p+"px",g.calendarContainer.style.right="auto"}}}function at(){g.config.noCalendar||g.isMobile||(gt(),B())}function st(){g._input.focus(),-1!==window.navigator.userAgent.indexOf("MSIE")||void 0!==navigator.msMaxTouchPoints?setTimeout(g.close,0):g.close()}function lt(t){t.preventDefault(),t.stopPropagation();var e=function t(e,n){return n(e)?e:e.parentNode?t(e.parentNode,n):void 0}(t.target,(function(t){return t.classList&&t.classList.contains("flatpickr-day")&&!t.classList.contains("flatpickr-disabled")&&!t.classList.contains("notAllowed")}));if(void 0!==e){var n=e,o=g.latestSelectedDateObj=new Date(n.dateObj.getTime()),i=(o.getMonth()<g.currentMonth||o.getMonth()>g.currentMonth+g.config.showMonths-1)&&"range"!==g.config.mode;if(g.selectedDateElem=n,"single"===g.config.mode)g.selectedDates=[o];else if("multiple"===g.config.mode){var r=ft(o);r?g.selectedDates.splice(parseInt(r),1):g.selectedDates.push(o)}else"range"===g.config.mode&&(2===g.selectedDates.length&&g.clear(!1,!1),g.latestSelectedDateObj=o,g.selectedDates.push(o),0!==_(o,g.selectedDates[0],!0)&&g.selectedDates.sort((function(t,e){return t.getTime()-e.getTime()})));if(S(),i){var a=g.currentYear!==o.getFullYear();g.currentYear=o.getFullYear(),g.currentMonth=o.getMonth(),a&&(pt("onYearChange"),V()),pt("onMonthChange")}if(gt(),B(),vt(),g.config.enableTime&&setTimeout((function(){return g.showTimeInput=!0}),50),i||"range"===g.config.mode||1!==g.config.showMonths?void 0!==g.selectedDateElem&&void 0===g.hourElement&&g.selectedDateElem&&g.selectedDateElem.focus():I(n),void 0!==g.hourElement&&void 0!==g.hourElement&&g.hourElement.focus(),g.config.closeOnSelect){var s="single"===g.config.mode&&!g.config.enableTime,l="range"===g.config.mode&&2===g.selectedDates.length&&!g.config.enableTime;(s||l)&&st()}D()}}g.parseDate=b({config:g.config,l10n:g.l10n}),g._handlers=[],g.pluginElements=[],g.loadedPlugins=[],g._bind=L,g._setHoursFromDate=A,g._positionCalendar=rt,g.changeMonth=Y,g.changeYear=J,g.clear=function(t,e){void 0===t&&(t=!0),void 0===e&&(e=!0),g.input.value="",void 0!==g.altInput&&(g.altInput.value=""),void 0!==g.mobileInput&&(g.mobileInput.value=""),g.selectedDates=[],g.latestSelectedDateObj=void 0,!0===e&&(g.currentYear=g._initialDate.getFullYear(),g.currentMonth=g._initialDate.getMonth()),g.showTimeInput=!1,!0===g.config.enableTime&&O(),g.redraw(),t&&pt("onChange")},g.close=function(){g.isOpen=!1,g.isMobile||(void 0!==g.calendarContainer&&g.calendarContainer.classList.remove("open"),void 0!==g._input&&g._input.classList.remove("active")),pt("onClose")},g._createElement=c,g.destroy=function(){void 0!==g.config&&pt("onDestroy");for(var t=g._handlers.length;t--;){var e=g._handlers[t];e.element.removeEventListener(e.event,e.handler,e.options)}if(g._handlers=[],g.mobileInput)g.mobileInput.parentNode&&g.mobileInput.parentNode.removeChild(g.mobileInput),g.mobileInput=void 0;else if(g.calendarContainer&&g.calendarContainer.parentNode)if(g.config.static&&g.calendarContainer.parentNode){var n=g.calendarContainer.parentNode;if(n.lastChild&&n.removeChild(n.lastChild),n.parentNode){for(;n.firstChild;)n.parentNode.insertBefore(n.firstChild,n);n.parentNode.removeChild(n)}}else g.calendarContainer.parentNode.removeChild(g.calendarContainer);g.altInput&&(g.input.type="text",g.altInput.parentNode&&g.altInput.parentNode.removeChild(g.altInput),delete g.altInput),g.input&&(g.input.type=g.input._type,g.input.classList.remove("flatpickr-input"),g.input.removeAttribute("readonly"),g.input.value=""),["_showTimeInput","latestSelectedDateObj","_hideNextMonthArrow","_hidePrevMonthArrow","__hideNextMonthArrow","__hidePrevMonthArrow","isMobile","isOpen","selectedDateElem","minDateHasTime","maxDateHasTime","days","daysContainer","_input","_positionElement","innerContainer","rContainer","monthNav","todayDateElem","calendarContainer","weekdayContainer","prevMonthNav","nextMonthNav","monthsDropdownContainer","currentMonthElement","currentYearElement","navigationCurrentMonth","selectedDateElem","config"].forEach((function(t){try{delete g[t]}catch(t){}}))},g.isEnabled=K,g.jumpToDate=k,g.open=function(t,e){if(void 0===e&&(e=g._positionElement),!0===g.isMobile)return t&&(t.preventDefault(),t.target&&t.target.blur()),void 0!==g.mobileInput&&(g.mobileInput.focus(),g.mobileInput.click()),void pt("onOpen");if(!g._input.disabled&&!g.config.inline){var n=g.isOpen;g.isOpen=!0,n||(g.calendarContainer.classList.add("open"),g._input.classList.add("active"),pt("onOpen"),rt(e)),!0===g.config.enableTime&&!0===g.config.noCalendar&&(0===g.selectedDates.length&&nt(),!1!==g.config.allowInput||void 0!==t&&g.timeContainer.contains(t.relatedTarget)||setTimeout((function(){return g.hourElement.select()}),50))}},g.redraw=at,g.set=function(t,e){if(null!==t&&"object"==typeof t)for(var o in Object.assign(g.config,t),t)void 0!==ut[o]&&ut[o].forEach((function(t){return t()}));else g.config[t]=e,void 0!==ut[t]?ut[t].forEach((function(t){return t()})):n.indexOf(t)>-1&&(g.config[t]=l(e));g.redraw(),vt(!1)},g.setDate=function(t,e,n){if(void 0===e&&(e=!1),void 0===n&&(n=g.config.dateFormat),0!==t&&!t||t instanceof Array&&0===t.length)return g.clear(e);ct(t,n),g.showTimeInput=g.selectedDates.length>0,g.latestSelectedDateObj=g.selectedDates[g.selectedDates.length-1],g.redraw(),k(),A(),0===g.selectedDates.length&&g.clear(!1),vt(e),e&&pt("onChange")},g.toggle=function(t){if(!0===g.isOpen)return g.close();g.open(t)};var ut={locale:[it,Z],showMonths:[H,w,z],minDate:[k],maxDate:[k]};function ct(t,e){var n=[];if(t instanceof Array)n=t.map((function(t){return g.parseDate(t,e)}));else if(t instanceof Date||"number"==typeof t)n=[g.parseDate(t,e)];else if("string"==typeof t)switch(g.config.mode){case"single":case"time":n=[g.parseDate(t,e)];break;case"multiple":n=t.split(g.config.conjunction).map((function(t){return g.parseDate(t,e)}));break;case"range":n=t.split(g.l10n.rangeSeparator).map((function(t){return g.parseDate(t,e)}))}else g.config.errorHandler(new Error("Invalid date supplied: "+JSON.stringify(t)));g.selectedDates=n.filter((function(t){return t instanceof Date&&K(t,!1)})),"range"===g.config.mode&&g.selectedDates.sort((function(t,e){return t.getTime()-e.getTime()}))}function dt(t){return t.slice().map((function(t){return"string"==typeof t||"number"==typeof t||t instanceof Date?g.parseDate(t,void 0,!0):t&&"object"==typeof t&&t.from&&t.to?{from:g.parseDate(t.from,void 0),to:g.parseDate(t.to,void 0)}:t})).filter((function(t){return t}))}function pt(t,e){if(void 0!==g.config){var n=g.config[t];if(void 0!==n&&n.length>0)for(var o=0;n[o]&&o<n.length;o++)n[o](g.selectedDates,g.input.value,g,e);"onChange"===t&&(g.input.dispatchEvent(ht("change")),g.input.dispatchEvent(ht("input")))}}function ht(t){var e=document.createEvent("Event");return e.initEvent(t,!0,!0),e}function ft(t){for(var e=0;e<g.selectedDates.length;e++)if(0===_(g.selectedDates[e],t))return""+e;return!1}function gt(){g.config.noCalendar||g.isMobile||!g.monthNav||(g.yearElements.forEach((function(t,e){var n=new Date(g.currentYear,g.currentMonth,1);n.setMonth(g.currentMonth+e),g.config.showMonths>1||"static"===g.config.monthSelectorType?g.monthElements[e].textContent=f(n.getMonth(),g.config.shorthandCurrentMonth,g.l10n)+" ":g.monthsDropdownContainer.value=n.getMonth().toString(),t.value=n.getFullYear().toString()})),g._hidePrevMonthArrow=void 0!==g.config.minDate&&(g.currentYear===g.config.minDate.getFullYear()?g.currentMonth<=g.config.minDate.getMonth():g.currentYear<g.config.minDate.getFullYear()),g._hideNextMonthArrow=void 0!==g.config.maxDate&&(g.currentYear===g.config.maxDate.getFullYear()?g.currentMonth+1>g.config.maxDate.getMonth():g.currentYear>g.config.maxDate.getFullYear()))}function mt(t){return g.selectedDates.map((function(e){return g.formatDate(e,t)})).filter((function(t,e,n){return"range"!==g.config.mode||g.config.enableTime||n.indexOf(t)===e})).join("range"!==g.config.mode?g.config.conjunction:g.l10n.rangeSeparator)}function vt(t){void 0===t&&(t=!0),void 0!==g.mobileInput&&g.mobileFormatStr&&(g.mobileInput.value=void 0!==g.latestSelectedDateObj?g.formatDate(g.latestSelectedDateObj,g.mobileFormatStr):""),g.input.value=mt(g.config.dateFormat),void 0!==g.altInput&&(g.altInput.value=mt(g.config.altFormat)),!1!==t&&pt("onValueUpdate")}function yt(t){var e=g.prevMonthNav.contains(t.target),n=g.nextMonthNav.contains(t.target);e||n?Y(e?-1:1):g.yearElements.indexOf(t.target)>=0?t.target.select():t.target.classList.contains("arrowUp")?g.changeYear(g.currentYear+1):t.target.classList.contains("arrowDown")&&g.changeYear(g.currentYear-1)}return function(){g.element=g.input=e,g.isOpen=!1,function(){var i=["wrap","weekNumbers","allowInput","clickOpens","time_24hr","enableTime","noCalendar","altInput","shorthandCurrentMonth","inline","static","enableSeconds","disableMobile"],r=t({},h,JSON.parse(JSON.stringify(e.dataset||{}))),a={};g.config.parseDate=r.parseDate,g.config.formatDate=r.formatDate,Object.defineProperty(g.config,"enable",{get:function(){return g.config._enable},set:function(t){g.config._enable=dt(t)}}),Object.defineProperty(g.config,"disable",{get:function(){return g.config._disable},set:function(t){g.config._disable=dt(t)}});var s="time"===r.mode;if(!r.dateFormat&&(r.enableTime||s)){var u=x.defaultConfig.dateFormat||o.dateFormat;a.dateFormat=r.noCalendar||s?"H:i"+(r.enableSeconds?":S":""):u+" H:i"+(r.enableSeconds?":S":"")}if(r.altInput&&(r.enableTime||s)&&!r.altFormat){var c=x.defaultConfig.altFormat||o.altFormat;a.altFormat=r.noCalendar||s?"h:i"+(r.enableSeconds?":S K":" K"):c+" h:i"+(r.enableSeconds?":S":"")+" K"}r.altInputClass||(g.config.altInputClass=g.input.className+" "+g.config.altInputClass),Object.defineProperty(g.config,"minDate",{get:function(){return g.config._minDate},set:ot("min")}),Object.defineProperty(g.config,"maxDate",{get:function(){return g.config._maxDate},set:ot("max")});var d=function(t){return function(e){g.config["min"===t?"_minTime":"_maxTime"]=g.parseDate(e,"H:i:S")}};Object.defineProperty(g.config,"minTime",{get:function(){return g.config._minTime},set:d("min")}),Object.defineProperty(g.config,"maxTime",{get:function(){return g.config._maxTime},set:d("max")}),"time"===r.mode&&(g.config.noCalendar=!0,g.config.enableTime=!0),Object.assign(g.config,a,r);for(var p=0;p<i.length;p++)g.config[i[p]]=!0===g.config[i[p]]||"true"===g.config[i[p]];for(n.filter((function(t){return void 0!==g.config[t]})).forEach((function(t){g.config[t]=l(g.config[t]||[]).map(v)})),g.isMobile=!g.config.disableMobile&&!g.config.inline&&"single"===g.config.mode&&!g.config.disable.length&&!g.config.enable.length&&!g.config.weekNumbers&&/Android|webOS|iPhone|iPad|iPod|BlackBerry|IEMobile|Opera Mini/i.test(navigator.userAgent),p=0;p<g.config.plugins.length;p++){var f=g.config.plugins[p](g)||{};for(var m in f)n.indexOf(m)>-1?g.config[m]=l(f[m]).map(v).concat(g.config[m]):void 0===r[m]&&(g.config[m]=f[m])}pt("onParseConfig")}(),it(),g.input=g.config.wrap?e.querySelector("[data-input]"):e,g.input?(g.input._type=g.input.type,g.input.type="text",g.input.classList.add("flatpickr-input"),g._input=g.input,g.config.altInput&&(g.altInput=c(g.input.nodeName,g.config.altInputClass),g._input=g.altInput,g.altInput.placeholder=g.input.placeholder,g.altInput.disabled=g.input.disabled,g.altInput.required=g.input.required,g.altInput.tabIndex=g.input.tabIndex,g.altInput.type="text",g.input.setAttribute("type","hidden"),!g.config.static&&g.input.parentNode&&g.input.parentNode.insertBefore(g.altInput,g.input.nextSibling)),g.config.allowInput||g._input.setAttribute("readonly","readonly"),g._positionElement=g.config.positionElement||g._input):g.config.errorHandler(new Error("Invalid input element specified")),function(){g.selectedDates=[],g.now=g.parseDate(g.config.now)||new Date;var t=g.config.defaultDate||("INPUT"!==g.input.nodeName&&"TEXTAREA"!==g.input.nodeName||!g.input.placeholder||g.input.value!==g.input.placeholder?g.input.value:null);t&&ct(t,g.config.dateFormat),g._initialDate=g.selectedDates.length>0?g.selectedDates[0]:g.config.minDate&&g.config.minDate.getTime()>g.now.getTime()?g.config.minDate:g.config.maxDate&&g.config.maxDate.getTime()<g.now.getTime()?g.config.maxDate:g.now,g.currentYear=g._initialDate.getFullYear(),g.currentMonth=g._initialDate.getMonth(),g.selectedDates.length>0&&(g.latestSelectedDateObj=g.selectedDates[0]),void 0!==g.config.minTime&&(g.config.minTime=g.parseDate(g.config.minTime,"H:i")),void 0!==g.config.maxTime&&(g.config.maxTime=g.parseDate(g.config.maxTime,"H:i")),g.minDateHasTime=!!g.config.minDate&&(g.config.minDate.getHours()>0||g.config.minDate.getMinutes()>0||g.config.minDate.getSeconds()>0),g.maxDateHasTime=!!g.config.maxDate&&(g.config.maxDate.getHours()>0||g.config.maxDate.getMinutes()>0||g.config.maxDate.getSeconds()>0),Object.defineProperty(g,"showTimeInput",{get:function(){return g._showTimeInput},set:function(t){g._showTimeInput=t,g.calendarContainer&&u(g.calendarContainer,"showTimeInput",t),g.isOpen&&rt()}})}(),g.utils={getDaysInMonth:function(t,e){return void 0===t&&(t=g.currentMonth),void 0===e&&(e=g.currentYear),1===t&&(e%4==0&&e%100!=0||e%400==0)?29:g.l10n.daysInMonth[t]}},g.isMobile||function(){var t=window.document.createDocumentFragment();if(g.calendarContainer=c("div","flatpickr-calendar"),g.calendarContainer.tabIndex=-1,!g.config.noCalendar){if(t.appendChild((g.monthNav=c("div","flatpickr-months"),g.yearElements=[],g.monthElements=[],g.prevMonthNav=c("span","flatpickr-prev-month"),g.prevMonthNav.innerHTML=g.config.prevArrow,g.nextMonthNav=c("span","flatpickr-next-month"),g.nextMonthNav.innerHTML=g.config.nextArrow,H(),Object.defineProperty(g,"_hidePrevMonthArrow",{get:function(){return g.__hidePrevMonthArrow},set:function(t){g.__hidePrevMonthArrow!==t&&(u(g.prevMonthNav,"flatpickr-disabled",t),g.__hidePrevMonthArrow=t)}}),Object.defineProperty(g,"_hideNextMonthArrow",{get:function(){return g.__hideNextMonthArrow},set:function(t){g.__hideNextMonthArrow!==t&&(u(g.nextMonthNav,"flatpickr-disabled",t),g.__hideNextMonthArrow=t)}}),g.currentYearElement=g.yearElements[0],gt(),g.monthNav)),g.innerContainer=c("div","flatpickr-innerContainer"),g.config.weekNumbers){var e=function(){g.calendarContainer.classList.add("hasWeeks");var t=c("div","flatpickr-weekwrapper");t.appendChild(c("span","flatpickr-weekday",g.l10n.weekAbbreviation));var e=c("div","flatpickr-weeks");return t.appendChild(e),{weekWrapper:t,weekNumbers:e}}(),n=e.weekWrapper,o=e.weekNumbers;g.innerContainer.appendChild(n),g.weekNumbers=o,g.weekWrapper=n}g.rContainer=c("div","flatpickr-rContainer"),g.rContainer.appendChild(z()),g.daysContainer||(g.daysContainer=c("div","flatpickr-days"),g.daysContainer.tabIndex=-1),B(),g.rContainer.appendChild(g.daysContainer),g.innerContainer.appendChild(g.rContainer),t.appendChild(g.innerContainer)}g.config.enableTime&&t.appendChild(function(){g.calendarContainer.classList.add("hasTime"),g.config.noCalendar&&g.calendarContainer.classList.add("noCalendar"),g.timeContainer=c("div","flatpickr-time"),g.timeContainer.tabIndex=-1;var t=c("span","flatpickr-time-separator",":"),e=p("flatpickr-hour",{"aria-label":g.l10n.hourAriaLabel});g.hourElement=e.getElementsByTagName("input")[0];var n=p("flatpickr-minute",{"aria-label":g.l10n.minuteAriaLabel});if(g.minuteElement=n.getElementsByTagName("input")[0],g.hourElement.tabIndex=g.minuteElement.tabIndex=-1,g.hourElement.value=r(g.latestSelectedDateObj?g.latestSelectedDateObj.getHours():g.config.time_24hr?g.config.defaultHour:function(t){switch(t%24){case 0:case 12:return 12;default:return t%12}}(g.config.defaultHour)),g.minuteElement.value=r(g.latestSelectedDateObj?g.latestSelectedDateObj.getMinutes():g.config.defaultMinute),g.hourElement.setAttribute("step",g.config.hourIncrement.toString()),g.minuteElement.setAttribute("step",g.config.minuteIncrement.toString()),g.hourElement.setAttribute("min",g.config.time_24hr?"0":"1"),g.hourElement.setAttribute("max",g.config.time_24hr?"23":"12"),g.minuteElement.setAttribute("min","0"),g.minuteElement.setAttribute("max","59"),g.timeContainer.appendChild(e),g.timeContainer.appendChild(t),g.timeContainer.appendChild(n),g.config.time_24hr&&g.timeContainer.classList.add("time24hr"),g.config.enableSeconds){g.timeContainer.classList.add("hasSeconds");var o=p("flatpickr-second");g.secondElement=o.getElementsByTagName("input")[0],g.secondElement.value=r(g.latestSelectedDateObj?g.latestSelectedDateObj.getSeconds():g.config.defaultSeconds),g.secondElement.setAttribute("step",g.minuteElement.getAttribute("step")),g.secondElement.setAttribute("min","0"),g.secondElement.setAttribute("max","59"),g.timeContainer.appendChild(c("span","flatpickr-time-separator",":")),g.timeContainer.appendChild(o)}return g.config.time_24hr||(g.amPM=c("span","flatpickr-am-pm",g.l10n.amPM[a((g.latestSelectedDateObj?g.hourElement.value:g.config.defaultHour)>11)]),g.amPM.title=g.l10n.toggleTitle,g.amPM.tabIndex=-1,g.timeContainer.appendChild(g.amPM)),g.timeContainer}()),u(g.calendarContainer,"rangeMode","range"===g.config.mode),u(g.calendarContainer,"animate",!0===g.config.animate),u(g.calendarContainer,"multiMonth",g.config.showMonths>1),g.calendarContainer.appendChild(t);var i=void 0!==g.config.appendTo&&void 0!==g.config.appendTo.nodeType;if((g.config.inline||g.config.static)&&(g.calendarContainer.classList.add(g.config.inline?"inline":"static"),g.config.inline&&(!i&&g.element.parentNode?g.element.parentNode.insertBefore(g.calendarContainer,g._input.nextSibling):void 0!==g.config.appendTo&&g.config.appendTo.appendChild(g.calendarContainer)),g.config.static)){var s=c("div","flatpickr-wrapper");g.element.parentNode&&g.element.parentNode.insertBefore(s,g.element),s.appendChild(g.element),g.altInput&&s.appendChild(g.altInput),s.appendChild(g.calendarContainer)}g.config.static||g.config.inline||(void 0!==g.config.appendTo?g.config.appendTo:window.document.body).appendChild(g.calendarContainer)}(),function(){if(g.config.wrap&&["open","close","toggle","clear"].forEach((function(t){Array.prototype.forEach.call(g.element.querySelectorAll("[data-"+t+"]"),(function(e){return L(e,"click",g[t])}))})),g.isMobile)!function(){var t=g.config.enableTime?g.config.noCalendar?"time":"datetime-local":"date";g.mobileInput=c("input",g.input.className+" flatpickr-mobile"),g.mobileInput.step=g.input.getAttribute("step")||"any",g.mobileInput.tabIndex=1,g.mobileInput.type=t,g.mobileInput.disabled=g.input.disabled,g.mobileInput.required=g.input.required,g.mobileInput.placeholder=g.input.placeholder,g.mobileFormatStr="datetime-local"===t?"Y-m-d\\TH:i:S":"date"===t?"Y-m-d":"H:i:S",g.selectedDates.length>0&&(g.mobileInput.defaultValue=g.mobileInput.value=g.formatDate(g.selectedDates[0],g.mobileFormatStr)),g.config.minDate&&(g.mobileInput.min=g.formatDate(g.config.minDate,"Y-m-d")),g.config.maxDate&&(g.mobileInput.max=g.formatDate(g.config.maxDate,"Y-m-d")),g.input.type="hidden",void 0!==g.altInput&&(g.altInput.type="hidden");try{g.input.parentNode&&g.input.parentNode.insertBefore(g.mobileInput,g.input.nextSibling)}catch(t){}L(g.mobileInput,"change",(function(t){g.setDate(t.target.value,!1,g.mobileFormatStr),pt("onChange"),pt("onClose")}))}();else{var t=s(et,50);g._debouncedChange=s(D,300),g.daysContainer&&!/iPhone|iPad|iPod/i.test(navigator.userAgent)&&L(g.daysContainer,"mouseover",(function(t){"range"===g.config.mode&&tt(t.target)})),L(window.document.body,"keydown",$),g.config.inline||g.config.static||L(window,"resize",t),void 0!==window.ontouchstart?L(window.document,"touchstart",Q):L(window.document,"mousedown",P(Q)),L(window.document,"focus",Q,{capture:!0}),!0===g.config.clickOpens&&(L(g._input,"focus",g.open),L(g._input,"mousedown",P(g.open))),void 0!==g.daysContainer&&(L(g.monthNav,"mousedown",P(yt)),L(g.monthNav,["keyup","increment"],T),L(g.daysContainer,"mousedown",P(lt))),void 0!==g.timeContainer&&void 0!==g.minuteElement&&void 0!==g.hourElement&&(L(g.timeContainer,["increment"],E),L(g.timeContainer,"blur",E,{capture:!0}),L(g.timeContainer,"mousedown",P(N)),L([g.hourElement,g.minuteElement],["focus","click"],(function(t){return t.target.select()})),void 0!==g.secondElement&&L(g.secondElement,"focus",(function(){return g.secondElement&&g.secondElement.select()})),void 0!==g.amPM&&L(g.amPM,"mousedown",P((function(t){E(t),D()}))))}}(),(g.selectedDates.length||g.config.noCalendar)&&(g.config.enableTime&&A(g.config.noCalendar?g.latestSelectedDateObj||g.config.minDate:void 0),vt(!1)),w(),g.showTimeInput=g.selectedDates.length>0||g.config.noCalendar;var i=/^((?!chrome|android).)*safari/i.test(navigator.userAgent);!g.isMobile&&i&&rt(),pt("onReady")}(),g}function E(t,e){for(var n=Array.prototype.slice.call(t).filter((function(t){return t instanceof HTMLElement})),o=[],i=0;i<n.length;i++){var r=n[i];try{if(null!==r.getAttribute("data-fp-omit"))continue;void 0!==r._flatpickr&&(r._flatpickr.destroy(),r._flatpickr=void 0),r._flatpickr=w(r,e||{}),o.push(r._flatpickr)}catch(t){console.error(t)}}return 1===o.length?o[0]:o}"function"!=typeof Object.assign&&(Object.assign=function(t){for(var e=[],n=1;n<arguments.length;n++)e[n-1]=arguments[n];if(!t)throw TypeError("Cannot convert undefined or null to object");for(var o=function(e){e&&Object.keys(e).forEach((function(n){return t[n]=e[n]}))},i=0,r=e;i<r.length;i++){var a=r[i];o(a)}return t}),"undefined"!=typeof HTMLElement&&"undefined"!=typeof HTMLCollection&&"undefined"!=typeof NodeList&&(HTMLCollection.prototype.flatpickr=NodeList.prototype.flatpickr=function(t){return E(this,t)},HTMLElement.prototype.flatpickr=function(t){return E([this],t)});var x=function(t,e){return"string"==typeof t?E(window.document.querySelectorAll(t),e):t instanceof Node?E([t],e):E(t,e)};return x.defaultConfig={},x.l10ns={en:t({},i),default:t({},i)},x.localize=function(e){x.l10ns.default=t({},x.l10ns.default,e)},x.setDefaults=function(e){x.defaultConfig=t({},x.defaultConfig,e)},x.parseDate=b({}),x.formatDate=y({}),x.compareDates=_,void 0!==e&&void 0!==e.fn&&(e.fn.flatpickr=function(t){return E(this,t)}),Date.prototype.fp_incr=function(t){return new Date(this.getFullYear(),this.getMonth(),this.getDate()+("string"==typeof t?parseInt(t,10):t))},"undefined"!=typeof window&&(window.flatpickr=x),x}()}).call(this,n("EVdn"))}},[["tJKs","runtime",0,1]]]);
//# sourceMappingURL=pdfs.2e9a1e32.js.map