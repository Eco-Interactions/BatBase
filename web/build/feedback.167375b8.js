(window.webpackJsonp=window.webpackJsonp||[]).push([["feedback"],{"/byt":function(e,t){e.exports={CSSRuleList:0,CSSStyleDeclaration:0,CSSValueList:0,ClientRectList:0,DOMRectList:0,DOMStringList:0,DOMTokenList:1,DataTransferItemList:0,FileList:0,HTMLAllCollection:0,HTMLCollection:0,HTMLFormElement:0,HTMLSelectElement:0,MediaList:0,MimeTypeArray:0,NamedNodeMap:0,NodeList:1,PaintRequestList:0,Plugin:0,PluginArray:0,SVGLengthList:0,SVGNumberList:0,SVGPathSegList:0,SVGPointList:0,SVGStringList:0,SVGTransformList:0,SourceBufferList:0,StyleSheetList:0,TextTrackCueList:0,TextTrackList:0,TouchList:0}},"53f5":function(e,t,a){},F8JR:function(e,t,a){"use strict";var n=a("tycR").forEach,s=a("swFL");e.exports=s("forEach")?function(e){return n(this,e,arguments.length>1?arguments[1]:void 0)}:[].forEach},FZtP:function(e,t,a){var n=a("2oRo"),s=a("/byt"),o=a("F8JR"),c=a("X2U+");for(var r in s){var i=n[r],l=i&&i.prototype;if(l&&l.forEach!==o)try{c(l,"forEach",o)}catch(e){l.forEach=o}}},U8MO:function(e,t,a){(function(e){var t,n,s,o,c;a("sMBO"),a("UxlC"),a("FZtP");var r={},i=!0,l=statusHasChanges=asgnUserHasChanges=!1;function d(t){r=function(e){var t=e.assigned.id;return{status:parseInt(e.status),asgnUser:parseInt(null===t?0:t),notes:e.notes}}(t),console.log("orgnlFeedback= ",r),c=e('<div id="feedback-viewer-popup"></div>');var a,i,l,d,p,u,g,h,v,L,S,y=e('<div id="feedback-container"></div>'),x=t.from.username+(a=t.submitted.date,i=new Date(a),l=i.getHours(),d=i.getMinutes(),p=l>=12?"pm":"am",u=(l=(l%=12)?l:12)+":"+(d=d<10?"0"+d:d)+" "+p," on "+i.getMonth()+"1/"+i.getDate()+"/"+i.getFullYear()+" at "+u);g=t.users,h=t.assigned.id,v='<label>Assigned to: <select name="asgnuser"><option value="0"',v+=(null===h?" selected>":">")+"none</option>",g.forEach((function(e){var t='<option value="'+e.id+'"';t+=h===e.id?" selected>":">",t+=e.name+"</option>",v+=t})),n=e(v+="</select></label>"),s=function(t){var a='<label>Status: <select name="status">';return["Closed","Follow-Up","Read","Unread"].forEach((function(e,n){var s='<option value="'+n+'"';s+=t===e?" selected>":">",a+=s+=e+"</option>"})),e(a+="</select></label>")}(t.status),o=e('<textarea id="admn-notes" placeholder="Add notes about this feedback here..."></textarea>').text(t.notes),c.append(e("<p></p>").text(x).prepend(e('<span class="lbl">Feedback from: </span>'))),c.append(e('<p class="top-mrg"></p>').text(t.topic).prepend(e('<span class="lbl">Topic: </span>'))),c.append(e('<p class="top-mrg btm-mrg"></p>').text(t.content).prepend(e('<span class="lbl">Description: </span>'))),c.append(e("<hr>")),c.append(n),c.append(s),c.append(e('<p class="top-mrg"><span class="lbl">Admin Notes:</span></p>')),c.append(o),c.append(e('<button name="post-feedback">Update Feedback Entry</button>')),c.append(e('<button name="cancel-feedback">Cancel</button>')),c.hide(),y.prepend(c),e("body").prepend(y),c.on("click",'button[name="cancel-feedback"]',k),c.on("keyup","textarea",f),c.on("change","select[name=status]",b),c.on("change","select[name=asgnuser]",m),c.css({right:(S=c.css("right"),parseInt((L=S,L.replace(/[^-\d\.]/g,"")))+Math.floor(C()/2)+"px")}),e("#feedback-viewer-popup>button[name='post-feedback']").fadeTo("fast",.35),c.fadeIn("fast")}function p(){console.log("onDataChange called."),i&&u()?(console.log("enableSubmit called"),e("#feedback-viewer-popup").on("click",'button[name="post-feedback"]',g),e("#feedback-viewer-popup>button[name='post-feedback']").fadeTo("fast",1),i=!1):i||u()||(console.log("disableSubmit called"),e("#feedback-viewer-popup>button[name='post-feedback']").fadeTo("fast",.35),e("#feedback-viewer-popup").off("click",'button[name="post-feedback"]',g),i=!0)}function u(){return console.log("hasChangedData called. will return -> ",l||statusHasChanges||asgnUserHasChanges),l||statusHasChanges||asgnUserHasChanges}function f(){l=o.val()!==r.notes,console.log("noteChanges called and ==",l),p()}function b(){statusHasChanges=parseInt(e("select[name=status] option:selected").val())!==r.status,p()}function m(){asgnUserHasChanges=parseInt(e("select[name=asgnuser] option:selected").val())!==r.asgnUser,p()}function g(){var a,n=e("select[name=asgnuser] option:selected").val(),s={asgnUserId:0===n?null:n,adminNotes:o.val(),status:e("select[name=status] option:selected").val()};console.log("$adminNotesElem = ",o),h((a=s,{method:"POST",url:t,success:v,error:S,data:JSON.stringify(a)}))}function h(t){e.ajax(t)}function v(e,t,a){console.log("feedbackUpdateSucess data = ",e),k()}function k(){return c.fadeOut("slow",(function(){document.location.reload(!0)})),!0}function L(e,t,a){d(e.feedbackObj)}function S(e,t,a){console.log("ajaxError - status = %s - error = %s - jqXHR:%O",t,a,e)}function C(){var e,t=document.createElement("div");return t.id="scrollbar-measure",document.body.appendChild(t),e=t.offsetWidth-t.clientWidth,document.body.removeChild(t),parseInt(e)}a("53f5"),e("#feedback_tbl").on("click","a.feedback-link",(function(){var a=e('<iframe id="feedback-context-frame"></iframe>'),n=e(this).attr("href"),s=e(this).data("ajaxload");return t=e(this).data("ajaxupdate"),h(function(e){return{method:"POST",url:e,success:L,error:S}}(s)),e("body").empty(),e("html").css({"overflow-y":"hidden"}),e("body").append(a),e("#feedback-context-frame").attr("src",n),!1}))}).call(this,a("EVdn"))},sMBO:function(e,t,a){var n=a("g6v/"),s=a("m/L8").f,o=Function.prototype,c=o.toString,r=/^\s*function ([^ (]*)/;n&&!("name"in o)&&s(o,"name",{configurable:!0,get:function(){try{return c.call(this).match(r)[1]}catch(e){return""}}})}},[["U8MO","runtime",0]]]);
//# sourceMappingURL=feedback.167375b8.js.map