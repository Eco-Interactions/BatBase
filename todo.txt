============ MEETING ==================
TASK LIST
TODO
    - Add to Task list -   
        - Combine source forms

    - citation generation

        ## now
            - testing! 

        ## test
            - that contribs are updated from author->editor & vice versa
            -- added two contributors (one's an editor)
            -- test that each pub/cit type are created 

        ##b4 release

        ##misc
            - clear location filter options when time-updated changes
            - format 'ok' button for form errors
                - make it impossible to close out of form without pressing 'ok'

        ## Eventually ##
        - Refactor citation text generation code
        -- figure out how to  (removeAllSelectedAuths(sel, prntLvl, authType);)
        -- add error to interaction form for when an 'invisible' error occurs on 
            entity selection


    - (Will we ultimate care about who edits/new data was 'approvedBy' ?)

NOTES
    ## Cit Data ##
    - Genereated without changes = [932, ]
    - added space between issue and volume = [1014, ]

    ## Cleanup
        - merge: 
            - donald w thomas and donald w. thomas
            - Petr Benda (472) with P. Benda (473)
            - Stefan Pettersson (382) with Stefan Petterson (410)
            - Donald W. Thomas (403) with Donald W Thomas (347) 
                (The only difference here is a period with the middle initial. 
                    Why was this created?)

            # maybe? 
                - A. Radosoa Andrianaivoarivelo (406) with Radosoa Andrianaivoarivelo (404)
                    (these were created one right after the other, was this a mistake?)
                - A Orozco-Segovia (255) with Alma Orozco (254)


============ EMAIL ====================
    --- General ---
TAYLOR:
    > Publication display name does not require it to be unique. Intentional?
        ## Check other entities before email ##

    > Check phrasing for author blank error
Tullenda:

=======================================
Notes::
    ## Change Log ##
        - swaped '-citation' with '(citation)', and am hiding from user.
        - added (1st, 2nd, etc) labels to auth/eds

        ##Prev
        - Eliminated possibility of accidently creating duplicate interactions 
        - Forms now show the required and most likely to be used fields by default 
            - They remember their expanded state 
        - Fixed a few small bugs along the way 
        - All combos that can create now show the 'Add new...' option first   
        //- Previously selected authors are not included in the new dropdowns
        - Fixed bug with author comboboxes clearing and adding multiple empty combos 
        - "whole work cited" in data tree

    ##for tests##
        - changes author container elem from Authors-sel-cntnr to Authors-sel-cntnr  

Questions:
    ## Citation full text ##
    -Thoughts-
    -Todo-
        ## before update ##
        - run tests

        ## moving forward with auto-gen ##
        - Remove publisher type code? 

        ## before complete ## 
        - redownload all autocomplete(?)
        -- fix taxon lvl fills. 
        -- make it so you can't toggle fields while sub-form open

________________________________________________________________________________

-- Short Range TODO [priority, difficulty]--
    --Tests-- 
        - Add tests and breakpoints before asserts to allow for exploring the page 
            where the error occured
            - Use the step name in description printed 
    --misc--
        -- Find out how to tell how many users are online
        -- Refactor use of 'main' and 'top' entities to 'core' entities.
        -- Resize slider-header when screen size changes 
        -- Style the 'change password' page
        -- remove eif declarations in js files.
        -- Added header to FOS pages 
            -- change password page (/profile/change-password)
            -- update profile page (/profile/edit)
    --data restructure--
        -- add 'role' to realms to be able to grab all object/subject realms
            without hardcoding them.
    --Search--
        -- csv exports
            -- Refactor fillHiddenTaxaColumns... The comments and code are confusing
        -- Add publisher to source-type view
        -- refactor enable/disable submit-button methods to one method with 'enable' param
        -- Add data-entry tutorial.
        -- update 'shw-changd' 'custom' value on date selection
        -- add bibliography of all the citations
            -- the same text that is coming up in the Citation column and putting it in alphabetical order by author.
    --FORM--
        -- Add inline help tooltips to guide data-entry/edit
        -- Change description to 'translation'
        -- Remove all authors previous selected (and stored in formVals) from new combos
        REFACTOR
        -- [low, easy] Change to singular tense in ref panel where appropriate. (taxon view complete)
        -- Move interaction create form functions into the same func chain building the rest? 
        -- initAuthForm
        --Bugs-
            -- fix tabs on selectize (test whether firefox bug only??): 
                https://github.com/selectize/selectize.js/commit/0c6fafc786d87cf30de6d1690565ec62ec0647c9
    --Asac---
        --form--
            -- Location --
                -- When nothing is selected but a country, a habitat type, and the 
                    displayname, suggest to user they use the country-habitat combo
                    that already exists.
            -- Auto generate citation full text from filled fields
            -- Validate that genus and species have the same genus names.
            -- refactor initcomboboxes to need only the form-lvl param
            -- Refactor disableSubmitBttn away from passing in '#' and 'submit' 
                > or refactor into using it to general disable and dim buttons
                > or refactor both enable/disable submit methods into one func to rule them all
            -- data creation --
                -> If a new authors display name is identical to another's, prompt 
                   user to check existing author for duplication, and then prompt 
                   them to add initials if not.  
            -- Data storage err - Ensure user can't close the form any other way 
                than clicking the 'ok' in the error meseage.
            -- Pub form
                -- Change Doi field to DOI
                -- update test
        --search----
            --popup Editor options 
                -sort interactions by which editor created them.     
            -- Add an 'All' option to taxon and location dropdowns to reset data 
                to that level and retain other filters- updated at for example.
            -- add selectize library
            -- add note to the walkthrough to wait for load if the taxon-domain elem hasn't laoded yet.
            -- add text search to all views.
            -- update all the comments that mention the updates-since filter to 
                'ints-updated-at'
            -- Refactor focus search filters to sync together better
                -- Add publication name search
        -- Data storage --
        --css--
            --refactor to use parital, effectively 'group', selectors
        --Bugs--
            - [low] new taxon form isn't returning the 'Creating [lvl]' option to select properly
        -- Ongoing --
            -- Add more sophisticated logging
        --Refactor--
            -- Add '-sel' to the edit taxon form's 'txn-lvl' field 
            -- update all quotes to singles unless escaping

    --Asap--   
        -- Data sync --
            -- write SQL script to get only records with updates/newly created  
        -- CRUD --
            -- add err in controllers eliminating the possibility of creating orphans
        -- sync data --
            -- Add error handling for pending updates that can't be resolved 
        -- MISC --
            -- Comment the crud controller method 'setupdatedattimes'

        -- Bug fix --
            - enable 'update location' button when country is filled from int form on init 
            - clear cit detail panel when pub cleared.



~~~ What to test ~~~
    > Search Page
        > CSV downloads
        > Grid
            > Unq Vals col filter
        > Forms
            -- displays correctly.
            -- all errors are caught and handled as expected

##CHANGES##

::Testing!::
    - Tests written for
        > Data entry form (new interaction)
        > Search page features
        > Website top pages load with content

~ Data Cleanup ~
    pub 561 - delete (dup of 338)
    pub388 - Change srcId -> 967 
    >> Change my team desc to lower case title.

    !! Refactor !!
        > Change sel-domain vals to slugs of realm
        > change search-focus to search-view
        > Change test at end of 'change views/groups' to test view dependent elems rather than sel value



:: Dev Docs ::
    -- Location naming:
        --To select a region or country habitat, type in the region/country name 
            in the location combobox. Look for the [name]- [habitat]. 
    -- Errors: 
        -- TAXON errors being caught:
            -- Can't change taxon to a level equal/beneath any children,
                -- or equal/above the parent.
            -- Species must have genus parent
            -- Can't change genus that has species children
    

-------------------- PLANNED ADDITIONS -----------------------------------------

--SHORTTERM--
    --Future Search Grid Ui
        --Popup panel with additional data about selected tree item
        --sticky column headers for search page
        --Fill search opts-col3 with easy cols to filter on
        --popup Editor options 
            -sort interactions by which editor created them.  
        --Set up hide/show columns options
            -Config colDefs
            -Pop up with col selects 
        --Save filters through changes in the view options
        -- add bibliography of all the citations
            -- the same text that is coming up in the Citation column and putting it in alphabetical order by author.

    --Site-
        --CSS
            --Firefox does not look the same as chrome. Spend a day fixing this!!!
                --team section styles
                    #team-sect .second-col, #team-sect .first-col {
                        width: 420px;
                        flex-shrink: 0;
                    }
                    #team-sect .four-col-outer>div.fourth-col {
                        width: 220px;
                        flex-shrink: 0;
                    }
                -- Definition Pg
                    #def-frame .first-col {
                        width: 550px;
                        flex-shrink: 0;
                    }
        --ENTITIES
            -- Rename deletedAt field to deleted_at
        -- add exit click event for menu
        -- add tips and search page static content to content blocks and wysiwyg
        -- revisit tag constraint system 
        -- add copy csv
        -- fix csv exports??
        -- t&c sitemap & presentation

--LONGTERM--
    --Site-
        -- test for optimizations
        -- responsive
        -- Taxonym need a collection of namings




---------------------------------------------------------------------------------------------------------------------

Best practices:
    comments:
        //right against the first letter to exclude uncommented instances of that word (consoles being the best -ever- to isolate)
External Todo:
    --Zenbol-
        --PAYMENT PAGE FOR WHM
        --CRON JOB BACKUPS

-------------------------------------------------------------------------------------------------------
=========================================================================

READ ME

HOW TO RUN TESTS
    phpunit -c app/ tests   
    phpunit -c app/ tests/AppBundle/Controller/<Entity>ControllerTest.php       


Deployment Steps:
    >Cache busting:
        config.yml:
            "Framework":
                assets:
                    version: 'v%'"              




